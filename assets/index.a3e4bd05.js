function _mergeNamespaces(o,a){for(var rt=0;rt<a.length;rt++){const at=a[rt];if(typeof at!="string"&&!Array.isArray(at)){for(const it in at)if(it!=="default"&&!(it in o)){const ot=Object.getOwnPropertyDescriptor(at,it);ot&&Object.defineProperty(o,it,ot.get?ot:{enumerable:!0,get:()=>at[it]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))at(it);new MutationObserver(it=>{for(const ot of it)if(ot.type==="childList")for(const st of ot.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&at(st)}).observe(document,{childList:!0,subtree:!0});function rt(it){const ot={};return it.integrity&&(ot.integrity=it.integrity),it.referrerpolicy&&(ot.referrerPolicy=it.referrerpolicy),it.crossorigin==="use-credentials"?ot.credentials="include":it.crossorigin==="anonymous"?ot.credentials="omit":ot.credentials="same-origin",ot}function at(it){if(it.ep)return;it.ep=!0;const ot=rt(it);fetch(it.href,ot)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){var a=o.default;if(typeof a=="function"){var rt=function(){return a.apply(this,arguments)};rt.prototype=a.prototype}else rt={};return Object.defineProperty(rt,"__esModule",{value:!0}),Object.keys(o).forEach(function(at){var it=Object.getOwnPropertyDescriptor(o,at);Object.defineProperty(rt,at,it.get?it:{enumerable:!0,get:function(){return o[at]}})}),rt}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$3(o){return o===null||typeof o!="object"?null:(o=z$5&&o[z$5]||o["@@iterator"],typeof o=="function"?o:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(o,a,rt){this.props=o,this.context=a,this.refs=D$2,this.updater=rt||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(o,a){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,a,"setState")};E$2.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(o,a,rt){this.props=o,this.context=a,this.refs=D$2,this.updater=rt||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$3={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(o,a,rt){var at,it={},ot=null,st=null;if(a!=null)for(at in a.ref!==void 0&&(st=a.ref),a.key!==void 0&&(ot=""+a.key),a)J$1.call(a,at)&&!L$2.hasOwnProperty(at)&&(it[at]=a[at]);var ct=arguments.length-2;if(ct===1)it.children=rt;else if(1<ct){for(var lt=Array(ct),ut=0;ut<ct;ut++)lt[ut]=arguments[ut+2];it.children=lt}if(o&&o.defaultProps)for(at in ct=o.defaultProps,ct)it[at]===void 0&&(it[at]=ct[at]);return{$$typeof:l$3,type:o,key:ot,ref:st,props:it,_owner:K$3.current}}function N$3(o,a){return{$$typeof:l$3,type:o.type,key:a,ref:o.ref,props:o.props,_owner:o._owner}}function O$2(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$3}function escape$1(o){var a={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(rt){return a[rt]})}var P$2=/\/+/g;function Q$2(o,a){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):a.toString(36)}function R$2(o,a,rt,at,it){var ot=typeof o;(ot==="undefined"||ot==="boolean")&&(o=null);var st=!1;if(o===null)st=!0;else switch(ot){case"string":case"number":st=!0;break;case"object":switch(o.$$typeof){case l$3:case n$3:st=!0}}if(st)return st=o,it=it(st),o=at===""?"."+Q$2(st,0):at,I$2(it)?(rt="",o!=null&&(rt=o.replace(P$2,"$&/")+"/"),R$2(it,a,rt,"",function(ut){return ut})):it!=null&&(O$2(it)&&(it=N$3(it,rt+(!it.key||st&&st.key===it.key?"":(""+it.key).replace(P$2,"$&/")+"/")+o)),a.push(it)),1;if(st=0,at=at===""?".":at+":",I$2(o))for(var ct=0;ct<o.length;ct++){ot=o[ct];var lt=at+Q$2(ot,ct);st+=R$2(ot,a,rt,lt,it)}else if(lt=A$3(o),typeof lt=="function")for(o=lt.call(o),ct=0;!(ot=o.next()).done;)ot=ot.value,lt=at+Q$2(ot,ct++),st+=R$2(ot,a,rt,lt,it);else if(ot==="object")throw a=String(o),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return st}function S$1(o,a,rt){if(o==null)return o;var at=[],it=0;return R$2(o,at,"","",function(ot){return a.call(rt,ot,it++)}),at}function T$2(o){if(o._status===-1){var a=o._result;a=a(),a.then(function(rt){(o._status===0||o._status===-1)&&(o._status=1,o._result=rt)},function(rt){(o._status===0||o._status===-1)&&(o._status=2,o._result=rt)}),o._status===-1&&(o._status=0,o._result=a)}if(o._status===1)return o._result.default;throw o._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$1,forEach:function(o,a,rt){S$1(o,function(){a.apply(this,arguments)},rt)},count:function(o){var a=0;return S$1(o,function(){a++}),a},toArray:function(o){return S$1(o,function(a){return a})||[]},only:function(o){if(!O$2(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(o,a,rt){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var at=C$2({},o.props),it=o.key,ot=o.ref,st=o._owner;if(a!=null){if(a.ref!==void 0&&(ot=a.ref,st=K$3.current),a.key!==void 0&&(it=""+a.key),o.type&&o.type.defaultProps)var ct=o.type.defaultProps;for(lt in a)J$1.call(a,lt)&&!L$2.hasOwnProperty(lt)&&(at[lt]=a[lt]===void 0&&ct!==void 0?ct[lt]:a[lt])}var lt=arguments.length-2;if(lt===1)at.children=rt;else if(1<lt){ct=Array(lt);for(var ut=0;ut<lt;ut++)ct[ut]=arguments[ut+2];at.children=ct}return{$$typeof:l$3,type:o.type,key:it,ref:ot,props:at,_owner:st}};react_production_min.createContext=function(o){return o={$$typeof:u$1,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$2,_context:o},o.Consumer=o};react_production_min.createElement=M$2;react_production_min.createFactory=function(o){var a=M$2.bind(null,o);return a.type=o,a};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(o){return{$$typeof:y$2,_payload:{_status:-1,_result:o},_init:T$2}};react_production_min.memo=function(o,a){return{$$typeof:x$3,type:o,compare:a===void 0?null:a}};react_production_min.startTransition=function(o){var a=V$2.transition;V$2.transition={};try{o()}finally{V$2.transition=a}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,a){return U$2.current.useCallback(o,a)};react_production_min.useContext=function(o){return U$2.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$2.current.useDeferredValue(o)};react_production_min.useEffect=function(o,a){return U$2.current.useEffect(o,a)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(o,a,rt){return U$2.current.useImperativeHandle(o,a,rt)};react_production_min.useInsertionEffect=function(o,a){return U$2.current.useInsertionEffect(o,a)};react_production_min.useLayoutEffect=function(o,a){return U$2.current.useLayoutEffect(o,a)};react_production_min.useMemo=function(o,a){return U$2.current.useMemo(o,a)};react_production_min.useReducer=function(o,a,rt){return U$2.current.useReducer(o,a,rt)};react_production_min.useRef=function(o){return U$2.current.useRef(o)};react_production_min.useState=function(o){return U$2.current.useState(o)};react_production_min.useSyncExternalStore=function(o,a,rt){return U$2.current.useSyncExternalStore(o,a,rt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(o){o.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports),$2AODx$react=_mergeNamespaces({__proto__:null,default:React},[react.exports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function a(Bt,Ot){var qt=Bt.length;Bt.push(Ot);e:for(;0<qt;){var At=qt-1>>>1,Ct=Bt[At];if(0<it(Ct,Ot))Bt[At]=Ot,Bt[qt]=Ct,qt=At;else break e}}function rt(Bt){return Bt.length===0?null:Bt[0]}function at(Bt){if(Bt.length===0)return null;var Ot=Bt[0],qt=Bt.pop();if(qt!==Ot){Bt[0]=qt;e:for(var At=0,Ct=Bt.length,Dt=Ct>>>1;At<Dt;){var Wt=2*(At+1)-1,$t=Bt[Wt],Vt=Wt+1,Qt=Bt[Vt];if(0>it($t,qt))Vt<Ct&&0>it(Qt,$t)?(Bt[At]=Qt,Bt[Vt]=qt,At=Vt):(Bt[At]=$t,Bt[Wt]=qt,At=Wt);else if(Vt<Ct&&0>it(Qt,qt))Bt[At]=Qt,Bt[Vt]=qt,At=Vt;else break e}}return Ot}function it(Bt,Ot){var qt=Bt.sortIndex-Ot.sortIndex;return qt!==0?qt:Bt.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ot=performance;o.unstable_now=function(){return ot.now()}}else{var st=Date,ct=st.now();o.unstable_now=function(){return st.now()-ct}}var lt=[],ut=[],dt=1,ft=null,pt=3,ht=!1,yt=!1,mt=!1,gt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function wt(Bt){for(var Ot=rt(ut);Ot!==null;){if(Ot.callback===null)at(ut);else if(Ot.startTime<=Bt)at(ut),Ot.sortIndex=Ot.expirationTime,a(lt,Ot);else break;Ot=rt(ut)}}function Tt(Bt){if(mt=!1,wt(Bt),!yt)if(rt(lt)!==null)yt=!0,Rt(_t);else{var Ot=rt(ut);Ot!==null&&Lt(Tt,Ot.startTime-Bt)}}function _t(Bt,Ot){yt=!1,mt&&(mt=!1,bt(Nt),Nt=-1),ht=!0;var qt=pt;try{for(wt(Ot),ft=rt(lt);ft!==null&&(!(ft.expirationTime>Ot)||Bt&&!Ft());){var At=ft.callback;if(typeof At=="function"){ft.callback=null,pt=ft.priorityLevel;var Ct=At(ft.expirationTime<=Ot);Ot=o.unstable_now(),typeof Ct=="function"?ft.callback=Ct:ft===rt(lt)&&at(lt),wt(Ot)}else at(lt);ft=rt(lt)}if(ft!==null)var Dt=!0;else{var Wt=rt(ut);Wt!==null&&Lt(Tt,Wt.startTime-Ot),Dt=!1}return Dt}finally{ft=null,pt=qt,ht=!1}}var St=!1,Pt=null,Nt=-1,jt=5,Ut=-1;function Ft(){return!(o.unstable_now()-Ut<jt)}function Kt(){if(Pt!==null){var Bt=o.unstable_now();Ut=Bt;var Ot=!0;try{Ot=Pt(!0,Bt)}finally{Ot?Mt():(St=!1,Pt=null)}}else St=!1}var Mt;if(typeof vt=="function")Mt=function(){vt(Kt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Et=xt.port2;xt.port1.onmessage=Kt,Mt=function(){Et.postMessage(null)}}else Mt=function(){gt(Kt,0)};function Rt(Bt){Pt=Bt,St||(St=!0,Mt())}function Lt(Bt,Ot){Nt=gt(function(){Bt(o.unstable_now())},Ot)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Bt){Bt.callback=null},o.unstable_continueExecution=function(){yt||ht||(yt=!0,Rt(_t))},o.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):jt=0<Bt?Math.floor(1e3/Bt):5},o.unstable_getCurrentPriorityLevel=function(){return pt},o.unstable_getFirstCallbackNode=function(){return rt(lt)},o.unstable_next=function(Bt){switch(pt){case 1:case 2:case 3:var Ot=3;break;default:Ot=pt}var qt=pt;pt=Ot;try{return Bt()}finally{pt=qt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Bt,Ot){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var qt=pt;pt=Bt;try{return Ot()}finally{pt=qt}},o.unstable_scheduleCallback=function(Bt,Ot,qt){var At=o.unstable_now();switch(typeof qt=="object"&&qt!==null?(qt=qt.delay,qt=typeof qt=="number"&&0<qt?At+qt:At):qt=At,Bt){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=qt+Ct,Bt={id:dt++,callback:Ot,priorityLevel:Bt,startTime:qt,expirationTime:Ct,sortIndex:-1},qt>At?(Bt.sortIndex=qt,a(ut,Bt),rt(lt)===null&&Bt===rt(ut)&&(mt?(bt(Nt),Nt=-1):mt=!0,Lt(Tt,qt-At))):(Bt.sortIndex=Ct,a(lt,Bt),yt||ht||(yt=!0,Rt(_t))),Bt},o.unstable_shouldYield=Ft,o.unstable_wrapCallback=function(Bt){var Ot=pt;return function(){var qt=pt;pt=Ot;try{return Bt.apply(this,arguments)}finally{pt=qt}}}})(scheduler_production_min);(function(o){o.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$3(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,rt=1;rt<arguments.length;rt++)a+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,a){ha(o,a),ha(o+"Capture",a)}function ha(o,a){for(ea[o]=a,o=0;o<a.length;o++)da.add(a[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,a,rt,at){if(rt!==null&&rt.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return at?!1:rt!==null?!rt.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,a,rt,at){if(a===null||typeof a>"u"||pa(o,a,rt,at))return!0;if(at)return!1;if(rt!==null)switch(rt.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v$1(o,a,rt,at,it,ot,st){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=at,this.attributeNamespace=it,this.mustUseProperty=rt,this.propertyName=o,this.type=a,this.sanitizeURL=ot,this.removeEmptyString=st}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$4[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];z$4[a]=new v$1(a,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$4[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$4[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$4[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$4[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$4[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$4[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$4[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(ra,sa);z$4[a]=new v$1(a,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(ra,sa);z$4[a]=new v$1(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(ra,sa);z$4[a]=new v$1(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$4[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$4[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,a,rt,at){var it=z$4.hasOwnProperty(a)?z$4[a]:null;(it!==null?it.type!==0:at||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(qa(a,rt,it,at)&&(rt=null),at||it===null?oa(a)&&(rt===null?o.removeAttribute(a):o.setAttribute(a,""+rt)):it.mustUseProperty?o[it.propertyName]=rt===null?it.type===3?!1:"":rt:(a=it.attributeName,at=it.attributeNamespace,rt===null?o.removeAttribute(a):(it=it.type,rt=it===3||it===4&&rt===!0?"":""+rt,at?o.setAttributeNS(at,a,rt):o.setAttribute(a,rt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A$2=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(rt){var a=rt.stack.trim().match(/\n( *(at )?)/);La=a&&a[1]||""}return`
`+La+o}var Na=!1;function Oa(o,a){if(!o||Na)return"";Na=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ut){var at=ut}Reflect.construct(o,[],a)}else{try{a.call()}catch(ut){at=ut}o.call(a.prototype)}else{try{throw Error()}catch(ut){at=ut}o()}}catch(ut){if(ut&&at&&typeof ut.stack=="string"){for(var it=ut.stack.split(`
`),ot=at.stack.split(`
`),st=it.length-1,ct=ot.length-1;1<=st&&0<=ct&&it[st]!==ot[ct];)ct--;for(;1<=st&&0<=ct;st--,ct--)if(it[st]!==ot[ct]){if(st!==1||ct!==1)do if(st--,ct--,0>ct||it[st]!==ot[ct]){var lt=`
`+it[st].replace(" at new "," at ");return o.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",o.displayName)),lt}while(1<=st&&0<=ct);break}}}finally{Na=!1,Error.prepareStackTrace=rt}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return a=o.displayName||null,a!==null?a:Qa(o.type)||"Memo";case Ha:a=o._payload,o=o._init;try{return Qa(o(a))}catch{}}return null}function Ra(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(a);case 8:return a===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ua(o){var a=Ta(o)?"checked":"value",rt=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),at=""+o[a];if(!o.hasOwnProperty(a)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var it=rt.get,ot=rt.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return it.call(this)},set:function(st){at=""+st,ot.call(this,st)}}),Object.defineProperty(o,a,{enumerable:rt.enumerable}),{getValue:function(){return at},setValue:function(st){at=""+st},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var rt=a.getValue(),at="";return o&&(at=Ta(o)?o.checked?"true":"false":o.value),o=at,o!==rt?(a.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,a){var rt=a.checked;return A$2({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt!=null?rt:o._wrapperState.initialChecked})}function Za(o,a){var rt=a.defaultValue==null?"":a.defaultValue,at=a.checked!=null?a.checked:a.defaultChecked;rt=Sa(a.value!=null?a.value:rt),o._wrapperState={initialChecked:at,initialValue:rt,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ab(o,a){a=a.checked,a!=null&&ta(o,"checked",a,!1)}function bb(o,a){ab(o,a);var rt=Sa(a.value),at=a.type;if(rt!=null)at==="number"?(rt===0&&o.value===""||o.value!=rt)&&(o.value=""+rt):o.value!==""+rt&&(o.value=""+rt);else if(at==="submit"||at==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?cb(o,a.type,rt):a.hasOwnProperty("defaultValue")&&cb(o,a.type,Sa(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function db(o,a,rt){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var at=a.type;if(!(at!=="submit"&&at!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,rt||a===o.value||(o.value=a),o.defaultValue=a}rt=o.name,rt!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,rt!==""&&(o.name=rt)}function cb(o,a,rt){(a!=="number"||Xa(o.ownerDocument)!==o)&&(rt==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+rt&&(o.defaultValue=""+rt))}var eb=Array.isArray;function fb(o,a,rt,at){if(o=o.options,a){a={};for(var it=0;it<rt.length;it++)a["$"+rt[it]]=!0;for(rt=0;rt<o.length;rt++)it=a.hasOwnProperty("$"+o[rt].value),o[rt].selected!==it&&(o[rt].selected=it),it&&at&&(o[rt].defaultSelected=!0)}else{for(rt=""+Sa(rt),a=null,it=0;it<o.length;it++){if(o[it].value===rt){o[it].selected=!0,at&&(o[it].defaultSelected=!0);return}a!==null||o[it].disabled||(a=o[it])}a!==null&&(a.selected=!0)}}function gb(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,a){var rt=a.value;if(rt==null){if(rt=a.children,a=a.defaultValue,rt!=null){if(a!=null)throw Error(p$3(92));if(eb(rt)){if(1<rt.length)throw Error(p$3(93));rt=rt[0]}a=rt}a==null&&(a=""),rt=a}o._wrapperState={initialValue:Sa(rt)}}function ib(o,a){var rt=Sa(a.value),at=Sa(a.defaultValue);rt!=null&&(rt=""+rt,rt!==o.value&&(o.value=rt),a.defaultValue==null&&o.defaultValue!==rt&&(o.defaultValue=rt)),at!=null&&(o.defaultValue=""+at)}function jb(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,rt,at,it){MSApp.execUnsafeLocalFunction(function(){return o(a,rt,at,it)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function ob(o,a){if(a){var rt=o.firstChild;if(rt&&rt===o.lastChild&&rt.nodeType===3){rt.nodeValue=a;return}}o.textContent=a}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),pb[a]=pb[o]})});function rb(o,a,rt){return a==null||typeof a=="boolean"||a===""?"":rt||typeof a!="number"||a===0||pb.hasOwnProperty(o)&&pb[o]?(""+a).trim():a+"px"}function sb(o,a){o=o.style;for(var rt in a)if(a.hasOwnProperty(rt)){var at=rt.indexOf("--")===0,it=rb(rt,a[rt],at);rt==="float"&&(rt="cssFloat"),at?o.setProperty(rt,it):o[rt]=it}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,a){if(a){if(tb[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(p$3(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(p$3(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(p$3(61))}if(a.style!=null&&typeof a.style!="object")throw Error(p$3(62))}}function vb(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$3(280));var a=o.stateNode;a&&(a=Db(a),yb(o.stateNode,o.type,a))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,a=Ab;if(Ab=zb=null,Bb(o),a)for(o=0;o<a.length;o++)Bb(a[o])}}function Gb(o,a){return o(a)}function Hb(){}var Ib=!1;function Jb(o,a,rt){if(Ib)return o(a,rt);Ib=!0;try{return Gb(o,a,rt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,a){var rt=o.stateNode;if(rt===null)return null;var at=Db(rt);if(at===null)return null;rt=at[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(at=!at.disabled)||(o=o.type,at=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!at;break e;default:o=!1}if(o)return null;if(rt&&typeof rt!="function")throw Error(p$3(231,a,typeof rt));return rt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,a,rt,at,it,ot,st,ct,lt){var ut=Array.prototype.slice.call(arguments,3);try{a.apply(rt,ut)}catch(dt){this.onError(dt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,a,rt,at,it,ot,st,ct,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,a,rt,at,it,ot,st,ct,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=ut)}}function Vb(o){var a=o,rt=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(rt=a.return),o=a.return;while(o)}return a.tag===3?rt:null}function Wb(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$3(188))}function Yb(o){var a=o.alternate;if(!a){if(a=Vb(o),a===null)throw Error(p$3(188));return a!==o?null:o}for(var rt=o,at=a;;){var it=rt.return;if(it===null)break;var ot=it.alternate;if(ot===null){if(at=it.return,at!==null){rt=at;continue}break}if(it.child===ot.child){for(ot=it.child;ot;){if(ot===rt)return Xb(it),o;if(ot===at)return Xb(it),a;ot=ot.sibling}throw Error(p$3(188))}if(rt.return!==at.return)rt=it,at=ot;else{for(var st=!1,ct=it.child;ct;){if(ct===rt){st=!0,rt=it,at=ot;break}if(ct===at){st=!0,at=it,rt=ot;break}ct=ct.sibling}if(!st){for(ct=ot.child;ct;){if(ct===rt){st=!0,rt=ot,at=it;break}if(ct===at){st=!0,at=ot,rt=it;break}ct=ct.sibling}if(!st)throw Error(p$3(189))}}if(rt.alternate!==at)throw Error(p$3(190))}if(rt.tag!==3)throw Error(p$3(188));return rt.stateNode.current===rt?o:a}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=$b(o);if(a!==null)return a;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,a){var rt=o.pendingLanes;if(rt===0)return 0;var at=0,it=o.suspendedLanes,ot=o.pingedLanes,st=rt&268435455;if(st!==0){var ct=st&~it;ct!==0?at=tc(ct):(ot&=st,ot!==0&&(at=tc(ot)))}else st=rt&~it,st!==0?at=tc(st):ot!==0&&(at=tc(ot));if(at===0)return 0;if(a!==0&&a!==at&&(a&it)===0&&(it=at&-at,ot=a&-a,it>=ot||it===16&&(ot&4194240)!==0))return a;if((at&4)!==0&&(at|=rt&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=at;0<a;)rt=31-oc(a),it=1<<rt,at|=o[rt],a&=~it;return at}function vc(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,a){for(var rt=o.suspendedLanes,at=o.pingedLanes,it=o.expirationTimes,ot=o.pendingLanes;0<ot;){var st=31-oc(ot),ct=1<<st,lt=it[st];lt===-1?((ct&rt)===0||(ct&at)!==0)&&(it[st]=vc(ct,a)):lt<=a&&(o.expiredLanes|=ct),ot&=~ct}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),o}function zc(o){for(var a=[],rt=0;31>rt;rt++)a.push(o);return a}function Ac(o,a,rt){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-oc(a),o[a]=rt}function Bc(o,a){var rt=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var at=o.eventTimes;for(o=o.expirationTimes;0<rt;){var it=31-oc(rt),ot=1<<it;a[it]=0,at[it]=-1,o[it]=-1,rt&=~ot}}function Cc(o,a){var rt=o.entangledLanes|=a;for(o=o.entanglements;rt;){var at=31-oc(rt),it=1<<at;it&a|o[at]&a&&(o[at]|=a),rt&=~it}}var C$1=0;function Dc(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,a){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(a.pointerId)}}function Tc(o,a,rt,at,it,ot){return o===null||o.nativeEvent!==ot?(o={blockedOn:a,domEventName:rt,eventSystemFlags:at,nativeEvent:ot,targetContainers:[it]},a!==null&&(a=Cb(a),a!==null&&Fc(a)),o):(o.eventSystemFlags|=at,a=o.targetContainers,it!==null&&a.indexOf(it)===-1&&a.push(it),o)}function Uc(o,a,rt,at,it){switch(a){case"focusin":return Lc=Tc(Lc,o,a,rt,at,it),!0;case"dragenter":return Mc=Tc(Mc,o,a,rt,at,it),!0;case"mouseover":return Nc=Tc(Nc,o,a,rt,at,it),!0;case"pointerover":var ot=it.pointerId;return Oc.set(ot,Tc(Oc.get(ot)||null,o,a,rt,at,it)),!0;case"gotpointercapture":return ot=it.pointerId,Pc.set(ot,Tc(Pc.get(ot)||null,o,a,rt,at,it)),!0}return!1}function Vc(o){var a=Wc(o.target);if(a!==null){var rt=Vb(a);if(rt!==null){if(a=rt.tag,a===13){if(a=Wb(rt),a!==null){o.blockedOn=a,Ic(o.priority,function(){Gc(rt)});return}}else if(a===3&&rt.stateNode.current.memoizedState.isDehydrated){o.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var rt=Yc(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(rt===null){rt=o.nativeEvent;var at=new rt.constructor(rt.type,rt);wb=at,rt.target.dispatchEvent(at),wb=null}else return a=Cb(rt),a!==null&&Fc(a),o.blockedOn=rt,!1;a.shift()}return!0}function Zc(o,a,rt){Xc(o)&&rt.delete(a)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,a){o.blockedOn===a&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function a(it){return ad(it,o)}if(0<Kc.length){ad(Kc[0],o);for(var rt=1;rt<Kc.length;rt++){var at=Kc[rt];at.blockedOn===o&&(at.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(a),Pc.forEach(a),rt=0;rt<Qc.length;rt++)at=Qc[rt],at.blockedOn===o&&(at.blockedOn=null);for(;0<Qc.length&&(rt=Qc[0],rt.blockedOn===null);)Vc(rt),rt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,a,rt,at){var it=C$1,ot=cd.transition;cd.transition=null;try{C$1=1,fd(o,a,rt,at)}finally{C$1=it,cd.transition=ot}}function gd(o,a,rt,at){var it=C$1,ot=cd.transition;cd.transition=null;try{C$1=4,fd(o,a,rt,at)}finally{C$1=it,cd.transition=ot}}function fd(o,a,rt,at){if(dd){var it=Yc(o,a,rt,at);if(it===null)hd(o,a,at,id$1,rt),Sc(o,at);else if(Uc(it,o,a,rt,at))at.stopPropagation();else if(Sc(o,at),a&4&&-1<Rc.indexOf(o)){for(;it!==null;){var ot=Cb(it);if(ot!==null&&Ec(ot),ot=Yc(o,a,rt,at),ot===null&&hd(o,a,at,id$1,rt),ot===it)break;it=ot}it!==null&&at.stopPropagation()}else hd(o,a,at,null,rt)}}var id$1=null;function Yc(o,a,rt,at){if(id$1=null,o=xb(at),o=Wc(o),o!==null)if(a=Vb(o),a===null)o=null;else if(rt=a.tag,rt===13){if(o=Wb(a),o!==null)return o;o=null}else if(rt===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return id$1=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,a=ld,rt=a.length,at,it="value"in kd?kd.value:kd.textContent,ot=it.length;for(o=0;o<rt&&a[o]===it[o];o++);var st=rt-o;for(at=1;at<=st&&a[rt-at]===it[ot-at];at++);return md=it.slice(o,1<at?1-at:void 0)}function od(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function a(rt,at,it,ot,st){this._reactName=rt,this._targetInst=it,this.type=at,this.nativeEvent=ot,this.target=st,this.currentTarget=null;for(var ct in o)o.hasOwnProperty(ct)&&(rt=o[ct],this[ct]=rt?rt(ot):ot[ct]);return this.isDefaultPrevented=(ot.defaultPrevented!=null?ot.defaultPrevented:ot.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),a}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Od[o])?!!a[o]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(o){if(o.key){var a=Md[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(o,a){switch(o){case"keyup":return $d.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie$1=!1;function je(o,a){switch(o){case"compositionend":return he$1(a);case"keypress":return a.which!==32?null:(fe$1=!0,ee$1);case"textInput":return o=a.data,o===ee$1&&fe$1?null:o;default:return null}}function ke(o,a){if(ie$1)return o==="compositionend"||!ae$1&&ge$1(o,a)?(o=nd(),md=ld=kd=null,ie$1=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return de$1&&a.locale!=="ko"?null:a.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!le$1[o.type]:a==="textarea"}function ne$1(o,a,rt,at){Eb(at),a=oe(a,"onChange"),0<a.length&&(rt=new td("onChange","change",null,rt,at),o.push({event:rt,listeners:a}))}var pe$1=null,qe=null;function re$1(o){se(o,0)}function te$1(o){var a=ue$1(o);if(Wa(a))return o}function ve$1(o,a){if(o==="change")return a}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe=pe$1=null)}function Be$1(o){if(o.propertyName==="value"&&te$1(qe)){var a=[];ne$1(a,qe,o,xb(o)),Jb(re$1,a)}}function Ce$1(o,a,rt){o==="focusin"?(Ae$1(),pe$1=a,qe=rt,pe$1.attachEvent("onpropertychange",Be$1)):o==="focusout"&&Ae$1()}function De$1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te$1(qe)}function Ee$1(o,a){if(o==="click")return te$1(a)}function Fe$1(o,a){if(o==="input"||o==="change")return te$1(a)}function Ge$1(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(o,a){if(He$1(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var rt=Object.keys(o),at=Object.keys(a);if(rt.length!==at.length)return!1;for(at=0;at<rt.length;at++){var it=rt[at];if(!ja.call(a,it)||!He$1(o[it],a[it]))return!1}return!0}function Je$1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke$1(o,a){var rt=Je$1(o);o=0;for(var at;rt;){if(rt.nodeType===3){if(at=o+rt.textContent.length,o<=a&&at>=a)return{node:rt,offset:a-o};o=at}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=Je$1(rt)}}function Le$1(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Le$1(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Me$1(){for(var o=window,a=Xa();a instanceof o.HTMLIFrameElement;){try{var rt=typeof a.contentWindow.location.href=="string"}catch{rt=!1}if(rt)o=a.contentWindow;else break;a=Xa(o.document)}return a}function Ne$1(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Oe$1(o){var a=Me$1(),rt=o.focusedElem,at=o.selectionRange;if(a!==rt&&rt&&rt.ownerDocument&&Le$1(rt.ownerDocument.documentElement,rt)){if(at!==null&&Ne$1(rt)){if(a=at.start,o=at.end,o===void 0&&(o=a),"selectionStart"in rt)rt.selectionStart=a,rt.selectionEnd=Math.min(o,rt.value.length);else if(o=(a=rt.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var it=rt.textContent.length,ot=Math.min(at.start,it);at=at.end===void 0?ot:Math.min(at.end,it),!o.extend&&ot>at&&(it=at,at=ot,ot=it),it=Ke$1(rt,ot);var st=Ke$1(rt,at);it&&st&&(o.rangeCount!==1||o.anchorNode!==it.node||o.anchorOffset!==it.offset||o.focusNode!==st.node||o.focusOffset!==st.offset)&&(a=a.createRange(),a.setStart(it.node,it.offset),o.removeAllRanges(),ot>at?(o.addRange(a),o.extend(st.node,st.offset)):(a.setEnd(st.node,st.offset),o.addRange(a)))}}for(a=[],o=rt;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<a.length;rt++)o=a[rt],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te=!1;function Ue(o,a,rt){var at=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Te||Qe$1==null||Qe$1!==Xa(at)||(at=Qe$1,"selectionStart"in at&&Ne$1(at)?at={start:at.selectionStart,end:at.selectionEnd}:(at=(at.ownerDocument&&at.ownerDocument.defaultView||window).getSelection(),at={anchorNode:at.anchorNode,anchorOffset:at.anchorOffset,focusNode:at.focusNode,focusOffset:at.focusOffset}),Se$1&&Ie$1(Se$1,at)||(Se$1=at,at=oe(Re$1,"onSelect"),0<at.length&&(a=new td("onSelect","select",null,a,rt),o.push({event:a,listeners:at}),a.target=Qe$1)))}function Ve$1(o,a){var rt={};return rt[o.toLowerCase()]=a.toLowerCase(),rt["Webkit"+o]="webkit"+a,rt["Moz"+o]="moz"+a,rt}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(o){if(Xe$1[o])return Xe$1[o];if(!We$1[o])return o;var a=We$1[o],rt;for(rt in a)if(a.hasOwnProperty(rt)&&rt in Ye$1)return Xe$1[o]=a[rt];return o}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,a){df.set(o,a),fa(a,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,a,rt){var at=o.type||"unknown-event";o.currentTarget=rt,Ub(at,a,void 0,o),o.currentTarget=null}function se(o,a){a=(a&4)!==0;for(var rt=0;rt<o.length;rt++){var at=o[rt],it=at.event;at=at.listeners;e:{var ot=void 0;if(a)for(var st=at.length-1;0<=st;st--){var ct=at[st],lt=ct.instance,ut=ct.currentTarget;if(ct=ct.listener,lt!==ot&&it.isPropagationStopped())break e;nf(it,ct,ut),ot=lt}else for(st=0;st<at.length;st++){if(ct=at[st],lt=ct.instance,ut=ct.currentTarget,ct=ct.listener,lt!==ot&&it.isPropagationStopped())break e;nf(it,ct,ut),ot=lt}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D$1(o,a){var rt=a[of];rt===void 0&&(rt=a[of]=new Set);var at=o+"__bubble";rt.has(at)||(pf(a,o,2,!1),rt.add(at))}function qf(o,a,rt){var at=0;a&&(at|=4),pf(rt,o,at,a)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(rt){rt!=="selectionchange"&&(mf.has(rt)||qf(rt,!1,o),qf(rt,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[rf]||(a[rf]=!0,qf("selectionchange",!1,a))}}function pf(o,a,rt,at){switch(jd(a)){case 1:var it=ed;break;case 4:it=gd;break;default:it=fd}rt=it.bind(null,a,rt,o),it=void 0,!Lb||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(it=!0),at?it!==void 0?o.addEventListener(a,rt,{capture:!0,passive:it}):o.addEventListener(a,rt,!0):it!==void 0?o.addEventListener(a,rt,{passive:it}):o.addEventListener(a,rt,!1)}function hd(o,a,rt,at,it){var ot=at;if((a&1)===0&&(a&2)===0&&at!==null)e:for(;;){if(at===null)return;var st=at.tag;if(st===3||st===4){var ct=at.stateNode.containerInfo;if(ct===it||ct.nodeType===8&&ct.parentNode===it)break;if(st===4)for(st=at.return;st!==null;){var lt=st.tag;if((lt===3||lt===4)&&(lt=st.stateNode.containerInfo,lt===it||lt.nodeType===8&&lt.parentNode===it))return;st=st.return}for(;ct!==null;){if(st=Wc(ct),st===null)return;if(lt=st.tag,lt===5||lt===6){at=ot=st;continue e}ct=ct.parentNode}}at=at.return}Jb(function(){var ut=ot,dt=xb(rt),ft=[];e:{var pt=df.get(o);if(pt!==void 0){var ht=td,yt=o;switch(o){case"keypress":if(od(rt)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":yt="focus",ht=Fd;break;case"focusout":yt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if(rt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e$1:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td}var mt=(a&4)!==0,gt=!mt&&o==="scroll",bt=mt?pt!==null?pt+"Capture":null:pt;mt=[];for(var vt=ut,wt;vt!==null;){wt=vt;var Tt=wt.stateNode;if(wt.tag===5&&Tt!==null&&(wt=Tt,bt!==null&&(Tt=Kb(vt,bt),Tt!=null&&mt.push(tf(vt,Tt,wt)))),gt)break;vt=vt.return}0<mt.length&&(pt=new ht(pt,yt,null,rt,dt),ft.push({event:pt,listeners:mt}))}}if((a&7)===0){e:{if(pt=o==="mouseover"||o==="pointerover",ht=o==="mouseout"||o==="pointerout",pt&&rt!==wb&&(yt=rt.relatedTarget||rt.fromElement)&&(Wc(yt)||yt[uf]))break e;if((ht||pt)&&(pt=dt.window===dt?dt:(pt=dt.ownerDocument)?pt.defaultView||pt.parentWindow:window,ht?(yt=rt.relatedTarget||rt.toElement,ht=ut,yt=yt?Wc(yt):null,yt!==null&&(gt=Vb(yt),yt!==gt||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(ht=null,yt=ut),ht!==yt)){if(mt=Bd,Tt="onMouseLeave",bt="onMouseEnter",vt="mouse",(o==="pointerout"||o==="pointerover")&&(mt=Td,Tt="onPointerLeave",bt="onPointerEnter",vt="pointer"),gt=ht==null?pt:ue$1(ht),wt=yt==null?pt:ue$1(yt),pt=new mt(Tt,vt+"leave",ht,rt,dt),pt.target=gt,pt.relatedTarget=wt,Tt=null,Wc(dt)===ut&&(mt=new mt(bt,vt+"enter",yt,rt,dt),mt.target=wt,mt.relatedTarget=gt,Tt=mt),gt=Tt,ht&&yt)t:{for(mt=ht,bt=yt,vt=0,wt=mt;wt;wt=vf(wt))vt++;for(wt=0,Tt=bt;Tt;Tt=vf(Tt))wt++;for(;0<vt-wt;)mt=vf(mt),vt--;for(;0<wt-vt;)bt=vf(bt),wt--;for(;vt--;){if(mt===bt||bt!==null&&mt===bt.alternate)break t;mt=vf(mt),bt=vf(bt)}mt=null}else mt=null;ht!==null&&wf(ft,pt,ht,mt,!1),yt!==null&&gt!==null&&wf(ft,gt,yt,mt,!0)}}e:{if(pt=ut?ue$1(ut):window,ht=pt.nodeName&&pt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&pt.type==="file")var _t=ve$1;else if(me$1(pt))if(we$1)_t=Fe$1;else{_t=De$1;var St=Ce$1}else(ht=pt.nodeName)&&ht.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(_t=Ee$1);if(_t&&(_t=_t(o,ut))){ne$1(ft,_t,rt,dt);break e}St&&St(o,pt,ut),o==="focusout"&&(St=pt._wrapperState)&&St.controlled&&pt.type==="number"&&cb(pt,"number",pt.value)}switch(St=ut?ue$1(ut):window,o){case"focusin":(me$1(St)||St.contentEditable==="true")&&(Qe$1=St,Re$1=ut,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ft,rt,dt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(ft,rt,dt)}var Pt;if(ae$1)e:{switch(o){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else ie$1?ge$1(o,rt)&&(Nt="onCompositionEnd"):o==="keydown"&&rt.keyCode===229&&(Nt="onCompositionStart");Nt&&(de$1&&rt.locale!=="ko"&&(ie$1||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ie$1&&(Pt=nd()):(kd=dt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),St=oe(ut,Nt),0<St.length&&(Nt=new Ld(Nt,o,null,rt,dt),ft.push({event:Nt,listeners:St}),Pt?Nt.data=Pt:(Pt=he$1(rt),Pt!==null&&(Nt.data=Pt)))),(Pt=ce$1?je(o,rt):ke(o,rt))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(dt=new Ld("onBeforeInput","beforeinput",null,rt,dt),ft.push({event:dt,listeners:ut}),dt.data=Pt))}se(ft,a)})}function tf(o,a,rt){return{instance:o,listener:a,currentTarget:rt}}function oe(o,a){for(var rt=a+"Capture",at=[];o!==null;){var it=o,ot=it.stateNode;it.tag===5&&ot!==null&&(it=ot,ot=Kb(o,rt),ot!=null&&at.unshift(tf(o,ot,it)),ot=Kb(o,a),ot!=null&&at.push(tf(o,ot,it))),o=o.return}return at}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,a,rt,at,it){for(var ot=a._reactName,st=[];rt!==null&&rt!==at;){var ct=rt,lt=ct.alternate,ut=ct.stateNode;if(lt!==null&&lt===at)break;ct.tag===5&&ut!==null&&(ct=ut,it?(lt=Kb(rt,ot),lt!=null&&st.unshift(tf(rt,lt,ct))):it||(lt=Kb(rt,ot),lt!=null&&st.push(tf(rt,lt,ct)))),rt=rt.return}st.length!==0&&o.push({event:a,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,a,rt){if(a=zf(a),zf(o)!==a&&rt)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,a){var rt=a,at=0;do{var it=rt.nextSibling;if(o.removeChild(rt),it&&it.nodeType===8)if(rt=it.data,rt==="/$"){if(at===0){o.removeChild(it),bd(a);return}at--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||at++;rt=it}while(rt);bd(a)}function Lf(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var rt=o.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(a===0)return o;a--}else rt==="/$"&&a++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var a=o[Of];if(a)return a;for(var rt=o.parentNode;rt;){if(a=rt[uf]||rt[Of]){if(rt=a.alternate,a.child!==null||rt!==null&&rt.child!==null)for(o=Mf(o);o!==null;){if(rt=o[Of])return rt;o=Mf(o)}return a}o=rt,rt=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue$1(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$3(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E$1(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(o,a){Tf++,Sf[Tf]=o.current,o.current=a}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,a){var rt=o.type.contextTypes;if(!rt)return Vf;var at=o.stateNode;if(at&&at.__reactInternalMemoizedUnmaskedChildContext===a)return at.__reactInternalMemoizedMaskedChildContext;var it={},ot;for(ot in rt)it[ot]=a[ot];return at&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=it),it}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(o,a,rt){if(H$1.current!==Vf)throw Error(p$3(168));G$1(H$1,a),G$1(Wf,rt)}function bg(o,a,rt){var at=o.stateNode;if(a=a.childContextTypes,typeof at.getChildContext!="function")return rt;at=at.getChildContext();for(var it in at)if(!(it in a))throw Error(p$3(108,Ra(o)||"Unknown",it));return A$2({},rt,at)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,o),G$1(Wf,Wf.current),!0}function dg(o,a,rt){var at=o.stateNode;if(!at)throw Error(p$3(169));rt?(o=bg(o,a,Xf),at.__reactInternalMemoizedMergedChildContext=o,E$1(Wf),E$1(H$1),G$1(H$1,o)):E$1(Wf),G$1(Wf,rt)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,a=C$1;try{var rt=eg;for(C$1=1;o<rt.length;o++){var at=rt[o];do at=at(!0);while(at!==null)}eg=null,fg=!1}catch(it){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),it}finally{C$1=a,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,a){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=a}function ug(o,a,rt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var at=rg;o=sg;var it=32-oc(at)-1;at&=~(1<<it),rt+=1;var ot=32-oc(a)+it;if(30<ot){var st=it-it%5;ot=(at&(1<<st)-1).toString(32),at>>=st,it-=st,rg=1<<32-oc(a)+it|rt<<it|at,sg=ot+o}else rg=1<<ot|rt<<it|at,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(o,a){var rt=Bg(5,null,null,0);rt.elementType="DELETED",rt.stateNode=a,rt.return=o,a=o.deletions,a===null?(o.deletions=[rt],o.flags|=16):a.push(rt)}function Cg(o,a){switch(o.tag){case 5:var rt=o.type;return a=a.nodeType!==1||rt.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,xg=o,yg=Lf(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,xg=o,yg=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(rt=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:a,treeContext:rt,retryLane:1073741824},rt=Bg(18,null,null,0),rt.stateNode=a,rt.return=o,o.child=rt,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I$1){var a=yg;if(a){var rt=a;if(!Cg(o,a)){if(Dg(o))throw Error(p$3(418));a=Lf(rt.nextSibling);var at=xg;a&&Cg(o,a)?Ag(at,rt):(o.flags=o.flags&-4097|2,I$1=!1,xg=o)}}else{if(Dg(o))throw Error(p$3(418));o.flags=o.flags&-4097|2,I$1=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I$1)return Fg(o),I$1=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Ef(o.type,o.memoizedProps)),a&&(a=yg)){if(Dg(o))throw Hg(),Error(p$3(418));for(;a;)Ag(o,a),a=Lf(a.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$3(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var rt=o.data;if(rt==="/$"){if(a===0){yg=Lf(o.nextSibling);break e}a--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||a++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,a){if(o&&o.defaultProps){a=A$2({},a),o=o.defaultProps;for(var rt in o)a[rt]===void 0&&(a[rt]=o[rt]);return a}return a}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var a=Mg.current;E$1(Mg),o._currentValue=a}function Sg(o,a,rt){for(;o!==null;){var at=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,at!==null&&(at.childLanes|=a)):at!==null&&(at.childLanes&a)!==a&&(at.childLanes|=a),o===rt)break;o=o.return}}function Tg(o,a){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Ug=!0),o.firstContext=null)}function Vg(o){var a=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:a,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return a}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,a,rt,at){var it=a.interleaved;return it===null?(rt.next=rt,Xg(a)):(rt.next=it.next,it.next=rt),a.interleaved=rt,Zg(o,at)}function Zg(o,a){o.lanes|=a;var rt=o.alternate;for(rt!==null&&(rt.lanes|=a),rt=o,o=o.return;o!==null;)o.childLanes|=a,rt=o.alternate,rt!==null&&(rt.childLanes|=a),rt=o,o=o.return;return rt.tag===3?rt.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function dh(o,a,rt){var at=o.updateQueue;if(at===null)return null;if(at=at.shared,(K$2&2)!==0){var it=at.pending;return it===null?a.next=a:(a.next=it.next,it.next=a),at.pending=a,Zg(o,rt)}return it=at.interleaved,it===null?(a.next=a,Xg(at)):(a.next=it.next,it.next=a),at.interleaved=a,Zg(o,rt)}function eh(o,a,rt){if(a=a.updateQueue,a!==null&&(a=a.shared,(rt&4194240)!==0)){var at=a.lanes;at&=o.pendingLanes,rt|=at,a.lanes=rt,Cc(o,rt)}}function fh(o,a){var rt=o.updateQueue,at=o.alternate;if(at!==null&&(at=at.updateQueue,rt===at)){var it=null,ot=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var st={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};ot===null?it=ot=st:ot=ot.next=st,rt=rt.next}while(rt!==null);ot===null?it=ot=a:ot=ot.next=a}else it=ot=a;rt={baseState:at.baseState,firstBaseUpdate:it,lastBaseUpdate:ot,shared:at.shared,effects:at.effects},o.updateQueue=rt;return}o=rt.lastBaseUpdate,o===null?rt.firstBaseUpdate=a:o.next=a,rt.lastBaseUpdate=a}function gh(o,a,rt,at){var it=o.updateQueue;$g=!1;var ot=it.firstBaseUpdate,st=it.lastBaseUpdate,ct=it.shared.pending;if(ct!==null){it.shared.pending=null;var lt=ct,ut=lt.next;lt.next=null,st===null?ot=ut:st.next=ut,st=lt;var dt=o.alternate;dt!==null&&(dt=dt.updateQueue,ct=dt.lastBaseUpdate,ct!==st&&(ct===null?dt.firstBaseUpdate=ut:ct.next=ut,dt.lastBaseUpdate=lt))}if(ot!==null){var ft=it.baseState;st=0,dt=ut=lt=null,ct=ot;do{var pt=ct.lane,ht=ct.eventTime;if((at&pt)===pt){dt!==null&&(dt=dt.next={eventTime:ht,lane:0,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null});e:{var yt=o,mt=ct;switch(pt=a,ht=rt,mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){ft=yt.call(ht,ft,pt);break e}ft=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,pt=typeof yt=="function"?yt.call(ht,ft,pt):yt,pt==null)break e;ft=A$2({},ft,pt);break e;case 2:$g=!0}}ct.callback!==null&&ct.lane!==0&&(o.flags|=64,pt=it.effects,pt===null?it.effects=[ct]:pt.push(ct))}else ht={eventTime:ht,lane:pt,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null},dt===null?(ut=dt=ht,lt=ft):dt=dt.next=ht,st|=pt;if(ct=ct.next,ct===null){if(ct=it.shared.pending,ct===null)break;pt=ct,ct=pt.next,pt.next=null,it.lastBaseUpdate=pt,it.shared.pending=null}}while(1);if(dt===null&&(lt=ft),it.baseState=lt,it.firstBaseUpdate=ut,it.lastBaseUpdate=dt,a=it.shared.interleaved,a!==null){it=a;do st|=it.lane,it=it.next;while(it!==a)}else ot===null&&(it.shared.lanes=0);hh|=st,o.lanes=st,o.memoizedState=ft}}function ih(o,a,rt){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var at=o[a],it=at.callback;if(it!==null){if(at.callback=null,at=rt,typeof it!="function")throw Error(p$3(191,it));it.call(at)}}}var jh=new aa.Component().refs;function kh(o,a,rt,at){a=o.memoizedState,rt=rt(at,a),rt=rt==null?a:A$2({},a,rt),o.memoizedState=rt,o.lanes===0&&(o.updateQueue.baseState=rt)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,a,rt){o=o._reactInternals;var at=L$1(),it=lh(o),ot=ch(at,it);ot.payload=a,rt!=null&&(ot.callback=rt),a=dh(o,ot,it),a!==null&&(mh(a,o,it,at),eh(a,o,it))},enqueueReplaceState:function(o,a,rt){o=o._reactInternals;var at=L$1(),it=lh(o),ot=ch(at,it);ot.tag=1,ot.payload=a,rt!=null&&(ot.callback=rt),a=dh(o,ot,it),a!==null&&(mh(a,o,it,at),eh(a,o,it))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var rt=L$1(),at=lh(o),it=ch(rt,at);it.tag=2,a!=null&&(it.callback=a),a=dh(o,it,at),a!==null&&(mh(a,o,at,rt),eh(a,o,at))}};function oh(o,a,rt,at,it,ot,st){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(at,ot,st):a.prototype&&a.prototype.isPureReactComponent?!Ie$1(rt,at)||!Ie$1(it,ot):!0}function ph(o,a,rt){var at=!1,it=Vf,ot=a.contextType;return typeof ot=="object"&&ot!==null?ot=Vg(ot):(it=Zf(a)?Xf:H$1.current,at=a.contextTypes,ot=(at=at!=null)?Yf(o,it):Vf),a=new a(rt,ot),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=nh,o.stateNode=a,a._reactInternals=o,at&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=it,o.__reactInternalMemoizedMaskedChildContext=ot),a}function qh(o,a,rt,at){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(rt,at),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(rt,at),a.state!==o&&nh.enqueueReplaceState(a,a.state,null)}function rh$1(o,a,rt,at){var it=o.stateNode;it.props=rt,it.state=o.memoizedState,it.refs=jh,ah(o);var ot=a.contextType;typeof ot=="object"&&ot!==null?it.context=Vg(ot):(ot=Zf(a)?Xf:H$1.current,it.context=Yf(o,ot)),it.state=o.memoizedState,ot=a.getDerivedStateFromProps,typeof ot=="function"&&(kh(o,a,ot,rt),it.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(a=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),a!==it.state&&nh.enqueueReplaceState(it,it.state,null),gh(o,rt,it,at),it.state=o.memoizedState),typeof it.componentDidMount=="function"&&(o.flags|=4194308)}function sh$1(o,a,rt){if(o=rt.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(p$3(309));var at=rt.stateNode}if(!at)throw Error(p$3(147,o));var it=at,ot=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===ot?a.ref:(a=function(st){var ct=it.refs;ct===jh&&(ct=it.refs={}),st===null?delete ct[ot]:ct[ot]=st},a._stringRef=ot,a)}if(typeof o!="string")throw Error(p$3(284));if(!rt._owner)throw Error(p$3(290,o))}return o}function th(o,a){throw o=Object.prototype.toString.call(a),Error(p$3(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function uh(o){var a=o._init;return a(o._payload)}function vh(o){function a(bt,vt){if(o){var wt=bt.deletions;wt===null?(bt.deletions=[vt],bt.flags|=16):wt.push(vt)}}function rt(bt,vt){if(!o)return null;for(;vt!==null;)a(bt,vt),vt=vt.sibling;return null}function at(bt,vt){for(bt=new Map;vt!==null;)vt.key!==null?bt.set(vt.key,vt):bt.set(vt.index,vt),vt=vt.sibling;return bt}function it(bt,vt){return bt=wh(bt,vt),bt.index=0,bt.sibling=null,bt}function ot(bt,vt,wt){return bt.index=wt,o?(wt=bt.alternate,wt!==null?(wt=wt.index,wt<vt?(bt.flags|=2,vt):wt):(bt.flags|=2,vt)):(bt.flags|=1048576,vt)}function st(bt){return o&&bt.alternate===null&&(bt.flags|=2),bt}function ct(bt,vt,wt,Tt){return vt===null||vt.tag!==6?(vt=xh(wt,bt.mode,Tt),vt.return=bt,vt):(vt=it(vt,wt),vt.return=bt,vt)}function lt(bt,vt,wt,Tt){var _t=wt.type;return _t===ya?dt(bt,vt,wt.props.children,Tt,wt.key):vt!==null&&(vt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===vt.type)?(Tt=it(vt,wt.props),Tt.ref=sh$1(bt,vt,wt),Tt.return=bt,Tt):(Tt=yh(wt.type,wt.key,wt.props,null,bt.mode,Tt),Tt.ref=sh$1(bt,vt,wt),Tt.return=bt,Tt)}function ut(bt,vt,wt,Tt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==wt.containerInfo||vt.stateNode.implementation!==wt.implementation?(vt=zh(wt,bt.mode,Tt),vt.return=bt,vt):(vt=it(vt,wt.children||[]),vt.return=bt,vt)}function dt(bt,vt,wt,Tt,_t){return vt===null||vt.tag!==7?(vt=Ah(wt,bt.mode,Tt,_t),vt.return=bt,vt):(vt=it(vt,wt),vt.return=bt,vt)}function ft(bt,vt,wt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=xh(""+vt,bt.mode,wt),vt.return=bt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return wt=yh(vt.type,vt.key,vt.props,null,bt.mode,wt),wt.ref=sh$1(bt,null,vt),wt.return=bt,wt;case wa:return vt=zh(vt,bt.mode,wt),vt.return=bt,vt;case Ha:var Tt=vt._init;return ft(bt,Tt(vt._payload),wt)}if(eb(vt)||Ka(vt))return vt=Ah(vt,bt.mode,wt,null),vt.return=bt,vt;th(bt,vt)}return null}function pt(bt,vt,wt,Tt){var _t=vt!==null?vt.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number")return _t!==null?null:ct(bt,vt,""+wt,Tt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return wt.key===_t?lt(bt,vt,wt,Tt):null;case wa:return wt.key===_t?ut(bt,vt,wt,Tt):null;case Ha:return _t=wt._init,pt(bt,vt,_t(wt._payload),Tt)}if(eb(wt)||Ka(wt))return _t!==null?null:dt(bt,vt,wt,Tt,null);th(bt,wt)}return null}function ht(bt,vt,wt,Tt,_t){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return bt=bt.get(wt)||null,ct(vt,bt,""+Tt,_t);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:return bt=bt.get(Tt.key===null?wt:Tt.key)||null,lt(vt,bt,Tt,_t);case wa:return bt=bt.get(Tt.key===null?wt:Tt.key)||null,ut(vt,bt,Tt,_t);case Ha:var St=Tt._init;return ht(bt,vt,wt,St(Tt._payload),_t)}if(eb(Tt)||Ka(Tt))return bt=bt.get(wt)||null,dt(vt,bt,Tt,_t,null);th(vt,Tt)}return null}function yt(bt,vt,wt,Tt){for(var _t=null,St=null,Pt=vt,Nt=vt=0,jt=null;Pt!==null&&Nt<wt.length;Nt++){Pt.index>Nt?(jt=Pt,Pt=null):jt=Pt.sibling;var Ut=pt(bt,Pt,wt[Nt],Tt);if(Ut===null){Pt===null&&(Pt=jt);break}o&&Pt&&Ut.alternate===null&&a(bt,Pt),vt=ot(Ut,vt,Nt),St===null?_t=Ut:St.sibling=Ut,St=Ut,Pt=jt}if(Nt===wt.length)return rt(bt,Pt),I$1&&tg(bt,Nt),_t;if(Pt===null){for(;Nt<wt.length;Nt++)Pt=ft(bt,wt[Nt],Tt),Pt!==null&&(vt=ot(Pt,vt,Nt),St===null?_t=Pt:St.sibling=Pt,St=Pt);return I$1&&tg(bt,Nt),_t}for(Pt=at(bt,Pt);Nt<wt.length;Nt++)jt=ht(Pt,bt,Nt,wt[Nt],Tt),jt!==null&&(o&&jt.alternate!==null&&Pt.delete(jt.key===null?Nt:jt.key),vt=ot(jt,vt,Nt),St===null?_t=jt:St.sibling=jt,St=jt);return o&&Pt.forEach(function(Ft){return a(bt,Ft)}),I$1&&tg(bt,Nt),_t}function mt(bt,vt,wt,Tt){var _t=Ka(wt);if(typeof _t!="function")throw Error(p$3(150));if(wt=_t.call(wt),wt==null)throw Error(p$3(151));for(var St=_t=null,Pt=vt,Nt=vt=0,jt=null,Ut=wt.next();Pt!==null&&!Ut.done;Nt++,Ut=wt.next()){Pt.index>Nt?(jt=Pt,Pt=null):jt=Pt.sibling;var Ft=pt(bt,Pt,Ut.value,Tt);if(Ft===null){Pt===null&&(Pt=jt);break}o&&Pt&&Ft.alternate===null&&a(bt,Pt),vt=ot(Ft,vt,Nt),St===null?_t=Ft:St.sibling=Ft,St=Ft,Pt=jt}if(Ut.done)return rt(bt,Pt),I$1&&tg(bt,Nt),_t;if(Pt===null){for(;!Ut.done;Nt++,Ut=wt.next())Ut=ft(bt,Ut.value,Tt),Ut!==null&&(vt=ot(Ut,vt,Nt),St===null?_t=Ut:St.sibling=Ut,St=Ut);return I$1&&tg(bt,Nt),_t}for(Pt=at(bt,Pt);!Ut.done;Nt++,Ut=wt.next())Ut=ht(Pt,bt,Nt,Ut.value,Tt),Ut!==null&&(o&&Ut.alternate!==null&&Pt.delete(Ut.key===null?Nt:Ut.key),vt=ot(Ut,vt,Nt),St===null?_t=Ut:St.sibling=Ut,St=Ut);return o&&Pt.forEach(function(Kt){return a(bt,Kt)}),I$1&&tg(bt,Nt),_t}function gt(bt,vt,wt,Tt){if(typeof wt=="object"&&wt!==null&&wt.type===ya&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:e:{for(var _t=wt.key,St=vt;St!==null;){if(St.key===_t){if(_t=wt.type,_t===ya){if(St.tag===7){rt(bt,St.sibling),vt=it(St,wt.props.children),vt.return=bt,bt=vt;break e}}else if(St.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===St.type){rt(bt,St.sibling),vt=it(St,wt.props),vt.ref=sh$1(bt,St,wt),vt.return=bt,bt=vt;break e}rt(bt,St);break}else a(bt,St);St=St.sibling}wt.type===ya?(vt=Ah(wt.props.children,bt.mode,Tt,wt.key),vt.return=bt,bt=vt):(Tt=yh(wt.type,wt.key,wt.props,null,bt.mode,Tt),Tt.ref=sh$1(bt,vt,wt),Tt.return=bt,bt=Tt)}return st(bt);case wa:e:{for(St=wt.key;vt!==null;){if(vt.key===St)if(vt.tag===4&&vt.stateNode.containerInfo===wt.containerInfo&&vt.stateNode.implementation===wt.implementation){rt(bt,vt.sibling),vt=it(vt,wt.children||[]),vt.return=bt,bt=vt;break e}else{rt(bt,vt);break}else a(bt,vt);vt=vt.sibling}vt=zh(wt,bt.mode,Tt),vt.return=bt,bt=vt}return st(bt);case Ha:return St=wt._init,gt(bt,vt,St(wt._payload),Tt)}if(eb(wt))return yt(bt,vt,wt,Tt);if(Ka(wt))return mt(bt,vt,wt,Tt);th(bt,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"?(wt=""+wt,vt!==null&&vt.tag===6?(rt(bt,vt.sibling),vt=it(vt,wt),vt.return=bt,bt=vt):(rt(bt,vt),vt=xh(wt,bt.mode,Tt),vt.return=bt,bt=vt),st(bt)):rt(bt,vt)}return gt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$3(174));return o}function Ih(o,a){switch(G$1(Gh,a),G$1(Fh,o),G$1(Eh,Dh),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:lb(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=lb(a,o)}E$1(Eh),G$1(Eh,a)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh$1(o){Hh(Gh.current);var a=Hh(Eh.current),rt=lb(a,o.type);a!==rt&&(G$1(Fh,o),G$1(Eh,rt))}function Lh(o){Fh.current===o&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(o){for(var a=o;a!==null;){if(a.tag===13){var rt=a.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$3(321))}function Wh(o,a){if(a===null)return!1;for(var rt=0;rt<a.length&&rt<o.length;rt++)if(!He$1(o[rt],a[rt]))return!1;return!0}function Xh(o,a,rt,at,it,ot){if(Rh=ot,N$2=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=rt(at,it),Th){ot=0;do{if(Th=!1,Uh=0,25<=ot)throw Error(p$3(301));ot+=1,P$1=O$1=null,a.updateQueue=null,Ph.current=$h,o=rt(at,it)}while(Th)}if(Ph.current=ai,a=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$2=null,Sh=!1,a)throw Error(p$3(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=o:P$1=P$1.next=o,P$1}function di(){if(O$1===null){var o=N$2.alternate;o=o!==null?o.memoizedState:null}else o=O$1.next;var a=P$1===null?N$2.memoizedState:P$1.next;if(a!==null)P$1=a,O$1=o;else{if(o===null)throw Error(p$3(310));O$1=o,o={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$2.memoizedState=P$1=o:P$1=P$1.next=o}return P$1}function ei(o,a){return typeof a=="function"?a(o):a}function fi(o){var a=di(),rt=a.queue;if(rt===null)throw Error(p$3(311));rt.lastRenderedReducer=o;var at=O$1,it=at.baseQueue,ot=rt.pending;if(ot!==null){if(it!==null){var st=it.next;it.next=ot.next,ot.next=st}at.baseQueue=it=ot,rt.pending=null}if(it!==null){ot=it.next,at=at.baseState;var ct=st=null,lt=null,ut=ot;do{var dt=ut.lane;if((Rh&dt)===dt)lt!==null&&(lt=lt.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),at=ut.hasEagerState?ut.eagerState:o(at,ut.action);else{var ft={lane:dt,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};lt===null?(ct=lt=ft,st=at):lt=lt.next=ft,N$2.lanes|=dt,hh|=dt}ut=ut.next}while(ut!==null&&ut!==ot);lt===null?st=at:lt.next=ct,He$1(at,a.memoizedState)||(Ug=!0),a.memoizedState=at,a.baseState=st,a.baseQueue=lt,rt.lastRenderedState=at}if(o=rt.interleaved,o!==null){it=o;do ot=it.lane,N$2.lanes|=ot,hh|=ot,it=it.next;while(it!==o)}else it===null&&(rt.lanes=0);return[a.memoizedState,rt.dispatch]}function gi(o){var a=di(),rt=a.queue;if(rt===null)throw Error(p$3(311));rt.lastRenderedReducer=o;var at=rt.dispatch,it=rt.pending,ot=a.memoizedState;if(it!==null){rt.pending=null;var st=it=it.next;do ot=o(ot,st.action),st=st.next;while(st!==it);He$1(ot,a.memoizedState)||(Ug=!0),a.memoizedState=ot,a.baseQueue===null&&(a.baseState=ot),rt.lastRenderedState=ot}return[ot,at]}function hi(){}function ii(o,a){var rt=N$2,at=di(),it=a(),ot=!He$1(at.memoizedState,it);if(ot&&(at.memoizedState=it,Ug=!0),at=at.queue,ji(ki.bind(null,rt,at,o),[o]),at.getSnapshot!==a||ot||P$1!==null&&P$1.memoizedState.tag&1){if(rt.flags|=2048,li(9,mi.bind(null,rt,at,it,a),void 0,null),R$1===null)throw Error(p$3(349));(Rh&30)!==0||ni(rt,a,it)}return it}function ni(o,a,rt){o.flags|=16384,o={getSnapshot:a,value:rt},a=N$2.updateQueue,a===null?(a={lastEffect:null,stores:null},N$2.updateQueue=a,a.stores=[o]):(rt=a.stores,rt===null?a.stores=[o]:rt.push(o))}function mi(o,a,rt,at){a.value=rt,a.getSnapshot=at,oi(a)&&pi(o)}function ki(o,a,rt){return rt(function(){oi(a)&&pi(o)})}function oi(o){var a=o.getSnapshot;o=o.value;try{var rt=a();return!He$1(o,rt)}catch{return!0}}function pi(o){var a=Zg(o,1);a!==null&&mh(a,o,1,-1)}function qi(o){var a=ci();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},a.queue=o,o=o.dispatch=ri.bind(null,N$2,o),[a.memoizedState,o]}function li(o,a,rt,at){return o={tag:o,create:a,destroy:rt,deps:at,next:null},a=N$2.updateQueue,a===null?(a={lastEffect:null,stores:null},N$2.updateQueue=a,a.lastEffect=o.next=o):(rt=a.lastEffect,rt===null?a.lastEffect=o.next=o:(at=rt.next,rt.next=o,o.next=at,a.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,a,rt,at){var it=ci();N$2.flags|=o,it.memoizedState=li(1|a,rt,void 0,at===void 0?null:at)}function ui(o,a,rt,at){var it=di();at=at===void 0?null:at;var ot=void 0;if(O$1!==null){var st=O$1.memoizedState;if(ot=st.destroy,at!==null&&Wh(at,st.deps)){it.memoizedState=li(a,rt,ot,at);return}}N$2.flags|=o,it.memoizedState=li(1|a,rt,ot,at)}function vi(o,a){return ti(8390656,8,o,a)}function ji(o,a){return ui(2048,8,o,a)}function wi(o,a){return ui(4,2,o,a)}function xi(o,a){return ui(4,4,o,a)}function yi(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function zi(o,a,rt){return rt=rt!=null?rt.concat([o]):null,ui(4,4,yi.bind(null,a,o),rt)}function Ai(){}function Bi(o,a){var rt=di();a=a===void 0?null:a;var at=rt.memoizedState;return at!==null&&a!==null&&Wh(a,at[1])?at[0]:(rt.memoizedState=[o,a],o)}function Ci(o,a){var rt=di();a=a===void 0?null:a;var at=rt.memoizedState;return at!==null&&a!==null&&Wh(a,at[1])?at[0]:(o=o(),rt.memoizedState=[o,a],o)}function Di(o,a,rt){return(Rh&21)===0?(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=rt):(He$1(rt,a)||(rt=yc(),N$2.lanes|=rt,hh|=rt,o.baseState=!0),a)}function Ei(o,a){var rt=C$1;C$1=rt!==0&&4>rt?rt:4,o(!0);var at=Qh.transition;Qh.transition={};try{o(!1),a()}finally{C$1=rt,Qh.transition=at}}function Fi(){return di().memoizedState}function Gi(o,a,rt){var at=lh(o);if(rt={lane:at,action:rt,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(a,rt);else if(rt=Yg(o,a,rt,at),rt!==null){var it=L$1();mh(rt,o,at,it),Ji(rt,a,at)}}function ri(o,a,rt){var at=lh(o),it={lane:at,action:rt,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(a,it);else{var ot=o.alternate;if(o.lanes===0&&(ot===null||ot.lanes===0)&&(ot=a.lastRenderedReducer,ot!==null))try{var st=a.lastRenderedState,ct=ot(st,rt);if(it.hasEagerState=!0,it.eagerState=ct,He$1(ct,st)){var lt=a.interleaved;lt===null?(it.next=it,Xg(a)):(it.next=lt.next,lt.next=it),a.interleaved=it;return}}catch{}finally{}rt=Yg(o,a,it,at),rt!==null&&(it=L$1(),mh(rt,o,at,it),Ji(rt,a,at))}}function Hi(o){var a=o.alternate;return o===N$2||a!==null&&a===N$2}function Ii(o,a){Th=Sh=!0;var rt=o.pending;rt===null?a.next=a:(a.next=rt.next,rt.next=a),o.pending=a}function Ji(o,a,rt){if((rt&4194240)!==0){var at=a.lanes;at&=o.pendingLanes,rt|=at,a.lanes=rt,Cc(o,rt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,a){return ci().memoizedState=[o,a===void 0?null:a],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,a,rt){return rt=rt!=null?rt.concat([o]):null,ti(4194308,4,yi.bind(null,a,o),rt)},useLayoutEffect:function(o,a){return ti(4194308,4,o,a)},useInsertionEffect:function(o,a){return ti(4,2,o,a)},useMemo:function(o,a){var rt=ci();return a=a===void 0?null:a,o=o(),rt.memoizedState=[o,a],o},useReducer:function(o,a,rt){var at=ci();return a=rt!==void 0?rt(a):a,at.memoizedState=at.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},at.queue=o,o=o.dispatch=Gi.bind(null,N$2,o),[at.memoizedState,o]},useRef:function(o){var a=ci();return o={current:o},a.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),a=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,rt){var at=N$2,it=ci();if(I$1){if(rt===void 0)throw Error(p$3(407));rt=rt()}else{if(rt=a(),R$1===null)throw Error(p$3(349));(Rh&30)!==0||ni(at,a,rt)}it.memoizedState=rt;var ot={value:rt,getSnapshot:a};return it.queue=ot,vi(ki.bind(null,at,ot,o),[o]),at.flags|=2048,li(9,mi.bind(null,at,ot,rt,a),void 0,null),rt},useId:function(){var o=ci(),a=R$1.identifierPrefix;if(I$1){var rt=sg,at=rg;rt=(at&~(1<<32-oc(at)-1)).toString(32)+rt,a=":"+a+"R"+rt,rt=Uh++,0<rt&&(a+="H"+rt.toString(32)),a+=":"}else rt=Vh++,a=":"+a+"r"+rt.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var a=di();return Di(a,O$1.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],a=di().memoizedState;return[o,a]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var a=di();return O$1===null?a.memoizedState=o:Di(a,O$1.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],a=di().memoizedState;return[o,a]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,a){try{var rt="",at=a;do rt+=Pa(at),at=at.return;while(at);var it=rt}catch(ot){it=`
Error generating stack: `+ot.message+`
`+ot.stack}return{value:o,source:a,stack:it,digest:null}}function Li(o,a,rt){return{value:o,source:null,stack:rt!=null?rt:null,digest:a!=null?a:null}}function Mi(o,a){try{console.error(a.value)}catch(rt){setTimeout(function(){throw rt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,a,rt){rt=ch(-1,rt),rt.tag=3,rt.payload={element:null};var at=a.value;return rt.callback=function(){Pi||(Pi=!0,Qi=at),Mi(o,a)},rt}function Ri(o,a,rt){rt=ch(-1,rt),rt.tag=3;var at=o.type.getDerivedStateFromError;if(typeof at=="function"){var it=a.value;rt.payload=function(){return at(it)},rt.callback=function(){Mi(o,a)}}var ot=o.stateNode;return ot!==null&&typeof ot.componentDidCatch=="function"&&(rt.callback=function(){Mi(o,a),typeof at!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var st=a.stack;this.componentDidCatch(a.value,{componentStack:st!==null?st:""})}),rt}function Ti(o,a,rt){var at=o.pingCache;if(at===null){at=o.pingCache=new Ni;var it=new Set;at.set(a,it)}else it=at.get(a),it===void 0&&(it=new Set,at.set(a,it));it.has(rt)||(it.add(rt),o=Ui.bind(null,o,a,rt),a.then(o,o))}function Vi(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Wi(o,a,rt,at,it){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(a=ch(-1,1),a.tag=2,dh(rt,a,1))),rt.lanes|=1),o):(o.flags|=65536,o.lanes=it,o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,a,rt,at){a.child=o===null?Ch(a,null,rt,at):Bh(a,o.child,rt,at)}function Zi(o,a,rt,at,it){rt=rt.render;var ot=a.ref;return Tg(a,it),at=Xh(o,a,rt,at,ot,it),rt=bi(),o!==null&&!Ug?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~it,$i(o,a,it)):(I$1&&rt&&vg(a),a.flags|=1,Yi(o,a,at,it),a.child)}function aj(o,a,rt,at,it){if(o===null){var ot=rt.type;return typeof ot=="function"&&!bj(ot)&&ot.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(a.tag=15,a.type=ot,cj(o,a,ot,at,it)):(o=yh(rt.type,null,at,a,a.mode,it),o.ref=a.ref,o.return=a,a.child=o)}if(ot=o.child,(o.lanes&it)===0){var st=ot.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:Ie$1,rt(st,at)&&o.ref===a.ref)return $i(o,a,it)}return a.flags|=1,o=wh(ot,at),o.ref=a.ref,o.return=a,a.child=o}function cj(o,a,rt,at,it){if(o!==null){var ot=o.memoizedProps;if(Ie$1(ot,at)&&o.ref===a.ref)if(Ug=!1,a.pendingProps=at=ot,(o.lanes&it)!==0)(o.flags&131072)!==0&&(Ug=!0);else return a.lanes=o.lanes,$i(o,a,it)}return dj(o,a,rt,at,it)}function ej(o,a,rt){var at=a.pendingProps,it=at.children,ot=o!==null?o.memoizedState:null;if(at.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=rt;else{if((rt&1073741824)===0)return o=ot!==null?ot.baseLanes|rt:rt,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,G$1(fj,gj),gj|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},at=ot!==null?ot.baseLanes:rt,G$1(fj,gj),gj|=at}else ot!==null?(at=ot.baseLanes|rt,a.memoizedState=null):at=rt,G$1(fj,gj),gj|=at;return Yi(o,a,it,rt),a.child}function hj(o,a){var rt=a.ref;(o===null&&rt!==null||o!==null&&o.ref!==rt)&&(a.flags|=512,a.flags|=2097152)}function dj(o,a,rt,at,it){var ot=Zf(rt)?Xf:H$1.current;return ot=Yf(a,ot),Tg(a,it),rt=Xh(o,a,rt,at,ot,it),at=bi(),o!==null&&!Ug?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~it,$i(o,a,it)):(I$1&&at&&vg(a),a.flags|=1,Yi(o,a,rt,it),a.child)}function ij(o,a,rt,at,it){if(Zf(rt)){var ot=!0;cg(a)}else ot=!1;if(Tg(a,it),a.stateNode===null)jj(o,a),ph(a,rt,at),rh$1(a,rt,at,it),at=!0;else if(o===null){var st=a.stateNode,ct=a.memoizedProps;st.props=ct;var lt=st.context,ut=rt.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(rt)?Xf:H$1.current,ut=Yf(a,ut));var dt=rt.getDerivedStateFromProps,ft=typeof dt=="function"||typeof st.getSnapshotBeforeUpdate=="function";ft||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ct!==at||lt!==ut)&&qh(a,st,at,ut),$g=!1;var pt=a.memoizedState;st.state=pt,gh(a,at,st,it),lt=a.memoizedState,ct!==at||pt!==lt||Wf.current||$g?(typeof dt=="function"&&(kh(a,rt,dt,at),lt=a.memoizedState),(ct=$g||oh(a,rt,ct,at,pt,lt,ut))?(ft||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(a.flags|=4194308)):(typeof st.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=at,a.memoizedState=lt),st.props=at,st.state=lt,st.context=ut,at=ct):(typeof st.componentDidMount=="function"&&(a.flags|=4194308),at=!1)}else{st=a.stateNode,bh(o,a),ct=a.memoizedProps,ut=a.type===a.elementType?ct:Lg(a.type,ct),st.props=ut,ft=a.pendingProps,pt=st.context,lt=rt.contextType,typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(rt)?Xf:H$1.current,lt=Yf(a,lt));var ht=rt.getDerivedStateFromProps;(dt=typeof ht=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(ct!==ft||pt!==lt)&&qh(a,st,at,lt),$g=!1,pt=a.memoizedState,st.state=pt,gh(a,at,st,it);var yt=a.memoizedState;ct!==ft||pt!==yt||Wf.current||$g?(typeof ht=="function"&&(kh(a,rt,ht,at),yt=a.memoizedState),(ut=$g||oh(a,rt,ut,at,pt,yt,lt)||!1)?(dt||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(at,yt,lt),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(at,yt,lt)),typeof st.componentDidUpdate=="function"&&(a.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof st.componentDidUpdate!="function"||ct===o.memoizedProps&&pt===o.memoizedState||(a.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ct===o.memoizedProps&&pt===o.memoizedState||(a.flags|=1024),a.memoizedProps=at,a.memoizedState=yt),st.props=at,st.state=yt,st.context=lt,at=ut):(typeof st.componentDidUpdate!="function"||ct===o.memoizedProps&&pt===o.memoizedState||(a.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||ct===o.memoizedProps&&pt===o.memoizedState||(a.flags|=1024),at=!1)}return kj(o,a,rt,at,ot,it)}function kj(o,a,rt,at,it,ot){hj(o,a);var st=(a.flags&128)!==0;if(!at&&!st)return it&&dg(a,rt,!1),$i(o,a,ot);at=a.stateNode,Xi.current=a;var ct=st&&typeof rt.getDerivedStateFromError!="function"?null:at.render();return a.flags|=1,o!==null&&st?(a.child=Bh(a,o.child,null,ot),a.child=Bh(a,null,ct,ot)):Yi(o,a,ct,ot),a.memoizedState=at.state,it&&dg(a,rt,!0),a.child}function lj(o){var a=o.stateNode;a.pendingContext?ag(o,a.pendingContext,a.pendingContext!==a.context):a.context&&ag(o,a.context,!1),Ih(o,a.containerInfo)}function mj(o,a,rt,at,it){return Ig(),Jg(it),a.flags|=256,Yi(o,a,rt,at),a.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,a,rt){var at=a.pendingProps,it=M$1.current,ot=!1,st=(a.flags&128)!==0,ct;if((ct=st)||(ct=o!==null&&o.memoizedState===null?!1:(it&2)!==0),ct?(ot=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(it|=1),G$1(M$1,it&1),o===null)return Eg(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(st=at.children,o=at.fallback,ot?(at=a.mode,ot=a.child,st={mode:"hidden",children:st},(at&1)===0&&ot!==null?(ot.childLanes=0,ot.pendingProps=st):ot=qj(st,at,0,null),o=Ah(o,at,rt,null),ot.return=a,o.return=a,ot.sibling=o,a.child=ot,a.child.memoizedState=oj(rt),a.memoizedState=nj,o):rj(a,st));if(it=o.memoizedState,it!==null&&(ct=it.dehydrated,ct!==null))return sj(o,a,st,at,ct,it,rt);if(ot){ot=at.fallback,st=a.mode,it=o.child,ct=it.sibling;var lt={mode:"hidden",children:at.children};return(st&1)===0&&a.child!==it?(at=a.child,at.childLanes=0,at.pendingProps=lt,a.deletions=null):(at=wh(it,lt),at.subtreeFlags=it.subtreeFlags&14680064),ct!==null?ot=wh(ct,ot):(ot=Ah(ot,st,rt,null),ot.flags|=2),ot.return=a,at.return=a,at.sibling=ot,a.child=at,at=ot,ot=a.child,st=o.child.memoizedState,st=st===null?oj(rt):{baseLanes:st.baseLanes|rt,cachePool:null,transitions:st.transitions},ot.memoizedState=st,ot.childLanes=o.childLanes&~rt,a.memoizedState=nj,at}return ot=o.child,o=ot.sibling,at=wh(ot,{mode:"visible",children:at.children}),(a.mode&1)===0&&(at.lanes=rt),at.return=a,at.sibling=null,o!==null&&(rt=a.deletions,rt===null?(a.deletions=[o],a.flags|=16):rt.push(o)),a.child=at,a.memoizedState=null,at}function rj(o,a){return a=qj({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function tj(o,a,rt,at){return at!==null&&Jg(at),Bh(a,o.child,null,rt),o=rj(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function sj(o,a,rt,at,it,ot,st){if(rt)return a.flags&256?(a.flags&=-257,at=Li(Error(p$3(422))),tj(o,a,st,at)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(ot=at.fallback,it=a.mode,at=qj({mode:"visible",children:at.children},it,0,null),ot=Ah(ot,it,st,null),ot.flags|=2,at.return=a,ot.return=a,at.sibling=ot,a.child=at,(a.mode&1)!==0&&Bh(a,o.child,null,st),a.child.memoizedState=oj(st),a.memoizedState=nj,ot);if((a.mode&1)===0)return tj(o,a,st,null);if(it.data==="$!"){if(at=it.nextSibling&&it.nextSibling.dataset,at)var ct=at.dgst;return at=ct,ot=Error(p$3(419)),at=Li(ot,at,void 0),tj(o,a,st,at)}if(ct=(st&o.childLanes)!==0,Ug||ct){if(at=R$1,at!==null){switch(st&-st){case 4:it=2;break;case 16:it=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:it=32;break;case 536870912:it=268435456;break;default:it=0}it=(it&(at.suspendedLanes|st))!==0?0:it,it!==0&&it!==ot.retryLane&&(ot.retryLane=it,Zg(o,it),mh(at,o,it,-1))}return uj(),at=Li(Error(p$3(421))),tj(o,a,st,at)}return it.data==="$?"?(a.flags|=128,a.child=o.child,a=vj.bind(null,o),it._reactRetry=a,null):(o=ot.treeContext,yg=Lf(it.nextSibling),xg=a,I$1=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=a),a=rj(a,at.children),a.flags|=4096,a)}function wj(o,a,rt){o.lanes|=a;var at=o.alternate;at!==null&&(at.lanes|=a),Sg(o.return,a,rt)}function xj(o,a,rt,at,it){var ot=o.memoizedState;ot===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:at,tail:rt,tailMode:it}:(ot.isBackwards=a,ot.rendering=null,ot.renderingStartTime=0,ot.last=at,ot.tail=rt,ot.tailMode=it)}function yj(o,a,rt){var at=a.pendingProps,it=at.revealOrder,ot=at.tail;if(Yi(o,a,at.children,rt),at=M$1.current,(at&2)!==0)at=at&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,rt,a);else if(o.tag===19)wj(o,rt,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}at&=1}if(G$1(M$1,at),(a.mode&1)===0)a.memoizedState=null;else switch(it){case"forwards":for(rt=a.child,it=null;rt!==null;)o=rt.alternate,o!==null&&Mh(o)===null&&(it=rt),rt=rt.sibling;rt=it,rt===null?(it=a.child,a.child=null):(it=rt.sibling,rt.sibling=null),xj(a,!1,it,rt,ot);break;case"backwards":for(rt=null,it=a.child,a.child=null;it!==null;){if(o=it.alternate,o!==null&&Mh(o)===null){a.child=it;break}o=it.sibling,it.sibling=rt,rt=it,it=o}xj(a,!0,rt,null,ot);break;case"together":xj(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function jj(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function $i(o,a,rt){if(o!==null&&(a.dependencies=o.dependencies),hh|=a.lanes,(rt&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(p$3(153));if(a.child!==null){for(o=a.child,rt=wh(o,o.pendingProps),a.child=rt,rt.return=a;o.sibling!==null;)o=o.sibling,rt=rt.sibling=wh(o,o.pendingProps),rt.return=a;rt.sibling=null}return a.child}function zj(o,a,rt){switch(a.tag){case 3:lj(a),Ig();break;case 5:Kh$1(a);break;case 1:Zf(a.type)&&cg(a);break;case 4:Ih(a,a.stateNode.containerInfo);break;case 10:var at=a.type._context,it=a.memoizedProps.value;G$1(Mg,at._currentValue),at._currentValue=it;break;case 13:if(at=a.memoizedState,at!==null)return at.dehydrated!==null?(G$1(M$1,M$1.current&1),a.flags|=128,null):(rt&a.child.childLanes)!==0?pj(o,a,rt):(G$1(M$1,M$1.current&1),o=$i(o,a,rt),o!==null?o.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(at=(rt&a.childLanes)!==0,(o.flags&128)!==0){if(at)return yj(o,a,rt);a.flags|=128}if(it=a.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G$1(M$1,M$1.current),at)break;return null;case 22:case 23:return a.lanes=0,ej(o,a,rt)}return $i(o,a,rt)}var Aj,Bj,Cj,Dj;Aj=function(o,a){for(var rt=a.child;rt!==null;){if(rt.tag===5||rt.tag===6)o.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===a)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===a)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};Bj=function(){};Cj=function(o,a,rt,at){var it=o.memoizedProps;if(it!==at){o=a.stateNode,Hh(Eh.current);var ot=null;switch(rt){case"input":it=Ya(o,it),at=Ya(o,at),ot=[];break;case"select":it=A$2({},it,{value:void 0}),at=A$2({},at,{value:void 0}),ot=[];break;case"textarea":it=gb(o,it),at=gb(o,at),ot=[];break;default:typeof it.onClick!="function"&&typeof at.onClick=="function"&&(o.onclick=Bf)}ub(rt,at);var st;rt=null;for(ut in it)if(!at.hasOwnProperty(ut)&&it.hasOwnProperty(ut)&&it[ut]!=null)if(ut==="style"){var ct=it[ut];for(st in ct)ct.hasOwnProperty(st)&&(rt||(rt={}),rt[st]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?ot||(ot=[]):(ot=ot||[]).push(ut,null));for(ut in at){var lt=at[ut];if(ct=it!=null?it[ut]:void 0,at.hasOwnProperty(ut)&&lt!==ct&&(lt!=null||ct!=null))if(ut==="style")if(ct){for(st in ct)!ct.hasOwnProperty(st)||lt&&lt.hasOwnProperty(st)||(rt||(rt={}),rt[st]="");for(st in lt)lt.hasOwnProperty(st)&&ct[st]!==lt[st]&&(rt||(rt={}),rt[st]=lt[st])}else rt||(ot||(ot=[]),ot.push(ut,rt)),rt=lt;else ut==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,ct=ct?ct.__html:void 0,lt!=null&&ct!==lt&&(ot=ot||[]).push(ut,lt)):ut==="children"?typeof lt!="string"&&typeof lt!="number"||(ot=ot||[]).push(ut,""+lt):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(lt!=null&&ut==="onScroll"&&D$1("scroll",o),ot||ct===lt||(ot=[])):(ot=ot||[]).push(ut,lt))}rt&&(ot=ot||[]).push("style",rt);var ut=ot;(a.updateQueue=ut)&&(a.flags|=4)}};Dj=function(o,a,rt,at){rt!==at&&(a.flags|=4)};function Ej(o,a){if(!I$1)switch(o.tailMode){case"hidden":a=o.tail;for(var rt=null;a!==null;)a.alternate!==null&&(rt=a),a=a.sibling;rt===null?o.tail=null:rt.sibling=null;break;case"collapsed":rt=o.tail;for(var at=null;rt!==null;)rt.alternate!==null&&(at=rt),rt=rt.sibling;at===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:at.sibling=null}}function S(o){var a=o.alternate!==null&&o.alternate.child===o.child,rt=0,at=0;if(a)for(var it=o.child;it!==null;)rt|=it.lanes|it.childLanes,at|=it.subtreeFlags&14680064,at|=it.flags&14680064,it.return=o,it=it.sibling;else for(it=o.child;it!==null;)rt|=it.lanes|it.childLanes,at|=it.subtreeFlags,at|=it.flags,it.return=o,it=it.sibling;return o.subtreeFlags|=at,o.childLanes=rt,a}function Fj(o,a,rt){var at=a.pendingProps;switch(wg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(a),null;case 1:return Zf(a.type)&&$f(),S(a),null;case 3:return at=a.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),at.pendingContext&&(at.context=at.pendingContext,at.pendingContext=null),(o===null||o.child===null)&&(Gg(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,a),S(a),null;case 5:Lh(a);var it=Hh(Gh.current);if(rt=a.type,o!==null&&a.stateNode!=null)Cj(o,a,rt,at,it),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!at){if(a.stateNode===null)throw Error(p$3(166));return S(a),null}if(o=Hh(Eh.current),Gg(a)){at=a.stateNode,rt=a.type;var ot=a.memoizedProps;switch(at[Of]=a,at[Pf]=ot,o=(a.mode&1)!==0,rt){case"dialog":D$1("cancel",at),D$1("close",at);break;case"iframe":case"object":case"embed":D$1("load",at);break;case"video":case"audio":for(it=0;it<lf.length;it++)D$1(lf[it],at);break;case"source":D$1("error",at);break;case"img":case"image":case"link":D$1("error",at),D$1("load",at);break;case"details":D$1("toggle",at);break;case"input":Za(at,ot),D$1("invalid",at);break;case"select":at._wrapperState={wasMultiple:!!ot.multiple},D$1("invalid",at);break;case"textarea":hb(at,ot),D$1("invalid",at)}ub(rt,ot),it=null;for(var st in ot)if(ot.hasOwnProperty(st)){var ct=ot[st];st==="children"?typeof ct=="string"?at.textContent!==ct&&(ot.suppressHydrationWarning!==!0&&Af(at.textContent,ct,o),it=["children",ct]):typeof ct=="number"&&at.textContent!==""+ct&&(ot.suppressHydrationWarning!==!0&&Af(at.textContent,ct,o),it=["children",""+ct]):ea.hasOwnProperty(st)&&ct!=null&&st==="onScroll"&&D$1("scroll",at)}switch(rt){case"input":Va(at),db(at,ot,!0);break;case"textarea":Va(at),jb(at);break;case"select":case"option":break;default:typeof ot.onClick=="function"&&(at.onclick=Bf)}at=it,a.updateQueue=at,at!==null&&(a.flags|=4)}else{st=it.nodeType===9?it:it.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(rt)),o==="http://www.w3.org/1999/xhtml"?rt==="script"?(o=st.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof at.is=="string"?o=st.createElement(rt,{is:at.is}):(o=st.createElement(rt),rt==="select"&&(st=o,at.multiple?st.multiple=!0:at.size&&(st.size=at.size))):o=st.createElementNS(o,rt),o[Of]=a,o[Pf]=at,Aj(o,a,!1,!1),a.stateNode=o;e:{switch(st=vb(rt,at),rt){case"dialog":D$1("cancel",o),D$1("close",o),it=at;break;case"iframe":case"object":case"embed":D$1("load",o),it=at;break;case"video":case"audio":for(it=0;it<lf.length;it++)D$1(lf[it],o);it=at;break;case"source":D$1("error",o),it=at;break;case"img":case"image":case"link":D$1("error",o),D$1("load",o),it=at;break;case"details":D$1("toggle",o),it=at;break;case"input":Za(o,at),it=Ya(o,at),D$1("invalid",o);break;case"option":it=at;break;case"select":o._wrapperState={wasMultiple:!!at.multiple},it=A$2({},at,{value:void 0}),D$1("invalid",o);break;case"textarea":hb(o,at),it=gb(o,at),D$1("invalid",o);break;default:it=at}ub(rt,it),ct=it;for(ot in ct)if(ct.hasOwnProperty(ot)){var lt=ct[ot];ot==="style"?sb(o,lt):ot==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(o,lt)):ot==="children"?typeof lt=="string"?(rt!=="textarea"||lt!=="")&&ob(o,lt):typeof lt=="number"&&ob(o,""+lt):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?lt!=null&&ot==="onScroll"&&D$1("scroll",o):lt!=null&&ta(o,ot,lt,st))}switch(rt){case"input":Va(o),db(o,at,!1);break;case"textarea":Va(o),jb(o);break;case"option":at.value!=null&&o.setAttribute("value",""+Sa(at.value));break;case"select":o.multiple=!!at.multiple,ot=at.value,ot!=null?fb(o,!!at.multiple,ot,!1):at.defaultValue!=null&&fb(o,!!at.multiple,at.defaultValue,!0);break;default:typeof it.onClick=="function"&&(o.onclick=Bf)}switch(rt){case"button":case"input":case"select":case"textarea":at=!!at.autoFocus;break e;case"img":at=!0;break e;default:at=!1}}at&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return S(a),null;case 6:if(o&&a.stateNode!=null)Dj(o,a,o.memoizedProps,at);else{if(typeof at!="string"&&a.stateNode===null)throw Error(p$3(166));if(rt=Hh(Gh.current),Hh(Eh.current),Gg(a)){if(at=a.stateNode,rt=a.memoizedProps,at[Of]=a,(ot=at.nodeValue!==rt)&&(o=xg,o!==null))switch(o.tag){case 3:Af(at.nodeValue,rt,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(at.nodeValue,rt,(o.mode&1)!==0)}ot&&(a.flags|=4)}else at=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(at),at[Of]=a,a.stateNode=at}return S(a),null;case 13:if(E$1(M$1),at=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Hg(),Ig(),a.flags|=98560,ot=!1;else if(ot=Gg(a),at!==null&&at.dehydrated!==null){if(o===null){if(!ot)throw Error(p$3(318));if(ot=a.memoizedState,ot=ot!==null?ot.dehydrated:null,!ot)throw Error(p$3(317));ot[Of]=a}else Ig(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;S(a),ot=!1}else zg!==null&&(Gj(zg),zg=null),ot=!0;if(!ot)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=rt,a):(at=at!==null,at!==(o!==null&&o.memoizedState!==null)&&at&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(M$1.current&1)!==0?T$1===0&&(T$1=3):uj())),a.updateQueue!==null&&(a.flags|=4),S(a),null);case 4:return Jh(),Bj(o,a),o===null&&sf(a.stateNode.containerInfo),S(a),null;case 10:return Rg(a.type._context),S(a),null;case 17:return Zf(a.type)&&$f(),S(a),null;case 19:if(E$1(M$1),ot=a.memoizedState,ot===null)return S(a),null;if(at=(a.flags&128)!==0,st=ot.rendering,st===null)if(at)Ej(ot,!1);else{if(T$1!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(st=Mh(o),st!==null){for(a.flags|=128,Ej(ot,!1),at=st.updateQueue,at!==null&&(a.updateQueue=at,a.flags|=4),a.subtreeFlags=0,at=rt,rt=a.child;rt!==null;)ot=rt,o=at,ot.flags&=14680066,st=ot.alternate,st===null?(ot.childLanes=0,ot.lanes=o,ot.child=null,ot.subtreeFlags=0,ot.memoizedProps=null,ot.memoizedState=null,ot.updateQueue=null,ot.dependencies=null,ot.stateNode=null):(ot.childLanes=st.childLanes,ot.lanes=st.lanes,ot.child=st.child,ot.subtreeFlags=0,ot.deletions=null,ot.memoizedProps=st.memoizedProps,ot.memoizedState=st.memoizedState,ot.updateQueue=st.updateQueue,ot.type=st.type,o=st.dependencies,ot.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),rt=rt.sibling;return G$1(M$1,M$1.current&1|2),a.child}o=o.sibling}ot.tail!==null&&B$1()>Hj&&(a.flags|=128,at=!0,Ej(ot,!1),a.lanes=4194304)}else{if(!at)if(o=Mh(st),o!==null){if(a.flags|=128,at=!0,rt=o.updateQueue,rt!==null&&(a.updateQueue=rt,a.flags|=4),Ej(ot,!0),ot.tail===null&&ot.tailMode==="hidden"&&!st.alternate&&!I$1)return S(a),null}else 2*B$1()-ot.renderingStartTime>Hj&&rt!==1073741824&&(a.flags|=128,at=!0,Ej(ot,!1),a.lanes=4194304);ot.isBackwards?(st.sibling=a.child,a.child=st):(rt=ot.last,rt!==null?rt.sibling=st:a.child=st,ot.last=st)}return ot.tail!==null?(a=ot.tail,ot.rendering=a,ot.tail=a.sibling,ot.renderingStartTime=B$1(),a.sibling=null,rt=M$1.current,G$1(M$1,at?rt&1|2:rt&1),a):(S(a),null);case 22:case 23:return Ij(),at=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==at&&(a.flags|=8192),at&&(a.mode&1)!==0?(gj&1073741824)!==0&&(S(a),a.subtreeFlags&6&&(a.flags|=8192)):S(a),null;case 24:return null;case 25:return null}throw Error(p$3(156,a.tag))}function Jj(o,a){switch(wg(a),a.tag){case 1:return Zf(a.type)&&$f(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Lh(a),null;case 13:if(E$1(M$1),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(p$3(340));Ig()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(a.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(o,a){var rt=o.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(at){W$1(o,a,at)}else rt.current=null}function Nj(o,a,rt){try{rt()}catch(at){W$1(o,a,at)}}var Oj=!1;function Pj(o,a){if(Cf=dd,o=Me$1(),Ne$1(o)){if("selectionStart"in o)var rt={start:o.selectionStart,end:o.selectionEnd};else e:{rt=(rt=o.ownerDocument)&&rt.defaultView||window;var at=rt.getSelection&&rt.getSelection();if(at&&at.rangeCount!==0){rt=at.anchorNode;var it=at.anchorOffset,ot=at.focusNode;at=at.focusOffset;try{rt.nodeType,ot.nodeType}catch{rt=null;break e}var st=0,ct=-1,lt=-1,ut=0,dt=0,ft=o,pt=null;t:for(;;){for(var ht;ft!==rt||it!==0&&ft.nodeType!==3||(ct=st+it),ft!==ot||at!==0&&ft.nodeType!==3||(lt=st+at),ft.nodeType===3&&(st+=ft.nodeValue.length),(ht=ft.firstChild)!==null;)pt=ft,ft=ht;for(;;){if(ft===o)break t;if(pt===rt&&++ut===it&&(ct=st),pt===ot&&++dt===at&&(lt=st),(ht=ft.nextSibling)!==null)break;ft=pt,pt=ft.parentNode}ft=ht}rt=ct===-1||lt===-1?null:{start:ct,end:lt}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Df={focusedElem:o,selectionRange:rt},dd=!1,V$1=a;V$1!==null;)if(a=V$1,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,V$1=o;else for(;V$1!==null;){a=V$1;try{var yt=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var mt=yt.memoizedProps,gt=yt.memoizedState,bt=a.stateNode,vt=bt.getSnapshotBeforeUpdate(a.elementType===a.type?mt:Lg(a.type,mt),gt);bt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var wt=a.stateNode.containerInfo;wt.nodeType===1?wt.textContent="":wt.nodeType===9&&wt.documentElement&&wt.removeChild(wt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(Tt){W$1(a,a.return,Tt)}if(o=a.sibling,o!==null){o.return=a.return,V$1=o;break}V$1=a.return}return yt=Oj,Oj=!1,yt}function Qj(o,a,rt){var at=a.updateQueue;if(at=at!==null?at.lastEffect:null,at!==null){var it=at=at.next;do{if((it.tag&o)===o){var ot=it.destroy;it.destroy=void 0,ot!==void 0&&Nj(a,rt,ot)}it=it.next}while(it!==at)}}function Rj(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var rt=a=a.next;do{if((rt.tag&o)===o){var at=rt.create;rt.destroy=at()}rt=rt.next}while(rt!==a)}}function Sj(o){var a=o.ref;if(a!==null){var rt=o.stateNode;switch(o.tag){case 5:o=rt;break;default:o=rt}typeof a=="function"?a(o):a.current=o}}function Tj(o){var a=o.alternate;a!==null&&(o.alternate=null,Tj(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Of],delete a[Pf],delete a[of],delete a[Qf],delete a[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,a,rt){var at=o.tag;if(at===5||at===6)o=o.stateNode,a?rt.nodeType===8?rt.parentNode.insertBefore(o,a):rt.insertBefore(o,a):(rt.nodeType===8?(a=rt.parentNode,a.insertBefore(o,rt)):(a=rt,a.appendChild(o)),rt=rt._reactRootContainer,rt!=null||a.onclick!==null||(a.onclick=Bf));else if(at!==4&&(o=o.child,o!==null))for(Wj(o,a,rt),o=o.sibling;o!==null;)Wj(o,a,rt),o=o.sibling}function Xj(o,a,rt){var at=o.tag;if(at===5||at===6)o=o.stateNode,a?rt.insertBefore(o,a):rt.appendChild(o);else if(at!==4&&(o=o.child,o!==null))for(Xj(o,a,rt),o=o.sibling;o!==null;)Xj(o,a,rt),o=o.sibling}var X$1=null,Yj=!1;function Zj(o,a,rt){for(rt=rt.child;rt!==null;)ak(o,a,rt),rt=rt.sibling}function ak(o,a,rt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rt)}catch{}switch(rt.tag){case 5:U$1||Mj(rt,a);case 6:var at=X$1,it=Yj;X$1=null,Zj(o,a,rt),X$1=at,Yj=it,X$1!==null&&(Yj?(o=X$1,rt=rt.stateNode,o.nodeType===8?o.parentNode.removeChild(rt):o.removeChild(rt)):X$1.removeChild(rt.stateNode));break;case 18:X$1!==null&&(Yj?(o=X$1,rt=rt.stateNode,o.nodeType===8?Kf(o.parentNode,rt):o.nodeType===1&&Kf(o,rt),bd(o)):Kf(X$1,rt.stateNode));break;case 4:at=X$1,it=Yj,X$1=rt.stateNode.containerInfo,Yj=!0,Zj(o,a,rt),X$1=at,Yj=it;break;case 0:case 11:case 14:case 15:if(!U$1&&(at=rt.updateQueue,at!==null&&(at=at.lastEffect,at!==null))){it=at=at.next;do{var ot=it,st=ot.destroy;ot=ot.tag,st!==void 0&&((ot&2)!==0||(ot&4)!==0)&&Nj(rt,a,st),it=it.next}while(it!==at)}Zj(o,a,rt);break;case 1:if(!U$1&&(Mj(rt,a),at=rt.stateNode,typeof at.componentWillUnmount=="function"))try{at.props=rt.memoizedProps,at.state=rt.memoizedState,at.componentWillUnmount()}catch(ct){W$1(rt,a,ct)}Zj(o,a,rt);break;case 21:Zj(o,a,rt);break;case 22:rt.mode&1?(U$1=(at=U$1)||rt.memoizedState!==null,Zj(o,a,rt),U$1=at):Zj(o,a,rt);break;default:Zj(o,a,rt)}}function bk(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var rt=o.stateNode;rt===null&&(rt=o.stateNode=new Lj),a.forEach(function(at){var it=ck.bind(null,o,at);rt.has(at)||(rt.add(at),at.then(it,it))})}}function dk(o,a){var rt=a.deletions;if(rt!==null)for(var at=0;at<rt.length;at++){var it=rt[at];try{var ot=o,st=a,ct=st;e:for(;ct!==null;){switch(ct.tag){case 5:X$1=ct.stateNode,Yj=!1;break e;case 3:X$1=ct.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ct.stateNode.containerInfo,Yj=!0;break e}ct=ct.return}if(X$1===null)throw Error(p$3(160));ak(ot,st,it),X$1=null,Yj=!1;var lt=it.alternate;lt!==null&&(lt.return=null),it.return=null}catch(ut){W$1(it,a,ut)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)ek(a,o),a=a.sibling}function ek(o,a){var rt=o.alternate,at=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(a,o),fk(o),at&4){try{Qj(3,o,o.return),Rj(3,o)}catch(mt){W$1(o,o.return,mt)}try{Qj(5,o,o.return)}catch(mt){W$1(o,o.return,mt)}}break;case 1:dk(a,o),fk(o),at&512&&rt!==null&&Mj(rt,rt.return);break;case 5:if(dk(a,o),fk(o),at&512&&rt!==null&&Mj(rt,rt.return),o.flags&32){var it=o.stateNode;try{ob(it,"")}catch(mt){W$1(o,o.return,mt)}}if(at&4&&(it=o.stateNode,it!=null)){var ot=o.memoizedProps,st=rt!==null?rt.memoizedProps:ot,ct=o.type,lt=o.updateQueue;if(o.updateQueue=null,lt!==null)try{ct==="input"&&ot.type==="radio"&&ot.name!=null&&ab(it,ot),vb(ct,st);var ut=vb(ct,ot);for(st=0;st<lt.length;st+=2){var dt=lt[st],ft=lt[st+1];dt==="style"?sb(it,ft):dt==="dangerouslySetInnerHTML"?nb(it,ft):dt==="children"?ob(it,ft):ta(it,dt,ft,ut)}switch(ct){case"input":bb(it,ot);break;case"textarea":ib(it,ot);break;case"select":var pt=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!ot.multiple;var ht=ot.value;ht!=null?fb(it,!!ot.multiple,ht,!1):pt!==!!ot.multiple&&(ot.defaultValue!=null?fb(it,!!ot.multiple,ot.defaultValue,!0):fb(it,!!ot.multiple,ot.multiple?[]:"",!1))}it[Pf]=ot}catch(mt){W$1(o,o.return,mt)}}break;case 6:if(dk(a,o),fk(o),at&4){if(o.stateNode===null)throw Error(p$3(162));it=o.stateNode,ot=o.memoizedProps;try{it.nodeValue=ot}catch(mt){W$1(o,o.return,mt)}}break;case 3:if(dk(a,o),fk(o),at&4&&rt!==null&&rt.memoizedState.isDehydrated)try{bd(a.containerInfo)}catch(mt){W$1(o,o.return,mt)}break;case 4:dk(a,o),fk(o);break;case 13:dk(a,o),fk(o),it=o.child,it.flags&8192&&(ot=it.memoizedState!==null,it.stateNode.isHidden=ot,!ot||it.alternate!==null&&it.alternate.memoizedState!==null||(gk=B$1())),at&4&&bk(o);break;case 22:if(dt=rt!==null&&rt.memoizedState!==null,o.mode&1?(U$1=(ut=U$1)||dt,dk(a,o),U$1=ut):dk(a,o),fk(o),at&8192){if(ut=o.memoizedState!==null,(o.stateNode.isHidden=ut)&&!dt&&(o.mode&1)!==0)for(V$1=o,dt=o.child;dt!==null;){for(ft=V$1=dt;V$1!==null;){switch(pt=V$1,ht=pt.child,pt.tag){case 0:case 11:case 14:case 15:Qj(4,pt,pt.return);break;case 1:Mj(pt,pt.return);var yt=pt.stateNode;if(typeof yt.componentWillUnmount=="function"){at=pt,rt=pt.return;try{a=at,yt.props=a.memoizedProps,yt.state=a.memoizedState,yt.componentWillUnmount()}catch(mt){W$1(at,rt,mt)}}break;case 5:Mj(pt,pt.return);break;case 22:if(pt.memoizedState!==null){hk(ft);continue}}ht!==null?(ht.return=pt,V$1=ht):hk(ft)}dt=dt.sibling}e:for(dt=null,ft=o;;){if(ft.tag===5){if(dt===null){dt=ft;try{it=ft.stateNode,ut?(ot=it.style,typeof ot.setProperty=="function"?ot.setProperty("display","none","important"):ot.display="none"):(ct=ft.stateNode,lt=ft.memoizedProps.style,st=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,ct.style.display=rb("display",st))}catch(mt){W$1(o,o.return,mt)}}}else if(ft.tag===6){if(dt===null)try{ft.stateNode.nodeValue=ut?"":ft.memoizedProps}catch(mt){W$1(o,o.return,mt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===o)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===o)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===o)break e;dt===ft&&(dt=null),ft=ft.return}dt===ft&&(dt=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:dk(a,o),fk(o),at&4&&bk(o);break;case 21:break;default:dk(a,o),fk(o)}}function fk(o){var a=o.flags;if(a&2){try{e:{for(var rt=o.return;rt!==null;){if(Uj(rt)){var at=rt;break e}rt=rt.return}throw Error(p$3(160))}switch(at.tag){case 5:var it=at.stateNode;at.flags&32&&(ob(it,""),at.flags&=-33);var ot=Vj(o);Xj(o,ot,it);break;case 3:case 4:var st=at.stateNode.containerInfo,ct=Vj(o);Wj(o,ct,st);break;default:throw Error(p$3(161))}}catch(lt){W$1(o,o.return,lt)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function ik(o,a,rt){V$1=o,jk(o)}function jk(o,a,rt){for(var at=(o.mode&1)!==0;V$1!==null;){var it=V$1,ot=it.child;if(it.tag===22&&at){var st=it.memoizedState!==null||Kj;if(!st){var ct=it.alternate,lt=ct!==null&&ct.memoizedState!==null||U$1;ct=Kj;var ut=U$1;if(Kj=st,(U$1=lt)&&!ut)for(V$1=it;V$1!==null;)st=V$1,lt=st.child,st.tag===22&&st.memoizedState!==null?kk(it):lt!==null?(lt.return=st,V$1=lt):kk(it);for(;ot!==null;)V$1=ot,jk(ot),ot=ot.sibling;V$1=it,Kj=ct,U$1=ut}lk(o)}else(it.subtreeFlags&8772)!==0&&ot!==null?(ot.return=it,V$1=ot):lk(o)}}function lk(o){for(;V$1!==null;){var a=V$1;if((a.flags&8772)!==0){var rt=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:U$1||Rj(5,a);break;case 1:var at=a.stateNode;if(a.flags&4&&!U$1)if(rt===null)at.componentDidMount();else{var it=a.elementType===a.type?rt.memoizedProps:Lg(a.type,rt.memoizedProps);at.componentDidUpdate(it,rt.memoizedState,at.__reactInternalSnapshotBeforeUpdate)}var ot=a.updateQueue;ot!==null&&ih(a,ot,at);break;case 3:var st=a.updateQueue;if(st!==null){if(rt=null,a.child!==null)switch(a.child.tag){case 5:rt=a.child.stateNode;break;case 1:rt=a.child.stateNode}ih(a,st,rt)}break;case 5:var ct=a.stateNode;if(rt===null&&a.flags&4){rt=ct;var lt=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&rt.focus();break;case"img":lt.src&&(rt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ut=a.alternate;if(ut!==null){var dt=ut.memoizedState;if(dt!==null){var ft=dt.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$1||a.flags&512&&Sj(a)}catch(pt){W$1(a,a.return,pt)}}if(a===o){V$1=null;break}if(rt=a.sibling,rt!==null){rt.return=a.return,V$1=rt;break}V$1=a.return}}function hk(o){for(;V$1!==null;){var a=V$1;if(a===o){V$1=null;break}var rt=a.sibling;if(rt!==null){rt.return=a.return,V$1=rt;break}V$1=a.return}}function kk(o){for(;V$1!==null;){var a=V$1;try{switch(a.tag){case 0:case 11:case 15:var rt=a.return;try{Rj(4,a)}catch(lt){W$1(a,rt,lt)}break;case 1:var at=a.stateNode;if(typeof at.componentDidMount=="function"){var it=a.return;try{at.componentDidMount()}catch(lt){W$1(a,it,lt)}}var ot=a.return;try{Sj(a)}catch(lt){W$1(a,ot,lt)}break;case 5:var st=a.return;try{Sj(a)}catch(lt){W$1(a,st,lt)}}}catch(lt){W$1(a,a.return,lt)}if(a===o){V$1=null;break}var ct=a.sibling;if(ct!==null){ct.return=a.return,V$1=ct;break}V$1=a.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$2=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K$2&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(o){return(o.mode&1)===0?1:(K$2&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C$1,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o)}function mh(o,a,rt,at){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac(o,rt,at),((K$2&2)===0||o!==R$1)&&(o===R$1&&((K$2&2)===0&&(rk|=rt),T$1===4&&Dk(o,Z$1)),Ek(o,at),rt===1&&K$2===0&&(a.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek(o,a){var rt=o.callbackNode;wc(o,a);var at=uc(o,o===R$1?Z$1:0);if(at===0)rt!==null&&bc(rt),o.callbackNode=null,o.callbackPriority=0;else if(a=at&-at,o.callbackPriority!==a){if(rt!=null&&bc(rt),a===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){(K$2&6)===0&&jg()}),rt=null;else{switch(Dc(at)){case 1:rt=fc;break;case 4:rt=gc;break;case 16:rt=hc;break;case 536870912:rt=jc;break;default:rt=hc}rt=Gk(rt,Hk.bind(null,o))}o.callbackPriority=a,o.callbackNode=rt}}function Hk(o,a){if(Bk=-1,Ck=0,(K$2&6)!==0)throw Error(p$3(327));var rt=o.callbackNode;if(Ik()&&o.callbackNode!==rt)return null;var at=uc(o,o===R$1?Z$1:0);if(at===0)return null;if((at&30)!==0||(at&o.expiredLanes)!==0||a)a=Jk(o,at);else{a=at;var it=K$2;K$2|=2;var ot=Kk();(R$1!==o||Z$1!==a)&&(vk=null,Hj=B$1()+500,Lk(o,a));do try{Mk();break}catch(ct){Nk(o,ct)}while(1);Qg(),nk.current=ot,K$2=it,Y$1!==null?a=0:(R$1=null,Z$1=0,a=T$1)}if(a!==0){if(a===2&&(it=xc(o),it!==0&&(at=it,a=Ok(o,it))),a===1)throw rt=qk,Lk(o,0),Dk(o,at),Ek(o,B$1()),rt;if(a===6)Dk(o,at);else{if(it=o.current.alternate,(at&30)===0&&!Pk(it)&&(a=Jk(o,at),a===2&&(ot=xc(o),ot!==0&&(at=ot,a=Ok(o,ot))),a===1))throw rt=qk,Lk(o,0),Dk(o,at),Ek(o,B$1()),rt;switch(o.finishedWork=it,o.finishedLanes=at,a){case 0:case 1:throw Error(p$3(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,at),(at&130023424)===at&&(a=gk+500-B$1(),10<a)){if(uc(o,0)!==0)break;if(it=o.suspendedLanes,(it&at)!==at){L$1(),o.pingedLanes|=o.suspendedLanes&it;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),a);break}Qk(o,uk,vk);break;case 4:if(Dk(o,at),(at&4194240)===at)break;for(a=o.eventTimes,it=-1;0<at;){var st=31-oc(at);ot=1<<st,st=a[st],st>it&&(it=st),at&=~ot}if(at=it,at=B$1()-at,at=(120>at?120:480>at?480:1080>at?1080:1920>at?1920:3e3>at?3e3:4320>at?4320:1960*mk(at/1960))-at,10<at){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),at);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(o,B$1()),o.callbackNode===rt?Hk.bind(null,o):null}function Ok(o,a){var rt=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,a).flags|=256),o=Jk(o,a),o!==2&&(a=uk,uk=rt,a!==null&&Gj(a)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var a=o;;){if(a.flags&16384){var rt=a.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var at=0;at<rt.length;at++){var it=rt[at],ot=it.getSnapshot;it=it.value;try{if(!He$1(ot(),it))return!1}catch{return!1}}}if(rt=a.child,a.subtreeFlags&16384&&rt!==null)rt.return=a,a=rt;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Dk(o,a){for(a&=~sk,a&=~rk,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var rt=31-oc(a),at=1<<rt;o[rt]=-1,a&=~at}}function Fk(o){if((K$2&6)!==0)throw Error(p$3(327));Ik();var a=uc(o,0);if((a&1)===0)return Ek(o,B$1()),null;var rt=Jk(o,a);if(o.tag!==0&&rt===2){var at=xc(o);at!==0&&(a=at,rt=Ok(o,at))}if(rt===1)throw rt=qk,Lk(o,0),Dk(o,a),Ek(o,B$1()),rt;if(rt===6)throw Error(p$3(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Qk(o,uk,vk),Ek(o,B$1()),null}function Rk(o,a){var rt=K$2;K$2|=1;try{return o(a)}finally{K$2=rt,K$2===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&(K$2&6)===0&&Ik();var a=K$2;K$2|=1;var rt=pk.transition,at=C$1;try{if(pk.transition=null,C$1=1,o)return o()}finally{C$1=at,pk.transition=rt,K$2=a,(K$2&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(o,a){o.finishedWork=null,o.finishedLanes=0;var rt=o.timeoutHandle;if(rt!==-1&&(o.timeoutHandle=-1,Gf(rt)),Y$1!==null)for(rt=Y$1.return;rt!==null;){var at=rt;switch(wg(at),at.tag){case 1:at=at.type.childContextTypes,at!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(at);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(at.type._context);break;case 22:case 23:Ij()}rt=rt.return}if(R$1=o,Y$1=o=wh(o.current,null),Z$1=gj=a,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(a=0;a<Wg.length;a++)if(rt=Wg[a],at=rt.interleaved,at!==null){rt.interleaved=null;var it=at.next,ot=rt.pending;if(ot!==null){var st=ot.next;ot.next=it,at.next=st}rt.pending=at}Wg=null}return o}function Nk(o,a){do{var rt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var at=N$2.memoizedState;at!==null;){var it=at.queue;it!==null&&(it.pending=null),at=at.next}Sh=!1}if(Rh=0,P$1=O$1=N$2=null,Th=!1,Uh=0,ok.current=null,rt===null||rt.return===null){T$1=1,qk=a,Y$1=null;break}e:{var ot=o,st=rt.return,ct=rt,lt=a;if(a=Z$1,ct.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ut=lt,dt=ct,ft=dt.tag;if((dt.mode&1)===0&&(ft===0||ft===11||ft===15)){var pt=dt.alternate;pt?(dt.updateQueue=pt.updateQueue,dt.memoizedState=pt.memoizedState,dt.lanes=pt.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var ht=Vi(st);if(ht!==null){ht.flags&=-257,Wi(ht,st,ct,ot,a),ht.mode&1&&Ti(ot,ut,a),a=ht,lt=ut;var yt=a.updateQueue;if(yt===null){var mt=new Set;mt.add(lt),a.updateQueue=mt}else yt.add(lt);break e}else{if((a&1)===0){Ti(ot,ut,a),uj();break e}lt=Error(p$3(426))}}else if(I$1&&ct.mode&1){var gt=Vi(st);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Wi(gt,st,ct,ot,a),Jg(Ki(lt,ct));break e}}ot=lt=Ki(lt,ct),T$1!==4&&(T$1=2),tk===null?tk=[ot]:tk.push(ot),ot=st;do{switch(ot.tag){case 3:ot.flags|=65536,a&=-a,ot.lanes|=a;var bt=Oi(ot,lt,a);fh(ot,bt);break e;case 1:ct=lt;var vt=ot.type,wt=ot.stateNode;if((ot.flags&128)===0&&(typeof vt.getDerivedStateFromError=="function"||wt!==null&&typeof wt.componentDidCatch=="function"&&(Si===null||!Si.has(wt)))){ot.flags|=65536,a&=-a,ot.lanes|=a;var Tt=Ri(ot,ct,a);fh(ot,Tt);break e}}ot=ot.return}while(ot!==null)}Tk(rt)}catch(_t){a=_t,Y$1===rt&&rt!==null&&(Y$1=rt=rt.return);continue}break}while(1)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$1)}function Jk(o,a){var rt=K$2;K$2|=2;var at=Kk();(R$1!==o||Z$1!==a)&&(vk=null,Lk(o,a));do try{Uk();break}catch(it){Nk(o,it)}while(1);if(Qg(),K$2=rt,nk.current=at,Y$1!==null)throw Error(p$3(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(o){var a=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,a===null?Tk(o):Y$1=a,ok.current=null}function Tk(o){var a=o;do{var rt=a.alternate;if(o=a.return,(a.flags&32768)===0){if(rt=Fj(rt,a,gj),rt!==null){Y$1=rt;return}}else{if(rt=Jj(rt,a),rt!==null){rt.flags&=32767,Y$1=rt;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T$1=6,Y$1=null;return}}if(a=a.sibling,a!==null){Y$1=a;return}Y$1=a=o}while(a!==null);T$1===0&&(T$1=5)}function Qk(o,a,rt){var at=C$1,it=pk.transition;try{pk.transition=null,C$1=1,Xk(o,a,rt,at)}finally{pk.transition=it,C$1=at}return null}function Xk(o,a,rt,at){do Ik();while(xk!==null);if((K$2&6)!==0)throw Error(p$3(327));rt=o.finishedWork;var it=o.finishedLanes;if(rt===null)return null;if(o.finishedWork=null,o.finishedLanes=0,rt===o.current)throw Error(p$3(177));o.callbackNode=null,o.callbackPriority=0;var ot=rt.lanes|rt.childLanes;if(Bc(o,ot),o===R$1&&(Y$1=R$1=null,Z$1=0),(rt.subtreeFlags&2064)===0&&(rt.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),ot=(rt.flags&15990)!==0,(rt.subtreeFlags&15990)!==0||ot){ot=pk.transition,pk.transition=null;var st=C$1;C$1=1;var ct=K$2;K$2|=4,ok.current=null,Pj(o,rt),ek(rt,o),Oe$1(Df),dd=!!Cf,Df=Cf=null,o.current=rt,ik(rt),dc(),K$2=ct,C$1=st,pk.transition=ot}else o.current=rt;if(wk&&(wk=!1,xk=o,yk=it),ot=o.pendingLanes,ot===0&&(Si=null),mc(rt.stateNode),Ek(o,B$1()),a!==null)for(at=o.onRecoverableError,rt=0;rt<a.length;rt++)it=a[rt],at(it.value,{componentStack:it.stack,digest:it.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return(yk&1)!==0&&o.tag!==0&&Ik(),ot=o.pendingLanes,(ot&1)!==0?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),a=pk.transition,rt=C$1;try{if(pk.transition=null,C$1=16>o?16:o,xk===null)var at=!1;else{if(o=xk,xk=null,yk=0,(K$2&6)!==0)throw Error(p$3(331));var it=K$2;for(K$2|=4,V$1=o.current;V$1!==null;){var ot=V$1,st=ot.child;if((V$1.flags&16)!==0){var ct=ot.deletions;if(ct!==null){for(var lt=0;lt<ct.length;lt++){var ut=ct[lt];for(V$1=ut;V$1!==null;){var dt=V$1;switch(dt.tag){case 0:case 11:case 15:Qj(8,dt,ot)}var ft=dt.child;if(ft!==null)ft.return=dt,V$1=ft;else for(;V$1!==null;){dt=V$1;var pt=dt.sibling,ht=dt.return;if(Tj(dt),dt===ut){V$1=null;break}if(pt!==null){pt.return=ht,V$1=pt;break}V$1=ht}}}var yt=ot.alternate;if(yt!==null){var mt=yt.child;if(mt!==null){yt.child=null;do{var gt=mt.sibling;mt.sibling=null,mt=gt}while(mt!==null)}}V$1=ot}}if((ot.subtreeFlags&2064)!==0&&st!==null)st.return=ot,V$1=st;else e:for(;V$1!==null;){if(ot=V$1,(ot.flags&2048)!==0)switch(ot.tag){case 0:case 11:case 15:Qj(9,ot,ot.return)}var bt=ot.sibling;if(bt!==null){bt.return=ot.return,V$1=bt;break e}V$1=ot.return}}var vt=o.current;for(V$1=vt;V$1!==null;){st=V$1;var wt=st.child;if((st.subtreeFlags&2064)!==0&&wt!==null)wt.return=st,V$1=wt;else e:for(st=vt;V$1!==null;){if(ct=V$1,(ct.flags&2048)!==0)try{switch(ct.tag){case 0:case 11:case 15:Rj(9,ct)}}catch(_t){W$1(ct,ct.return,_t)}if(ct===st){V$1=null;break e}var Tt=ct.sibling;if(Tt!==null){Tt.return=ct.return,V$1=Tt;break e}V$1=ct.return}}if(K$2=it,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}at=!0}return at}finally{C$1=rt,pk.transition=a}}return!1}function Yk(o,a,rt){a=Ki(rt,a),a=Oi(o,a,1),o=dh(o,a,1),a=L$1(),o!==null&&(Ac(o,1,a),Ek(o,a))}function W$1(o,a,rt){if(o.tag===3)Yk(o,o,rt);else for(;a!==null;){if(a.tag===3){Yk(a,o,rt);break}else if(a.tag===1){var at=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof at.componentDidCatch=="function"&&(Si===null||!Si.has(at))){o=Ki(rt,o),o=Ri(a,o,1),a=dh(a,o,1),o=L$1(),a!==null&&(Ac(a,1,o),Ek(a,o));break}}a=a.return}}function Ui(o,a,rt){var at=o.pingCache;at!==null&&at.delete(a),a=L$1(),o.pingedLanes|=o.suspendedLanes&rt,R$1===o&&(Z$1&rt)===rt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(o,0):sk|=rt),Ek(o,a)}function Zk(o,a){a===0&&((o.mode&1)===0?a=1:(a=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var rt=L$1();o=Zg(o,a),o!==null&&(Ac(o,a,rt),Ek(o,rt))}function vj(o){var a=o.memoizedState,rt=0;a!==null&&(rt=a.retryLane),Zk(o,rt)}function ck(o,a){var rt=0;switch(o.tag){case 13:var at=o.stateNode,it=o.memoizedState;it!==null&&(rt=it.retryLane);break;case 19:at=o.stateNode;break;default:throw Error(p$3(314))}at!==null&&at.delete(a),Zk(o,rt)}var Wk;Wk=function(o,a,rt){if(o!==null)if(o.memoizedProps!==a.pendingProps||Wf.current)Ug=!0;else{if((o.lanes&rt)===0&&(a.flags&128)===0)return Ug=!1,zj(o,a,rt);Ug=(o.flags&131072)!==0}else Ug=!1,I$1&&(a.flags&1048576)!==0&&ug(a,ng,a.index);switch(a.lanes=0,a.tag){case 2:var at=a.type;jj(o,a),o=a.pendingProps;var it=Yf(a,H$1.current);Tg(a,rt),it=Xh(null,a,at,o,it,rt);var ot=bi();return a.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zf(at)?(ot=!0,cg(a)):ot=!1,a.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,ah(a),it.updater=nh,a.stateNode=it,it._reactInternals=a,rh$1(a,at,o,rt),a=kj(null,a,at,!0,ot,rt)):(a.tag=0,I$1&&ot&&vg(a),Yi(null,a,it,rt),a=a.child),a;case 16:at=a.elementType;e:{switch(jj(o,a),o=a.pendingProps,it=at._init,at=it(at._payload),a.type=at,it=a.tag=$k(at),o=Lg(at,o),it){case 0:a=dj(null,a,at,o,rt);break e;case 1:a=ij(null,a,at,o,rt);break e;case 11:a=Zi(null,a,at,o,rt);break e;case 14:a=aj(null,a,at,Lg(at.type,o),rt);break e}throw Error(p$3(306,at,""))}return a;case 0:return at=a.type,it=a.pendingProps,it=a.elementType===at?it:Lg(at,it),dj(o,a,at,it,rt);case 1:return at=a.type,it=a.pendingProps,it=a.elementType===at?it:Lg(at,it),ij(o,a,at,it,rt);case 3:e:{if(lj(a),o===null)throw Error(p$3(387));at=a.pendingProps,ot=a.memoizedState,it=ot.element,bh(o,a),gh(a,at,null,rt);var st=a.memoizedState;if(at=st.element,ot.isDehydrated)if(ot={element:at,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},a.updateQueue.baseState=ot,a.memoizedState=ot,a.flags&256){it=Ki(Error(p$3(423)),a),a=mj(o,a,at,rt,it);break e}else if(at!==it){it=Ki(Error(p$3(424)),a),a=mj(o,a,at,rt,it);break e}else for(yg=Lf(a.stateNode.containerInfo.firstChild),xg=a,I$1=!0,zg=null,rt=Ch(a,null,at,rt),a.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(Ig(),at===it){a=$i(o,a,rt);break e}Yi(o,a,at,rt)}a=a.child}return a;case 5:return Kh$1(a),o===null&&Eg(a),at=a.type,it=a.pendingProps,ot=o!==null?o.memoizedProps:null,st=it.children,Ef(at,it)?st=null:ot!==null&&Ef(at,ot)&&(a.flags|=32),hj(o,a),Yi(o,a,st,rt),a.child;case 6:return o===null&&Eg(a),null;case 13:return pj(o,a,rt);case 4:return Ih(a,a.stateNode.containerInfo),at=a.pendingProps,o===null?a.child=Bh(a,null,at,rt):Yi(o,a,at,rt),a.child;case 11:return at=a.type,it=a.pendingProps,it=a.elementType===at?it:Lg(at,it),Zi(o,a,at,it,rt);case 7:return Yi(o,a,a.pendingProps,rt),a.child;case 8:return Yi(o,a,a.pendingProps.children,rt),a.child;case 12:return Yi(o,a,a.pendingProps.children,rt),a.child;case 10:e:{if(at=a.type._context,it=a.pendingProps,ot=a.memoizedProps,st=it.value,G$1(Mg,at._currentValue),at._currentValue=st,ot!==null)if(He$1(ot.value,st)){if(ot.children===it.children&&!Wf.current){a=$i(o,a,rt);break e}}else for(ot=a.child,ot!==null&&(ot.return=a);ot!==null;){var ct=ot.dependencies;if(ct!==null){st=ot.child;for(var lt=ct.firstContext;lt!==null;){if(lt.context===at){if(ot.tag===1){lt=ch(-1,rt&-rt),lt.tag=2;var ut=ot.updateQueue;if(ut!==null){ut=ut.shared;var dt=ut.pending;dt===null?lt.next=lt:(lt.next=dt.next,dt.next=lt),ut.pending=lt}}ot.lanes|=rt,lt=ot.alternate,lt!==null&&(lt.lanes|=rt),Sg(ot.return,rt,a),ct.lanes|=rt;break}lt=lt.next}}else if(ot.tag===10)st=ot.type===a.type?null:ot.child;else if(ot.tag===18){if(st=ot.return,st===null)throw Error(p$3(341));st.lanes|=rt,ct=st.alternate,ct!==null&&(ct.lanes|=rt),Sg(st,rt,a),st=ot.sibling}else st=ot.child;if(st!==null)st.return=ot;else for(st=ot;st!==null;){if(st===a){st=null;break}if(ot=st.sibling,ot!==null){ot.return=st.return,st=ot;break}st=st.return}ot=st}Yi(o,a,it.children,rt),a=a.child}return a;case 9:return it=a.type,at=a.pendingProps.children,Tg(a,rt),it=Vg(it),at=at(it),a.flags|=1,Yi(o,a,at,rt),a.child;case 14:return at=a.type,it=Lg(at,a.pendingProps),it=Lg(at.type,it),aj(o,a,at,it,rt);case 15:return cj(o,a,a.type,a.pendingProps,rt);case 17:return at=a.type,it=a.pendingProps,it=a.elementType===at?it:Lg(at,it),jj(o,a),a.tag=1,Zf(at)?(o=!0,cg(a)):o=!1,Tg(a,rt),ph(a,at,it),rh$1(a,at,it,rt),kj(null,a,at,!0,o,rt);case 19:return yj(o,a,rt);case 22:return ej(o,a,rt)}throw Error(p$3(156,a.tag))};function Gk(o,a){return ac(o,a)}function al(o,a,rt,at){this.tag=o,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=at,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,a,rt,at){return new al(o,a,rt,at)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,a){var rt=o.alternate;return rt===null?(rt=Bg(o.tag,a,o.key,o.mode),rt.elementType=o.elementType,rt.type=o.type,rt.stateNode=o.stateNode,rt.alternate=o,o.alternate=rt):(rt.pendingProps=a,rt.type=o.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=o.flags&14680064,rt.childLanes=o.childLanes,rt.lanes=o.lanes,rt.child=o.child,rt.memoizedProps=o.memoizedProps,rt.memoizedState=o.memoizedState,rt.updateQueue=o.updateQueue,a=o.dependencies,rt.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},rt.sibling=o.sibling,rt.index=o.index,rt.ref=o.ref,rt}function yh(o,a,rt,at,it,ot){var st=2;if(at=o,typeof o=="function")bj(o)&&(st=1);else if(typeof o=="string")st=5;else e:switch(o){case ya:return Ah(rt.children,it,ot,a);case za:st=8,it|=8;break;case Aa:return o=Bg(12,rt,a,it|2),o.elementType=Aa,o.lanes=ot,o;case Ea:return o=Bg(13,rt,a,it),o.elementType=Ea,o.lanes=ot,o;case Fa:return o=Bg(19,rt,a,it),o.elementType=Fa,o.lanes=ot,o;case Ia:return qj(rt,it,ot,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,at=null;break e}throw Error(p$3(130,o==null?o:typeof o,""))}return a=Bg(st,rt,a,it),a.elementType=o,a.type=at,a.lanes=ot,a}function Ah(o,a,rt,at){return o=Bg(7,o,at,a),o.lanes=rt,o}function qj(o,a,rt,at){return o=Bg(22,o,at,a),o.elementType=Ia,o.lanes=rt,o.stateNode={isHidden:!1},o}function xh(o,a,rt){return o=Bg(6,o,null,a),o.lanes=rt,o}function zh(o,a,rt){return a=Bg(4,o.children!==null?o.children:[],o.key,a),a.lanes=rt,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function bl(o,a,rt,at,it){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=at,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function cl(o,a,rt,at,it,ot,st,ct,lt){return o=new bl(o,a,rt,ct,lt),a===1?(a=1,ot===!0&&(a|=8)):a=0,ot=Bg(3,null,null,a),o.current=ot,ot.stateNode=o,ot.memoizedState={element:at,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(ot),o}function dl(o,a,rt){var at=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:at==null?null:""+at,children:o,containerInfo:a,implementation:rt}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$3(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zf(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(p$3(171))}if(o.tag===1){var rt=o.type;if(Zf(rt))return bg(o,rt,a)}return a}function fl(o,a,rt,at,it,ot,st,ct,lt){return o=cl(rt,at,!0,o,it,ot,st,ct,lt),o.context=el(null),rt=o.current,at=L$1(),it=lh(rt),ot=ch(at,it),ot.callback=a!=null?a:null,dh(rt,ot,it),o.current.lanes=it,Ac(o,it,at),Ek(o,at),o}function gl(o,a,rt,at){var it=a.current,ot=L$1(),st=lh(it);return rt=el(rt),a.context===null?a.context=rt:a.pendingContext=rt,a=ch(ot,st),a.payload={element:o},at=at===void 0?null:at,at!==null&&(a.callback=at),o=dh(it,a,st),o!==null&&(mh(o,it,st,ot),eh(o,it,st)),st}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var rt=o.retryLane;o.retryLane=rt!==0&&rt<a?rt:a}}function jl(o,a){il(o,a),(o=o.alternate)&&il(o,a)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(p$3(409));gl(o,a,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Sk(function(){gl(null,o,null,null)}),a[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var a=Hc();o={blockedOn:null,target:o,priority:a};for(var rt=0;rt<Qc.length&&a!==0&&a<Qc[rt].priority;rt++);Qc.splice(rt,0,o),rt===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,a,rt,at,it){if(it){if(typeof at=="function"){var ot=at;at=function(){var ut=hl(st);ot.call(ut)}}var st=fl(a,at,o,0,null,!1,!1,"",ql);return o._reactRootContainer=st,o[uf]=st.current,sf(o.nodeType===8?o.parentNode:o),Sk(),st}for(;it=o.lastChild;)o.removeChild(it);if(typeof at=="function"){var ct=at;at=function(){var ut=hl(lt);ct.call(ut)}}var lt=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=lt,o[uf]=lt.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(a,lt,rt,at)}),lt}function sl(o,a,rt,at,it){var ot=rt._reactRootContainer;if(ot){var st=ot;if(typeof it=="function"){var ct=it;it=function(){var lt=hl(st);ct.call(lt)}}gl(a,st,o,it)}else st=rl(rt,a,o,it,at);return hl(st)}Ec=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var rt=tc(a.pendingLanes);rt!==0&&(Cc(a,rt|1),Ek(a,B$1()),(K$2&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var at=Zg(o,1);if(at!==null){var it=L$1();mh(at,o,1,it)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var a=Zg(o,134217728);if(a!==null){var rt=L$1();mh(a,o,134217728,rt)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var a=lh(o),rt=Zg(o,a);if(rt!==null){var at=L$1();mh(rt,o,a,at)}jl(o,a)}};Hc=function(){return C$1};Ic=function(o,a){var rt=C$1;try{return C$1=o,a()}finally{C$1=rt}};yb=function(o,a,rt){switch(a){case"input":if(bb(o,rt),a=rt.name,rt.type==="radio"&&a!=null){for(rt=o;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<rt.length;a++){var at=rt[a];if(at!==o&&at.form===o.form){var it=Db(at);if(!it)throw Error(p$3(90));Wa(at),bb(at,it)}}}break;case"textarea":ib(o,rt);break;case"select":a=rt.value,a!=null&&fb(o,!!rt.multiple,a,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,a){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(a))throw Error(p$3(200));return dl(o,a,null,rt)};reactDom_production_min.createRoot=function(o,a){if(!ol(o))throw Error(p$3(299));var rt=!1,at="",it=ll;return a!=null&&(a.unstable_strictMode===!0&&(rt=!0),a.identifierPrefix!==void 0&&(at=a.identifierPrefix),a.onRecoverableError!==void 0&&(it=a.onRecoverableError)),a=cl(o,1,!1,null,null,rt,!1,at,it),o[uf]=a.current,sf(o.nodeType===8?o.parentNode:o),new ml(a)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(p$3(188)):(o=Object.keys(o).join(","),Error(p$3(268,o)));return o=Zb(a),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,a,rt){if(!pl(a))throw Error(p$3(200));return sl(null,o,a,!0,rt)};reactDom_production_min.hydrateRoot=function(o,a,rt){if(!ol(o))throw Error(p$3(405));var at=rt!=null&&rt.hydratedSources||null,it=!1,ot="",st=ll;if(rt!=null&&(rt.unstable_strictMode===!0&&(it=!0),rt.identifierPrefix!==void 0&&(ot=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(st=rt.onRecoverableError)),a=fl(a,null,o,1,rt!=null?rt:null,it,!1,ot,st),o[uf]=a.current,sf(o),at)for(o=0;o<at.length;o++)rt=at[o],it=rt._getVersion,it=it(rt._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[rt,it]:a.mutableSourceEagerHydrationData.push(rt,it);return new nl(a)};reactDom_production_min.render=function(o,a,rt){if(!pl(a))throw Error(p$3(200));return sl(null,o,a,!1,rt)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$3(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,a,rt,at){if(!pl(rt))throw Error(p$3(200));if(o==null||o._reactInternals===void 0)throw Error(p$3(38));return sl(o,a,rt,!1,at)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(o){function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(rt){console.error(rt)}}a(),o.exports=reactDom_production_min})(reactDom);const $7SXl2$reactdom=getDefaultExportFromCjs(reactDom.exports);var m$4=reactDom.exports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var rt=arguments[a];for(var at in rt)Object.prototype.hasOwnProperty.call(rt,at)&&(o[at]=rt[at])}return o},_extends$3.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function a(at,it){let{pathname:ot,search:st,hash:ct}=at.location;return createLocation("",{pathname:ot,search:st,hash:ct},it.state&&it.state.usr||null,it.state&&it.state.key||"default")}function rt(at,it){return typeof it=="string"?it:createPath(it)}return getUrlBasedHistory(a,rt,null,o)}function invariant$1(o,a){if(o===!1||o===null||typeof o>"u")throw new Error(a)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,a){return{usr:o.state,key:o.key,idx:a}}function createLocation(o,a,rt,at){return rt===void 0&&(rt=null),_extends$3({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof a=="string"?parsePath(a):a,{state:rt,key:a&&a.key||at||createKey()})}function createPath(o){let{pathname:a="/",search:rt="",hash:at=""}=o;return rt&&rt!=="?"&&(a+=rt.charAt(0)==="?"?rt:"?"+rt),at&&at!=="#"&&(a+=at.charAt(0)==="#"?at:"#"+at),a}function parsePath(o){let a={};if(o){let rt=o.indexOf("#");rt>=0&&(a.hash=o.substr(rt),o=o.substr(0,rt));let at=o.indexOf("?");at>=0&&(a.search=o.substr(at),o=o.substr(0,at)),o&&(a.pathname=o)}return a}function getUrlBasedHistory(o,a,rt,at){at===void 0&&(at={});let{window:it=document.defaultView,v5Compat:ot=!1}=at,st=it.history,ct=Action.Pop,lt=null,ut=dt();ut==null&&(ut=0,st.replaceState(_extends$3({},st.state,{idx:ut}),""));function dt(){return(st.state||{idx:null}).idx}function ft(){ct=Action.Pop;let gt=dt(),bt=gt==null?null:gt-ut;ut=gt,lt&&lt({action:ct,location:mt.location,delta:bt})}function pt(gt,bt){ct=Action.Push;let vt=createLocation(mt.location,gt,bt);rt&&rt(vt,gt),ut=dt()+1;let wt=getHistoryState(vt,ut),Tt=mt.createHref(vt);try{st.pushState(wt,"",Tt)}catch{it.location.assign(Tt)}ot&&lt&&lt({action:ct,location:mt.location,delta:1})}function ht(gt,bt){ct=Action.Replace;let vt=createLocation(mt.location,gt,bt);rt&&rt(vt,gt),ut=dt();let wt=getHistoryState(vt,ut),Tt=mt.createHref(vt);st.replaceState(wt,"",Tt),ot&&lt&&lt({action:ct,location:mt.location,delta:0})}function yt(gt){let bt=it.location.origin!=="null"?it.location.origin:it.location.href,vt=typeof gt=="string"?gt:createPath(gt);return invariant$1(bt,"No window.location.(origin|href) available to create URL for href: "+vt),new URL(vt,bt)}let mt={get action(){return ct},get location(){return o(it,st)},listen(gt){if(lt)throw new Error("A history only accepts one active listener");return it.addEventListener(PopStateEventType,ft),lt=gt,()=>{it.removeEventListener(PopStateEventType,ft),lt=null}},createHref(gt){return a(it,gt)},createURL:yt,encodeLocation(gt){let bt=yt(gt);return{pathname:bt.pathname,search:bt.search,hash:bt.hash}},push:pt,replace:ht,go(gt){return st.go(gt)}};return mt}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function stripBasename(o,a){if(a==="/")return o;if(!o.toLowerCase().startsWith(a.toLowerCase()))return null;let rt=a.endsWith("/")?a.length-1:a.length,at=o.charAt(rt);return at&&at!=="/"?null:o.slice(rt)||"/"}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=react.exports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$3(o,a,rt){var at,it={},ot=null,st=null;rt!==void 0&&(ot=""+rt),a.key!==void 0&&(ot=""+a.key),a.ref!==void 0&&(st=a.ref);for(at in a)m$3.call(a,at)&&!p$2.hasOwnProperty(at)&&(it[at]=a[at]);if(o&&o.defaultProps)for(at in a=o.defaultProps,a)it[at]===void 0&&(it[at]=a[at]);return{$$typeof:k$3,type:o,key:ot,ref:st,props:it,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;(function(o){o.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment$1=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null);function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}var DataRouterHook$1;(function(o){o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(o){o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function Router(o){let{basename:a="/",children:rt=null,location:at,navigationType:it=Action.Pop,navigator:ot,static:st=!1}=o;useInRouterContext()&&invariant$1(!1);let ct=a.replace(/^\/*/,"/"),lt=react.exports.useMemo(()=>({basename:ct,navigator:ot,static:st}),[ct,ot,st]);typeof at=="string"&&(at=parsePath(at));let{pathname:ut="/",search:dt="",hash:ft="",state:pt=null,key:ht="default"}=at,yt=react.exports.useMemo(()=>{let mt=stripBasename(ut,ct);return mt==null?null:{location:{pathname:mt,search:dt,hash:ft,state:pt,key:ht},navigationType:it}},[ct,ut,dt,ft,pt,ht,it]);return yt==null?null:jsx(NavigationContext.Provider,{value:lt,children:jsx(LocationContext.Provider,{children:rt,value:yt})})}var AwaitRenderStatus;(function(o){o[o.pending=0]="pending",o[o.success=1]="success",o[o.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BrowserRouter(o){let{basename:a,children:rt,window:at}=o,it=react.exports.useRef();it.current==null&&(it.current=createBrowserHistory({window:at,v5Compat:!0}));let ot=it.current,[st,ct]=react.exports.useState({action:ot.action,location:ot.location});return react.exports.useLayoutEffect(()=>ot.listen(ct),[ot]),jsx(Router,{basename:a,children:rt,location:st.location,navigationType:st.action,navigator:ot})}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmitImpl="useSubmitImpl",o.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let o=0;o<arguments.length;o++)this.define(arguments[o]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(o,a){for(let rt in o){let at=o[rt].map(function(it){return it.toLowerCase()});rt=rt.toLowerCase();for(let it=0;it<at.length;it++){const ot=at[it];if(ot[0]!=="*"){if(!a&&ot in this._types)throw new Error('Attempt to change mapping for "'+ot+'" extension from "'+this._types[ot]+'" to "'+rt+'". Pass `force=true` to allow this, otherwise remove "'+ot+'" from the list of extensions for "'+rt+'".');this._types[ot]=rt}}if(a||!this._extensions[rt]){const it=at[0];this._extensions[rt]=it[0]!=="*"?it:it.substr(1)}}};Mime$1.prototype.getType=function(o){o=String(o);let a=o.replace(/^.*[/\\]/,"").toLowerCase(),rt=a.replace(/^.*\./,"").toLowerCase(),at=a.length<o.length;return(rt.length<a.length-1||!at)&&this._types[rt]||null};Mime$1.prototype.getExtension=function(o){return o=/^\s*([^;\s]*)/.test(o)&&RegExp.$1,o&&this._extensions[o.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$3.length;i$1<len;++i$1)lookup[i$1]=code$3[i$1],revLookup[code$3.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(o){var a=o.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var rt=o.indexOf("=");rt===-1&&(rt=a);var at=rt===a?0:4-rt%4;return[rt,at]}function byteLength(o){var a=getLens(o),rt=a[0],at=a[1];return(rt+at)*3/4-at}function _byteLength(o,a,rt){return(a+rt)*3/4-rt}function toByteArray(o){var a,rt=getLens(o),at=rt[0],it=rt[1],ot=new Arr(_byteLength(o,at,it)),st=0,ct=it>0?at-4:at,lt;for(lt=0;lt<ct;lt+=4)a=revLookup[o.charCodeAt(lt)]<<18|revLookup[o.charCodeAt(lt+1)]<<12|revLookup[o.charCodeAt(lt+2)]<<6|revLookup[o.charCodeAt(lt+3)],ot[st++]=a>>16&255,ot[st++]=a>>8&255,ot[st++]=a&255;return it===2&&(a=revLookup[o.charCodeAt(lt)]<<2|revLookup[o.charCodeAt(lt+1)]>>4,ot[st++]=a&255),it===1&&(a=revLookup[o.charCodeAt(lt)]<<10|revLookup[o.charCodeAt(lt+1)]<<4|revLookup[o.charCodeAt(lt+2)]>>2,ot[st++]=a>>8&255,ot[st++]=a&255),ot}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[o&63]}function encodeChunk(o,a,rt){for(var at,it=[],ot=a;ot<rt;ot+=3)at=(o[ot]<<16&16711680)+(o[ot+1]<<8&65280)+(o[ot+2]&255),it.push(tripletToBase64(at));return it.join("")}function fromByteArray(o){for(var a,rt=o.length,at=rt%3,it=[],ot=16383,st=0,ct=rt-at;st<ct;st+=ot)it.push(encodeChunk(o,st,st+ot>ct?ct:st+ot));return at===1?(a=o[rt-1],it.push(lookup[a>>2]+lookup[a<<4&63]+"==")):at===2&&(a=(o[rt-2]<<8)+o[rt-1],it.push(lookup[a>>10]+lookup[a>>4&63]+lookup[a<<2&63]+"=")),it.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(o,a,rt,at,it){var ot,st,ct=it*8-at-1,lt=(1<<ct)-1,ut=lt>>1,dt=-7,ft=rt?it-1:0,pt=rt?-1:1,ht=o[a+ft];for(ft+=pt,ot=ht&(1<<-dt)-1,ht>>=-dt,dt+=ct;dt>0;ot=ot*256+o[a+ft],ft+=pt,dt-=8);for(st=ot&(1<<-dt)-1,ot>>=-dt,dt+=at;dt>0;st=st*256+o[a+ft],ft+=pt,dt-=8);if(ot===0)ot=1-ut;else{if(ot===lt)return st?NaN:(ht?-1:1)*(1/0);st=st+Math.pow(2,at),ot=ot-ut}return(ht?-1:1)*st*Math.pow(2,ot-at)};ieee754.write=function(o,a,rt,at,it,ot){var st,ct,lt,ut=ot*8-it-1,dt=(1<<ut)-1,ft=dt>>1,pt=it===23?Math.pow(2,-24)-Math.pow(2,-77):0,ht=at?0:ot-1,yt=at?1:-1,mt=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(ct=isNaN(a)?1:0,st=dt):(st=Math.floor(Math.log(a)/Math.LN2),a*(lt=Math.pow(2,-st))<1&&(st--,lt*=2),st+ft>=1?a+=pt/lt:a+=pt*Math.pow(2,1-ft),a*lt>=2&&(st++,lt/=2),st+ft>=dt?(ct=0,st=dt):st+ft>=1?(ct=(a*lt-1)*Math.pow(2,it),st=st+ft):(ct=a*Math.pow(2,ft-1)*Math.pow(2,it),st=0));it>=8;o[rt+ht]=ct&255,ht+=yt,ct/=256,it-=8);for(st=st<<it|ct,ut+=it;ut>0;o[rt+ht]=st&255,ht+=yt,st/=256,ut-=8);o[rt+ht-yt]|=mt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){var a=base64Js,rt=ieee754,at=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=ct,o.SlowBuffer=vt,o.INSPECT_MAX_BYTES=50;var it=2147483647;o.kMaxLength=it,ct.TYPED_ARRAY_SUPPORT=ot(),!ct.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ot(){try{var zt=new Uint8Array(1),kt={foo:function(){return 42}};return Object.setPrototypeOf(kt,Uint8Array.prototype),Object.setPrototypeOf(zt,kt),zt.foo()===42}catch{return!1}}Object.defineProperty(ct.prototype,"parent",{enumerable:!0,get:function(){if(!!ct.isBuffer(this))return this.buffer}}),Object.defineProperty(ct.prototype,"offset",{enumerable:!0,get:function(){if(!!ct.isBuffer(this))return this.byteOffset}});function st(zt){if(zt>it)throw new RangeError('The value "'+zt+'" is invalid for option "size"');var kt=new Uint8Array(zt);return Object.setPrototypeOf(kt,ct.prototype),kt}function ct(zt,kt,It){if(typeof zt=="number"){if(typeof kt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ft(zt)}return lt(zt,kt,It)}ct.poolSize=8192;function lt(zt,kt,It){if(typeof zt=="string")return pt(zt,kt);if(ArrayBuffer.isView(zt))return yt(zt);if(zt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof zt);if(ar(zt,ArrayBuffer)||zt&&ar(zt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ar(zt,SharedArrayBuffer)||zt&&ar(zt.buffer,SharedArrayBuffer)))return mt(zt,kt,It);if(typeof zt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ht=zt.valueOf&&zt.valueOf();if(Ht!=null&&Ht!==zt)return ct.from(Ht,kt,It);var Gt=gt(zt);if(Gt)return Gt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof zt[Symbol.toPrimitive]=="function")return ct.from(zt[Symbol.toPrimitive]("string"),kt,It);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof zt)}ct.from=function(zt,kt,It){return lt(zt,kt,It)},Object.setPrototypeOf(ct.prototype,Uint8Array.prototype),Object.setPrototypeOf(ct,Uint8Array);function ut(zt){if(typeof zt!="number")throw new TypeError('"size" argument must be of type number');if(zt<0)throw new RangeError('The value "'+zt+'" is invalid for option "size"')}function dt(zt,kt,It){return ut(zt),zt<=0?st(zt):kt!==void 0?typeof It=="string"?st(zt).fill(kt,It):st(zt).fill(kt):st(zt)}ct.alloc=function(zt,kt,It){return dt(zt,kt,It)};function ft(zt){return ut(zt),st(zt<0?0:bt(zt)|0)}ct.allocUnsafe=function(zt){return ft(zt)},ct.allocUnsafeSlow=function(zt){return ft(zt)};function pt(zt,kt){if((typeof kt!="string"||kt==="")&&(kt="utf8"),!ct.isEncoding(kt))throw new TypeError("Unknown encoding: "+kt);var It=wt(zt,kt)|0,Ht=st(It),Gt=Ht.write(zt,kt);return Gt!==It&&(Ht=Ht.slice(0,Gt)),Ht}function ht(zt){for(var kt=zt.length<0?0:bt(zt.length)|0,It=st(kt),Ht=0;Ht<kt;Ht+=1)It[Ht]=zt[Ht]&255;return It}function yt(zt){if(ar(zt,Uint8Array)){var kt=new Uint8Array(zt);return mt(kt.buffer,kt.byteOffset,kt.byteLength)}return ht(zt)}function mt(zt,kt,It){if(kt<0||zt.byteLength<kt)throw new RangeError('"offset" is outside of buffer bounds');if(zt.byteLength<kt+(It||0))throw new RangeError('"length" is outside of buffer bounds');var Ht;return kt===void 0&&It===void 0?Ht=new Uint8Array(zt):It===void 0?Ht=new Uint8Array(zt,kt):Ht=new Uint8Array(zt,kt,It),Object.setPrototypeOf(Ht,ct.prototype),Ht}function gt(zt){if(ct.isBuffer(zt)){var kt=bt(zt.length)|0,It=st(kt);return It.length===0||zt.copy(It,0,0,kt),It}if(zt.length!==void 0)return typeof zt.length!="number"||er(zt.length)?st(0):ht(zt);if(zt.type==="Buffer"&&Array.isArray(zt.data))return ht(zt.data)}function bt(zt){if(zt>=it)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+it.toString(16)+" bytes");return zt|0}function vt(zt){return+zt!=zt&&(zt=0),ct.alloc(+zt)}ct.isBuffer=function(kt){return kt!=null&&kt._isBuffer===!0&&kt!==ct.prototype},ct.compare=function(kt,It){if(ar(kt,Uint8Array)&&(kt=ct.from(kt,kt.offset,kt.byteLength)),ar(It,Uint8Array)&&(It=ct.from(It,It.offset,It.byteLength)),!ct.isBuffer(kt)||!ct.isBuffer(It))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(kt===It)return 0;for(var Ht=kt.length,Gt=It.length,Jt=0,rr=Math.min(Ht,Gt);Jt<rr;++Jt)if(kt[Jt]!==It[Jt]){Ht=kt[Jt],Gt=It[Jt];break}return Ht<Gt?-1:Gt<Ht?1:0},ct.isEncoding=function(kt){switch(String(kt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ct.concat=function(kt,It){if(!Array.isArray(kt))throw new TypeError('"list" argument must be an Array of Buffers');if(kt.length===0)return ct.alloc(0);var Ht;if(It===void 0)for(It=0,Ht=0;Ht<kt.length;++Ht)It+=kt[Ht].length;var Gt=ct.allocUnsafe(It),Jt=0;for(Ht=0;Ht<kt.length;++Ht){var rr=kt[Ht];if(ar(rr,Uint8Array))Jt+rr.length>Gt.length?ct.from(rr).copy(Gt,Jt):Uint8Array.prototype.set.call(Gt,rr,Jt);else if(ct.isBuffer(rr))rr.copy(Gt,Jt);else throw new TypeError('"list" argument must be an Array of Buffers');Jt+=rr.length}return Gt};function wt(zt,kt){if(ct.isBuffer(zt))return zt.length;if(ArrayBuffer.isView(zt)||ar(zt,ArrayBuffer))return zt.byteLength;if(typeof zt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof zt);var It=zt.length,Ht=arguments.length>2&&arguments[2]===!0;if(!Ht&&It===0)return 0;for(var Gt=!1;;)switch(kt){case"ascii":case"latin1":case"binary":return It;case"utf8":case"utf-8":return Zt(zt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return It*2;case"hex":return It>>>1;case"base64":return nr(zt).length;default:if(Gt)return Ht?-1:Zt(zt).length;kt=(""+kt).toLowerCase(),Gt=!0}}ct.byteLength=wt;function Tt(zt,kt,It){var Ht=!1;if((kt===void 0||kt<0)&&(kt=0),kt>this.length||((It===void 0||It>this.length)&&(It=this.length),It<=0)||(It>>>=0,kt>>>=0,It<=kt))return"";for(zt||(zt="utf8");;)switch(zt){case"hex":return Ot(this,kt,It);case"utf8":case"utf-8":return xt(this,kt,It);case"ascii":return Lt(this,kt,It);case"latin1":case"binary":return Bt(this,kt,It);case"base64":return Mt(this,kt,It);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qt(this,kt,It);default:if(Ht)throw new TypeError("Unknown encoding: "+zt);zt=(zt+"").toLowerCase(),Ht=!0}}ct.prototype._isBuffer=!0;function _t(zt,kt,It){var Ht=zt[kt];zt[kt]=zt[It],zt[It]=Ht}ct.prototype.swap16=function(){var kt=this.length;if(kt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var It=0;It<kt;It+=2)_t(this,It,It+1);return this},ct.prototype.swap32=function(){var kt=this.length;if(kt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var It=0;It<kt;It+=4)_t(this,It,It+3),_t(this,It+1,It+2);return this},ct.prototype.swap64=function(){var kt=this.length;if(kt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var It=0;It<kt;It+=8)_t(this,It,It+7),_t(this,It+1,It+6),_t(this,It+2,It+5),_t(this,It+3,It+4);return this},ct.prototype.toString=function(){var kt=this.length;return kt===0?"":arguments.length===0?xt(this,0,kt):Tt.apply(this,arguments)},ct.prototype.toLocaleString=ct.prototype.toString,ct.prototype.equals=function(kt){if(!ct.isBuffer(kt))throw new TypeError("Argument must be a Buffer");return this===kt?!0:ct.compare(this,kt)===0},ct.prototype.inspect=function(){var kt="",It=o.INSPECT_MAX_BYTES;return kt=this.toString("hex",0,It).replace(/(.{2})/g,"$1 ").trim(),this.length>It&&(kt+=" ... "),"<Buffer "+kt+">"},at&&(ct.prototype[at]=ct.prototype.inspect),ct.prototype.compare=function(kt,It,Ht,Gt,Jt){if(ar(kt,Uint8Array)&&(kt=ct.from(kt,kt.offset,kt.byteLength)),!ct.isBuffer(kt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof kt);if(It===void 0&&(It=0),Ht===void 0&&(Ht=kt?kt.length:0),Gt===void 0&&(Gt=0),Jt===void 0&&(Jt=this.length),It<0||Ht>kt.length||Gt<0||Jt>this.length)throw new RangeError("out of range index");if(Gt>=Jt&&It>=Ht)return 0;if(Gt>=Jt)return-1;if(It>=Ht)return 1;if(It>>>=0,Ht>>>=0,Gt>>>=0,Jt>>>=0,this===kt)return 0;for(var rr=Jt-Gt,sr=Ht-It,cr=Math.min(rr,sr),dr=this.slice(Gt,Jt),ur=kt.slice(It,Ht),lr=0;lr<cr;++lr)if(dr[lr]!==ur[lr]){rr=dr[lr],sr=ur[lr];break}return rr<sr?-1:sr<rr?1:0};function St(zt,kt,It,Ht,Gt){if(zt.length===0)return-1;if(typeof It=="string"?(Ht=It,It=0):It>2147483647?It=2147483647:It<-2147483648&&(It=-2147483648),It=+It,er(It)&&(It=Gt?0:zt.length-1),It<0&&(It=zt.length+It),It>=zt.length){if(Gt)return-1;It=zt.length-1}else if(It<0)if(Gt)It=0;else return-1;if(typeof kt=="string"&&(kt=ct.from(kt,Ht)),ct.isBuffer(kt))return kt.length===0?-1:Pt(zt,kt,It,Ht,Gt);if(typeof kt=="number")return kt=kt&255,typeof Uint8Array.prototype.indexOf=="function"?Gt?Uint8Array.prototype.indexOf.call(zt,kt,It):Uint8Array.prototype.lastIndexOf.call(zt,kt,It):Pt(zt,[kt],It,Ht,Gt);throw new TypeError("val must be string, number or Buffer")}function Pt(zt,kt,It,Ht,Gt){var Jt=1,rr=zt.length,sr=kt.length;if(Ht!==void 0&&(Ht=String(Ht).toLowerCase(),Ht==="ucs2"||Ht==="ucs-2"||Ht==="utf16le"||Ht==="utf-16le")){if(zt.length<2||kt.length<2)return-1;Jt=2,rr/=2,sr/=2,It/=2}function cr(pr,hr){return Jt===1?pr[hr]:pr.readUInt16BE(hr*Jt)}var dr;if(Gt){var ur=-1;for(dr=It;dr<rr;dr++)if(cr(zt,dr)===cr(kt,ur===-1?0:dr-ur)){if(ur===-1&&(ur=dr),dr-ur+1===sr)return ur*Jt}else ur!==-1&&(dr-=dr-ur),ur=-1}else for(It+sr>rr&&(It=rr-sr),dr=It;dr>=0;dr--){for(var lr=!0,Fr=0;Fr<sr;Fr++)if(cr(zt,dr+Fr)!==cr(kt,Fr)){lr=!1;break}if(lr)return dr}return-1}ct.prototype.includes=function(kt,It,Ht){return this.indexOf(kt,It,Ht)!==-1},ct.prototype.indexOf=function(kt,It,Ht){return St(this,kt,It,Ht,!0)},ct.prototype.lastIndexOf=function(kt,It,Ht){return St(this,kt,It,Ht,!1)};function Nt(zt,kt,It,Ht){It=Number(It)||0;var Gt=zt.length-It;Ht?(Ht=Number(Ht),Ht>Gt&&(Ht=Gt)):Ht=Gt;var Jt=kt.length;Ht>Jt/2&&(Ht=Jt/2);for(var rr=0;rr<Ht;++rr){var sr=parseInt(kt.substr(rr*2,2),16);if(er(sr))return rr;zt[It+rr]=sr}return rr}function jt(zt,kt,It,Ht){return Xt(Zt(kt,zt.length-It),zt,It,Ht)}function Ut(zt,kt,It,Ht){return Xt(Yt(kt),zt,It,Ht)}function Ft(zt,kt,It,Ht){return Xt(nr(kt),zt,It,Ht)}function Kt(zt,kt,It,Ht){return Xt(tr(kt,zt.length-It),zt,It,Ht)}ct.prototype.write=function(kt,It,Ht,Gt){if(It===void 0)Gt="utf8",Ht=this.length,It=0;else if(Ht===void 0&&typeof It=="string")Gt=It,Ht=this.length,It=0;else if(isFinite(It))It=It>>>0,isFinite(Ht)?(Ht=Ht>>>0,Gt===void 0&&(Gt="utf8")):(Gt=Ht,Ht=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Jt=this.length-It;if((Ht===void 0||Ht>Jt)&&(Ht=Jt),kt.length>0&&(Ht<0||It<0)||It>this.length)throw new RangeError("Attempt to write outside buffer bounds");Gt||(Gt="utf8");for(var rr=!1;;)switch(Gt){case"hex":return Nt(this,kt,It,Ht);case"utf8":case"utf-8":return jt(this,kt,It,Ht);case"ascii":case"latin1":case"binary":return Ut(this,kt,It,Ht);case"base64":return Ft(this,kt,It,Ht);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kt(this,kt,It,Ht);default:if(rr)throw new TypeError("Unknown encoding: "+Gt);Gt=(""+Gt).toLowerCase(),rr=!0}},ct.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mt(zt,kt,It){return kt===0&&It===zt.length?a.fromByteArray(zt):a.fromByteArray(zt.slice(kt,It))}function xt(zt,kt,It){It=Math.min(zt.length,It);for(var Ht=[],Gt=kt;Gt<It;){var Jt=zt[Gt],rr=null,sr=Jt>239?4:Jt>223?3:Jt>191?2:1;if(Gt+sr<=It){var cr,dr,ur,lr;switch(sr){case 1:Jt<128&&(rr=Jt);break;case 2:cr=zt[Gt+1],(cr&192)===128&&(lr=(Jt&31)<<6|cr&63,lr>127&&(rr=lr));break;case 3:cr=zt[Gt+1],dr=zt[Gt+2],(cr&192)===128&&(dr&192)===128&&(lr=(Jt&15)<<12|(cr&63)<<6|dr&63,lr>2047&&(lr<55296||lr>57343)&&(rr=lr));break;case 4:cr=zt[Gt+1],dr=zt[Gt+2],ur=zt[Gt+3],(cr&192)===128&&(dr&192)===128&&(ur&192)===128&&(lr=(Jt&15)<<18|(cr&63)<<12|(dr&63)<<6|ur&63,lr>65535&&lr<1114112&&(rr=lr))}}rr===null?(rr=65533,sr=1):rr>65535&&(rr-=65536,Ht.push(rr>>>10&1023|55296),rr=56320|rr&1023),Ht.push(rr),Gt+=sr}return Rt(Ht)}var Et=4096;function Rt(zt){var kt=zt.length;if(kt<=Et)return String.fromCharCode.apply(String,zt);for(var It="",Ht=0;Ht<kt;)It+=String.fromCharCode.apply(String,zt.slice(Ht,Ht+=Et));return It}function Lt(zt,kt,It){var Ht="";It=Math.min(zt.length,It);for(var Gt=kt;Gt<It;++Gt)Ht+=String.fromCharCode(zt[Gt]&127);return Ht}function Bt(zt,kt,It){var Ht="";It=Math.min(zt.length,It);for(var Gt=kt;Gt<It;++Gt)Ht+=String.fromCharCode(zt[Gt]);return Ht}function Ot(zt,kt,It){var Ht=zt.length;(!kt||kt<0)&&(kt=0),(!It||It<0||It>Ht)&&(It=Ht);for(var Gt="",Jt=kt;Jt<It;++Jt)Gt+=ir[zt[Jt]];return Gt}function qt(zt,kt,It){for(var Ht=zt.slice(kt,It),Gt="",Jt=0;Jt<Ht.length-1;Jt+=2)Gt+=String.fromCharCode(Ht[Jt]+Ht[Jt+1]*256);return Gt}ct.prototype.slice=function(kt,It){var Ht=this.length;kt=~~kt,It=It===void 0?Ht:~~It,kt<0?(kt+=Ht,kt<0&&(kt=0)):kt>Ht&&(kt=Ht),It<0?(It+=Ht,It<0&&(It=0)):It>Ht&&(It=Ht),It<kt&&(It=kt);var Gt=this.subarray(kt,It);return Object.setPrototypeOf(Gt,ct.prototype),Gt};function At(zt,kt,It){if(zt%1!==0||zt<0)throw new RangeError("offset is not uint");if(zt+kt>It)throw new RangeError("Trying to access beyond buffer length")}ct.prototype.readUintLE=ct.prototype.readUIntLE=function(kt,It,Ht){kt=kt>>>0,It=It>>>0,Ht||At(kt,It,this.length);for(var Gt=this[kt],Jt=1,rr=0;++rr<It&&(Jt*=256);)Gt+=this[kt+rr]*Jt;return Gt},ct.prototype.readUintBE=ct.prototype.readUIntBE=function(kt,It,Ht){kt=kt>>>0,It=It>>>0,Ht||At(kt,It,this.length);for(var Gt=this[kt+--It],Jt=1;It>0&&(Jt*=256);)Gt+=this[kt+--It]*Jt;return Gt},ct.prototype.readUint8=ct.prototype.readUInt8=function(kt,It){return kt=kt>>>0,It||At(kt,1,this.length),this[kt]},ct.prototype.readUint16LE=ct.prototype.readUInt16LE=function(kt,It){return kt=kt>>>0,It||At(kt,2,this.length),this[kt]|this[kt+1]<<8},ct.prototype.readUint16BE=ct.prototype.readUInt16BE=function(kt,It){return kt=kt>>>0,It||At(kt,2,this.length),this[kt]<<8|this[kt+1]},ct.prototype.readUint32LE=ct.prototype.readUInt32LE=function(kt,It){return kt=kt>>>0,It||At(kt,4,this.length),(this[kt]|this[kt+1]<<8|this[kt+2]<<16)+this[kt+3]*16777216},ct.prototype.readUint32BE=ct.prototype.readUInt32BE=function(kt,It){return kt=kt>>>0,It||At(kt,4,this.length),this[kt]*16777216+(this[kt+1]<<16|this[kt+2]<<8|this[kt+3])},ct.prototype.readIntLE=function(kt,It,Ht){kt=kt>>>0,It=It>>>0,Ht||At(kt,It,this.length);for(var Gt=this[kt],Jt=1,rr=0;++rr<It&&(Jt*=256);)Gt+=this[kt+rr]*Jt;return Jt*=128,Gt>=Jt&&(Gt-=Math.pow(2,8*It)),Gt},ct.prototype.readIntBE=function(kt,It,Ht){kt=kt>>>0,It=It>>>0,Ht||At(kt,It,this.length);for(var Gt=It,Jt=1,rr=this[kt+--Gt];Gt>0&&(Jt*=256);)rr+=this[kt+--Gt]*Jt;return Jt*=128,rr>=Jt&&(rr-=Math.pow(2,8*It)),rr},ct.prototype.readInt8=function(kt,It){return kt=kt>>>0,It||At(kt,1,this.length),this[kt]&128?(255-this[kt]+1)*-1:this[kt]},ct.prototype.readInt16LE=function(kt,It){kt=kt>>>0,It||At(kt,2,this.length);var Ht=this[kt]|this[kt+1]<<8;return Ht&32768?Ht|4294901760:Ht},ct.prototype.readInt16BE=function(kt,It){kt=kt>>>0,It||At(kt,2,this.length);var Ht=this[kt+1]|this[kt]<<8;return Ht&32768?Ht|4294901760:Ht},ct.prototype.readInt32LE=function(kt,It){return kt=kt>>>0,It||At(kt,4,this.length),this[kt]|this[kt+1]<<8|this[kt+2]<<16|this[kt+3]<<24},ct.prototype.readInt32BE=function(kt,It){return kt=kt>>>0,It||At(kt,4,this.length),this[kt]<<24|this[kt+1]<<16|this[kt+2]<<8|this[kt+3]},ct.prototype.readFloatLE=function(kt,It){return kt=kt>>>0,It||At(kt,4,this.length),rt.read(this,kt,!0,23,4)},ct.prototype.readFloatBE=function(kt,It){return kt=kt>>>0,It||At(kt,4,this.length),rt.read(this,kt,!1,23,4)},ct.prototype.readDoubleLE=function(kt,It){return kt=kt>>>0,It||At(kt,8,this.length),rt.read(this,kt,!0,52,8)},ct.prototype.readDoubleBE=function(kt,It){return kt=kt>>>0,It||At(kt,8,this.length),rt.read(this,kt,!1,52,8)};function Ct(zt,kt,It,Ht,Gt,Jt){if(!ct.isBuffer(zt))throw new TypeError('"buffer" argument must be a Buffer instance');if(kt>Gt||kt<Jt)throw new RangeError('"value" argument is out of bounds');if(It+Ht>zt.length)throw new RangeError("Index out of range")}ct.prototype.writeUintLE=ct.prototype.writeUIntLE=function(kt,It,Ht,Gt){if(kt=+kt,It=It>>>0,Ht=Ht>>>0,!Gt){var Jt=Math.pow(2,8*Ht)-1;Ct(this,kt,It,Ht,Jt,0)}var rr=1,sr=0;for(this[It]=kt&255;++sr<Ht&&(rr*=256);)this[It+sr]=kt/rr&255;return It+Ht},ct.prototype.writeUintBE=ct.prototype.writeUIntBE=function(kt,It,Ht,Gt){if(kt=+kt,It=It>>>0,Ht=Ht>>>0,!Gt){var Jt=Math.pow(2,8*Ht)-1;Ct(this,kt,It,Ht,Jt,0)}var rr=Ht-1,sr=1;for(this[It+rr]=kt&255;--rr>=0&&(sr*=256);)this[It+rr]=kt/sr&255;return It+Ht},ct.prototype.writeUint8=ct.prototype.writeUInt8=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,1,255,0),this[It]=kt&255,It+1},ct.prototype.writeUint16LE=ct.prototype.writeUInt16LE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,2,65535,0),this[It]=kt&255,this[It+1]=kt>>>8,It+2},ct.prototype.writeUint16BE=ct.prototype.writeUInt16BE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,2,65535,0),this[It]=kt>>>8,this[It+1]=kt&255,It+2},ct.prototype.writeUint32LE=ct.prototype.writeUInt32LE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,4,4294967295,0),this[It+3]=kt>>>24,this[It+2]=kt>>>16,this[It+1]=kt>>>8,this[It]=kt&255,It+4},ct.prototype.writeUint32BE=ct.prototype.writeUInt32BE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,4,4294967295,0),this[It]=kt>>>24,this[It+1]=kt>>>16,this[It+2]=kt>>>8,this[It+3]=kt&255,It+4},ct.prototype.writeIntLE=function(kt,It,Ht,Gt){if(kt=+kt,It=It>>>0,!Gt){var Jt=Math.pow(2,8*Ht-1);Ct(this,kt,It,Ht,Jt-1,-Jt)}var rr=0,sr=1,cr=0;for(this[It]=kt&255;++rr<Ht&&(sr*=256);)kt<0&&cr===0&&this[It+rr-1]!==0&&(cr=1),this[It+rr]=(kt/sr>>0)-cr&255;return It+Ht},ct.prototype.writeIntBE=function(kt,It,Ht,Gt){if(kt=+kt,It=It>>>0,!Gt){var Jt=Math.pow(2,8*Ht-1);Ct(this,kt,It,Ht,Jt-1,-Jt)}var rr=Ht-1,sr=1,cr=0;for(this[It+rr]=kt&255;--rr>=0&&(sr*=256);)kt<0&&cr===0&&this[It+rr+1]!==0&&(cr=1),this[It+rr]=(kt/sr>>0)-cr&255;return It+Ht},ct.prototype.writeInt8=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,1,127,-128),kt<0&&(kt=255+kt+1),this[It]=kt&255,It+1},ct.prototype.writeInt16LE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,2,32767,-32768),this[It]=kt&255,this[It+1]=kt>>>8,It+2},ct.prototype.writeInt16BE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,2,32767,-32768),this[It]=kt>>>8,this[It+1]=kt&255,It+2},ct.prototype.writeInt32LE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,4,2147483647,-2147483648),this[It]=kt&255,this[It+1]=kt>>>8,this[It+2]=kt>>>16,this[It+3]=kt>>>24,It+4},ct.prototype.writeInt32BE=function(kt,It,Ht){return kt=+kt,It=It>>>0,Ht||Ct(this,kt,It,4,2147483647,-2147483648),kt<0&&(kt=4294967295+kt+1),this[It]=kt>>>24,this[It+1]=kt>>>16,this[It+2]=kt>>>8,this[It+3]=kt&255,It+4};function Dt(zt,kt,It,Ht,Gt,Jt){if(It+Ht>zt.length)throw new RangeError("Index out of range");if(It<0)throw new RangeError("Index out of range")}function Wt(zt,kt,It,Ht,Gt){return kt=+kt,It=It>>>0,Gt||Dt(zt,kt,It,4),rt.write(zt,kt,It,Ht,23,4),It+4}ct.prototype.writeFloatLE=function(kt,It,Ht){return Wt(this,kt,It,!0,Ht)},ct.prototype.writeFloatBE=function(kt,It,Ht){return Wt(this,kt,It,!1,Ht)};function $t(zt,kt,It,Ht,Gt){return kt=+kt,It=It>>>0,Gt||Dt(zt,kt,It,8),rt.write(zt,kt,It,Ht,52,8),It+8}ct.prototype.writeDoubleLE=function(kt,It,Ht){return $t(this,kt,It,!0,Ht)},ct.prototype.writeDoubleBE=function(kt,It,Ht){return $t(this,kt,It,!1,Ht)},ct.prototype.copy=function(kt,It,Ht,Gt){if(!ct.isBuffer(kt))throw new TypeError("argument should be a Buffer");if(Ht||(Ht=0),!Gt&&Gt!==0&&(Gt=this.length),It>=kt.length&&(It=kt.length),It||(It=0),Gt>0&&Gt<Ht&&(Gt=Ht),Gt===Ht||kt.length===0||this.length===0)return 0;if(It<0)throw new RangeError("targetStart out of bounds");if(Ht<0||Ht>=this.length)throw new RangeError("Index out of range");if(Gt<0)throw new RangeError("sourceEnd out of bounds");Gt>this.length&&(Gt=this.length),kt.length-It<Gt-Ht&&(Gt=kt.length-It+Ht);var Jt=Gt-Ht;return this===kt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(It,Ht,Gt):Uint8Array.prototype.set.call(kt,this.subarray(Ht,Gt),It),Jt},ct.prototype.fill=function(kt,It,Ht,Gt){if(typeof kt=="string"){if(typeof It=="string"?(Gt=It,It=0,Ht=this.length):typeof Ht=="string"&&(Gt=Ht,Ht=this.length),Gt!==void 0&&typeof Gt!="string")throw new TypeError("encoding must be a string");if(typeof Gt=="string"&&!ct.isEncoding(Gt))throw new TypeError("Unknown encoding: "+Gt);if(kt.length===1){var Jt=kt.charCodeAt(0);(Gt==="utf8"&&Jt<128||Gt==="latin1")&&(kt=Jt)}}else typeof kt=="number"?kt=kt&255:typeof kt=="boolean"&&(kt=Number(kt));if(It<0||this.length<It||this.length<Ht)throw new RangeError("Out of range index");if(Ht<=It)return this;It=It>>>0,Ht=Ht===void 0?this.length:Ht>>>0,kt||(kt=0);var rr;if(typeof kt=="number")for(rr=It;rr<Ht;++rr)this[rr]=kt;else{var sr=ct.isBuffer(kt)?kt:ct.from(kt,Gt),cr=sr.length;if(cr===0)throw new TypeError('The value "'+kt+'" is invalid for argument "value"');for(rr=0;rr<Ht-It;++rr)this[rr+It]=sr[rr%cr]}return this};var Vt=/[^+/0-9A-Za-z-_]/g;function Qt(zt){if(zt=zt.split("=")[0],zt=zt.trim().replace(Vt,""),zt.length<2)return"";for(;zt.length%4!==0;)zt=zt+"=";return zt}function Zt(zt,kt){kt=kt||1/0;for(var It,Ht=zt.length,Gt=null,Jt=[],rr=0;rr<Ht;++rr){if(It=zt.charCodeAt(rr),It>55295&&It<57344){if(!Gt){if(It>56319){(kt-=3)>-1&&Jt.push(239,191,189);continue}else if(rr+1===Ht){(kt-=3)>-1&&Jt.push(239,191,189);continue}Gt=It;continue}if(It<56320){(kt-=3)>-1&&Jt.push(239,191,189),Gt=It;continue}It=(Gt-55296<<10|It-56320)+65536}else Gt&&(kt-=3)>-1&&Jt.push(239,191,189);if(Gt=null,It<128){if((kt-=1)<0)break;Jt.push(It)}else if(It<2048){if((kt-=2)<0)break;Jt.push(It>>6|192,It&63|128)}else if(It<65536){if((kt-=3)<0)break;Jt.push(It>>12|224,It>>6&63|128,It&63|128)}else if(It<1114112){if((kt-=4)<0)break;Jt.push(It>>18|240,It>>12&63|128,It>>6&63|128,It&63|128)}else throw new Error("Invalid code point")}return Jt}function Yt(zt){for(var kt=[],It=0;It<zt.length;++It)kt.push(zt.charCodeAt(It)&255);return kt}function tr(zt,kt){for(var It,Ht,Gt,Jt=[],rr=0;rr<zt.length&&!((kt-=2)<0);++rr)It=zt.charCodeAt(rr),Ht=It>>8,Gt=It%256,Jt.push(Gt),Jt.push(Ht);return Jt}function nr(zt){return a.toByteArray(Qt(zt))}function Xt(zt,kt,It,Ht){for(var Gt=0;Gt<Ht&&!(Gt+It>=kt.length||Gt>=zt.length);++Gt)kt[Gt+It]=zt[Gt];return Gt}function ar(zt,kt){return zt instanceof kt||zt!=null&&zt.constructor!=null&&zt.constructor.name!=null&&zt.constructor.name===kt.name}function er(zt){return zt!==zt}var ir=function(){for(var zt="0123456789abcdef",kt=new Array(256),It=0;It<16;++It)for(var Ht=It*16,Gt=0;Gt<16;++Gt)kt[Ht+Gt]=zt[It]+zt[Gt];return kt}()})(buffer);var browser$1={exports:{}},process=browser$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(o){if(cachedSetTimeout===setTimeout)return setTimeout(o,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(o,0);try{return cachedSetTimeout(o,0)}catch{try{return cachedSetTimeout.call(null,o,0)}catch{return cachedSetTimeout.call(this,o,0)}}}function runClearTimeout(o){if(cachedClearTimeout===clearTimeout)return clearTimeout(o);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(o);try{return cachedClearTimeout(o)}catch{try{return cachedClearTimeout.call(null,o)}catch{return cachedClearTimeout.call(this,o)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var o=runTimeout(cleanUpNextTick);draining=!0;for(var a=queue.length;a;){for(currentQueue=queue,queue=[];++queueIndex<a;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,a=queue.length}currentQueue=null,draining=!1,runClearTimeout(o)}}process.nextTick=function(o){var a=new Array(arguments.length-1);if(arguments.length>1)for(var rt=1;rt<arguments.length;rt++)a[rt-1]=arguments[rt];queue.push(new Item(o,a)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(o,a){this.fun=o,this.array=a}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$2(){}process.on=noop$2;process.addListener=noop$2;process.once=noop$2;process.off=noop$2;process.removeListener=noop$2;process.removeAllListeners=noop$2;process.emit=noop$2;process.prependListener=noop$2;process.prependOnceListener=noop$2;process.listeners=function(o){return[]};process.binding=function(o){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(o){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var _globalThis=function(o){function a(){var at=this||self;return delete o.prototype.__magic__,at}if(typeof globalThis=="object")return globalThis;if(this)return a();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:a});var rt=__magic__;return rt}(Object),_global=_globalThis,browserPonyfill={exports:{}};(function(o,a){var rt=typeof self<"u"?self:commonjsGlobal,at=function(){function ot(){this.fetch=!1,this.DOMException=rt.DOMException}return ot.prototype=rt,new ot}();(function(ot){(function(st){var ct={searchParams:"URLSearchParams"in ot,iterable:"Symbol"in ot&&"iterator"in Symbol,blob:"FileReader"in ot&&"Blob"in ot&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in ot,arrayBuffer:"ArrayBuffer"in ot};function lt(xt){return xt&&DataView.prototype.isPrototypeOf(xt)}if(ct.arrayBuffer)var ut=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],dt=ArrayBuffer.isView||function(xt){return xt&&ut.indexOf(Object.prototype.toString.call(xt))>-1};function ft(xt){if(typeof xt!="string"&&(xt=String(xt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(xt))throw new TypeError("Invalid character in header field name");return xt.toLowerCase()}function pt(xt){return typeof xt!="string"&&(xt=String(xt)),xt}function ht(xt){var Et={next:function(){var Rt=xt.shift();return{done:Rt===void 0,value:Rt}}};return ct.iterable&&(Et[Symbol.iterator]=function(){return Et}),Et}function yt(xt){this.map={},xt instanceof yt?xt.forEach(function(Et,Rt){this.append(Rt,Et)},this):Array.isArray(xt)?xt.forEach(function(Et){this.append(Et[0],Et[1])},this):xt&&Object.getOwnPropertyNames(xt).forEach(function(Et){this.append(Et,xt[Et])},this)}yt.prototype.append=function(xt,Et){xt=ft(xt),Et=pt(Et);var Rt=this.map[xt];this.map[xt]=Rt?Rt+", "+Et:Et},yt.prototype.delete=function(xt){delete this.map[ft(xt)]},yt.prototype.get=function(xt){return xt=ft(xt),this.has(xt)?this.map[xt]:null},yt.prototype.has=function(xt){return this.map.hasOwnProperty(ft(xt))},yt.prototype.set=function(xt,Et){this.map[ft(xt)]=pt(Et)},yt.prototype.forEach=function(xt,Et){for(var Rt in this.map)this.map.hasOwnProperty(Rt)&&xt.call(Et,this.map[Rt],Rt,this)},yt.prototype.keys=function(){var xt=[];return this.forEach(function(Et,Rt){xt.push(Rt)}),ht(xt)},yt.prototype.values=function(){var xt=[];return this.forEach(function(Et){xt.push(Et)}),ht(xt)},yt.prototype.entries=function(){var xt=[];return this.forEach(function(Et,Rt){xt.push([Rt,Et])}),ht(xt)},ct.iterable&&(yt.prototype[Symbol.iterator]=yt.prototype.entries);function mt(xt){if(xt.bodyUsed)return Promise.reject(new TypeError("Already read"));xt.bodyUsed=!0}function gt(xt){return new Promise(function(Et,Rt){xt.onload=function(){Et(xt.result)},xt.onerror=function(){Rt(xt.error)}})}function bt(xt){var Et=new FileReader,Rt=gt(Et);return Et.readAsArrayBuffer(xt),Rt}function vt(xt){var Et=new FileReader,Rt=gt(Et);return Et.readAsText(xt),Rt}function wt(xt){for(var Et=new Uint8Array(xt),Rt=new Array(Et.length),Lt=0;Lt<Et.length;Lt++)Rt[Lt]=String.fromCharCode(Et[Lt]);return Rt.join("")}function Tt(xt){if(xt.slice)return xt.slice(0);var Et=new Uint8Array(xt.byteLength);return Et.set(new Uint8Array(xt)),Et.buffer}function _t(){return this.bodyUsed=!1,this._initBody=function(xt){this._bodyInit=xt,xt?typeof xt=="string"?this._bodyText=xt:ct.blob&&Blob.prototype.isPrototypeOf(xt)?this._bodyBlob=xt:ct.formData&&FormData.prototype.isPrototypeOf(xt)?this._bodyFormData=xt:ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(xt)?this._bodyText=xt.toString():ct.arrayBuffer&&ct.blob&&lt(xt)?(this._bodyArrayBuffer=Tt(xt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ct.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(xt)||dt(xt))?this._bodyArrayBuffer=Tt(xt):this._bodyText=xt=Object.prototype.toString.call(xt):this._bodyText="",this.headers.get("content-type")||(typeof xt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(xt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ct.blob&&(this.blob=function(){var xt=mt(this);if(xt)return xt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?mt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(bt)}),this.text=function(){var xt=mt(this);if(xt)return xt;if(this._bodyBlob)return vt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(wt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ct.formData&&(this.formData=function(){return this.text().then(jt)}),this.json=function(){return this.text().then(JSON.parse)},this}var St=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Pt(xt){var Et=xt.toUpperCase();return St.indexOf(Et)>-1?Et:xt}function Nt(xt,Et){Et=Et||{};var Rt=Et.body;if(xt instanceof Nt){if(xt.bodyUsed)throw new TypeError("Already read");this.url=xt.url,this.credentials=xt.credentials,Et.headers||(this.headers=new yt(xt.headers)),this.method=xt.method,this.mode=xt.mode,this.signal=xt.signal,!Rt&&xt._bodyInit!=null&&(Rt=xt._bodyInit,xt.bodyUsed=!0)}else this.url=String(xt);if(this.credentials=Et.credentials||this.credentials||"same-origin",(Et.headers||!this.headers)&&(this.headers=new yt(Et.headers)),this.method=Pt(Et.method||this.method||"GET"),this.mode=Et.mode||this.mode||null,this.signal=Et.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Rt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Rt)}Nt.prototype.clone=function(){return new Nt(this,{body:this._bodyInit})};function jt(xt){var Et=new FormData;return xt.trim().split("&").forEach(function(Rt){if(Rt){var Lt=Rt.split("="),Bt=Lt.shift().replace(/\+/g," "),Ot=Lt.join("=").replace(/\+/g," ");Et.append(decodeURIComponent(Bt),decodeURIComponent(Ot))}}),Et}function Ut(xt){var Et=new yt,Rt=xt.replace(/\r?\n[\t ]+/g," ");return Rt.split(/\r?\n/).forEach(function(Lt){var Bt=Lt.split(":"),Ot=Bt.shift().trim();if(Ot){var qt=Bt.join(":").trim();Et.append(Ot,qt)}}),Et}_t.call(Nt.prototype);function Ft(xt,Et){Et||(Et={}),this.type="default",this.status=Et.status===void 0?200:Et.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Et?Et.statusText:"OK",this.headers=new yt(Et.headers),this.url=Et.url||"",this._initBody(xt)}_t.call(Ft.prototype),Ft.prototype.clone=function(){return new Ft(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new yt(this.headers),url:this.url})},Ft.error=function(){var xt=new Ft(null,{status:0,statusText:""});return xt.type="error",xt};var Kt=[301,302,303,307,308];Ft.redirect=function(xt,Et){if(Kt.indexOf(Et)===-1)throw new RangeError("Invalid status code");return new Ft(null,{status:Et,headers:{location:xt}})},st.DOMException=ot.DOMException;try{new st.DOMException}catch{st.DOMException=function(Et,Rt){this.message=Et,this.name=Rt;var Lt=Error(Et);this.stack=Lt.stack},st.DOMException.prototype=Object.create(Error.prototype),st.DOMException.prototype.constructor=st.DOMException}function Mt(xt,Et){return new Promise(function(Rt,Lt){var Bt=new Nt(xt,Et);if(Bt.signal&&Bt.signal.aborted)return Lt(new st.DOMException("Aborted","AbortError"));var Ot=new XMLHttpRequest;function qt(){Ot.abort()}Ot.onload=function(){var At={status:Ot.status,statusText:Ot.statusText,headers:Ut(Ot.getAllResponseHeaders()||"")};At.url="responseURL"in Ot?Ot.responseURL:At.headers.get("X-Request-URL");var Ct="response"in Ot?Ot.response:Ot.responseText;Rt(new Ft(Ct,At))},Ot.onerror=function(){Lt(new TypeError("Network request failed"))},Ot.ontimeout=function(){Lt(new TypeError("Network request failed"))},Ot.onabort=function(){Lt(new st.DOMException("Aborted","AbortError"))},Ot.open(Bt.method,Bt.url,!0),Bt.credentials==="include"?Ot.withCredentials=!0:Bt.credentials==="omit"&&(Ot.withCredentials=!1),"responseType"in Ot&&ct.blob&&(Ot.responseType="blob"),Bt.headers.forEach(function(At,Ct){Ot.setRequestHeader(Ct,At)}),Bt.signal&&(Bt.signal.addEventListener("abort",qt),Ot.onreadystatechange=function(){Ot.readyState===4&&Bt.signal.removeEventListener("abort",qt)}),Ot.send(typeof Bt._bodyInit>"u"?null:Bt._bodyInit)})}return Mt.polyfill=!0,ot.fetch||(ot.fetch=Mt,ot.Headers=yt,ot.Request=Nt,ot.Response=Ft),st.Headers=yt,st.Request=Nt,st.Response=Ft,st.fetch=Mt,Object.defineProperty(st,"__esModule",{value:!0}),st})({})})(at),at.fetch.ponyfill=!0,delete at.fetch.polyfill;var it=at;a=it.fetch,a.default=it.fetch,a.fetch=it.fetch,a.Headers=it.Headers,a.Request=it.Request,a.Response=it.Response,o.exports=a})(browserPonyfill,browserPonyfill.exports);const fetch$1=getDefaultExportFromCjs(browserPonyfill.exports);var browser=typeof self=="object"?self.FormData:window.FormData;async function*batch$1(o,a=1){let rt=[];a<1&&(a=1);for await(const at of o)for(rt.push(at);rt.length>=a;)yield rt.slice(0,a),rt=rt.slice(a);for(;rt.length;)yield rt.slice(0,a),rt=rt.slice(a)}var itBatch=batch$1;const batch=itBatch;async function*parallelBatch$1(o,a=1){for await(const rt of batch(o,a)){const at=rt.map(it=>it().then(ot=>({ok:!0,value:ot}),ot=>({ok:!1,err:ot})));for(let it=0;it<at.length;it++){const ot=await at[it];if(ot.ok)yield ot.value;else throw ot.err}}}var itParallelBatch=parallelBatch$1,isPlainObj=o=>{if(Object.prototype.toString.call(o)!=="[object Object]")return!1;const a=Object.getPrototypeOf(o);return a===null||a===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(o,a,rt)=>Object.defineProperty(o,a,{value:rt,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=o=>{const a=[];for(const rt in o)hasOwnProperty.call(o,rt)&&a.push(rt);if(Object.getOwnPropertySymbols){const rt=Object.getOwnPropertySymbols(o);for(const at of rt)propertyIsEnumerable.call(o,at)&&a.push(at)}return a};function clone(o){return Array.isArray(o)?cloneArray(o):isOptionObject(o)?cloneOptionObject(o):o}function cloneArray(o){const a=o.slice(0,0);return getEnumerableOwnPropertyKeys(o).forEach(rt=>{defineProperty(a,rt,clone(o[rt]))}),a}function cloneOptionObject(o){const a=Object.getPrototypeOf(o)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(o).forEach(rt=>{defineProperty(a,rt,clone(o[rt]))}),a}const mergeKeys=(o,a,rt,at)=>(rt.forEach(it=>{typeof a[it]>"u"&&at.ignoreUndefined||(it in o&&o[it]!==Object.getPrototypeOf(o)?defineProperty(o,it,merge(o[it],a[it],at)):defineProperty(o,it,clone(a[it])))}),o),concatArrays=(o,a,rt)=>{let at=o.slice(0,0),it=0;return[o,a].forEach(ot=>{const st=[];for(let ct=0;ct<ot.length;ct++)!hasOwnProperty.call(ot,ct)||(st.push(String(ct)),ot===o?defineProperty(at,it++,ot[ct]):defineProperty(at,it++,clone(ot[ct])));at=mergeKeys(at,ot,getEnumerableOwnPropertyKeys(ot).filter(ct=>!st.includes(ct)),rt)}),at};function merge(o,a,rt){return rt.concatArrays&&Array.isArray(o)&&Array.isArray(a)?concatArrays(o,a,rt):!isOptionObject(a)||!isOptionObject(o)?clone(a):mergeKeys(o,a,getEnumerableOwnPropertyKeys(a),rt)}var mergeOptions$1=function(...o){const a=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let rt={_:{}};for(const at of o)if(at!==void 0){if(!isOptionObject(at))throw new TypeError("`"+at+"` is not an Option Object");rt=merge(rt,{_:at},a)}return rt._};function assign$1(o,a){for(const rt in a)Object.defineProperty(o,rt,{value:a[rt],enumerable:!0,configurable:!0});return o}function createError(o,a,rt){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");rt||(rt={}),typeof a=="object"&&(rt=a,a=""),a&&(rt.code=a);try{return assign$1(o,rt)}catch{rt.message=o.message,rt.stack=o.stack;const it=function(){};return it.prototype=Object.create(Object.getPrototypeOf(o)),assign$1(new it,rt)}}var errCode=createError,src$d={exports:{}};function base$4(o){if(o.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),rt=0;rt<a.length;rt++)a[rt]=255;for(var at=0;at<o.length;at++){var it=o.charAt(at),ot=it.charCodeAt(0);if(a[ot]!==255)throw new TypeError(it+" is ambiguous");a[ot]=at}var st=o.length,ct=o.charAt(0),lt=Math.log(st)/Math.log(256),ut=Math.log(256)/Math.log(st);function dt(ht){if(ht instanceof Uint8Array||(ArrayBuffer.isView(ht)?ht=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):Array.isArray(ht)&&(ht=Uint8Array.from(ht))),!(ht instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ht.length===0)return"";for(var yt=0,mt=0,gt=0,bt=ht.length;gt!==bt&&ht[gt]===0;)gt++,yt++;for(var vt=(bt-gt)*ut+1>>>0,wt=new Uint8Array(vt);gt!==bt;){for(var Tt=ht[gt],_t=0,St=vt-1;(Tt!==0||_t<mt)&&St!==-1;St--,_t++)Tt+=256*wt[St]>>>0,wt[St]=Tt%st>>>0,Tt=Tt/st>>>0;if(Tt!==0)throw new Error("Non-zero carry");mt=_t,gt++}for(var Pt=vt-mt;Pt!==vt&&wt[Pt]===0;)Pt++;for(var Nt=ct.repeat(yt);Pt<vt;++Pt)Nt+=o.charAt(wt[Pt]);return Nt}function ft(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return new Uint8Array;var yt=0;if(ht[yt]!==" "){for(var mt=0,gt=0;ht[yt]===ct;)mt++,yt++;for(var bt=(ht.length-yt)*lt+1>>>0,vt=new Uint8Array(bt);ht[yt];){var wt=a[ht.charCodeAt(yt)];if(wt===255)return;for(var Tt=0,_t=bt-1;(wt!==0||Tt<gt)&&_t!==-1;_t--,Tt++)wt+=st*vt[_t]>>>0,vt[_t]=wt%256>>>0,wt=wt/256>>>0;if(wt!==0)throw new Error("Non-zero carry");gt=Tt,yt++}if(ht[yt]!==" "){for(var St=bt-gt;St!==bt&&vt[St]===0;)St++;for(var Pt=new Uint8Array(mt+(bt-St)),Nt=mt;St!==bt;)Pt[Nt++]=vt[St++];return Pt}}}function pt(ht){var yt=ft(ht);if(yt)return yt;throw new Error("Non-base"+st+" character")}return{encode:dt,decodeUnsafe:ft,decode:pt}}var src$c=base$4;const textDecoder$1=new TextDecoder,decodeText$1=o=>textDecoder$1.decode(o),textEncoder$1=new TextEncoder,encodeText$2=o=>textEncoder$1.encode(o);function concat$3(o,a){const rt=new Uint8Array(a);let at=0;for(const it of o)rt.set(it,at),at+=it.length;return rt}var util$7={decodeText:decodeText$1,encodeText:encodeText$2,concat:concat$3};const{encodeText:encodeText$1}=util$7;class Base$3{constructor(a,rt,at,it){this.name=a,this.code=rt,this.codeBuf=encodeText$1(this.code),this.alphabet=it,this.codec=at(it)}encode(a){return this.codec.encode(a)}decode(a){for(const rt of a)if(this.alphabet&&this.alphabet.indexOf(rt)<0)throw new Error(`invalid character '${rt}' in '${a}'`);return this.codec.decode(a)}}var base$3=Base$3;const decode$e=(o,a,rt)=>{const at={};for(let ut=0;ut<a.length;++ut)at[a[ut]]=ut;let it=o.length;for(;o[it-1]==="=";)--it;const ot=new Uint8Array(it*rt/8|0);let st=0,ct=0,lt=0;for(let ut=0;ut<it;++ut){const dt=at[o[ut]];if(dt===void 0)throw new SyntaxError("Invalid character "+o[ut]);ct=ct<<rt|dt,st+=rt,st>=8&&(st-=8,ot[lt++]=255&ct>>st)}if(st>=rt||255&ct<<8-st)throw new SyntaxError("Unexpected end of data");return ot},encode$b=(o,a,rt)=>{const at=a[a.length-1]==="=",it=(1<<rt)-1;let ot="",st=0,ct=0;for(let lt=0;lt<o.length;++lt)for(ct=ct<<8|o[lt],st+=8;st>rt;)st-=rt,ot+=a[it&ct>>st];if(st&&(ot+=a[it&ct<<rt-st]),at)for(;ot.length*rt&7;)ot+="=";return ot},rfc4648$2=o=>a=>({encode(rt){return encode$b(rt,a,o)},decode(rt){return decode$e(rt,a,o)}});var rfc4648_1={rfc4648:rfc4648$2};const baseX$1=src$c,Base$2=base$3,{rfc4648:rfc4648$1}=rfc4648_1,{decodeText,encodeText}=util$7,identity$4=()=>({encode:decodeText,decode:encodeText}),constants$1=[["identity","\0",identity$4,""],["base2","0",rfc4648$1(1),"01"],["base8","7",rfc4648$1(3),"01234567"],["base10","9",baseX$1,"0123456789"],["base16","f",rfc4648$1(4),"0123456789abcdef"],["base16upper","F",rfc4648$1(4),"0123456789ABCDEF"],["base32hex","v",rfc4648$1(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",rfc4648$1(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",rfc4648$1(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",rfc4648$1(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",rfc4648$1(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",rfc4648$1(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",rfc4648$1(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",rfc4648$1(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",rfc4648$1(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",baseX$1,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",baseX$1,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",baseX$1,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",baseX$1,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],names$3=constants$1.reduce((o,a)=>(o[a[0]]=new Base$2(a[0],a[1],a[2],a[3]),o),{}),codes$1=constants$1.reduce((o,a)=>(o[a[1]]=names$3[a[0]],o),{});var constants_1={names:names$3,codes:codes$1};(function(o,a){const rt=constants_1,{encodeText:at,decodeText:it,concat:ot}=util$7;function st(mt,gt){if(!gt)throw new Error("requires an encoded Uint8Array");const{name:bt,codeBuf:vt}=ft(mt);return dt(bt,gt),ot([vt,gt],vt.length+gt.length)}function ct(mt,gt){const bt=ft(mt),vt=at(bt.encode(gt));return ot([bt.codeBuf,vt],bt.codeBuf.length+vt.length)}function lt(mt){mt instanceof Uint8Array&&(mt=it(mt));const gt=mt[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(gt)&&(mt=mt.toLowerCase()),ft(mt[0]).decode(mt.substring(1))}function ut(mt){if(mt instanceof Uint8Array&&(mt=it(mt)),Object.prototype.toString.call(mt)!=="[object String]")return!1;try{return ft(mt[0]).name}catch{return!1}}function dt(mt,gt){ft(mt).decode(it(gt))}function ft(mt){if(Object.prototype.hasOwnProperty.call(rt.names,mt))return rt.names[mt];if(Object.prototype.hasOwnProperty.call(rt.codes,mt))return rt.codes[mt];throw new Error(`Unsupported encoding: ${mt}`)}function pt(mt){return mt instanceof Uint8Array&&(mt=it(mt)),ft(mt[0])}a=o.exports=st,a.encode=ct,a.decode=lt,a.isEncoded=ut,a.encoding=ft,a.encodingFromData=pt;const ht=Object.freeze(rt.names),yt=Object.freeze(rt.codes);a.names=ht,a.codes=yt})(src$d,src$d.exports);var encode_1$2=encode$a,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$a(o,a,rt){a=a||[],rt=rt||0;for(var at=rt;o>=INT$1;)a[rt++]=o&255|MSB$3,o/=128;for(;o&MSBALL$1;)a[rt++]=o&255|MSB$3,o>>>=7;return a[rt]=o|0,encode$a.bytes=rt-at+1,a}var decode$d=read$2,MSB$2=128,REST$2=127;function read$2(o,at){var rt=0,at=at||0,it=0,ot=at,st,ct=o.length;do{if(ot>=ct)throw read$2.bytes=0,new RangeError("Could not decode varint");st=o[ot++],rt+=it<28?(st&REST$2)<<it:(st&REST$2)*Math.pow(2,it),it+=7}while(st>=MSB$2);return read$2.bytes=ot-at,rt}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$3=function(o){return o<N1$1?1:o<N2$1?2:o<N3$1?3:o<N4$1?4:o<N5$1?5:o<N6$1?6:o<N7$1?7:o<N8$1?8:o<N9$1?9:10},varint$4={encode:encode_1$2,decode:decode$d,encodingLength:length$3};const names$2=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var constants={names:names$2};function base$2(o,a){if(o.length>=255)throw new TypeError("Alphabet too long");for(var rt=new Uint8Array(256),at=0;at<rt.length;at++)rt[at]=255;for(var it=0;it<o.length;it++){var ot=o.charAt(it),st=ot.charCodeAt(0);if(rt[st]!==255)throw new TypeError(ot+" is ambiguous");rt[st]=it}var ct=o.length,lt=o.charAt(0),ut=Math.log(ct)/Math.log(256),dt=Math.log(256)/Math.log(ct);function ft(yt){if(yt instanceof Uint8Array||(ArrayBuffer.isView(yt)?yt=new Uint8Array(yt.buffer,yt.byteOffset,yt.byteLength):Array.isArray(yt)&&(yt=Uint8Array.from(yt))),!(yt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(yt.length===0)return"";for(var mt=0,gt=0,bt=0,vt=yt.length;bt!==vt&&yt[bt]===0;)bt++,mt++;for(var wt=(vt-bt)*dt+1>>>0,Tt=new Uint8Array(wt);bt!==vt;){for(var _t=yt[bt],St=0,Pt=wt-1;(_t!==0||St<gt)&&Pt!==-1;Pt--,St++)_t+=256*Tt[Pt]>>>0,Tt[Pt]=_t%ct>>>0,_t=_t/ct>>>0;if(_t!==0)throw new Error("Non-zero carry");gt=St,bt++}for(var Nt=wt-gt;Nt!==wt&&Tt[Nt]===0;)Nt++;for(var jt=lt.repeat(mt);Nt<wt;++Nt)jt+=o.charAt(Tt[Nt]);return jt}function pt(yt){if(typeof yt!="string")throw new TypeError("Expected String");if(yt.length===0)return new Uint8Array;var mt=0;if(yt[mt]!==" "){for(var gt=0,bt=0;yt[mt]===lt;)gt++,mt++;for(var vt=(yt.length-mt)*ut+1>>>0,wt=new Uint8Array(vt);yt[mt];){var Tt=rt[yt.charCodeAt(mt)];if(Tt===255)return;for(var _t=0,St=vt-1;(Tt!==0||_t<bt)&&St!==-1;St--,_t++)Tt+=ct*wt[St]>>>0,wt[St]=Tt%256>>>0,Tt=Tt/256>>>0;if(Tt!==0)throw new Error("Non-zero carry");bt=_t,mt++}if(yt[mt]!==" "){for(var Pt=vt-bt;Pt!==vt&&wt[Pt]===0;)Pt++;for(var Nt=new Uint8Array(gt+(vt-Pt)),jt=gt;Pt!==vt;)Nt[jt++]=wt[Pt++];return Nt}}}function ht(yt){var mt=pt(yt);if(mt)return mt;throw new Error(`Non-${a} character`)}return{encode:ft,decodeUnsafe:pt,decode:ht}}var src$b=base$2,_brrp__multiformats_scope_baseX=src$b;const empty=new Uint8Array(0),toHex$2=o=>o.reduce((a,rt)=>a+rt.toString(16).padStart(2,"0"),""),fromHex=o=>{const a=o.match(/../g);return a?new Uint8Array(a.map(rt=>parseInt(rt,16))):empty},equals$4=(o,a)=>{if(o===a)return!0;if(o.byteLength!==a.byteLength)return!1;for(let rt=0;rt<o.byteLength;rt++)if(o[rt]!==a[rt])return!1;return!0},coerce$1=o=>{if(o instanceof Uint8Array&&o.constructor.name==="Uint8Array")return o;if(o instanceof ArrayBuffer)return new Uint8Array(o);if(ArrayBuffer.isView(o))return new Uint8Array(o.buffer,o.byteOffset,o.byteLength);throw new Error("Unknown type, must be binary type")},isBinary=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),fromString$2=o=>new TextEncoder().encode(o),toString$2=o=>new TextDecoder().decode(o),bytes=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$4,coerce:coerce$1,isBinary,fromHex,toHex:toHex$2,fromString:fromString$2,toString:toString$2,empty},Symbol.toStringTag,{value:"Module"}));class Encoder{constructor(a,rt,at){this.name=a,this.prefix=rt,this.baseEncode=at}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}class Decoder$1{constructor(a,rt,at){if(this.name=a,this.prefix=rt,rt.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=rt.codePointAt(0),this.baseDecode=at}decode(a){if(typeof a=="string"){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(a){return or(this,a)}}class ComposedDecoder{constructor(a){this.decoders=a}or(a){return or(this,a)}decode(a){const rt=a[0],at=this.decoders[rt];if(at)return at.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(o,a)=>new ComposedDecoder({...o.decoders||{[o.prefix]:o},...a.decoders||{[a.prefix]:a}});class Codec{constructor(a,rt,at,it){this.name=a,this.prefix=rt,this.baseEncode=at,this.baseDecode=it,this.encoder=new Encoder(a,rt,at),this.decoder=new Decoder$1(a,rt,it)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}const from$2=({name:o,prefix:a,encode:rt,decode:at})=>new Codec(o,a,rt,at),baseX=({prefix:o,name:a,alphabet:rt})=>{const{encode:at,decode:it}=_brrp__multiformats_scope_baseX(rt,a);return from$2({prefix:o,name:a,encode:at,decode:ot=>coerce$1(it(ot))})},decode$c=(o,a,rt,at)=>{const it={};for(let dt=0;dt<a.length;++dt)it[a[dt]]=dt;let ot=o.length;for(;o[ot-1]==="=";)--ot;const st=new Uint8Array(ot*rt/8|0);let ct=0,lt=0,ut=0;for(let dt=0;dt<ot;++dt){const ft=it[o[dt]];if(ft===void 0)throw new SyntaxError(`Non-${at} character`);lt=lt<<rt|ft,ct+=rt,ct>=8&&(ct-=8,st[ut++]=255&lt>>ct)}if(ct>=rt||255&lt<<8-ct)throw new SyntaxError("Unexpected end of data");return st},encode$9=(o,a,rt)=>{const at=a[a.length-1]==="=",it=(1<<rt)-1;let ot="",st=0,ct=0;for(let lt=0;lt<o.length;++lt)for(ct=ct<<8|o[lt],st+=8;st>rt;)st-=rt,ot+=a[it&ct>>st];if(st&&(ot+=a[it&ct<<rt-st]),at)for(;ot.length*rt&7;)ot+="=";return ot},rfc4648=({name:o,prefix:a,bitsPerChar:rt,alphabet:at})=>from$2({prefix:a,name:o,encode(it){return encode$9(it,at,rt)},decode(it){return decode$c(it,at,rt,o)}}),identity$3=from$2({prefix:"\0",name:"identity",encode:o=>toString$2(o),decode:o=>fromString$2(o)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$3},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64$1=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$2=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$1,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),alphabetBytesToChars=alphabet.reduce((o,a,rt)=>(o[rt]=a,o),[]),alphabetCharsToBytes=alphabet.reduce((o,a,rt)=>(o[a.codePointAt(0)]=rt,o),[]);function encode$8(o){return o.reduce((a,rt)=>(a+=alphabetBytesToChars[rt],a),"")}function decode$b(o){const a=[];for(const rt of o){const at=alphabetCharsToBytes[rt.codePointAt(0)];if(at===void 0)throw new Error(`Non-base256emoji character: ${rt}`);a.push(at)}return new Uint8Array(a)}const base256emoji=from$2({prefix:"\u{1F680}",name:"base256emoji",encode:encode$8,decode:decode$b}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));var encode_1$1=encode$7,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$7(o,a,rt){a=a||[],rt=rt||0;for(var at=rt;o>=INT;)a[rt++]=o&255|MSB,o/=128;for(;o&MSBALL;)a[rt++]=o&255|MSB,o>>>=7;return a[rt]=o|0,encode$7.bytes=rt-at+1,a}var decode$a=read$1,MSB$1=128,REST$1=127;function read$1(o,at){var rt=0,at=at||0,it=0,ot=at,st,ct=o.length;do{if(ot>=ct)throw read$1.bytes=0,new RangeError("Could not decode varint");st=o[ot++],rt+=it<28?(st&REST$1)<<it:(st&REST$1)*Math.pow(2,it),it+=7}while(st>=MSB$1);return read$1.bytes=ot-at,rt}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length$2=function(o){return o<N1?1:o<N2?2:o<N3?3:o<N4?4:o<N5?5:o<N6?6:o<N7?7:o<N8?8:o<N9?9:10},varint$3={encode:encode_1$1,decode:decode$a,encodingLength:length$2},_brrp_varint=varint$3;const decode$9=(o,a=0)=>[_brrp_varint.decode(o,a),_brrp_varint.decode.bytes],encodeTo=(o,a,rt=0)=>(_brrp_varint.encode(o,a,rt),a),encodingLength=o=>_brrp_varint.encodingLength(o),varint$2=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$9,encodeTo,encodingLength},Symbol.toStringTag,{value:"Module"})),create=(o,a)=>{const rt=a.byteLength,at=encodingLength(o),it=at+encodingLength(rt),ot=new Uint8Array(it+rt);return encodeTo(o,ot,0),encodeTo(rt,ot,at),ot.set(a,it),new Digest(o,rt,a,ot)},decode$8=o=>{const a=coerce$1(o),[rt,at]=decode$9(a),[it,ot]=decode$9(a.subarray(at)),st=a.subarray(at+ot);if(st.byteLength!==it)throw new Error("Incorrect length");return new Digest(rt,it,st,a)},equals$3=(o,a)=>o===a?!0:o.code===a.code&&o.size===a.size&&equals$4(o.bytes,a.bytes);class Digest{constructor(a,rt,at,it){this.code=a,this.size=rt,this.digest=at,this.bytes=it}}const digest$2=Object.freeze(Object.defineProperty({__proto__:null,create,decode:decode$8,equals:equals$3,Digest},Symbol.toStringTag,{value:"Module"})),from$1=({name:o,code:a,encode:rt})=>new Hasher(o,a,rt);class Hasher{constructor(a,rt,at){this.name=a,this.code=rt,this.encode=at}digest(a){if(a instanceof Uint8Array){const rt=this.encode(a);return rt instanceof Uint8Array?create(this.code,rt):rt.then(at=>create(this.code,at))}else throw Error("Unknown type, must be binary type")}}const hasher=Object.freeze(Object.defineProperty({__proto__:null,from:from$1,Hasher},Symbol.toStringTag,{value:"Module"})),sha$2=o=>async a=>new Uint8Array(await crypto.subtle.digest(o,a)),sha256$3=from$1({name:"sha2-256",code:18,encode:sha$2("SHA-256")}),sha512$2=from$1({name:"sha2-512",code:19,encode:sha$2("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$3,sha512:sha512$2},Symbol.toStringTag,{value:"Module"})),code$2=0,name$2="identity",encode$6=coerce$1,digest$1=o=>create(code$2,encode$6(o)),identity$1={code:code$2,name:name$2,encode:encode$6,digest:digest$1},identity$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),name$1="raw",code$1=85,encode$5=o=>coerce$1(o),decode$7=o=>coerce$1(o),raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$1,code:code$1,encode:encode$5,decode:decode$7},Symbol.toStringTag,{value:"Module"})),textEncoder=new TextEncoder,textDecoder=new TextDecoder,name="json",code=512,encode$4=o=>textEncoder.encode(JSON.stringify(o)),decode$6=o=>JSON.parse(textDecoder.decode(o)),json=Object.freeze(Object.defineProperty({__proto__:null,name,code,encode:encode$4,decode:decode$6},Symbol.toStringTag,{value:"Module"}));class CID{constructor(a,rt,at,it){this.code=rt,this.version=a,this.multihash=at,this.bytes=it,this.byteOffset=it.byteOffset,this.byteLength=it.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:a,multihash:rt}=this;if(a!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(rt.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(rt)}}}toV1(){switch(this.version){case 0:{const{code:a,digest:rt}=this.multihash,at=create(a,rt);return CID.createV1(this.code,at)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(a){return a&&this.code===a.code&&this.version===a.version&&equals$3(this.multihash,a.multihash)}toString(a){const{bytes:rt,version:at,_baseCache:it}=this;switch(at){case 0:return toStringV0(rt,it,a||base58btc.encoder);default:return toStringV1(rt,it,a||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(a){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(a&&(a[cidSymbol]||a.asCID===a))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(a){if(a instanceof CID)return a;if(a!=null&&a.asCID===a){const{version:rt,code:at,multihash:it,bytes:ot}=a;return new CID(rt,at,it,ot||encodeCID(rt,at,it.bytes))}else if(a!=null&&a[cidSymbol]===!0){const{version:rt,multihash:at,code:it}=a,ot=decode$8(at);return CID.create(rt,it,ot)}else return null}static create(a,rt,at){if(typeof rt!="number")throw new Error("String codecs are no longer supported");switch(a){case 0:{if(rt!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(a,rt,at,at.bytes)}case 1:{const it=encodeCID(a,rt,at.bytes);return new CID(a,rt,at,it)}default:throw new Error("Invalid version")}}static createV0(a){return CID.create(0,DAG_PB_CODE,a)}static createV1(a,rt){return CID.create(1,a,rt)}static decode(a){const[rt,at]=CID.decodeFirst(a);if(at.length)throw new Error("Incorrect length");return rt}static decodeFirst(a){const rt=CID.inspectBytes(a),at=rt.size-rt.multihashSize,it=coerce$1(a.subarray(at,at+rt.multihashSize));if(it.byteLength!==rt.multihashSize)throw new Error("Incorrect length");const ot=it.subarray(rt.multihashSize-rt.digestSize),st=new Digest(rt.multihashCode,rt.digestSize,ot,it);return[rt.version===0?CID.createV0(st):CID.createV1(rt.codec,st),a.subarray(rt.size)]}static inspectBytes(a){let rt=0;const at=()=>{const[ft,pt]=decode$9(a.subarray(rt));return rt+=pt,ft};let it=at(),ot=DAG_PB_CODE;if(it===18?(it=0,rt=0):it===1&&(ot=at()),it!==0&&it!==1)throw new RangeError(`Invalid CID version ${it}`);const st=rt,ct=at(),lt=at(),ut=rt+lt,dt=ut-st;return{version:it,codec:ot,multihashCode:ct,digestSize:lt,multihashSize:dt,size:ut}}static parse(a,rt){const[at,it]=parseCIDtoBytes(a,rt),ot=CID.decode(it);return ot._baseCache.set(at,a),ot}}const parseCIDtoBytes=(o,a)=>{switch(o[0]){case"Q":{const rt=a||base58btc;return[base58btc.prefix,rt.decode(`${base58btc.prefix}${o}`)]}case base58btc.prefix:{const rt=a||base58btc;return[base58btc.prefix,rt.decode(o)]}case base32.prefix:{const rt=a||base32;return[base32.prefix,rt.decode(o)]}default:{if(a==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[o[0],a.decode(o)]}}},toStringV0=(o,a,rt)=>{const{prefix:at}=rt;if(at!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${rt.name} encoding`);const it=a.get(at);if(it==null){const ot=rt.encode(o).slice(1);return a.set(at,ot),ot}else return it},toStringV1=(o,a,rt)=>{const{prefix:at}=rt,it=a.get(at);if(it==null){const ot=rt.encode(o);return a.set(at,ot),ot}else return it},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(o,a,rt)=>{const at=encodingLength(o),it=at+encodingLength(a),ot=new Uint8Array(it+rt.byteLength);return encodeTo(o,ot,0),encodeTo(a,ot,at),ot.set(rt,it),ot},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version$q="0.0.0-dev",deprecate=(o,a)=>{if(o.test(version$q))console.warn(a);else throw new Error(a)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$2,...base256emoji$1},hashes={...sha2,...identity$2},codecs={raw,json},basics=Object.freeze(Object.defineProperty({__proto__:null,CID,hasher,digest:digest$2,varint:varint$2,bytes,hashes,bases,codecs},Symbol.toStringTag,{value:"Module"}));function asUint8Array(o){return globalThis.Buffer!=null?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):o}function allocUnsafe(o=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(o)):new Uint8Array(o)}function createCodec(o,a,rt,at){return{name:o,prefix:a,encoder:{name:o,prefix:a,encode:rt},decoder:{decode:at}}}const string=createCodec("utf8","u",o=>"u"+new TextDecoder("utf8").decode(o),o=>new TextEncoder().encode(o.substring(1))),ascii=createCodec("ascii","a",o=>{let a="a";for(let rt=0;rt<o.length;rt++)a+=String.fromCharCode(o[rt]);return a},o=>{o=o.substring(1);const a=allocUnsafe(o.length);for(let rt=0;rt<o.length;rt++)a[rt]=o.charCodeAt(rt);return a}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function toString(o,a="utf8"){const rt=BASES[a];if(!rt)throw new Error(`Unsupported encoding "${a}"`);return(a==="utf8"||a==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(o.buffer,o.byteOffset,o.byteLength).toString("utf8"):rt.encoder.encode(o).substring(1)}const toString$1=Object.freeze(Object.defineProperty({__proto__:null,toString},Symbol.toStringTag,{value:"Module"})),require$$5$1=getAugmentedNamespace(toString$1);function fromString(o,a="utf8"){const rt=BASES[a];if(!rt)throw new Error(`Unsupported encoding "${a}"`);return(a==="utf8"||a==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(o,"utf-8")):rt.decoder.decode(`${rt.prefix}${o}`)}const fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"})),require$$1$3=getAugmentedNamespace(fromString$1);function concat$1(o,a){a||(a=o.reduce((it,ot)=>it+ot.length,0));const rt=allocUnsafe(a);let at=0;for(const it of o)rt.set(it,at),at+=it.length;return asUint8Array(rt)}const concat$2=Object.freeze(Object.defineProperty({__proto__:null,concat:concat$1},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(concat$2),multibase=src$d.exports,varint$1=varint$4,{names:names$1}=constants,{toString:uint8ArrayToString}=require$$5$1,{fromString:uint8ArrayFromString$1}=require$$1$3,{concat:uint8ArrayConcat}=require$$1$2,codes={};for(const o in names$1){const a=o;codes[names$1[a]]=a}Object.freeze(codes);function toHexString(o){if(!(o instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return uint8ArrayToString(o,"base16")}function fromHexString(o){return uint8ArrayFromString$1(o,"base16")}function toB58String(o){if(!(o instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return uint8ArrayToString(multibase.encode("base58btc",o)).slice(1)}function fromB58String(o){const a=o instanceof Uint8Array?uint8ArrayToString(o):o;return multibase.decode("z"+a)}function decode$5(o){if(!(o instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(o.length<2)throw new Error("multihash too short. must be > 2 bytes.");const a=varint$1.decode(o);if(!isValidCode(a))throw new Error(`multihash unknown function code: 0x${a.toString(16)}`);o=o.slice(varint$1.decode.bytes);const rt=varint$1.decode(o);if(rt<0)throw new Error(`multihash invalid length: ${rt}`);if(o=o.slice(varint$1.decode.bytes),o.length!==rt)throw new Error(`multihash length inconsistent: 0x${uint8ArrayToString(o,"base16")}`);return{code:a,name:codes[a],length:rt,digest:o}}function encode$3(o,a,rt){if(!o||a===void 0)throw new Error("multihash encode requires at least two args: digest, code");const at=coerceCode(a);if(!(o instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(rt==null&&(rt=o.length),rt&&o.length!==rt)throw new Error("digest length should be equal to specified length.");const it=varint$1.encode(at),ot=varint$1.encode(rt);return uint8ArrayConcat([it,ot,o],it.length+ot.length+o.length)}function coerceCode(o){let a=o;if(typeof o=="string"){if(names$1[o]===void 0)throw new Error(`Unrecognized hash function named: ${o}`);a=names$1[o]}if(typeof a!="number")throw new Error(`Hash function code should be a number. Got: ${a}`);if(codes[a]===void 0&&!isAppCode(a))throw new Error(`Unrecognized function code: ${a}`);return a}function isAppCode(o){return o>0&&o<16}function isValidCode(o){return!!(isAppCode(o)||codes[o])}function validate(o){decode$5(o)}function prefix$3(o){return validate(o),o.subarray(0,2)}var src$a={names:names$1,codes,toHexString,fromHexString,toB58String,fromB58String,decode:decode$5,encode:encode$3,coerceCode,isAppCode,validate,prefix:prefix$3,isValidCode},sha3$3={exports:{}};(function(o){(function(){var a="input is invalid type",rt="finalize already called",at=typeof window=="object",it=at?window:{};it.JS_SHA3_NO_WINDOW&&(at=!1);var ot=!at&&typeof self=="object",st=!it.JS_SHA3_NO_NODE_JS&&typeof browser$1.exports=="object"&&browser$1.exports.versions&&browser$1.exports.versions.node;st?it=commonjsGlobal:ot&&(it=self);var ct=!it.JS_SHA3_NO_COMMON_JS&&!0&&o.exports,lt=!it.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",ut="0123456789abcdef".split(""),dt=[31,7936,2031616,520093696],ft=[4,1024,262144,67108864],pt=[1,256,65536,16777216],ht=[6,1536,393216,100663296],yt=[0,8,16,24],mt=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],gt=[224,256,384,512],bt=[128,256],vt=["hex","buffer","arrayBuffer","array","digest"],wt={128:168,256:136};(it.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function($t){return Object.prototype.toString.call($t)==="[object Array]"}),lt&&(it.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function($t){return typeof $t=="object"&&$t.buffer&&$t.buffer.constructor===ArrayBuffer});for(var Tt=function($t,Vt,Qt){return function(Zt){return new Ct($t,Vt,$t).update(Zt)[Qt]()}},_t=function($t,Vt,Qt){return function(Zt,Yt){return new Ct($t,Vt,Yt).update(Zt)[Qt]()}},St=function($t,Vt,Qt){return function(Zt,Yt,tr,nr){return xt["cshake"+$t].update(Zt,Yt,tr,nr)[Qt]()}},Pt=function($t,Vt,Qt){return function(Zt,Yt,tr,nr){return xt["kmac"+$t].update(Zt,Yt,tr,nr)[Qt]()}},Nt=function($t,Vt,Qt,Zt){for(var Yt=0;Yt<vt.length;++Yt){var tr=vt[Yt];$t[tr]=Vt(Qt,Zt,tr)}return $t},jt=function($t,Vt){var Qt=Tt($t,Vt,"hex");return Qt.create=function(){return new Ct($t,Vt,$t)},Qt.update=function(Zt){return Qt.create().update(Zt)},Nt(Qt,Tt,$t,Vt)},Ut=function($t,Vt){var Qt=_t($t,Vt,"hex");return Qt.create=function(Zt){return new Ct($t,Vt,Zt)},Qt.update=function(Zt,Yt){return Qt.create(Yt).update(Zt)},Nt(Qt,_t,$t,Vt)},Ft=function($t,Vt){var Qt=wt[$t],Zt=St($t,Vt,"hex");return Zt.create=function(Yt,tr,nr){return!tr&&!nr?xt["shake"+$t].create(Yt):new Ct($t,Vt,Yt).bytepad([tr,nr],Qt)},Zt.update=function(Yt,tr,nr,Xt){return Zt.create(tr,nr,Xt).update(Yt)},Nt(Zt,St,$t,Vt)},Kt=function($t,Vt){var Qt=wt[$t],Zt=Pt($t,Vt,"hex");return Zt.create=function(Yt,tr,nr){return new Dt($t,Vt,tr).bytepad(["KMAC",nr],Qt).bytepad([Yt],Qt)},Zt.update=function(Yt,tr,nr,Xt){return Zt.create(Yt,nr,Xt).update(tr)},Nt(Zt,Pt,$t,Vt)},Mt=[{name:"keccak",padding:pt,bits:gt,createMethod:jt},{name:"sha3",padding:ht,bits:gt,createMethod:jt},{name:"shake",padding:dt,bits:bt,createMethod:Ut},{name:"cshake",padding:ft,bits:bt,createMethod:Ft},{name:"kmac",padding:ft,bits:bt,createMethod:Kt}],xt={},Et=[],Rt=0;Rt<Mt.length;++Rt)for(var Lt=Mt[Rt],Bt=Lt.bits,Ot=0;Ot<Bt.length;++Ot){var qt=Lt.name+"_"+Bt[Ot];if(Et.push(qt),xt[qt]=Lt.createMethod(Bt[Ot],Lt.padding),Lt.name!=="sha3"){var At=Lt.name+Bt[Ot];Et.push(At),xt[At]=xt[qt]}}function Ct($t,Vt,Qt){this.blocks=[],this.s=[],this.padding=Vt,this.outputBits=Qt,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-($t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Qt>>5,this.extraBytes=(Qt&31)>>3;for(var Zt=0;Zt<50;++Zt)this.s[Zt]=0}Ct.prototype.update=function($t){if(this.finalized)throw new Error(rt);var Vt,Qt=typeof $t;if(Qt!=="string"){if(Qt==="object"){if($t===null)throw new Error(a);if(lt&&$t.constructor===ArrayBuffer)$t=new Uint8Array($t);else if(!Array.isArray($t)&&(!lt||!ArrayBuffer.isView($t)))throw new Error(a)}else throw new Error(a);Vt=!0}for(var Zt=this.blocks,Yt=this.byteCount,tr=$t.length,nr=this.blockCount,Xt=0,ar=this.s,er,ir;Xt<tr;){if(this.reset)for(this.reset=!1,Zt[0]=this.block,er=1;er<nr+1;++er)Zt[er]=0;if(Vt)for(er=this.start;Xt<tr&&er<Yt;++Xt)Zt[er>>2]|=$t[Xt]<<yt[er++&3];else for(er=this.start;Xt<tr&&er<Yt;++Xt)ir=$t.charCodeAt(Xt),ir<128?Zt[er>>2]|=ir<<yt[er++&3]:ir<2048?(Zt[er>>2]|=(192|ir>>6)<<yt[er++&3],Zt[er>>2]|=(128|ir&63)<<yt[er++&3]):ir<55296||ir>=57344?(Zt[er>>2]|=(224|ir>>12)<<yt[er++&3],Zt[er>>2]|=(128|ir>>6&63)<<yt[er++&3],Zt[er>>2]|=(128|ir&63)<<yt[er++&3]):(ir=65536+((ir&1023)<<10|$t.charCodeAt(++Xt)&1023),Zt[er>>2]|=(240|ir>>18)<<yt[er++&3],Zt[er>>2]|=(128|ir>>12&63)<<yt[er++&3],Zt[er>>2]|=(128|ir>>6&63)<<yt[er++&3],Zt[er>>2]|=(128|ir&63)<<yt[er++&3]);if(this.lastByteIndex=er,er>=Yt){for(this.start=er-Yt,this.block=Zt[nr],er=0;er<nr;++er)ar[er]^=Zt[er];Wt(ar),this.reset=!0}else this.start=er}return this},Ct.prototype.encode=function($t,Vt){var Qt=$t&255,Zt=1,Yt=[Qt];for($t=$t>>8,Qt=$t&255;Qt>0;)Yt.unshift(Qt),$t=$t>>8,Qt=$t&255,++Zt;return Vt?Yt.push(Zt):Yt.unshift(Zt),this.update(Yt),Yt.length},Ct.prototype.encodeString=function($t){var Vt,Qt=typeof $t;if(Qt!=="string"){if(Qt==="object"){if($t===null)throw new Error(a);if(lt&&$t.constructor===ArrayBuffer)$t=new Uint8Array($t);else if(!Array.isArray($t)&&(!lt||!ArrayBuffer.isView($t)))throw new Error(a)}else throw new Error(a);Vt=!0}var Zt=0,Yt=$t.length;if(Vt)Zt=Yt;else for(var tr=0;tr<$t.length;++tr){var nr=$t.charCodeAt(tr);nr<128?Zt+=1:nr<2048?Zt+=2:nr<55296||nr>=57344?Zt+=3:(nr=65536+((nr&1023)<<10|$t.charCodeAt(++tr)&1023),Zt+=4)}return Zt+=this.encode(Zt*8),this.update($t),Zt},Ct.prototype.bytepad=function($t,Vt){for(var Qt=this.encode(Vt),Zt=0;Zt<$t.length;++Zt)Qt+=this.encodeString($t[Zt]);var Yt=Vt-Qt%Vt,tr=[];return tr.length=Yt,this.update(tr),this},Ct.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var $t=this.blocks,Vt=this.lastByteIndex,Qt=this.blockCount,Zt=this.s;if($t[Vt>>2]|=this.padding[Vt&3],this.lastByteIndex===this.byteCount)for($t[0]=$t[Qt],Vt=1;Vt<Qt+1;++Vt)$t[Vt]=0;for($t[Qt-1]|=2147483648,Vt=0;Vt<Qt;++Vt)Zt[Vt]^=$t[Vt];Wt(Zt)}},Ct.prototype.toString=Ct.prototype.hex=function(){this.finalize();for(var $t=this.blockCount,Vt=this.s,Qt=this.outputBlocks,Zt=this.extraBytes,Yt=0,tr=0,nr="",Xt;tr<Qt;){for(Yt=0;Yt<$t&&tr<Qt;++Yt,++tr)Xt=Vt[Yt],nr+=ut[Xt>>4&15]+ut[Xt&15]+ut[Xt>>12&15]+ut[Xt>>8&15]+ut[Xt>>20&15]+ut[Xt>>16&15]+ut[Xt>>28&15]+ut[Xt>>24&15];tr%$t===0&&(Wt(Vt),Yt=0)}return Zt&&(Xt=Vt[Yt],nr+=ut[Xt>>4&15]+ut[Xt&15],Zt>1&&(nr+=ut[Xt>>12&15]+ut[Xt>>8&15]),Zt>2&&(nr+=ut[Xt>>20&15]+ut[Xt>>16&15])),nr},Ct.prototype.arrayBuffer=function(){this.finalize();var $t=this.blockCount,Vt=this.s,Qt=this.outputBlocks,Zt=this.extraBytes,Yt=0,tr=0,nr=this.outputBits>>3,Xt;Zt?Xt=new ArrayBuffer(Qt+1<<2):Xt=new ArrayBuffer(nr);for(var ar=new Uint32Array(Xt);tr<Qt;){for(Yt=0;Yt<$t&&tr<Qt;++Yt,++tr)ar[tr]=Vt[Yt];tr%$t===0&&Wt(Vt)}return Zt&&(ar[Yt]=Vt[Yt],Xt=Xt.slice(0,nr)),Xt},Ct.prototype.buffer=Ct.prototype.arrayBuffer,Ct.prototype.digest=Ct.prototype.array=function(){this.finalize();for(var $t=this.blockCount,Vt=this.s,Qt=this.outputBlocks,Zt=this.extraBytes,Yt=0,tr=0,nr=[],Xt,ar;tr<Qt;){for(Yt=0;Yt<$t&&tr<Qt;++Yt,++tr)Xt=tr<<2,ar=Vt[Yt],nr[Xt]=ar&255,nr[Xt+1]=ar>>8&255,nr[Xt+2]=ar>>16&255,nr[Xt+3]=ar>>24&255;tr%$t===0&&Wt(Vt)}return Zt&&(Xt=tr<<2,ar=Vt[Yt],nr[Xt]=ar&255,Zt>1&&(nr[Xt+1]=ar>>8&255),Zt>2&&(nr[Xt+2]=ar>>16&255)),nr};function Dt($t,Vt,Qt){Ct.call(this,$t,Vt,Qt)}Dt.prototype=new Ct,Dt.prototype.finalize=function(){return this.encode(this.outputBits,!0),Ct.prototype.finalize.call(this)};var Wt=function($t){var Vt,Qt,Zt,Yt,tr,nr,Xt,ar,er,ir,zt,kt,It,Ht,Gt,Jt,rr,sr,cr,dr,ur,lr,Fr,pr,hr,Or,mr,wr,Lr,yr,Cr,jr,gr,Tr,Ur,Er,br,qr,_r,Ar,Wr,$r,Sr,zr,kr,xr,Br,fr,vr,Hr,Pr,Ir,Yr,Rr,Dr,Jr,Nr,Mr,Vr,Kr,Gr,Zr,Qr;for(Zt=0;Zt<48;Zt+=2)Yt=$t[0]^$t[10]^$t[20]^$t[30]^$t[40],tr=$t[1]^$t[11]^$t[21]^$t[31]^$t[41],nr=$t[2]^$t[12]^$t[22]^$t[32]^$t[42],Xt=$t[3]^$t[13]^$t[23]^$t[33]^$t[43],ar=$t[4]^$t[14]^$t[24]^$t[34]^$t[44],er=$t[5]^$t[15]^$t[25]^$t[35]^$t[45],ir=$t[6]^$t[16]^$t[26]^$t[36]^$t[46],zt=$t[7]^$t[17]^$t[27]^$t[37]^$t[47],kt=$t[8]^$t[18]^$t[28]^$t[38]^$t[48],It=$t[9]^$t[19]^$t[29]^$t[39]^$t[49],Vt=kt^(nr<<1|Xt>>>31),Qt=It^(Xt<<1|nr>>>31),$t[0]^=Vt,$t[1]^=Qt,$t[10]^=Vt,$t[11]^=Qt,$t[20]^=Vt,$t[21]^=Qt,$t[30]^=Vt,$t[31]^=Qt,$t[40]^=Vt,$t[41]^=Qt,Vt=Yt^(ar<<1|er>>>31),Qt=tr^(er<<1|ar>>>31),$t[2]^=Vt,$t[3]^=Qt,$t[12]^=Vt,$t[13]^=Qt,$t[22]^=Vt,$t[23]^=Qt,$t[32]^=Vt,$t[33]^=Qt,$t[42]^=Vt,$t[43]^=Qt,Vt=nr^(ir<<1|zt>>>31),Qt=Xt^(zt<<1|ir>>>31),$t[4]^=Vt,$t[5]^=Qt,$t[14]^=Vt,$t[15]^=Qt,$t[24]^=Vt,$t[25]^=Qt,$t[34]^=Vt,$t[35]^=Qt,$t[44]^=Vt,$t[45]^=Qt,Vt=ar^(kt<<1|It>>>31),Qt=er^(It<<1|kt>>>31),$t[6]^=Vt,$t[7]^=Qt,$t[16]^=Vt,$t[17]^=Qt,$t[26]^=Vt,$t[27]^=Qt,$t[36]^=Vt,$t[37]^=Qt,$t[46]^=Vt,$t[47]^=Qt,Vt=ir^(Yt<<1|tr>>>31),Qt=zt^(tr<<1|Yt>>>31),$t[8]^=Vt,$t[9]^=Qt,$t[18]^=Vt,$t[19]^=Qt,$t[28]^=Vt,$t[29]^=Qt,$t[38]^=Vt,$t[39]^=Qt,$t[48]^=Vt,$t[49]^=Qt,Ht=$t[0],Gt=$t[1],xr=$t[11]<<4|$t[10]>>>28,Br=$t[10]<<4|$t[11]>>>28,wr=$t[20]<<3|$t[21]>>>29,Lr=$t[21]<<3|$t[20]>>>29,Kr=$t[31]<<9|$t[30]>>>23,Gr=$t[30]<<9|$t[31]>>>23,$r=$t[40]<<18|$t[41]>>>14,Sr=$t[41]<<18|$t[40]>>>14,Tr=$t[2]<<1|$t[3]>>>31,Ur=$t[3]<<1|$t[2]>>>31,Jt=$t[13]<<12|$t[12]>>>20,rr=$t[12]<<12|$t[13]>>>20,fr=$t[22]<<10|$t[23]>>>22,vr=$t[23]<<10|$t[22]>>>22,yr=$t[33]<<13|$t[32]>>>19,Cr=$t[32]<<13|$t[33]>>>19,Zr=$t[42]<<2|$t[43]>>>30,Qr=$t[43]<<2|$t[42]>>>30,Rr=$t[5]<<30|$t[4]>>>2,Dr=$t[4]<<30|$t[5]>>>2,Er=$t[14]<<6|$t[15]>>>26,br=$t[15]<<6|$t[14]>>>26,sr=$t[25]<<11|$t[24]>>>21,cr=$t[24]<<11|$t[25]>>>21,Hr=$t[34]<<15|$t[35]>>>17,Pr=$t[35]<<15|$t[34]>>>17,jr=$t[45]<<29|$t[44]>>>3,gr=$t[44]<<29|$t[45]>>>3,pr=$t[6]<<28|$t[7]>>>4,hr=$t[7]<<28|$t[6]>>>4,Jr=$t[17]<<23|$t[16]>>>9,Nr=$t[16]<<23|$t[17]>>>9,qr=$t[26]<<25|$t[27]>>>7,_r=$t[27]<<25|$t[26]>>>7,dr=$t[36]<<21|$t[37]>>>11,ur=$t[37]<<21|$t[36]>>>11,Ir=$t[47]<<24|$t[46]>>>8,Yr=$t[46]<<24|$t[47]>>>8,zr=$t[8]<<27|$t[9]>>>5,kr=$t[9]<<27|$t[8]>>>5,Or=$t[18]<<20|$t[19]>>>12,mr=$t[19]<<20|$t[18]>>>12,Mr=$t[29]<<7|$t[28]>>>25,Vr=$t[28]<<7|$t[29]>>>25,Ar=$t[38]<<8|$t[39]>>>24,Wr=$t[39]<<8|$t[38]>>>24,lr=$t[48]<<14|$t[49]>>>18,Fr=$t[49]<<14|$t[48]>>>18,$t[0]=Ht^~Jt&sr,$t[1]=Gt^~rr&cr,$t[10]=pr^~Or&wr,$t[11]=hr^~mr&Lr,$t[20]=Tr^~Er&qr,$t[21]=Ur^~br&_r,$t[30]=zr^~xr&fr,$t[31]=kr^~Br&vr,$t[40]=Rr^~Jr&Mr,$t[41]=Dr^~Nr&Vr,$t[2]=Jt^~sr&dr,$t[3]=rr^~cr&ur,$t[12]=Or^~wr&yr,$t[13]=mr^~Lr&Cr,$t[22]=Er^~qr&Ar,$t[23]=br^~_r&Wr,$t[32]=xr^~fr&Hr,$t[33]=Br^~vr&Pr,$t[42]=Jr^~Mr&Kr,$t[43]=Nr^~Vr&Gr,$t[4]=sr^~dr&lr,$t[5]=cr^~ur&Fr,$t[14]=wr^~yr&jr,$t[15]=Lr^~Cr&gr,$t[24]=qr^~Ar&$r,$t[25]=_r^~Wr&Sr,$t[34]=fr^~Hr&Ir,$t[35]=vr^~Pr&Yr,$t[44]=Mr^~Kr&Zr,$t[45]=Vr^~Gr&Qr,$t[6]=dr^~lr&Ht,$t[7]=ur^~Fr&Gt,$t[16]=yr^~jr&pr,$t[17]=Cr^~gr&hr,$t[26]=Ar^~$r&Tr,$t[27]=Wr^~Sr&Ur,$t[36]=Hr^~Ir&zr,$t[37]=Pr^~Yr&kr,$t[46]=Kr^~Zr&Rr,$t[47]=Gr^~Qr&Dr,$t[8]=lr^~Ht&Jt,$t[9]=Fr^~Gt&rr,$t[18]=jr^~pr&Or,$t[19]=gr^~hr&mr,$t[28]=$r^~Tr&Er,$t[29]=Sr^~Ur&br,$t[38]=Ir^~zr&xr,$t[39]=Yr^~kr&Br,$t[48]=Zr^~Rr&Jr,$t[49]=Qr^~Dr&Nr,$t[0]^=mt[Zt],$t[1]^=mt[Zt+1]};if(ct)o.exports=xt;else for(Rt=0;Rt<Et.length;++Rt)it[Et[Rt]]=xt[Et[Rt]]})()})(sha3$3);const sha3$2=sha3$3.exports;var murmurhash3jsRevisited={exports:{}},murmurHash3js={exports:{}};(function(o,a){(function(rt,at){var it={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function ot(mt){if(!Array.isArray(mt)&&!ArrayBuffer.isView(mt))return!1;for(var gt=0;gt<mt.length;gt++)if(!Number.isInteger(mt[gt])||mt[gt]<0||mt[gt]>255)return!1;return!0}function st(mt,gt){return(mt&65535)*gt+(((mt>>>16)*gt&65535)<<16)}function ct(mt,gt){return mt<<gt|mt>>>32-gt}function lt(mt){return mt^=mt>>>16,mt=st(mt,2246822507),mt^=mt>>>13,mt=st(mt,3266489909),mt^=mt>>>16,mt}function ut(mt,gt){mt=[mt[0]>>>16,mt[0]&65535,mt[1]>>>16,mt[1]&65535],gt=[gt[0]>>>16,gt[0]&65535,gt[1]>>>16,gt[1]&65535];var bt=[0,0,0,0];return bt[3]+=mt[3]+gt[3],bt[2]+=bt[3]>>>16,bt[3]&=65535,bt[2]+=mt[2]+gt[2],bt[1]+=bt[2]>>>16,bt[2]&=65535,bt[1]+=mt[1]+gt[1],bt[0]+=bt[1]>>>16,bt[1]&=65535,bt[0]+=mt[0]+gt[0],bt[0]&=65535,[bt[0]<<16|bt[1],bt[2]<<16|bt[3]]}function dt(mt,gt){mt=[mt[0]>>>16,mt[0]&65535,mt[1]>>>16,mt[1]&65535],gt=[gt[0]>>>16,gt[0]&65535,gt[1]>>>16,gt[1]&65535];var bt=[0,0,0,0];return bt[3]+=mt[3]*gt[3],bt[2]+=bt[3]>>>16,bt[3]&=65535,bt[2]+=mt[2]*gt[3],bt[1]+=bt[2]>>>16,bt[2]&=65535,bt[2]+=mt[3]*gt[2],bt[1]+=bt[2]>>>16,bt[2]&=65535,bt[1]+=mt[1]*gt[3],bt[0]+=bt[1]>>>16,bt[1]&=65535,bt[1]+=mt[2]*gt[2],bt[0]+=bt[1]>>>16,bt[1]&=65535,bt[1]+=mt[3]*gt[1],bt[0]+=bt[1]>>>16,bt[1]&=65535,bt[0]+=mt[0]*gt[3]+mt[1]*gt[2]+mt[2]*gt[1]+mt[3]*gt[0],bt[0]&=65535,[bt[0]<<16|bt[1],bt[2]<<16|bt[3]]}function ft(mt,gt){return gt%=64,gt===32?[mt[1],mt[0]]:gt<32?[mt[0]<<gt|mt[1]>>>32-gt,mt[1]<<gt|mt[0]>>>32-gt]:(gt-=32,[mt[1]<<gt|mt[0]>>>32-gt,mt[0]<<gt|mt[1]>>>32-gt])}function pt(mt,gt){return gt%=64,gt===0?mt:gt<32?[mt[0]<<gt|mt[1]>>>32-gt,mt[1]<<gt]:[mt[1]<<gt-32,0]}function ht(mt,gt){return[mt[0]^gt[0],mt[1]^gt[1]]}function yt(mt){return mt=ht(mt,[0,mt[0]>>>1]),mt=dt(mt,[4283543511,3981806797]),mt=ht(mt,[0,mt[0]>>>1]),mt=dt(mt,[3301882366,444984403]),mt=ht(mt,[0,mt[0]>>>1]),mt}it.x86.hash32=function(mt,gt){if(it.inputValidation&&!ot(mt))return at;gt=gt||0;for(var bt=mt.length%4,vt=mt.length-bt,wt=gt,Tt=0,_t=3432918353,St=461845907,Pt=0;Pt<vt;Pt=Pt+4)Tt=mt[Pt]|mt[Pt+1]<<8|mt[Pt+2]<<16|mt[Pt+3]<<24,Tt=st(Tt,_t),Tt=ct(Tt,15),Tt=st(Tt,St),wt^=Tt,wt=ct(wt,13),wt=st(wt,5)+3864292196;switch(Tt=0,bt){case 3:Tt^=mt[Pt+2]<<16;case 2:Tt^=mt[Pt+1]<<8;case 1:Tt^=mt[Pt],Tt=st(Tt,_t),Tt=ct(Tt,15),Tt=st(Tt,St),wt^=Tt}return wt^=mt.length,wt=lt(wt),wt>>>0},it.x86.hash128=function(mt,gt){if(it.inputValidation&&!ot(mt))return at;gt=gt||0;for(var bt=mt.length%16,vt=mt.length-bt,wt=gt,Tt=gt,_t=gt,St=gt,Pt=0,Nt=0,jt=0,Ut=0,Ft=597399067,Kt=2869860233,Mt=951274213,xt=2716044179,Et=0;Et<vt;Et=Et+16)Pt=mt[Et]|mt[Et+1]<<8|mt[Et+2]<<16|mt[Et+3]<<24,Nt=mt[Et+4]|mt[Et+5]<<8|mt[Et+6]<<16|mt[Et+7]<<24,jt=mt[Et+8]|mt[Et+9]<<8|mt[Et+10]<<16|mt[Et+11]<<24,Ut=mt[Et+12]|mt[Et+13]<<8|mt[Et+14]<<16|mt[Et+15]<<24,Pt=st(Pt,Ft),Pt=ct(Pt,15),Pt=st(Pt,Kt),wt^=Pt,wt=ct(wt,19),wt+=Tt,wt=st(wt,5)+1444728091,Nt=st(Nt,Kt),Nt=ct(Nt,16),Nt=st(Nt,Mt),Tt^=Nt,Tt=ct(Tt,17),Tt+=_t,Tt=st(Tt,5)+197830471,jt=st(jt,Mt),jt=ct(jt,17),jt=st(jt,xt),_t^=jt,_t=ct(_t,15),_t+=St,_t=st(_t,5)+2530024501,Ut=st(Ut,xt),Ut=ct(Ut,18),Ut=st(Ut,Ft),St^=Ut,St=ct(St,13),St+=wt,St=st(St,5)+850148119;switch(Pt=0,Nt=0,jt=0,Ut=0,bt){case 15:Ut^=mt[Et+14]<<16;case 14:Ut^=mt[Et+13]<<8;case 13:Ut^=mt[Et+12],Ut=st(Ut,xt),Ut=ct(Ut,18),Ut=st(Ut,Ft),St^=Ut;case 12:jt^=mt[Et+11]<<24;case 11:jt^=mt[Et+10]<<16;case 10:jt^=mt[Et+9]<<8;case 9:jt^=mt[Et+8],jt=st(jt,Mt),jt=ct(jt,17),jt=st(jt,xt),_t^=jt;case 8:Nt^=mt[Et+7]<<24;case 7:Nt^=mt[Et+6]<<16;case 6:Nt^=mt[Et+5]<<8;case 5:Nt^=mt[Et+4],Nt=st(Nt,Kt),Nt=ct(Nt,16),Nt=st(Nt,Mt),Tt^=Nt;case 4:Pt^=mt[Et+3]<<24;case 3:Pt^=mt[Et+2]<<16;case 2:Pt^=mt[Et+1]<<8;case 1:Pt^=mt[Et],Pt=st(Pt,Ft),Pt=ct(Pt,15),Pt=st(Pt,Kt),wt^=Pt}return wt^=mt.length,Tt^=mt.length,_t^=mt.length,St^=mt.length,wt+=Tt,wt+=_t,wt+=St,Tt+=wt,_t+=wt,St+=wt,wt=lt(wt),Tt=lt(Tt),_t=lt(_t),St=lt(St),wt+=Tt,wt+=_t,wt+=St,Tt+=wt,_t+=wt,St+=wt,("00000000"+(wt>>>0).toString(16)).slice(-8)+("00000000"+(Tt>>>0).toString(16)).slice(-8)+("00000000"+(_t>>>0).toString(16)).slice(-8)+("00000000"+(St>>>0).toString(16)).slice(-8)},it.x64.hash128=function(mt,gt){if(it.inputValidation&&!ot(mt))return at;gt=gt||0;for(var bt=mt.length%16,vt=mt.length-bt,wt=[0,gt],Tt=[0,gt],_t=[0,0],St=[0,0],Pt=[2277735313,289559509],Nt=[1291169091,658871167],jt=0;jt<vt;jt=jt+16)_t=[mt[jt+4]|mt[jt+5]<<8|mt[jt+6]<<16|mt[jt+7]<<24,mt[jt]|mt[jt+1]<<8|mt[jt+2]<<16|mt[jt+3]<<24],St=[mt[jt+12]|mt[jt+13]<<8|mt[jt+14]<<16|mt[jt+15]<<24,mt[jt+8]|mt[jt+9]<<8|mt[jt+10]<<16|mt[jt+11]<<24],_t=dt(_t,Pt),_t=ft(_t,31),_t=dt(_t,Nt),wt=ht(wt,_t),wt=ft(wt,27),wt=ut(wt,Tt),wt=ut(dt(wt,[0,5]),[0,1390208809]),St=dt(St,Nt),St=ft(St,33),St=dt(St,Pt),Tt=ht(Tt,St),Tt=ft(Tt,31),Tt=ut(Tt,wt),Tt=ut(dt(Tt,[0,5]),[0,944331445]);switch(_t=[0,0],St=[0,0],bt){case 15:St=ht(St,pt([0,mt[jt+14]],48));case 14:St=ht(St,pt([0,mt[jt+13]],40));case 13:St=ht(St,pt([0,mt[jt+12]],32));case 12:St=ht(St,pt([0,mt[jt+11]],24));case 11:St=ht(St,pt([0,mt[jt+10]],16));case 10:St=ht(St,pt([0,mt[jt+9]],8));case 9:St=ht(St,[0,mt[jt+8]]),St=dt(St,Nt),St=ft(St,33),St=dt(St,Pt),Tt=ht(Tt,St);case 8:_t=ht(_t,pt([0,mt[jt+7]],56));case 7:_t=ht(_t,pt([0,mt[jt+6]],48));case 6:_t=ht(_t,pt([0,mt[jt+5]],40));case 5:_t=ht(_t,pt([0,mt[jt+4]],32));case 4:_t=ht(_t,pt([0,mt[jt+3]],24));case 3:_t=ht(_t,pt([0,mt[jt+2]],16));case 2:_t=ht(_t,pt([0,mt[jt+1]],8));case 1:_t=ht(_t,[0,mt[jt]]),_t=dt(_t,Pt),_t=ft(_t,31),_t=dt(_t,Nt),wt=ht(wt,_t)}return wt=ht(wt,[0,mt.length]),Tt=ht(Tt,[0,mt.length]),wt=ut(wt,Tt),Tt=ut(Tt,wt),wt=yt(wt),Tt=yt(Tt),wt=ut(wt,Tt),Tt=ut(Tt,wt),("00000000"+(wt[0]>>>0).toString(16)).slice(-8)+("00000000"+(wt[1]>>>0).toString(16)).slice(-8)+("00000000"+(Tt[0]>>>0).toString(16)).slice(-8)+("00000000"+(Tt[1]>>>0).toString(16)).slice(-8)},o.exports&&(a=o.exports=it),a.murmurHash3=it})()})(murmurHash3js,murmurHash3js.exports);(function(o){o.exports=murmurHash3js.exports})(murmurhash3jsRevisited);const multihash$1=src$a,crypto$4=self.crypto||self.msCrypto,digest=async(o,a)=>{if(typeof self>"u"||!crypto$4)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(a){case"sha1":return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-1"},o));case"sha2-256":return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-256"},o));case"sha2-512":return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-512"},o));case"dbl-sha2-256":{const rt=await crypto$4.subtle.digest({name:"SHA-256"},o);return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-256"},rt))}default:throw new Error(`${a} is not a supported algorithm`)}};var sha_browser={factory:o=>async a=>digest(a,o),digest,multihashing:async(o,a,rt)=>{const at=await digest(o,a);return multihash$1.encode(at,a,rt)}};const fromNumberTo32BitBuf$1=o=>{const a=new Uint8Array(4);for(let rt=0;rt<4;rt++)a[rt]=o&255,o=o>>8;return a};var utils$b={fromNumberTo32BitBuf:fromNumberTo32BitBuf$1},util$6,hasRequiredUtil$3;function requireUtil$3(){if(hasRequiredUtil$3)return util$6;hasRequiredUtil$3=1;const o="Input must be an string, Buffer or Uint8Array";function a(st){let ct;if(st instanceof Uint8Array)ct=st;else if(typeof st=="string")ct=new TextEncoder().encode(st);else throw new Error(o);return ct}function rt(st){return Array.prototype.map.call(st,function(ct){return(ct<16?"0":"")+ct.toString(16)}).join("")}function at(st){return(4294967296+st).toString(16).substring(1)}function it(st,ct,lt){let ut=`
`+st+" = ";for(let dt=0;dt<ct.length;dt+=2){if(lt===32)ut+=at(ct[dt]).toUpperCase(),ut+=" ",ut+=at(ct[dt+1]).toUpperCase();else if(lt===64)ut+=at(ct[dt+1]).toUpperCase(),ut+=at(ct[dt]).toUpperCase();else throw new Error("Invalid size "+lt);dt%6===4?ut+=`
`+new Array(st.length+4).join(" "):dt<ct.length-2&&(ut+=" ")}console.log(ut)}function ot(st,ct,lt){let ut=new Date().getTime();const dt=new Uint8Array(ct);for(let pt=0;pt<ct;pt++)dt[pt]=pt%256;const ft=new Date().getTime();console.log("Generated random input in "+(ft-ut)+"ms"),ut=ft;for(let pt=0;pt<lt;pt++){const ht=st(dt),yt=new Date().getTime(),mt=yt-ut;ut=yt,console.log("Hashed in "+mt+"ms: "+ht.substring(0,20)+"..."),console.log(Math.round(ct/(1<<20)/(mt/1e3)*100)/100+" MB PER SECOND")}}return util$6={normalizeInput:a,toHex:rt,debugPrint:it,testSpeed:ot},util$6}var blake2b_1,hasRequiredBlake2b;function requireBlake2b(){if(hasRequiredBlake2b)return blake2b_1;hasRequiredBlake2b=1;const o=requireUtil$3();function a(bt,vt,wt){const Tt=bt[vt]+bt[wt];let _t=bt[vt+1]+bt[wt+1];Tt>=4294967296&&_t++,bt[vt]=Tt,bt[vt+1]=_t}function rt(bt,vt,wt,Tt){let _t=bt[vt]+wt;wt<0&&(_t+=4294967296);let St=bt[vt+1]+Tt;_t>=4294967296&&St++,bt[vt]=_t,bt[vt+1]=St}function at(bt,vt){return bt[vt]^bt[vt+1]<<8^bt[vt+2]<<16^bt[vt+3]<<24}function it(bt,vt,wt,Tt,_t,St){const Pt=ut[_t],Nt=ut[_t+1],jt=ut[St],Ut=ut[St+1];a(lt,bt,vt),rt(lt,bt,Pt,Nt);let Ft=lt[Tt]^lt[bt],Kt=lt[Tt+1]^lt[bt+1];lt[Tt]=Kt,lt[Tt+1]=Ft,a(lt,wt,Tt),Ft=lt[vt]^lt[wt],Kt=lt[vt+1]^lt[wt+1],lt[vt]=Ft>>>24^Kt<<8,lt[vt+1]=Kt>>>24^Ft<<8,a(lt,bt,vt),rt(lt,bt,jt,Ut),Ft=lt[Tt]^lt[bt],Kt=lt[Tt+1]^lt[bt+1],lt[Tt]=Ft>>>16^Kt<<16,lt[Tt+1]=Kt>>>16^Ft<<16,a(lt,wt,Tt),Ft=lt[vt]^lt[wt],Kt=lt[vt+1]^lt[wt+1],lt[vt]=Kt>>>31^Ft<<1,lt[vt+1]=Ft>>>31^Kt<<1}const ot=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),st=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ct=new Uint8Array(st.map(function(bt){return bt*2})),lt=new Uint32Array(32),ut=new Uint32Array(32);function dt(bt,vt){let wt=0;for(wt=0;wt<16;wt++)lt[wt]=bt.h[wt],lt[wt+16]=ot[wt];for(lt[24]=lt[24]^bt.t,lt[25]=lt[25]^bt.t/4294967296,vt&&(lt[28]=~lt[28],lt[29]=~lt[29]),wt=0;wt<32;wt++)ut[wt]=at(bt.b,4*wt);for(wt=0;wt<12;wt++)it(0,8,16,24,ct[wt*16+0],ct[wt*16+1]),it(2,10,18,26,ct[wt*16+2],ct[wt*16+3]),it(4,12,20,28,ct[wt*16+4],ct[wt*16+5]),it(6,14,22,30,ct[wt*16+6],ct[wt*16+7]),it(0,10,20,30,ct[wt*16+8],ct[wt*16+9]),it(2,12,22,24,ct[wt*16+10],ct[wt*16+11]),it(4,14,16,26,ct[wt*16+12],ct[wt*16+13]),it(6,8,18,28,ct[wt*16+14],ct[wt*16+15]);for(wt=0;wt<16;wt++)bt.h[wt]=bt.h[wt]^lt[wt]^lt[wt+16]}const ft=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function pt(bt,vt,wt,Tt){if(bt===0||bt>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(vt&&vt.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(wt&&wt.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(Tt&&Tt.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const _t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:bt};ft.fill(0),ft[0]=bt,vt&&(ft[1]=vt.length),ft[2]=1,ft[3]=1,wt&&ft.set(wt,32),Tt&&ft.set(Tt,48);for(let St=0;St<16;St++)_t.h[St]=ot[St]^at(ft,St*4);return vt&&(ht(_t,vt),_t.c=128),_t}function ht(bt,vt){for(let wt=0;wt<vt.length;wt++)bt.c===128&&(bt.t+=bt.c,dt(bt,!1),bt.c=0),bt.b[bt.c++]=vt[wt]}function yt(bt){for(bt.t+=bt.c;bt.c<128;)bt.b[bt.c++]=0;dt(bt,!0);const vt=new Uint8Array(bt.outlen);for(let wt=0;wt<bt.outlen;wt++)vt[wt]=bt.h[wt>>2]>>8*(wt&3);return vt}function mt(bt,vt,wt,Tt,_t){wt=wt||64,bt=o.normalizeInput(bt),Tt&&(Tt=o.normalizeInput(Tt)),_t&&(_t=o.normalizeInput(_t));const St=pt(wt,vt,Tt,_t);return ht(St,bt),yt(St)}function gt(bt,vt,wt,Tt,_t){const St=mt(bt,vt,wt,Tt,_t);return o.toHex(St)}return blake2b_1={blake2b:mt,blake2bHex:gt,blake2bInit:pt,blake2bUpdate:ht,blake2bFinal:yt},blake2b_1}var blake2s_1,hasRequiredBlake2s;function requireBlake2s(){if(hasRequiredBlake2s)return blake2s_1;hasRequiredBlake2s=1;const o=requireUtil$3();function a(yt,mt){return yt[mt]^yt[mt+1]<<8^yt[mt+2]<<16^yt[mt+3]<<24}function rt(yt,mt,gt,bt,vt,wt){st[yt]=st[yt]+st[mt]+vt,st[bt]=at(st[bt]^st[yt],16),st[gt]=st[gt]+st[bt],st[mt]=at(st[mt]^st[gt],12),st[yt]=st[yt]+st[mt]+wt,st[bt]=at(st[bt]^st[yt],8),st[gt]=st[gt]+st[bt],st[mt]=at(st[mt]^st[gt],7)}function at(yt,mt){return yt>>>mt^yt<<32-mt}const it=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ot=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),st=new Uint32Array(16),ct=new Uint32Array(16);function lt(yt,mt){let gt=0;for(gt=0;gt<8;gt++)st[gt]=yt.h[gt],st[gt+8]=it[gt];for(st[12]^=yt.t,st[13]^=yt.t/4294967296,mt&&(st[14]=~st[14]),gt=0;gt<16;gt++)ct[gt]=a(yt.b,4*gt);for(gt=0;gt<10;gt++)rt(0,4,8,12,ct[ot[gt*16+0]],ct[ot[gt*16+1]]),rt(1,5,9,13,ct[ot[gt*16+2]],ct[ot[gt*16+3]]),rt(2,6,10,14,ct[ot[gt*16+4]],ct[ot[gt*16+5]]),rt(3,7,11,15,ct[ot[gt*16+6]],ct[ot[gt*16+7]]),rt(0,5,10,15,ct[ot[gt*16+8]],ct[ot[gt*16+9]]),rt(1,6,11,12,ct[ot[gt*16+10]],ct[ot[gt*16+11]]),rt(2,7,8,13,ct[ot[gt*16+12]],ct[ot[gt*16+13]]),rt(3,4,9,14,ct[ot[gt*16+14]],ct[ot[gt*16+15]]);for(gt=0;gt<8;gt++)yt.h[gt]^=st[gt]^st[gt+8]}function ut(yt,mt){if(!(yt>0&&yt<=32))throw new Error("Incorrect output length, should be in [1, 32]");const gt=mt?mt.length:0;if(mt&&!(gt>0&&gt<=32))throw new Error("Incorrect key length, should be in [1, 32]");const bt={h:new Uint32Array(it),b:new Uint8Array(64),c:0,t:0,outlen:yt};return bt.h[0]^=16842752^gt<<8^yt,gt>0&&(dt(bt,mt),bt.c=64),bt}function dt(yt,mt){for(let gt=0;gt<mt.length;gt++)yt.c===64&&(yt.t+=yt.c,lt(yt,!1),yt.c=0),yt.b[yt.c++]=mt[gt]}function ft(yt){for(yt.t+=yt.c;yt.c<64;)yt.b[yt.c++]=0;lt(yt,!0);const mt=new Uint8Array(yt.outlen);for(let gt=0;gt<yt.outlen;gt++)mt[gt]=yt.h[gt>>2]>>8*(gt&3)&255;return mt}function pt(yt,mt,gt){gt=gt||32,yt=o.normalizeInput(yt);const bt=ut(gt,mt);return dt(bt,yt),ft(bt)}function ht(yt,mt,gt){const bt=pt(yt,mt,gt);return o.toHex(bt)}return blake2s_1={blake2s:pt,blake2sHex:ht,blake2sInit:ut,blake2sUpdate:dt,blake2sFinal:ft},blake2s_1}var blakejs,hasRequiredBlakejs;function requireBlakejs(){if(hasRequiredBlakejs)return blakejs;hasRequiredBlakejs=1;const o=requireBlake2b(),a=requireBlake2s();return blakejs={blake2b:o.blake2b,blake2bHex:o.blake2bHex,blake2bInit:o.blake2bInit,blake2bUpdate:o.blake2bUpdate,blake2bFinal:o.blake2bFinal,blake2s:a.blake2s,blake2sHex:a.blake2sHex,blake2sInit:a.blake2sInit,blake2sUpdate:a.blake2sUpdate,blake2sFinal:a.blake2sFinal},blakejs}var blake_1,hasRequiredBlake;function requireBlake(){if(hasRequiredBlake)return blake_1;hasRequiredBlake=1;const o=requireBlakejs(),a=45569,rt=45633,at={init:o.blake2bInit,update:o.blake2bUpdate,digest:o.blake2bFinal},it={init:o.blake2sInit,update:o.blake2sUpdate,digest:o.blake2sFinal},ot=(st,ct)=>async lt=>{const ut=ct.init(st,null);return ct.update(ut,lt),ct.digest(ut)};return blake_1=st=>{for(let ct=0;ct<64;ct++)st[a+ct]=ot(ct+1,at);for(let ct=0;ct<32;ct++)st[rt+ct]=ot(ct+1,it)},blake_1}const sha3$1=sha3$3.exports,mur=murmurhash3jsRevisited.exports,{factory:sha$1}=sha_browser,{fromNumberTo32BitBuf}=utils$b,{fromString:uint8ArrayFromString}=require$$1$3,hash$2=o=>async a=>{switch(o){case"sha3-224":return new Uint8Array(sha3$1.sha3_224.arrayBuffer(a));case"sha3-256":return new Uint8Array(sha3$1.sha3_256.arrayBuffer(a));case"sha3-384":return new Uint8Array(sha3$1.sha3_384.arrayBuffer(a));case"sha3-512":return new Uint8Array(sha3$1.sha3_512.arrayBuffer(a));case"shake-128":return new Uint8Array(sha3$1.shake128.create(128).update(a).arrayBuffer());case"shake-256":return new Uint8Array(sha3$1.shake256.create(256).update(a).arrayBuffer());case"keccak-224":return new Uint8Array(sha3$1.keccak224.arrayBuffer(a));case"keccak-256":return new Uint8Array(sha3$1.keccak256.arrayBuffer(a));case"keccak-384":return new Uint8Array(sha3$1.keccak384.arrayBuffer(a));case"keccak-512":return new Uint8Array(sha3$1.keccak512.arrayBuffer(a));case"murmur3-128":return uint8ArrayFromString(mur.x64.hash128(a),"base16");case"murmur3-32":return fromNumberTo32BitBuf(mur.x86.hash32(a));default:throw new TypeError(`${o} is not a supported algorithm`)}},identity=o=>o;var crypto$3={identity,sha1:sha$1("sha1"),sha2256:sha$1("sha2-256"),sha2512:sha$1("sha2-512"),dblSha2256:sha$1("dbl-sha2-256"),sha3224:hash$2("sha3-224"),sha3256:hash$2("sha3-256"),sha3384:hash$2("sha3-384"),sha3512:hash$2("sha3-512"),shake128:hash$2("shake-128"),shake256:hash$2("shake-256"),keccak224:hash$2("keccak-224"),keccak256:hash$2("keccak-256"),keccak384:hash$2("keccak-384"),keccak512:hash$2("keccak-512"),murmur3128:hash$2("murmur3-128"),murmur332:hash$2("murmur3-32"),addBlake:requireBlake()};function equals$1(o,a){if(o===a)return!0;if(o.byteLength!==a.byteLength)return!1;for(let rt=0;rt<o.byteLength;rt++)if(o[rt]!==a[rt])return!1;return!0}const equals$2=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$1},Symbol.toStringTag,{value:"Module"})),require$$6$1=getAugmentedNamespace(equals$2),errcode=errCode,multihash=src$a,crypto$2=crypto$3,{equals}=require$$6$1;async function Multihashing(o,a,rt){const at=await Multihashing.digest(o,a,rt);return multihash.encode(at,a,rt)}Multihashing.multihash=multihash;Multihashing.digest=async(o,a,rt)=>{const it=await Multihashing.createHash(a)(o);return rt?it.slice(0,rt):it};Multihashing.createHash=function(o){if(!o)throw errcode(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");const a=multihash.coerceCode(o);if(!Multihashing.functions[a])throw errcode(new Error(`multihash function '${o}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return Multihashing.functions[a]};Multihashing.functions={0:crypto$2.identity,17:crypto$2.sha1,18:crypto$2.sha2256,19:crypto$2.sha2512,20:crypto$2.sha3512,21:crypto$2.sha3384,22:crypto$2.sha3256,23:crypto$2.sha3224,24:crypto$2.shake128,25:crypto$2.shake256,26:crypto$2.keccak224,27:crypto$2.keccak256,28:crypto$2.keccak384,29:crypto$2.keccak512,34:crypto$2.murmur3128,35:crypto$2.murmur332,86:crypto$2.dblSha2256};crypto$2.addBlake(Multihashing.functions);Multihashing.validate=async(o,a)=>{const rt=await Multihashing(o,multihash.decode(a).name);return equals(a,rt)};var src$9=Multihashing;const mergeOptions=mergeOptions$1.bind({ignoreUndefined:!0}),multihashing=src$9;async function hamtHashFn(o){const rt=(await multihashing(o,"murmur3-128")).slice(2,10),at=rt.length,it=new Uint8Array(at);for(let ot=0;ot<at;ot++)it[at-ot-1]=rt[ot];return it}const defaultOptions$3={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,pin:!1,recursive:!1,hidden:!1,preload:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8};var options$1=function(o={}){return mergeOptions(defaultOptions$3,o)},minimal$1={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=o;function o(a,rt){for(var at=new Array(arguments.length-1),it=0,ot=2,st=!0;ot<arguments.length;)at[it++]=arguments[ot++];return new Promise(function(lt,ut){at[it]=function(ft){if(st)if(st=!1,ft)ut(ft);else{for(var pt=new Array(arguments.length-1),ht=0;ht<pt.length;)pt[ht++]=arguments[ht];lt.apply(null,pt)}};try{a.apply(rt||null,at)}catch(dt){st&&(st=!1,ut(dt))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(o){var a=o;a.length=function(ct){var lt=ct.length;if(!lt)return 0;for(var ut=0;--lt%4>1&&ct.charAt(lt)==="=";)++ut;return Math.ceil(ct.length*3)/4-ut};for(var rt=new Array(64),at=new Array(123),it=0;it<64;)at[rt[it]=it<26?it+65:it<52?it+71:it<62?it-4:it-59|43]=it++;a.encode=function(ct,lt,ut){for(var dt=null,ft=[],pt=0,ht=0,yt;lt<ut;){var mt=ct[lt++];switch(ht){case 0:ft[pt++]=rt[mt>>2],yt=(mt&3)<<4,ht=1;break;case 1:ft[pt++]=rt[yt|mt>>4],yt=(mt&15)<<2,ht=2;break;case 2:ft[pt++]=rt[yt|mt>>6],ft[pt++]=rt[mt&63],ht=0;break}pt>8191&&((dt||(dt=[])).push(String.fromCharCode.apply(String,ft)),pt=0)}return ht&&(ft[pt++]=rt[yt],ft[pt++]=61,ht===1&&(ft[pt++]=61)),dt?(pt&&dt.push(String.fromCharCode.apply(String,ft.slice(0,pt))),dt.join("")):String.fromCharCode.apply(String,ft.slice(0,pt))};var ot="invalid encoding";a.decode=function(ct,lt,ut){for(var dt=ut,ft=0,pt,ht=0;ht<ct.length;){var yt=ct.charCodeAt(ht++);if(yt===61&&ft>1)break;if((yt=at[yt])===void 0)throw Error(ot);switch(ft){case 0:pt=yt,ft=1;break;case 1:lt[ut++]=pt<<2|(yt&48)>>4,pt=yt,ft=2;break;case 2:lt[ut++]=(pt&15)<<4|(yt&60)>>2,pt=yt,ft=3;break;case 3:lt[ut++]=(pt&3)<<6|yt,ft=0;break}}if(ft===1)throw Error(ot);return ut-dt},a.test=function(ct){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ct)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=o;function o(){this._listeners={}}return o.prototype.on=function(rt,at,it){return(this._listeners[rt]||(this._listeners[rt]=[])).push({fn:at,ctx:it||this}),this},o.prototype.off=function(rt,at){if(rt===void 0)this._listeners={};else if(at===void 0)this._listeners[rt]=[];else for(var it=this._listeners[rt],ot=0;ot<it.length;)it[ot].fn===at?it.splice(ot,1):++ot;return this},o.prototype.emit=function(rt){var at=this._listeners[rt];if(at){for(var it=[],ot=1;ot<arguments.length;)it.push(arguments[ot++]);for(ot=0;ot<at.length;)at[ot].fn.apply(at[ot++].ctx,it)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=o(o);function o(ot){return typeof Float32Array<"u"?function(){var st=new Float32Array([-0]),ct=new Uint8Array(st.buffer),lt=ct[3]===128;function ut(ht,yt,mt){st[0]=ht,yt[mt]=ct[0],yt[mt+1]=ct[1],yt[mt+2]=ct[2],yt[mt+3]=ct[3]}function dt(ht,yt,mt){st[0]=ht,yt[mt]=ct[3],yt[mt+1]=ct[2],yt[mt+2]=ct[1],yt[mt+3]=ct[0]}ot.writeFloatLE=lt?ut:dt,ot.writeFloatBE=lt?dt:ut;function ft(ht,yt){return ct[0]=ht[yt],ct[1]=ht[yt+1],ct[2]=ht[yt+2],ct[3]=ht[yt+3],st[0]}function pt(ht,yt){return ct[3]=ht[yt],ct[2]=ht[yt+1],ct[1]=ht[yt+2],ct[0]=ht[yt+3],st[0]}ot.readFloatLE=lt?ft:pt,ot.readFloatBE=lt?pt:ft}():function(){function st(lt,ut,dt,ft){var pt=ut<0?1:0;if(pt&&(ut=-ut),ut===0)lt(1/ut>0?0:2147483648,dt,ft);else if(isNaN(ut))lt(2143289344,dt,ft);else if(ut>34028234663852886e22)lt((pt<<31|2139095040)>>>0,dt,ft);else if(ut<11754943508222875e-54)lt((pt<<31|Math.round(ut/1401298464324817e-60))>>>0,dt,ft);else{var ht=Math.floor(Math.log(ut)/Math.LN2),yt=Math.round(ut*Math.pow(2,-ht)*8388608)&8388607;lt((pt<<31|ht+127<<23|yt)>>>0,dt,ft)}}ot.writeFloatLE=st.bind(null,a),ot.writeFloatBE=st.bind(null,rt);function ct(lt,ut,dt){var ft=lt(ut,dt),pt=(ft>>31)*2+1,ht=ft>>>23&255,yt=ft&8388607;return ht===255?yt?NaN:pt*(1/0):ht===0?pt*1401298464324817e-60*yt:pt*Math.pow(2,ht-150)*(yt+8388608)}ot.readFloatLE=ct.bind(null,at),ot.readFloatBE=ct.bind(null,it)}(),typeof Float64Array<"u"?function(){var st=new Float64Array([-0]),ct=new Uint8Array(st.buffer),lt=ct[7]===128;function ut(ht,yt,mt){st[0]=ht,yt[mt]=ct[0],yt[mt+1]=ct[1],yt[mt+2]=ct[2],yt[mt+3]=ct[3],yt[mt+4]=ct[4],yt[mt+5]=ct[5],yt[mt+6]=ct[6],yt[mt+7]=ct[7]}function dt(ht,yt,mt){st[0]=ht,yt[mt]=ct[7],yt[mt+1]=ct[6],yt[mt+2]=ct[5],yt[mt+3]=ct[4],yt[mt+4]=ct[3],yt[mt+5]=ct[2],yt[mt+6]=ct[1],yt[mt+7]=ct[0]}ot.writeDoubleLE=lt?ut:dt,ot.writeDoubleBE=lt?dt:ut;function ft(ht,yt){return ct[0]=ht[yt],ct[1]=ht[yt+1],ct[2]=ht[yt+2],ct[3]=ht[yt+3],ct[4]=ht[yt+4],ct[5]=ht[yt+5],ct[6]=ht[yt+6],ct[7]=ht[yt+7],st[0]}function pt(ht,yt){return ct[7]=ht[yt],ct[6]=ht[yt+1],ct[5]=ht[yt+2],ct[4]=ht[yt+3],ct[3]=ht[yt+4],ct[2]=ht[yt+5],ct[1]=ht[yt+6],ct[0]=ht[yt+7],st[0]}ot.readDoubleLE=lt?ft:pt,ot.readDoubleBE=lt?pt:ft}():function(){function st(lt,ut,dt,ft,pt,ht){var yt=ft<0?1:0;if(yt&&(ft=-ft),ft===0)lt(0,pt,ht+ut),lt(1/ft>0?0:2147483648,pt,ht+dt);else if(isNaN(ft))lt(0,pt,ht+ut),lt(2146959360,pt,ht+dt);else if(ft>17976931348623157e292)lt(0,pt,ht+ut),lt((yt<<31|2146435072)>>>0,pt,ht+dt);else{var mt;if(ft<22250738585072014e-324)mt=ft/5e-324,lt(mt>>>0,pt,ht+ut),lt((yt<<31|mt/4294967296)>>>0,pt,ht+dt);else{var gt=Math.floor(Math.log(ft)/Math.LN2);gt===1024&&(gt=1023),mt=ft*Math.pow(2,-gt),lt(mt*4503599627370496>>>0,pt,ht+ut),lt((yt<<31|gt+1023<<20|mt*1048576&1048575)>>>0,pt,ht+dt)}}}ot.writeDoubleLE=st.bind(null,a,0,4),ot.writeDoubleBE=st.bind(null,rt,4,0);function ct(lt,ut,dt,ft,pt){var ht=lt(ft,pt+ut),yt=lt(ft,pt+dt),mt=(yt>>31)*2+1,gt=yt>>>20&2047,bt=4294967296*(yt&1048575)+ht;return gt===2047?bt?NaN:mt*(1/0):gt===0?mt*5e-324*bt:mt*Math.pow(2,gt-1075)*(bt+4503599627370496)}ot.readDoubleLE=ct.bind(null,at,0,4),ot.readDoubleBE=ct.bind(null,it,4,0)}(),ot}function a(ot,st,ct){st[ct]=ot&255,st[ct+1]=ot>>>8&255,st[ct+2]=ot>>>16&255,st[ct+3]=ot>>>24}function rt(ot,st,ct){st[ct]=ot>>>24,st[ct+1]=ot>>>16&255,st[ct+2]=ot>>>8&255,st[ct+3]=ot&255}function at(ot,st){return(ot[st]|ot[st+1]<<8|ot[st+2]<<16|ot[st+3]<<24)>>>0}function it(ot,st){return(ot[st]<<24|ot[st+1]<<16|ot[st+2]<<8|ot[st+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(o){var a=o;a.length=function(at){for(var it=0,ot=0,st=0;st<at.length;++st)ot=at.charCodeAt(st),ot<128?it+=1:ot<2048?it+=2:(ot&64512)===55296&&(at.charCodeAt(st+1)&64512)===56320?(++st,it+=4):it+=3;return it},a.read=function(at,it,ot){var st=ot-it;if(st<1)return"";for(var ct=null,lt=[],ut=0,dt;it<ot;)dt=at[it++],dt<128?lt[ut++]=dt:dt>191&&dt<224?lt[ut++]=(dt&31)<<6|at[it++]&63:dt>239&&dt<365?(dt=((dt&7)<<18|(at[it++]&63)<<12|(at[it++]&63)<<6|at[it++]&63)-65536,lt[ut++]=55296+(dt>>10),lt[ut++]=56320+(dt&1023)):lt[ut++]=(dt&15)<<12|(at[it++]&63)<<6|at[it++]&63,ut>8191&&((ct||(ct=[])).push(String.fromCharCode.apply(String,lt)),ut=0);return ct?(ut&&ct.push(String.fromCharCode.apply(String,lt.slice(0,ut))),ct.join("")):String.fromCharCode.apply(String,lt.slice(0,ut))},a.write=function(at,it,ot){for(var st=ot,ct,lt,ut=0;ut<at.length;++ut)ct=at.charCodeAt(ut),ct<128?it[ot++]=ct:ct<2048?(it[ot++]=ct>>6|192,it[ot++]=ct&63|128):(ct&64512)===55296&&((lt=at.charCodeAt(ut+1))&64512)===56320?(ct=65536+((ct&1023)<<10)+(lt&1023),++ut,it[ot++]=ct>>18|240,it[ot++]=ct>>12&63|128,it[ot++]=ct>>6&63|128,it[ot++]=ct&63|128):(it[ot++]=ct>>12|224,it[ot++]=ct>>6&63|128,it[ot++]=ct&63|128);return ot-st}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=o;function o(a,rt,at){var it=at||8192,ot=it>>>1,st=null,ct=it;return function(ut){if(ut<1||ut>ot)return a(ut);ct+ut>it&&(st=a(it),ct=0);var dt=rt.call(st,ct,ct+=ut);return ct&7&&(ct=(ct|7)+1),dt}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=a;var o=requireMinimal$1();function a(ot,st){this.lo=ot>>>0,this.hi=st>>>0}var rt=a.zero=new a(0,0);rt.toNumber=function(){return 0},rt.zzEncode=rt.zzDecode=function(){return this},rt.length=function(){return 1};var at=a.zeroHash="\0\0\0\0\0\0\0\0";a.fromNumber=function(st){if(st===0)return rt;var ct=st<0;ct&&(st=-st);var lt=st>>>0,ut=(st-lt)/4294967296>>>0;return ct&&(ut=~ut>>>0,lt=~lt>>>0,++lt>4294967295&&(lt=0,++ut>4294967295&&(ut=0))),new a(lt,ut)},a.from=function(st){if(typeof st=="number")return a.fromNumber(st);if(o.isString(st))if(o.Long)st=o.Long.fromString(st);else return a.fromNumber(parseInt(st,10));return st.low||st.high?new a(st.low>>>0,st.high>>>0):rt},a.prototype.toNumber=function(st){if(!st&&this.hi>>>31){var ct=~this.lo+1>>>0,lt=~this.hi>>>0;return ct||(lt=lt+1>>>0),-(ct+lt*4294967296)}return this.lo+this.hi*4294967296},a.prototype.toLong=function(st){return o.Long?new o.Long(this.lo|0,this.hi|0,Boolean(st)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(st)}};var it=String.prototype.charCodeAt;return a.fromHash=function(st){return st===at?rt:new a((it.call(st,0)|it.call(st,1)<<8|it.call(st,2)<<16|it.call(st,3)<<24)>>>0,(it.call(st,4)|it.call(st,5)<<8|it.call(st,6)<<16|it.call(st,7)<<24)>>>0)},a.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},a.prototype.zzEncode=function(){var st=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^st)>>>0,this.lo=(this.lo<<1^st)>>>0,this},a.prototype.zzDecode=function(){var st=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^st)>>>0,this.hi=(this.hi>>>1^st)>>>0,this},a.prototype.length=function(){var st=this.lo,ct=(this.lo>>>28|this.hi<<4)>>>0,lt=this.hi>>>24;return lt===0?ct===0?st<16384?st<128?1:2:st<2097152?3:4:ct<16384?ct<128?5:6:ct<2097152?7:8:lt<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(o){var a=o;a.asPromise=requireAspromise(),a.base64=requireBase64(),a.EventEmitter=requireEventemitter(),a.float=requireFloat(),a.inquire=requireInquire(),a.utf8=requireUtf8(),a.pool=requirePool(),a.LongBits=requireLongbits(),a.isNode=Boolean(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),a.global=a.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(ot){return typeof ot=="number"&&isFinite(ot)&&Math.floor(ot)===ot},a.isString=function(ot){return typeof ot=="string"||ot instanceof String},a.isObject=function(ot){return ot&&typeof ot=="object"},a.isset=a.isSet=function(ot,st){var ct=ot[st];return ct!=null&&ot.hasOwnProperty(st)?typeof ct!="object"||(Array.isArray(ct)?ct.length:Object.keys(ct).length)>0:!1},a.Buffer=function(){try{var it=a.inquire("buffer").Buffer;return it.prototype.utf8Write?it:null}catch{return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(ot){return typeof ot=="number"?a.Buffer?a._Buffer_allocUnsafe(ot):new a.Array(ot):a.Buffer?a._Buffer_from(ot):typeof Uint8Array>"u"?ot:new Uint8Array(ot)},a.Array=typeof Uint8Array<"u"?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(ot){return ot?a.LongBits.from(ot).toHash():a.LongBits.zeroHash},a.longFromHash=function(ot,st){var ct=a.LongBits.fromHash(ot);return a.Long?a.Long.fromBits(ct.lo,ct.hi,st):ct.toNumber(Boolean(st))};function rt(it,ot,st){for(var ct=Object.keys(ot),lt=0;lt<ct.length;++lt)(it[ct[lt]]===void 0||!st)&&(it[ct[lt]]=ot[ct[lt]]);return it}a.merge=rt,a.lcFirst=function(ot){return ot.charAt(0).toLowerCase()+ot.substring(1)};function at(it){function ot(st,ct){if(!(this instanceof ot))return new ot(st,ct);Object.defineProperty(this,"message",{get:function(){return st}}),Error.captureStackTrace?Error.captureStackTrace(this,ot):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ct&&rt(this,ct)}return(ot.prototype=Object.create(Error.prototype)).constructor=ot,Object.defineProperty(ot.prototype,"name",{get:function(){return it}}),ot.prototype.toString=function(){return this.name+": "+this.message},ot}a.newError=at,a.ProtocolError=at("ProtocolError"),a.oneOfGetter=function(ot){for(var st={},ct=0;ct<ot.length;++ct)st[ot[ct]]=1;return function(){for(var lt=Object.keys(this),ut=lt.length-1;ut>-1;--ut)if(st[lt[ut]]===1&&this[lt[ut]]!==void 0&&this[lt[ut]]!==null)return lt[ut]}},a.oneOfSetter=function(ot){return function(st){for(var ct=0;ct<ot.length;++ct)ot[ct]!==st&&delete this[ot[ct]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var it=a.Buffer;if(!it){a._Buffer_from=a._Buffer_allocUnsafe=null;return}a._Buffer_from=it.from!==Uint8Array.from&&it.from||function(st,ct){return new it(st,ct)},a._Buffer_allocUnsafe=it.allocUnsafe||function(st){return new it(st)}}}(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=lt;var o=requireMinimal$1(),a,rt=o.LongBits,at=o.base64,it=o.utf8;function ot(gt,bt,vt){this.fn=gt,this.len=bt,this.next=void 0,this.val=vt}function st(){}function ct(gt){this.head=gt.head,this.tail=gt.tail,this.len=gt.len,this.next=gt.states}function lt(){this.len=0,this.head=new ot(st,0,0),this.tail=this.head,this.states=null}var ut=function(){return o.Buffer?function(){return(lt.create=function(){return new a})()}:function(){return new lt}};lt.create=ut(),lt.alloc=function(bt){return new o.Array(bt)},o.Array!==Array&&(lt.alloc=o.pool(lt.alloc,o.Array.prototype.subarray)),lt.prototype._push=function(bt,vt,wt){return this.tail=this.tail.next=new ot(bt,vt,wt),this.len+=vt,this};function dt(gt,bt,vt){bt[vt]=gt&255}function ft(gt,bt,vt){for(;gt>127;)bt[vt++]=gt&127|128,gt>>>=7;bt[vt]=gt}function pt(gt,bt){this.len=gt,this.next=void 0,this.val=bt}pt.prototype=Object.create(ot.prototype),pt.prototype.fn=ft,lt.prototype.uint32=function(bt){return this.len+=(this.tail=this.tail.next=new pt((bt=bt>>>0)<128?1:bt<16384?2:bt<2097152?3:bt<268435456?4:5,bt)).len,this},lt.prototype.int32=function(bt){return bt<0?this._push(ht,10,rt.fromNumber(bt)):this.uint32(bt)},lt.prototype.sint32=function(bt){return this.uint32((bt<<1^bt>>31)>>>0)};function ht(gt,bt,vt){for(;gt.hi;)bt[vt++]=gt.lo&127|128,gt.lo=(gt.lo>>>7|gt.hi<<25)>>>0,gt.hi>>>=7;for(;gt.lo>127;)bt[vt++]=gt.lo&127|128,gt.lo=gt.lo>>>7;bt[vt++]=gt.lo}lt.prototype.uint64=function(bt){var vt=rt.from(bt);return this._push(ht,vt.length(),vt)},lt.prototype.int64=lt.prototype.uint64,lt.prototype.sint64=function(bt){var vt=rt.from(bt).zzEncode();return this._push(ht,vt.length(),vt)},lt.prototype.bool=function(bt){return this._push(dt,1,bt?1:0)};function yt(gt,bt,vt){bt[vt]=gt&255,bt[vt+1]=gt>>>8&255,bt[vt+2]=gt>>>16&255,bt[vt+3]=gt>>>24}lt.prototype.fixed32=function(bt){return this._push(yt,4,bt>>>0)},lt.prototype.sfixed32=lt.prototype.fixed32,lt.prototype.fixed64=function(bt){var vt=rt.from(bt);return this._push(yt,4,vt.lo)._push(yt,4,vt.hi)},lt.prototype.sfixed64=lt.prototype.fixed64,lt.prototype.float=function(bt){return this._push(o.float.writeFloatLE,4,bt)},lt.prototype.double=function(bt){return this._push(o.float.writeDoubleLE,8,bt)};var mt=o.Array.prototype.set?function(bt,vt,wt){vt.set(bt,wt)}:function(bt,vt,wt){for(var Tt=0;Tt<bt.length;++Tt)vt[wt+Tt]=bt[Tt]};return lt.prototype.bytes=function(bt){var vt=bt.length>>>0;if(!vt)return this._push(dt,1,0);if(o.isString(bt)){var wt=lt.alloc(vt=at.length(bt));at.decode(bt,wt,0),bt=wt}return this.uint32(vt)._push(mt,vt,bt)},lt.prototype.string=function(bt){var vt=it.length(bt);return vt?this.uint32(vt)._push(it.write,vt,bt):this._push(dt,1,0)},lt.prototype.fork=function(){return this.states=new ct(this),this.head=this.tail=new ot(st,0,0),this.len=0,this},lt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ot(st,0,0),this.len=0),this},lt.prototype.ldelim=function(){var bt=this.head,vt=this.tail,wt=this.len;return this.reset().uint32(wt),wt&&(this.tail.next=bt.next,this.tail=vt,this.len+=wt),this},lt.prototype.finish=function(){for(var bt=this.head.next,vt=this.constructor.alloc(this.len),wt=0;bt;)bt.fn(bt.val,vt,wt),wt+=bt.len,bt=bt.next;return vt},lt._configure=function(gt){a=gt,lt.create=ut(),a._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=rt;var o=requireWriter();(rt.prototype=Object.create(o.prototype)).constructor=rt;var a=requireMinimal$1();function rt(){o.call(this)}rt._configure=function(){rt.alloc=a._Buffer_allocUnsafe,rt.writeBytesBuffer=a.Buffer&&a.Buffer.prototype instanceof Uint8Array&&a.Buffer.prototype.set.name==="set"?function(ot,st,ct){st.set(ot,ct)}:function(ot,st,ct){if(ot.copy)ot.copy(st,ct,0,ot.length);else for(var lt=0;lt<ot.length;)st[ct++]=ot[lt++]}},rt.prototype.bytes=function(ot){a.isString(ot)&&(ot=a._Buffer_from(ot,"base64"));var st=ot.length>>>0;return this.uint32(st),st&&this._push(rt.writeBytesBuffer,st,ot),this};function at(it,ot,st){it.length<40?a.utf8.write(it,ot,st):ot.utf8Write?ot.utf8Write(it,st):ot.write(it,st)}return rt.prototype.string=function(ot){var st=a.Buffer.byteLength(ot);return this.uint32(st),st&&this._push(at,st,ot),this},rt._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=ot;var o=requireMinimal$1(),a,rt=o.LongBits,at=o.utf8;function it(ft,pt){return RangeError("index out of range: "+ft.pos+" + "+(pt||1)+" > "+ft.len)}function ot(ft){this.buf=ft,this.pos=0,this.len=ft.length}var st=typeof Uint8Array<"u"?function(pt){if(pt instanceof Uint8Array||Array.isArray(pt))return new ot(pt);throw Error("illegal buffer")}:function(pt){if(Array.isArray(pt))return new ot(pt);throw Error("illegal buffer")},ct=function(){return o.Buffer?function(ht){return(ot.create=function(mt){return o.Buffer.isBuffer(mt)?new a(mt):st(mt)})(ht)}:st};ot.create=ct(),ot.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,ot.prototype.uint32=function(){var pt=4294967295;return function(){if(pt=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(pt=(pt|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(pt=(pt|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(pt=(pt|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(pt=(pt|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return pt;if((this.pos+=5)>this.len)throw this.pos=this.len,it(this,10);return pt}}(),ot.prototype.int32=function(){return this.uint32()|0},ot.prototype.sint32=function(){var pt=this.uint32();return pt>>>1^-(pt&1)|0};function lt(){var ft=new rt(0,0),pt=0;if(this.len-this.pos>4){for(;pt<4;++pt)if(ft.lo=(ft.lo|(this.buf[this.pos]&127)<<pt*7)>>>0,this.buf[this.pos++]<128)return ft;if(ft.lo=(ft.lo|(this.buf[this.pos]&127)<<28)>>>0,ft.hi=(ft.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ft;pt=0}else{for(;pt<3;++pt){if(this.pos>=this.len)throw it(this);if(ft.lo=(ft.lo|(this.buf[this.pos]&127)<<pt*7)>>>0,this.buf[this.pos++]<128)return ft}return ft.lo=(ft.lo|(this.buf[this.pos++]&127)<<pt*7)>>>0,ft}if(this.len-this.pos>4){for(;pt<5;++pt)if(ft.hi=(ft.hi|(this.buf[this.pos]&127)<<pt*7+3)>>>0,this.buf[this.pos++]<128)return ft}else for(;pt<5;++pt){if(this.pos>=this.len)throw it(this);if(ft.hi=(ft.hi|(this.buf[this.pos]&127)<<pt*7+3)>>>0,this.buf[this.pos++]<128)return ft}throw Error("invalid varint encoding")}ot.prototype.bool=function(){return this.uint32()!==0};function ut(ft,pt){return(ft[pt-4]|ft[pt-3]<<8|ft[pt-2]<<16|ft[pt-1]<<24)>>>0}ot.prototype.fixed32=function(){if(this.pos+4>this.len)throw it(this,4);return ut(this.buf,this.pos+=4)},ot.prototype.sfixed32=function(){if(this.pos+4>this.len)throw it(this,4);return ut(this.buf,this.pos+=4)|0};function dt(){if(this.pos+8>this.len)throw it(this,8);return new rt(ut(this.buf,this.pos+=4),ut(this.buf,this.pos+=4))}return ot.prototype.float=function(){if(this.pos+4>this.len)throw it(this,4);var pt=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,pt},ot.prototype.double=function(){if(this.pos+8>this.len)throw it(this,4);var pt=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,pt},ot.prototype.bytes=function(){var pt=this.uint32(),ht=this.pos,yt=this.pos+pt;if(yt>this.len)throw it(this,pt);return this.pos+=pt,Array.isArray(this.buf)?this.buf.slice(ht,yt):ht===yt?new this.buf.constructor(0):this._slice.call(this.buf,ht,yt)},ot.prototype.string=function(){var pt=this.bytes();return at.read(pt,0,pt.length)},ot.prototype.skip=function(pt){if(typeof pt=="number"){if(this.pos+pt>this.len)throw it(this,pt);this.pos+=pt}else do if(this.pos>=this.len)throw it(this);while(this.buf[this.pos++]&128);return this},ot.prototype.skipType=function(ft){switch(ft){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ft=this.uint32()&7)!==4;)this.skipType(ft);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ft+" at offset "+this.pos)}return this},ot._configure=function(ft){a=ft,ot.create=ct(),a._configure();var pt=o.Long?"toLong":"toNumber";o.merge(ot.prototype,{int64:function(){return lt.call(this)[pt](!1)},uint64:function(){return lt.call(this)[pt](!0)},sint64:function(){return lt.call(this).zzDecode()[pt](!1)},fixed64:function(){return dt.call(this)[pt](!0)},sfixed64:function(){return dt.call(this)[pt](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=rt;var o=requireReader();(rt.prototype=Object.create(o.prototype)).constructor=rt;var a=requireMinimal$1();function rt(at){o.call(this,at)}return rt._configure=function(){a.Buffer&&(rt.prototype._slice=a.Buffer.prototype.slice)},rt.prototype.string=function(){var it=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+it,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+it,this.len))},rt._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=a;var o=requireMinimal$1();(a.prototype=Object.create(o.EventEmitter.prototype)).constructor=a;function a(rt,at,it){if(typeof rt!="function")throw TypeError("rpcImpl must be a function");o.EventEmitter.call(this),this.rpcImpl=rt,this.requestDelimited=Boolean(at),this.responseDelimited=Boolean(it)}return a.prototype.rpcCall=function rt(at,it,ot,st,ct){if(!st)throw TypeError("request must be specified");var lt=this;if(!ct)return o.asPromise(rt,lt,at,it,ot,st);if(!lt.rpcImpl){setTimeout(function(){ct(Error("already ended"))},0);return}try{return lt.rpcImpl(at,it[lt.requestDelimited?"encodeDelimited":"encode"](st).finish(),function(dt,ft){if(dt)return lt.emit("error",dt,at),ct(dt);if(ft===null){lt.end(!0);return}if(!(ft instanceof ot))try{ft=ot[lt.responseDelimited?"decodeDelimited":"decode"](ft)}catch(pt){return lt.emit("error",pt,at),ct(pt)}return lt.emit("data",ft,at),ct(null,ft)})}catch(ut){lt.emit("error",ut,at),setTimeout(function(){ct(ut)},0);return}},a.prototype.end=function(at){return this.rpcImpl&&(at||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(o){var a=o;a.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(o){var a=o;a.build="minimal",a.Writer=requireWriter(),a.BufferWriter=requireWriter_buffer(),a.Reader=requireReader(),a.BufferReader=requireReader_buffer(),a.util=requireMinimal$1(),a.rpc=requireRpc(),a.roots=requireRoots(),a.configure=rt;function rt(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}rt()}(indexMinimal)),indexMinimal}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(o){o.exports=requireIndexMinimal()}(minimal$1)),minimal$1.exports}var unixfs,hasRequiredUnixfs;function requireUnixfs(){if(hasRequiredUnixfs)return unixfs;hasRequiredUnixfs=1;var o=requireMinimal(),a=o.Reader,rt=o.Writer,at=o.util,it=o.roots["ipfs-unixfs"]||(o.roots["ipfs-unixfs"]={});return it.Data=function(){function ot(st){if(this.blocksizes=[],st)for(var ct=Object.keys(st),lt=0;lt<ct.length;++lt)st[ct[lt]]!=null&&(this[ct[lt]]=st[ct[lt]])}return ot.prototype.Type=0,ot.prototype.Data=at.newBuffer([]),ot.prototype.filesize=at.Long?at.Long.fromBits(0,0,!0):0,ot.prototype.blocksizes=at.emptyArray,ot.prototype.hashType=at.Long?at.Long.fromBits(0,0,!0):0,ot.prototype.fanout=at.Long?at.Long.fromBits(0,0,!0):0,ot.prototype.mode=0,ot.prototype.mtime=null,ot.encode=function(ct,lt){if(lt||(lt=rt.create()),lt.uint32(8).int32(ct.Type),ct.Data!=null&&Object.hasOwnProperty.call(ct,"Data")&&lt.uint32(18).bytes(ct.Data),ct.filesize!=null&&Object.hasOwnProperty.call(ct,"filesize")&&lt.uint32(24).uint64(ct.filesize),ct.blocksizes!=null&&ct.blocksizes.length)for(var ut=0;ut<ct.blocksizes.length;++ut)lt.uint32(32).uint64(ct.blocksizes[ut]);return ct.hashType!=null&&Object.hasOwnProperty.call(ct,"hashType")&&lt.uint32(40).uint64(ct.hashType),ct.fanout!=null&&Object.hasOwnProperty.call(ct,"fanout")&&lt.uint32(48).uint64(ct.fanout),ct.mode!=null&&Object.hasOwnProperty.call(ct,"mode")&&lt.uint32(56).uint32(ct.mode),ct.mtime!=null&&Object.hasOwnProperty.call(ct,"mtime")&&it.UnixTime.encode(ct.mtime,lt.uint32(66).fork()).ldelim(),lt},ot.decode=function(ct,lt){ct instanceof a||(ct=a.create(ct));for(var ut=lt===void 0?ct.len:ct.pos+lt,dt=new it.Data;ct.pos<ut;){var ft=ct.uint32();switch(ft>>>3){case 1:dt.Type=ct.int32();break;case 2:dt.Data=ct.bytes();break;case 3:dt.filesize=ct.uint64();break;case 4:if(dt.blocksizes&&dt.blocksizes.length||(dt.blocksizes=[]),(ft&7)===2)for(var pt=ct.uint32()+ct.pos;ct.pos<pt;)dt.blocksizes.push(ct.uint64());else dt.blocksizes.push(ct.uint64());break;case 5:dt.hashType=ct.uint64();break;case 6:dt.fanout=ct.uint64();break;case 7:dt.mode=ct.uint32();break;case 8:dt.mtime=it.UnixTime.decode(ct,ct.uint32());break;default:ct.skipType(ft&7);break}}if(!dt.hasOwnProperty("Type"))throw at.ProtocolError("missing required 'Type'",{instance:dt});return dt},ot.fromObject=function(ct){if(ct instanceof it.Data)return ct;var lt=new it.Data;switch(ct.Type){case"Raw":case 0:lt.Type=0;break;case"Directory":case 1:lt.Type=1;break;case"File":case 2:lt.Type=2;break;case"Metadata":case 3:lt.Type=3;break;case"Symlink":case 4:lt.Type=4;break;case"HAMTShard":case 5:lt.Type=5;break}if(ct.Data!=null&&(typeof ct.Data=="string"?at.base64.decode(ct.Data,lt.Data=at.newBuffer(at.base64.length(ct.Data)),0):ct.Data.length&&(lt.Data=ct.Data)),ct.filesize!=null&&(at.Long?(lt.filesize=at.Long.fromValue(ct.filesize)).unsigned=!0:typeof ct.filesize=="string"?lt.filesize=parseInt(ct.filesize,10):typeof ct.filesize=="number"?lt.filesize=ct.filesize:typeof ct.filesize=="object"&&(lt.filesize=new at.LongBits(ct.filesize.low>>>0,ct.filesize.high>>>0).toNumber(!0))),ct.blocksizes){if(!Array.isArray(ct.blocksizes))throw TypeError(".Data.blocksizes: array expected");lt.blocksizes=[];for(var ut=0;ut<ct.blocksizes.length;++ut)at.Long?(lt.blocksizes[ut]=at.Long.fromValue(ct.blocksizes[ut])).unsigned=!0:typeof ct.blocksizes[ut]=="string"?lt.blocksizes[ut]=parseInt(ct.blocksizes[ut],10):typeof ct.blocksizes[ut]=="number"?lt.blocksizes[ut]=ct.blocksizes[ut]:typeof ct.blocksizes[ut]=="object"&&(lt.blocksizes[ut]=new at.LongBits(ct.blocksizes[ut].low>>>0,ct.blocksizes[ut].high>>>0).toNumber(!0))}if(ct.hashType!=null&&(at.Long?(lt.hashType=at.Long.fromValue(ct.hashType)).unsigned=!0:typeof ct.hashType=="string"?lt.hashType=parseInt(ct.hashType,10):typeof ct.hashType=="number"?lt.hashType=ct.hashType:typeof ct.hashType=="object"&&(lt.hashType=new at.LongBits(ct.hashType.low>>>0,ct.hashType.high>>>0).toNumber(!0))),ct.fanout!=null&&(at.Long?(lt.fanout=at.Long.fromValue(ct.fanout)).unsigned=!0:typeof ct.fanout=="string"?lt.fanout=parseInt(ct.fanout,10):typeof ct.fanout=="number"?lt.fanout=ct.fanout:typeof ct.fanout=="object"&&(lt.fanout=new at.LongBits(ct.fanout.low>>>0,ct.fanout.high>>>0).toNumber(!0))),ct.mode!=null&&(lt.mode=ct.mode>>>0),ct.mtime!=null){if(typeof ct.mtime!="object")throw TypeError(".Data.mtime: object expected");lt.mtime=it.UnixTime.fromObject(ct.mtime)}return lt},ot.toObject=function(ct,lt){lt||(lt={});var ut={};if((lt.arrays||lt.defaults)&&(ut.blocksizes=[]),lt.defaults){if(ut.Type=lt.enums===String?"Raw":0,lt.bytes===String?ut.Data="":(ut.Data=[],lt.bytes!==Array&&(ut.Data=at.newBuffer(ut.Data))),at.Long){var dt=new at.Long(0,0,!0);ut.filesize=lt.longs===String?dt.toString():lt.longs===Number?dt.toNumber():dt}else ut.filesize=lt.longs===String?"0":0;if(at.Long){var dt=new at.Long(0,0,!0);ut.hashType=lt.longs===String?dt.toString():lt.longs===Number?dt.toNumber():dt}else ut.hashType=lt.longs===String?"0":0;if(at.Long){var dt=new at.Long(0,0,!0);ut.fanout=lt.longs===String?dt.toString():lt.longs===Number?dt.toNumber():dt}else ut.fanout=lt.longs===String?"0":0;ut.mode=0,ut.mtime=null}if(ct.Type!=null&&ct.hasOwnProperty("Type")&&(ut.Type=lt.enums===String?it.Data.DataType[ct.Type]:ct.Type),ct.Data!=null&&ct.hasOwnProperty("Data")&&(ut.Data=lt.bytes===String?at.base64.encode(ct.Data,0,ct.Data.length):lt.bytes===Array?Array.prototype.slice.call(ct.Data):ct.Data),ct.filesize!=null&&ct.hasOwnProperty("filesize")&&(typeof ct.filesize=="number"?ut.filesize=lt.longs===String?String(ct.filesize):ct.filesize:ut.filesize=lt.longs===String?at.Long.prototype.toString.call(ct.filesize):lt.longs===Number?new at.LongBits(ct.filesize.low>>>0,ct.filesize.high>>>0).toNumber(!0):ct.filesize),ct.blocksizes&&ct.blocksizes.length){ut.blocksizes=[];for(var ft=0;ft<ct.blocksizes.length;++ft)typeof ct.blocksizes[ft]=="number"?ut.blocksizes[ft]=lt.longs===String?String(ct.blocksizes[ft]):ct.blocksizes[ft]:ut.blocksizes[ft]=lt.longs===String?at.Long.prototype.toString.call(ct.blocksizes[ft]):lt.longs===Number?new at.LongBits(ct.blocksizes[ft].low>>>0,ct.blocksizes[ft].high>>>0).toNumber(!0):ct.blocksizes[ft]}return ct.hashType!=null&&ct.hasOwnProperty("hashType")&&(typeof ct.hashType=="number"?ut.hashType=lt.longs===String?String(ct.hashType):ct.hashType:ut.hashType=lt.longs===String?at.Long.prototype.toString.call(ct.hashType):lt.longs===Number?new at.LongBits(ct.hashType.low>>>0,ct.hashType.high>>>0).toNumber(!0):ct.hashType),ct.fanout!=null&&ct.hasOwnProperty("fanout")&&(typeof ct.fanout=="number"?ut.fanout=lt.longs===String?String(ct.fanout):ct.fanout:ut.fanout=lt.longs===String?at.Long.prototype.toString.call(ct.fanout):lt.longs===Number?new at.LongBits(ct.fanout.low>>>0,ct.fanout.high>>>0).toNumber(!0):ct.fanout),ct.mode!=null&&ct.hasOwnProperty("mode")&&(ut.mode=ct.mode),ct.mtime!=null&&ct.hasOwnProperty("mtime")&&(ut.mtime=it.UnixTime.toObject(ct.mtime,lt)),ut},ot.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},ot.DataType=function(){var st={},ct=Object.create(st);return ct[st[0]="Raw"]=0,ct[st[1]="Directory"]=1,ct[st[2]="File"]=2,ct[st[3]="Metadata"]=3,ct[st[4]="Symlink"]=4,ct[st[5]="HAMTShard"]=5,ct}(),ot}(),it.UnixTime=function(){function ot(st){if(st)for(var ct=Object.keys(st),lt=0;lt<ct.length;++lt)st[ct[lt]]!=null&&(this[ct[lt]]=st[ct[lt]])}return ot.prototype.Seconds=at.Long?at.Long.fromBits(0,0,!1):0,ot.prototype.FractionalNanoseconds=0,ot.encode=function(ct,lt){return lt||(lt=rt.create()),lt.uint32(8).int64(ct.Seconds),ct.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(ct,"FractionalNanoseconds")&&lt.uint32(21).fixed32(ct.FractionalNanoseconds),lt},ot.decode=function(ct,lt){ct instanceof a||(ct=a.create(ct));for(var ut=lt===void 0?ct.len:ct.pos+lt,dt=new it.UnixTime;ct.pos<ut;){var ft=ct.uint32();switch(ft>>>3){case 1:dt.Seconds=ct.int64();break;case 2:dt.FractionalNanoseconds=ct.fixed32();break;default:ct.skipType(ft&7);break}}if(!dt.hasOwnProperty("Seconds"))throw at.ProtocolError("missing required 'Seconds'",{instance:dt});return dt},ot.fromObject=function(ct){if(ct instanceof it.UnixTime)return ct;var lt=new it.UnixTime;return ct.Seconds!=null&&(at.Long?(lt.Seconds=at.Long.fromValue(ct.Seconds)).unsigned=!1:typeof ct.Seconds=="string"?lt.Seconds=parseInt(ct.Seconds,10):typeof ct.Seconds=="number"?lt.Seconds=ct.Seconds:typeof ct.Seconds=="object"&&(lt.Seconds=new at.LongBits(ct.Seconds.low>>>0,ct.Seconds.high>>>0).toNumber())),ct.FractionalNanoseconds!=null&&(lt.FractionalNanoseconds=ct.FractionalNanoseconds>>>0),lt},ot.toObject=function(ct,lt){lt||(lt={});var ut={};if(lt.defaults){if(at.Long){var dt=new at.Long(0,0,!1);ut.Seconds=lt.longs===String?dt.toString():lt.longs===Number?dt.toNumber():dt}else ut.Seconds=lt.longs===String?"0":0;ut.FractionalNanoseconds=0}return ct.Seconds!=null&&ct.hasOwnProperty("Seconds")&&(typeof ct.Seconds=="number"?ut.Seconds=lt.longs===String?String(ct.Seconds):ct.Seconds:ut.Seconds=lt.longs===String?at.Long.prototype.toString.call(ct.Seconds):lt.longs===Number?new at.LongBits(ct.Seconds.low>>>0,ct.Seconds.high>>>0).toNumber():ct.Seconds),ct.FractionalNanoseconds!=null&&ct.hasOwnProperty("FractionalNanoseconds")&&(ut.FractionalNanoseconds=ct.FractionalNanoseconds),ut},ot.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},ot}(),it.Metadata=function(){function ot(st){if(st)for(var ct=Object.keys(st),lt=0;lt<ct.length;++lt)st[ct[lt]]!=null&&(this[ct[lt]]=st[ct[lt]])}return ot.prototype.MimeType="",ot.encode=function(ct,lt){return lt||(lt=rt.create()),ct.MimeType!=null&&Object.hasOwnProperty.call(ct,"MimeType")&&lt.uint32(10).string(ct.MimeType),lt},ot.decode=function(ct,lt){ct instanceof a||(ct=a.create(ct));for(var ut=lt===void 0?ct.len:ct.pos+lt,dt=new it.Metadata;ct.pos<ut;){var ft=ct.uint32();switch(ft>>>3){case 1:dt.MimeType=ct.string();break;default:ct.skipType(ft&7);break}}return dt},ot.fromObject=function(ct){if(ct instanceof it.Metadata)return ct;var lt=new it.Metadata;return ct.MimeType!=null&&(lt.MimeType=String(ct.MimeType)),lt},ot.toObject=function(ct,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.MimeType=""),ct.MimeType!=null&&ct.hasOwnProperty("MimeType")&&(ut.MimeType=ct.MimeType),ut},ot.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},ot}(),unixfs=it,unixfs}var src$8,hasRequiredSrc$5;function requireSrc$5(){if(hasRequiredSrc$5)return src$8;hasRequiredSrc$5=1;const{Data:o}=requireUnixfs(),a=errCode,rt=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],at=["directory","hamt-sharded-directory"],it=parseInt("0644",8),ot=parseInt("0755",8);function st(ut){if(ut!=null)return typeof ut=="number"?ut&4095:(ut=ut.toString(),ut.substring(0,1)==="0"?parseInt(ut,8)&4095:parseInt(ut,10)&4095)}function ct(ut){if(ut==null)return;let dt;if(ut.secs!=null&&(dt={secs:ut.secs,nsecs:ut.nsecs}),ut.Seconds!=null&&(dt={secs:ut.Seconds,nsecs:ut.FractionalNanoseconds}),Array.isArray(ut)&&(dt={secs:ut[0],nsecs:ut[1]}),ut instanceof Date){const ft=ut.getTime(),pt=Math.floor(ft/1e3);dt={secs:pt,nsecs:(ft-pt*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(dt,"secs")){if(dt!=null&&dt.nsecs!=null&&(dt.nsecs<0||dt.nsecs>999999999))throw a(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return dt}}class lt{static unmarshal(dt){const ft=o.decode(dt),pt=o.toObject(ft,{defaults:!1,arrays:!0,longs:Number,objects:!1}),ht=new lt({type:rt[pt.Type],data:pt.Data,blockSizes:pt.blocksizes,mode:pt.mode,mtime:pt.mtime?{secs:pt.mtime.Seconds,nsecs:pt.mtime.FractionalNanoseconds}:void 0});return ht._originalMode=pt.mode||0,ht}constructor(dt={type:"file"}){const{type:ft,data:pt,blockSizes:ht,hashType:yt,fanout:mt,mtime:gt,mode:bt}=dt;if(ft&&!rt.includes(ft))throw a(new Error("Type: "+ft+" is not valid"),"ERR_INVALID_TYPE");this.type=ft||"file",this.data=pt,this.hashType=yt,this.fanout=mt,this.blockSizes=ht||[],this._originalMode=0,this.mode=st(bt),gt&&(this.mtime=ct(gt),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(dt){this._mode=this.isDirectory()?ot:it;const ft=st(dt);ft!==void 0&&(this._mode=ft)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&at.includes(this.type))}addBlockSize(dt){this.blockSizes.push(dt)}removeBlockSize(dt){this.blockSizes.splice(dt,1)}fileSize(){if(this.isDirectory())return 0;let dt=0;return this.blockSizes.forEach(ft=>{dt+=ft}),this.data&&(dt+=this.data.length),dt}marshal(){let dt;switch(this.type){case"raw":dt=o.DataType.Raw;break;case"directory":dt=o.DataType.Directory;break;case"file":dt=o.DataType.File;break;case"metadata":dt=o.DataType.Metadata;break;case"symlink":dt=o.DataType.Symlink;break;case"hamt-sharded-directory":dt=o.DataType.HAMTShard;break;default:throw a(new Error("Type: "+dt+" is not valid"),"ERR_INVALID_TYPE")}let ft=this.data;(!this.data||!this.data.length)&&(ft=void 0);let pt;this.mode!=null&&(pt=this._originalMode&4294963200|(st(this.mode)||0),pt===it&&!this.isDirectory()&&(pt=void 0),pt===ot&&this.isDirectory()&&(pt=void 0));let ht;if(this.mtime!=null){const mt=ct(this.mtime);mt&&(ht={Seconds:mt.secs,FractionalNanoseconds:mt.nsecs},ht.FractionalNanoseconds===0&&delete ht.FractionalNanoseconds)}const yt={Type:dt,Data:ft,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:pt,mtime:ht};return o.encode(yt).finish()}}return src$8={UnixFS:lt,parseMode:st,parseMtime:ct},src$8}var encode_1,hasRequiredEncode;function requireEncode(){if(hasRequiredEncode)return encode_1;hasRequiredEncode=1,encode_1=it;var o=128,a=127,rt=~a,at=Math.pow(2,31);function it(ot,st,ct){if(Number.MAX_SAFE_INTEGER&&ot>Number.MAX_SAFE_INTEGER)throw it.bytes=0,new RangeError("Could not encode varint");st=st||[],ct=ct||0;for(var lt=ct;ot>=at;)st[ct++]=ot&255|o,ot/=128;for(;ot&rt;)st[ct++]=ot&255|o,ot>>>=7;return st[ct]=ot|0,it.bytes=ct-lt+1,st}return encode_1}var decode$4,hasRequiredDecode;function requireDecode(){if(hasRequiredDecode)return decode$4;hasRequiredDecode=1,decode$4=rt;var o=128,a=127;function rt(at,st){var ot=0,st=st||0,ct=0,lt=st,ut,dt=at.length;do{if(lt>=dt||ct>49)throw rt.bytes=0,new RangeError("Could not decode varint");ut=at[lt++],ot+=ct<28?(ut&a)<<ct:(ut&a)*Math.pow(2,ct),ct+=7}while(ut>=o);return rt.bytes=lt-st,ot}return decode$4}var length$1,hasRequiredLength;function requireLength(){if(hasRequiredLength)return length$1;hasRequiredLength=1;var o=Math.pow(2,7),a=Math.pow(2,14),rt=Math.pow(2,21),at=Math.pow(2,28),it=Math.pow(2,35),ot=Math.pow(2,42),st=Math.pow(2,49),ct=Math.pow(2,56),lt=Math.pow(2,63);return length$1=function(ut){return ut<o?1:ut<a?2:ut<rt?3:ut<at?4:ut<it?5:ut<ot?6:ut<st?7:ut<ct?8:ut<lt?9:10},length$1}var varint,hasRequiredVarint;function requireVarint(){return hasRequiredVarint||(hasRequiredVarint=1,varint={encode:requireEncode(),decode:requireDecode(),encodingLength:requireLength()}),varint}var util$5,hasRequiredUtil$2;function requireUtil$2(){if(hasRequiredUtil$2)return util$5;hasRequiredUtil$2=1;const o=requireVarint(),{toString:a}=require$$5$1,{fromString:rt}=require$$1$3;util$5={numberToUint8Array:it,uint8ArrayToNumber:at,varintUint8ArrayEncode:ot,varintEncode:st};function at(ct){return parseInt(a(ct,"base16"),16)}function it(ct){let lt=ct.toString(16);return lt.length%2===1&&(lt="0"+lt),rt(lt,"base16")}function ot(ct){return Uint8Array.from(o.encode(at(ct)))}function st(ct){return Uint8Array.from(o.encode(ct))}return util$5}var generatedTable,hasRequiredGeneratedTable;function requireGeneratedTable(){return hasRequiredGeneratedTable||(hasRequiredGeneratedTable=1,generatedTable={baseTable:Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592})}),generatedTable}var maps,hasRequiredMaps;function requireMaps(){if(hasRequiredMaps)return maps;hasRequiredMaps=1;const{baseTable:o}=requireGeneratedTable(),a=requireUtil$2().varintEncode,rt={},at={},it={};for(const st in o){const ct=st,lt=o[ct];rt[ct]=a(lt);const ut=ct.toUpperCase().replace(/-/g,"_");at[ut]=lt,it[lt]||(it[lt]=ct)}Object.freeze(rt),Object.freeze(at),Object.freeze(it);const ot=Object.freeze(o);return maps={nameToVarint:rt,constantToCode:at,nameToCode:ot,codeToName:it},maps}var src$7,hasRequiredSrc$4;function requireSrc$4(){if(hasRequiredSrc$4)return src$7;hasRequiredSrc$4=1;const o=requireVarint(),{concat:a}=require$$1$2,rt=requireUtil$2(),{nameToVarint:at,constantToCode:it,nameToCode:ot,codeToName:st}=requireMaps();function ct(_t,St){let Pt;if(_t instanceof Uint8Array)Pt=rt.varintUint8ArrayEncode(_t);else if(at[_t])Pt=at[_t];else throw new Error("multicodec not recognized");return a([Pt,St],Pt.length+St.length)}function lt(_t){return o.decode(_t),_t.slice(o.decode.bytes)}function ut(_t){const St=o.decode(_t),Pt=st[St];if(Pt===void 0)throw new Error(`Code "${St}" not found`);return Pt}function dt(_t){return st[_t]}function ft(_t){const St=ot[_t];if(St===void 0)throw new Error(`Codec "${_t}" not found`);return St}function pt(_t){return o.decode(_t)}function ht(_t){const St=at[_t];if(St===void 0)throw new Error(`Codec "${_t}" not found`);return St}function yt(_t){return rt.varintEncode(_t)}function mt(_t){return ut(_t)}function gt(_t){return dt(_t)}function bt(_t){return ft(_t)}function vt(_t){return pt(_t)}function wt(_t){return ht(_t)}function Tt(_t){return Array.from(yt(_t))}return src$7={addPrefix:ct,rmPrefix:lt,getNameFromData:ut,getNameFromCode:dt,getCodeFromName:ft,getCodeFromData:pt,getVarintFromName:ht,getVarintFromCode:yt,getCodec:mt,getName:gt,getNumber:bt,getCode:vt,getCodeVarint:wt,getVarint:Tt,...it,nameToVarint:at,nameToCode:ot,codeToName:st},src$7}var cidUtil,hasRequiredCidUtil;function requireCidUtil(){if(hasRequiredCidUtil)return cidUtil;hasRequiredCidUtil=1;const o=src$a;return cidUtil={checkCIDComponents:function(rt){if(rt==null)return"null values are not valid CIDs";if(!(rt.version===0||rt.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof rt.codec!="string")return"codec must be string";if(rt.version===0){if(rt.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(rt.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(rt.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{o.validate(rt.multihash)}catch(at){let it=at.message;return it||(it="Multihash validation failed"),it}}},cidUtil}var src$6,hasRequiredSrc$3;function requireSrc$3(){if(hasRequiredSrc$3)return src$6;hasRequiredSrc$3=1;const o=src$a,a=src$d.exports,rt=requireSrc$4(),at=requireCidUtil(),{concat:it}=require$$1$2,{toString:ot}=require$$5$1,{equals:st}=require$$6$1,ct=rt.nameToCode,lt=Object.keys(ct).reduce((ft,pt)=>(ft[ct[pt]]=pt,ft),{}),ut=Symbol.for("@ipld/js-cid/CID");class dt{constructor(pt,ht,yt,mt){if(this.version,this.codec,this.multihash,Object.defineProperty(this,ut,{value:!0}),dt.isCID(pt)){const gt=pt;this.version=gt.version,this.codec=gt.codec,this.multihash=gt.multihash,this.multibaseName=gt.multibaseName||(gt.version===0?"base58btc":"base32");return}if(typeof pt=="string"){const gt=a.isEncoded(pt);if(gt){const bt=a.decode(pt);this.version=parseInt(bt[0].toString(),16),this.codec=rt.getCodec(bt.slice(1)),this.multihash=rt.rmPrefix(bt.slice(1)),this.multibaseName=gt}else this.version=0,this.codec="dag-pb",this.multihash=o.fromB58String(pt),this.multibaseName="base58btc";dt.validateCID(this),Object.defineProperty(this,"string",{value:pt});return}if(pt instanceof Uint8Array){const gt=parseInt(pt[0].toString(),16);if(gt===1){const bt=pt;this.version=gt,this.codec=rt.getCodec(bt.slice(1)),this.multihash=rt.rmPrefix(bt.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=pt,this.multibaseName="base58btc";dt.validateCID(this);return}this.version=pt,typeof ht=="number"&&(ht=lt[ht]),this.codec=ht,this.multihash=yt,this.multibaseName=mt||(pt===0?"base58btc":"base32"),dt.validateCID(this)}get bytes(){let pt=this._bytes;if(!pt){if(this.version===0)pt=this.multihash;else if(this.version===1){const ht=rt.getCodeVarint(this.codec);pt=it([[1],ht,this.multihash],1+ht.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:pt})}return pt}get prefix(){const pt=rt.getCodeVarint(this.codec),ht=o.prefix(this.multihash);return it([[this.version],pt,ht],1+pt.byteLength+ht.byteLength)}get code(){return ct[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:pt,length:ht}=o.decode(this.multihash);if(pt!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(ht!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new dt(0,this.codec,this.multihash)}toV1(){return new dt(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(pt=this.multibaseName){if(this.string&&this.string.length!==0&&pt===this.multibaseName)return this.string;let ht;if(this.version===0){if(pt!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");ht=o.toB58String(this.multihash)}else if(this.version===1)ht=ot(a.encode(pt,this.bytes));else throw new Error("unsupported version");return pt===this.multibaseName&&Object.defineProperty(this,"string",{value:ht}),ht}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(pt){return this.toBaseEncodedString(pt)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(pt){return this.codec===pt.codec&&this.version===pt.version&&st(this.multihash,pt.multihash)}static validateCID(pt){const ht=at.checkCIDComponents(pt);if(ht)throw new Error(ht)}static isCID(pt){return pt instanceof dt||Boolean(pt&&pt[ut])}}return dt.codecs=ct,src$6=dt,src$6}var persist_1,hasRequiredPersist;function requirePersist(){if(hasRequiredPersist)return persist_1;hasRequiredPersist=1;const o=src$9,a=requireSrc$3();return persist_1=async(at,it,ot)=>{ot.codec||(ot.codec="dag-pb"),ot.cidVersion||(ot.cidVersion=0),ot.hashAlg||(ot.hashAlg="sha2-256"),ot.hashAlg!=="sha2-256"&&(ot.cidVersion=1);const st=await o(at,ot.hashAlg),ct=new a(ot.cidVersion,ot.codec,st);return ot.onlyHash||await it.put(at,{pin:ot.pin,preload:ot.preload,timeout:ot.timeout,cid:ct}),ct},persist_1}var resolver={},dag,hasRequiredDag;function requireDag(){if(hasRequiredDag)return dag;hasRequiredDag=1;var o=requireMinimal(),a=o.Reader,rt=o.Writer,at=o.util,it=o.roots.default||(o.roots.default={});return it.PBLink=function(){function ot(st){if(st)for(var ct=Object.keys(st),lt=0;lt<ct.length;++lt)st[ct[lt]]!=null&&(this[ct[lt]]=st[ct[lt]])}return ot.prototype.Hash=at.newBuffer([]),ot.prototype.Name="",ot.prototype.Tsize=at.Long?at.Long.fromBits(0,0,!0):0,ot.encode=function(ct,lt){return lt||(lt=rt.create()),ct.Hash!=null&&Object.hasOwnProperty.call(ct,"Hash")&&lt.uint32(10).bytes(ct.Hash),ct.Name!=null&&Object.hasOwnProperty.call(ct,"Name")&&lt.uint32(18).string(ct.Name),ct.Tsize!=null&&Object.hasOwnProperty.call(ct,"Tsize")&&lt.uint32(24).uint64(ct.Tsize),lt},ot.decode=function(ct,lt){ct instanceof a||(ct=a.create(ct));for(var ut=lt===void 0?ct.len:ct.pos+lt,dt=new it.PBLink;ct.pos<ut;){var ft=ct.uint32();switch(ft>>>3){case 1:dt.Hash=ct.bytes();break;case 2:dt.Name=ct.string();break;case 3:dt.Tsize=ct.uint64();break;default:ct.skipType(ft&7);break}}return dt},ot.fromObject=function(ct){if(ct instanceof it.PBLink)return ct;var lt=new it.PBLink;return ct.Hash!=null&&(typeof ct.Hash=="string"?at.base64.decode(ct.Hash,lt.Hash=at.newBuffer(at.base64.length(ct.Hash)),0):ct.Hash.length&&(lt.Hash=ct.Hash)),ct.Name!=null&&(lt.Name=String(ct.Name)),ct.Tsize!=null&&(at.Long?(lt.Tsize=at.Long.fromValue(ct.Tsize)).unsigned=!0:typeof ct.Tsize=="string"?lt.Tsize=parseInt(ct.Tsize,10):typeof ct.Tsize=="number"?lt.Tsize=ct.Tsize:typeof ct.Tsize=="object"&&(lt.Tsize=new at.LongBits(ct.Tsize.low>>>0,ct.Tsize.high>>>0).toNumber(!0))),lt},ot.toObject=function(ct,lt){lt||(lt={});var ut={};if(lt.defaults)if(lt.bytes===String?ut.Hash="":(ut.Hash=[],lt.bytes!==Array&&(ut.Hash=at.newBuffer(ut.Hash))),ut.Name="",at.Long){var dt=new at.Long(0,0,!0);ut.Tsize=lt.longs===String?dt.toString():lt.longs===Number?dt.toNumber():dt}else ut.Tsize=lt.longs===String?"0":0;return ct.Hash!=null&&ct.hasOwnProperty("Hash")&&(ut.Hash=lt.bytes===String?at.base64.encode(ct.Hash,0,ct.Hash.length):lt.bytes===Array?Array.prototype.slice.call(ct.Hash):ct.Hash),ct.Name!=null&&ct.hasOwnProperty("Name")&&(ut.Name=ct.Name),ct.Tsize!=null&&ct.hasOwnProperty("Tsize")&&(typeof ct.Tsize=="number"?ut.Tsize=lt.longs===String?String(ct.Tsize):ct.Tsize:ut.Tsize=lt.longs===String?at.Long.prototype.toString.call(ct.Tsize):lt.longs===Number?new at.LongBits(ct.Tsize.low>>>0,ct.Tsize.high>>>0).toNumber(!0):ct.Tsize),ut},ot.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},ot}(),it.PBNode=function(){function ot(st){if(this.Links=[],st)for(var ct=Object.keys(st),lt=0;lt<ct.length;++lt)st[ct[lt]]!=null&&(this[ct[lt]]=st[ct[lt]])}return ot.prototype.Links=at.emptyArray,ot.prototype.Data=at.newBuffer([]),ot.encode=function(ct,lt){if(lt||(lt=rt.create()),ct.Data!=null&&Object.hasOwnProperty.call(ct,"Data")&&lt.uint32(10).bytes(ct.Data),ct.Links!=null&&ct.Links.length)for(var ut=0;ut<ct.Links.length;++ut)it.PBLink.encode(ct.Links[ut],lt.uint32(18).fork()).ldelim();return lt},ot.decode=function(ct,lt){ct instanceof a||(ct=a.create(ct));for(var ut=lt===void 0?ct.len:ct.pos+lt,dt=new it.PBNode;ct.pos<ut;){var ft=ct.uint32();switch(ft>>>3){case 2:dt.Links&&dt.Links.length||(dt.Links=[]),dt.Links.push(it.PBLink.decode(ct,ct.uint32()));break;case 1:dt.Data=ct.bytes();break;default:ct.skipType(ft&7);break}}return dt},ot.fromObject=function(ct){if(ct instanceof it.PBNode)return ct;var lt=new it.PBNode;if(ct.Links){if(!Array.isArray(ct.Links))throw TypeError(".PBNode.Links: array expected");lt.Links=[];for(var ut=0;ut<ct.Links.length;++ut){if(typeof ct.Links[ut]!="object")throw TypeError(".PBNode.Links: object expected");lt.Links[ut]=it.PBLink.fromObject(ct.Links[ut])}}return ct.Data!=null&&(typeof ct.Data=="string"?at.base64.decode(ct.Data,lt.Data=at.newBuffer(at.base64.length(ct.Data)),0):ct.Data.length&&(lt.Data=ct.Data)),lt},ot.toObject=function(ct,lt){lt||(lt={});var ut={};if((lt.arrays||lt.defaults)&&(ut.Links=[]),lt.defaults&&(lt.bytes===String?ut.Data="":(ut.Data=[],lt.bytes!==Array&&(ut.Data=at.newBuffer(ut.Data)))),ct.Data!=null&&ct.hasOwnProperty("Data")&&(ut.Data=lt.bytes===String?at.base64.encode(ct.Data,0,ct.Data.length):lt.bytes===Array?Array.prototype.slice.call(ct.Data):ct.Data),ct.Links&&ct.Links.length){ut.Links=[];for(var dt=0;dt<ct.Links.length;++dt)ut.Links[dt]=it.PBLink.toObject(ct.Links[dt],lt)}return ut},ot.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},ot}(),dag=it,dag}const require$$0$3=getAugmentedNamespace(basics);var bases_1$1,hasRequiredBases$1;function requireBases$1(){if(hasRequiredBases$1)return bases_1$1;hasRequiredBases$1=1;const{bases:o}=require$$0$3;function a(ot,st,ct,lt){return{name:ot,prefix:st,encoder:{name:ot,prefix:st,encode:ct},decoder:{decode:lt}}}const rt=a("utf8","u",ot=>"u"+new TextDecoder("utf8").decode(ot),ot=>new TextEncoder().encode(ot.substring(1))),at=a("ascii","a",ot=>{let st="a";for(let ct=0;ct<ot.length;ct++)st+=String.fromCharCode(ot[ct]);return st},ot=>{ot=ot.substring(1);const st=new Uint8Array(ot.length);for(let ct=0;ct<ot.length;ct++)st[ct]=ot.charCodeAt(ct);return st});return bases_1$1={utf8:rt,"utf-8":rt,hex:o.base16,latin1:at,ascii:at,binary:at,...o},bases_1$1}var fromString_1$1,hasRequiredFromString$1;function requireFromString$1(){if(hasRequiredFromString$1)return fromString_1$1;hasRequiredFromString$1=1;const o=requireBases$1();function a(rt,at="utf8"){const it=o[at];if(!it)throw new Error(`Unsupported encoding "${at}"`);return it.decoder.decode(`${it.prefix}${rt}`)}return fromString_1$1=a,fromString_1$1}var dagLink,hasRequiredDagLink;function requireDagLink(){if(hasRequiredDagLink)return dagLink;hasRequiredDagLink=1;const o=requireSrc$3(),a=requireFromString$1();class rt{constructor(it,ot,st){if(!st)throw new Error("A link requires a cid to point to");this.Name=it||"",this.Tsize=ot,this.Hash=new o(st),Object.defineProperties(this,{_nameBuf:{value:null,writable:!0,enumerable:!1}})}toString(){return`DAGLink <${this.Hash.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get nameAsBuffer(){return this._nameBuf!=null?this._nameBuf:(this._nameBuf=a(this.Name),this._nameBuf)}}return dagLink=rt,dagLink}var stable={exports:{}},hasRequiredStable;function requireStable(){return hasRequiredStable||(hasRequiredStable=1,function(o,a){//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//! © 2018 Angry Bytes and contributors. MIT licensed.
(function(rt,at){o.exports=at()})(commonjsGlobal,function(){var rt=function(ot,st){return at(ot.slice(),st)};rt.inplace=function(ot,st){var ct=at(ot,st);return ct!==ot&&it(ct,null,ot.length,ot),ot};function at(ot,st){typeof st!="function"&&(st=function(ft,pt){return String(ft).localeCompare(pt)});var ct=ot.length;if(ct<=1)return ot;for(var lt=new Array(ct),ut=1;ut<ct;ut*=2){it(ot,st,ut,lt);var dt=ot;ot=lt,lt=dt}return ot}var it=function(ot,st,ct,lt){var ut=ot.length,dt=0,ft=ct*2,pt,ht,yt,mt,gt;for(pt=0;pt<ut;pt+=ft)for(ht=pt+ct,yt=ht+ct,ht>ut&&(ht=ut),yt>ut&&(yt=ut),mt=pt,gt=ht;;)if(mt<ht&&gt<yt)st(ot[mt],ot[gt])<=0?lt[dt++]=ot[mt++]:lt[dt++]=ot[gt++];else if(mt<ht)lt[dt++]=ot[mt++];else if(gt<yt)lt[dt++]=ot[gt++];else break};return rt})}(stable)),stable.exports}var compare_1,hasRequiredCompare;function requireCompare(){if(hasRequiredCompare)return compare_1;hasRequiredCompare=1;function o(a,rt){for(let at=0;at<a.byteLength;at++){if(a[at]<rt[at])return-1;if(a[at]>rt[at])return 1}return a.byteLength>rt.byteLength?1:a.byteLength<rt.byteLength?-1:0}return compare_1=o,compare_1}var sortLinks_1,hasRequiredSortLinks;function requireSortLinks(){if(hasRequiredSortLinks)return sortLinks_1;hasRequiredSortLinks=1;const o=requireStable(),a=requireCompare(),rt=(it,ot)=>{const st=it.nameAsBuffer,ct=ot.nameAsBuffer;return a(st,ct)};return sortLinks_1=it=>{o.inplace(it,rt)},sortLinks_1}var util$4,hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$4;hasRequiredUtil$1=1;const o=requireDagLink();function a(rt){return new o(rt.Name||rt.name||"",rt.Tsize||rt.Size||rt.size||0,rt.Hash||rt.hash||rt.multihash||rt.cid)}return util$4={createDagLinkFromB58EncodedHash:a},util$4}var serialize$3,hasRequiredSerialize;function requireSerialize(){if(hasRequiredSerialize)return serialize$3;hasRequiredSerialize=1;const o=requireMinimal(),{PBLink:a}=requireDag(),{createDagLinkFromB58EncodedHash:rt}=requireUtil$1(),at=ct=>{const lt={};return ct.Data&&ct.Data.byteLength>0?lt.Data=ct.Data:lt.Data=null,ct.Links&&ct.Links.length>0?lt.Links=ct.Links.map(ut=>({Hash:ut.Hash.bytes,Name:ut.Name,Tsize:ut.Tsize})):lt.Links=null,lt};serialize$3={serializeDAGNode:ct=>st(at(ct)),serializeDAGNodeLike:(ct,lt=[])=>{const ut={Data:ct,Links:lt.map(dt=>rt(dt))};return st(at(ut))}};function st(ct){const lt=o.Writer.create();if(ct.Links!=null)for(let ut=0;ut<ct.Links.length;ut++)a.encode(ct.Links[ut],lt.uint32(18).fork()).ldelim();return ct.Data!=null&&lt.uint32(10).bytes(ct.Data),lt.finish()}return serialize$3}var genCid,hasRequiredGenCid;function requireGenCid(){if(hasRequiredGenCid)return genCid;hasRequiredGenCid=1;const o=requireSrc$3(),a=requireSrc$4(),rt=src$9,{multihash:at}=rt,it=a.DAG_PB,ot=at.names["sha2-256"];return genCid={codec:it,defaultHashAlg:ot,cid:async(ct,lt={})=>{const ut={cidVersion:lt.cidVersion==null?1:lt.cidVersion,hashAlg:lt.hashAlg==null?ot:lt.hashAlg},dt=at.codes[ut.hashAlg],ft=await rt(ct,dt),pt=a.getNameFromCode(it);return new o(ut.cidVersion,pt,ft)}},genCid}var toDagLink,hasRequiredToDagLink;function requireToDagLink(){if(hasRequiredToDagLink)return toDagLink;hasRequiredToDagLink=1;const o=requireDagLink(),a=requireGenCid();return toDagLink=async(at,it={})=>{const ot=at.serialize(),st=await a.cid(ot,it);return new o(it.name||"",at.size,st)},toDagLink}var addLink_1,hasRequiredAddLink;function requireAddLink(){if(hasRequiredAddLink)return addLink_1;hasRequiredAddLink=1;const o=requireSortLinks(),a=requireDagLink(),rt=it=>{if(it instanceof a)return it;if(!("cid"in it||"hash"in it||"Hash"in it||"multihash"in it))throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.");return new a(it.Name||it.name,it.Tsize||it.size,it.Hash||it.multihash||it.hash||it.cid)};return addLink_1=(it,ot)=>{const st=rt(ot);it.Links.push(st),o(it.Links)},addLink_1}var equals_1,hasRequiredEquals;function requireEquals(){if(hasRequiredEquals)return equals_1;hasRequiredEquals=1;function o(a,rt){if(a===rt)return!0;if(a.byteLength!==rt.byteLength)return!1;for(let at=0;at<a.byteLength;at++)if(a[at]!==rt[at])return!1;return!0}return equals_1=o,equals_1}var rmLink_1,hasRequiredRmLink;function requireRmLink(){if(hasRequiredRmLink)return rmLink_1;hasRequiredRmLink=1;const o=requireSrc$3(),a=requireEquals();return rmLink_1=(at,it)=>{let ot=null;if(typeof it=="string"?ot=st=>st.Name===it:it instanceof Uint8Array?ot=st=>a(st.Hash.bytes,it):o.isCID(it)&&(ot=st=>a(st.Hash.bytes,it.bytes)),ot){const st=at.Links;let ct=0;for(;ct<st.length;){const lt=st[ct];ot(lt)?st.splice(ct,1):ct++}}else throw new Error("second arg needs to be a name or CID")},rmLink_1}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;const o=requireBases$1();function a(rt,at="utf8"){const it=o[at];if(!it)throw new Error(`Unsupported encoding "${at}"`);return it.encoder.encode(rt).substring(1)}return toString_1=a,toString_1}var dagNode,hasRequiredDagNode;function requireDagNode(){if(hasRequiredDagNode)return dagNode;hasRequiredDagNode=1;const o=requireSortLinks(),a=requireDagLink(),{createDagLinkFromB58EncodedHash:rt}=requireUtil$1(),{serializeDAGNode:at}=requireSerialize(),it=requireToDagLink(),ot=requireAddLink(),st=requireRmLink(),ct=requireFromString$1(),lt=requireToString();class ut{constructor(ft,pt=[],ht=null){if(ft||(ft=new Uint8Array(0)),typeof ft=="string"&&(ft=ct(ft)),!(ft instanceof Uint8Array))throw new Error("Passed 'data' is not a Uint8Array or a String!");if(ht!==null&&typeof ht!="number")throw new Error("Passed 'serializedSize' must be a number!");const yt=pt.map(mt=>mt instanceof a?mt:rt(mt));o(yt),this.Data=ft,this.Links=yt,Object.defineProperties(this,{_serializedSize:{value:ht,writable:!0,enumerable:!1},_size:{value:null,writable:!0,enumerable:!1}})}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this.Links.map(ft=>ft.toJSON()),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${lt(this.Data,"base64urlpad")}", links: ${this.Links.length}, size: ${this.size}>`}_invalidateCached(){this._serializedSize=null,this._size=null}addLink(ft){return this._invalidateCached(),ot(this,ft)}rmLink(ft){return this._invalidateCached(),st(this,ft)}toDAGLink(ft){return it(this,ft)}serialize(){const ft=at(this);return this._serializedSize=ft.length,ft}get size(){if(this._size==null){let ft;ft==null&&(this._serializedSize=this.serialize().length,ft=this._serializedSize),this._size=this.Links.reduce((pt,ht)=>pt+ht.Tsize,ft)}return this._size}set size(ft){throw new Error("Can't set property: 'size' is immutable")}}return dagNode=ut,dagNode}var util$3,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$3;hasRequiredUtil=1;const{PBNode:o}=requireDag(),a=requireDagLink(),rt=requireDagNode(),{serializeDAGNode:at,serializeDAGNodeLike:it}=requireSerialize(),ot=requireGenCid(),st=(ut,dt)=>ot.cid(ut,dt),ct=ut=>ut instanceof rt?at(ut):it(ut.Data,ut.Links),lt=ut=>{const dt=o.decode(ut),ft=o.toObject(dt,{defaults:!1,arrays:!0,longs:Number,objects:!1}),pt=ft.Links.map(yt=>new a(yt.Name,yt.Tsize,yt.Hash)),ht=ft.Data==null?new Uint8Array(0):ft.Data;return new rt(ht,pt,ut.byteLength)};return util$3={codec:ot.codec,defaultHashAlg:ot.defaultHashAlg,serialize:ct,deserialize:lt,cid:st},util$3}var hasRequiredResolver;function requireResolver(){if(hasRequiredResolver)return resolver;hasRequiredResolver=1;const o=requireSrc$3(),a=requireUtil();return resolver.resolve=(rt,at="/")=>{let it=a.deserialize(rt);const ot=at.split("/").filter(Boolean);for(;ot.length;){const st=ot.shift();if(it[st]===void 0){for(const ct of it.Links)if(ct.Name===st)return{value:ct.Hash,remainderPath:ot.join("/")};throw new Error(`Object has no property '${st}'`)}if(it=it[st],o.isCID(it))return{value:it,remainderPath:ot.join("/")}}return{value:it,remainderPath:""}},resolver.tree=function*(rt){const at=a.deserialize(rt);yield"Data",yield"Links";for(let it=0;it<at.Links.length;it++)yield`Links/${it}`,yield`Links/${it}/Name`,yield`Links/${it}/Tsize`,yield`Links/${it}/Hash`},resolver}var src$5,hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src$5;hasRequiredSrc$2=1;const o=requireResolver(),a=requireUtil(),rt=requireDagNode(),at=requireDagLink();return src$5={DAGNode:rt,DAGLink:at,resolver:o,util:a,codec:a.codec,defaultHashAlg:a.defaultHashAlg},src$5}var dir$1,hasRequiredDir$1;function requireDir$1(){if(hasRequiredDir$1)return dir$1;hasRequiredDir$1=1;const{UnixFS:o}=requireSrc$5(),a=requirePersist(),{DAGNode:rt}=requireSrc$2();return dir$1=async(it,ot,st)=>{const ct=new o({type:"directory",mtime:it.mtime,mode:it.mode}),lt=new rt(ct.marshal()).serialize(),ut=await a(lt,ot,st),dt=it.path;return{cid:ut,path:dt,unixfs:ct,size:lt.length}},dir$1}var itAll,hasRequiredItAll;function requireItAll(){return hasRequiredItAll||(hasRequiredItAll=1,itAll=async a=>{const rt=[];for await(const at of a)rt.push(at);return rt}),itAll}var flat$1,hasRequiredFlat;function requireFlat(){if(hasRequiredFlat)return flat$1;hasRequiredFlat=1;const o=requireItAll();return flat$1=async function(a,rt){return rt(await o(a))},flat$1}var balanced_1,hasRequiredBalanced;function requireBalanced(){if(hasRequiredBalanced)return balanced_1;hasRequiredBalanced=1;const o=itBatch;function a(at,it,ot){return rt(at,it,ot)}async function rt(at,it,ot){const st=[];for await(const ct of o(at,ot.maxChildrenPerNode))st.push(await it(ct));return st.length>1?rt(st,it,ot):st[0]}return balanced_1=a,balanced_1}var trickle,hasRequiredTrickle;function requireTrickle(){if(hasRequiredTrickle)return trickle;hasRequiredTrickle=1;const o=itBatch;trickle=async function(it,ot,st){const ct=new rt(st.layerRepeat);let lt=0,ut=1,dt=ct;for await(const ft of o(it,st.maxChildrenPerNode))dt.isFull()&&(dt!==ct&&ct.addChild(await dt.reduce(ot)),lt&&lt%st.layerRepeat===0&&ut++,dt=new a(ut,st.layerRepeat,lt),lt++),dt.append(ft);return dt&&dt!==ct&&ct.addChild(await dt.reduce(ot)),ct.reduce(ot)};class a{constructor(it,ot,st=0){this.maxDepth=it,this.layerRepeat=ot,this.currentDepth=1,this.iteration=st,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:it,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const it=this._findParent(this.node,this.currentDepth);return it?(this._addNextNodeToParent(it),!1):!0}_addNextNodeToParent(it){this.parent=it;const ot={children:[],depth:it.depth+1,parent:it,maxDepth:this.maxDepth,maxChildren:Math.floor(it.children.length/this.layerRepeat)*this.layerRepeat};it.children.push(ot),this.currentDepth=ot.depth,this.node=ot}append(it){this.node.data=it}reduce(it){return this._reduce(this.root,it)}async _reduce(it,ot){let st=[];return it.children.length&&(st=await Promise.all(it.children.filter(ct=>ct.data).map(ct=>this._reduce(ct,ot)))),ot((it.data||[]).concat(st))}_findParent(it,ot){const st=it.parent;if(!(!st||st.depth===0))return st.children.length===st.maxChildren||!st.maxChildren?this._findParent(st,ot):st}}class rt extends a{constructor(it){super(0,it),this.root.depth=0,this.currentDepth=1}addChild(it){this.root.children.push(it)}reduce(it){return it((this.root.data||[]).concat(this.root.children))}}return trickle}var bufferImporter_1,hasRequiredBufferImporter;function requireBufferImporter(){if(hasRequiredBufferImporter)return bufferImporter_1;hasRequiredBufferImporter=1;const{UnixFS:o}=requireSrc$5(),a=requirePersist(),{DAGNode:rt}=requireSrc$2();async function*at(it,ot,st){for await(let ct of it.content)yield async()=>{st.progress(ct.length,it.path);let lt;const ut={codec:"dag-pb",cidVersion:st.cidVersion,hashAlg:st.hashAlg,onlyHash:st.onlyHash};return st.rawLeaves?(ut.codec="raw",ut.cidVersion=1):(lt=new o({type:st.leafType,data:ct,mtime:it.mtime,mode:it.mode}),ct=new rt(lt.marshal()).serialize()),{cid:await a(ct,ot,ut),unixfs:lt,size:ct.length}}}return bufferImporter_1=at,bufferImporter_1}var file,hasRequiredFile;function requireFile(){if(hasRequiredFile)return file;hasRequiredFile=1;const o=errCode,{UnixFS:a}=requireSrc$5(),rt=requirePersist(),{DAGNode:at,DAGLink:it}=requireSrc$2(),ot=itParallelBatch,st=src$9.multihash,ct={flat:requireFlat(),balanced:requireBalanced(),trickle:requireTrickle()};async function*lt(ft,pt,ht){let yt=-1,mt,gt;typeof ht.bufferImporter=="function"?gt=ht.bufferImporter:gt=requireBufferImporter();for await(const bt of ot(gt(ft,pt,ht),ht.blockWriteConcurrency)){if(yt++,yt===0){mt=bt;continue}else yt===1&&mt&&(yield mt,mt=null);yield bt}mt&&(mt.single=!0,yield mt)}const ut=(ft,pt,ht)=>{async function yt(mt){if(mt.length===1&&mt[0].single&&ht.reduceSingleLeafToSelf){const _t=mt[0];if(_t.cid.codec==="raw"&&(ft.mtime!==void 0||ft.mode!==void 0)){let{data:St}=await pt.get(_t.cid,ht);_t.unixfs=new a({type:"file",mtime:ft.mtime,mode:ft.mode,data:St});const Pt=st.decode(_t.cid.multihash);St=new at(_t.unixfs.marshal()).serialize(),_t.cid=await rt(St,pt,{...ht,codec:"dag-pb",hashAlg:Pt.name,cidVersion:ht.cidVersion}),_t.size=St.length}return{cid:_t.cid,path:ft.path,unixfs:_t.unixfs,size:_t.size}}const gt=new a({type:"file",mtime:ft.mtime,mode:ft.mode}),bt=mt.filter(_t=>_t.cid.codec==="raw"&&_t.size||_t.unixfs&&!_t.unixfs.data&&_t.unixfs.fileSize()?!0:Boolean(_t.unixfs&&_t.unixfs.data&&_t.unixfs.data.length)).map(_t=>_t.cid.codec==="raw"?(gt.addBlockSize(_t.size),new it("",_t.size,_t.cid)):(!_t.unixfs||!_t.unixfs.data?gt.addBlockSize(_t.unixfs&&_t.unixfs.fileSize()||0):gt.addBlockSize(_t.unixfs.data.length),new it("",_t.size,_t.cid))),vt=new at(gt.marshal(),bt),wt=vt.serialize();return{cid:await rt(wt,pt,ht),path:ft.path,unixfs:gt,size:wt.length+vt.Links.reduce((_t,St)=>_t+St.Tsize,0)}}return yt};function dt(ft,pt,ht){const yt=ct[ht.strategy];if(!yt)throw o(new Error(`Unknown importer build strategy name: ${ht.strategy}`),"ERR_BAD_STRATEGY");return yt(lt(ft,pt,ht),ut(ft,pt,ht),ht)}return file=dt,file}var BufferList_1,hasRequiredBufferList;function requireBufferList(){if(hasRequiredBufferList)return BufferList_1;hasRequiredBufferList=1;const{Buffer:o}=buffer,a=Symbol.for("BufferList");function rt(at){if(!(this instanceof rt))return new rt(at);rt._init.call(this,at)}return rt._init=function(it){Object.defineProperty(this,a,{value:!0}),this._bufs=[],this.length=0,it&&this.append(it)},rt.prototype._new=function(it){return new rt(it)},rt.prototype._offset=function(it){if(it===0)return[0,0];let ot=0;for(let st=0;st<this._bufs.length;st++){const ct=ot+this._bufs[st].length;if(it<ct||st===this._bufs.length-1)return[st,it-ot];ot=ct}},rt.prototype._reverseOffset=function(at){const it=at[0];let ot=at[1];for(let st=0;st<it;st++)ot+=this._bufs[st].length;return ot},rt.prototype.get=function(it){if(it>this.length||it<0)return;const ot=this._offset(it);return this._bufs[ot[0]][ot[1]]},rt.prototype.slice=function(it,ot){return typeof it=="number"&&it<0&&(it+=this.length),typeof ot=="number"&&ot<0&&(ot+=this.length),this.copy(null,0,it,ot)},rt.prototype.copy=function(it,ot,st,ct){if((typeof st!="number"||st<0)&&(st=0),(typeof ct!="number"||ct>this.length)&&(ct=this.length),st>=this.length||ct<=0)return it||o.alloc(0);const lt=!!it,ut=this._offset(st),dt=ct-st;let ft=dt,pt=lt&&ot||0,ht=ut[1];if(st===0&&ct===this.length){if(!lt)return this._bufs.length===1?this._bufs[0]:o.concat(this._bufs,this.length);for(let yt=0;yt<this._bufs.length;yt++)this._bufs[yt].copy(it,pt),pt+=this._bufs[yt].length;return it}if(ft<=this._bufs[ut[0]].length-ht)return lt?this._bufs[ut[0]].copy(it,ot,ht,ht+ft):this._bufs[ut[0]].slice(ht,ht+ft);lt||(it=o.allocUnsafe(dt));for(let yt=ut[0];yt<this._bufs.length;yt++){const mt=this._bufs[yt].length-ht;if(ft>mt)this._bufs[yt].copy(it,pt,ht),pt+=mt;else{this._bufs[yt].copy(it,pt,ht,ht+ft),pt+=mt;break}ft-=mt,ht&&(ht=0)}return it.length>pt?it.slice(0,pt):it},rt.prototype.shallowSlice=function(it,ot){if(it=it||0,ot=typeof ot!="number"?this.length:ot,it<0&&(it+=this.length),ot<0&&(ot+=this.length),it===ot)return this._new();const st=this._offset(it),ct=this._offset(ot),lt=this._bufs.slice(st[0],ct[0]+1);return ct[1]===0?lt.pop():lt[lt.length-1]=lt[lt.length-1].slice(0,ct[1]),st[1]!==0&&(lt[0]=lt[0].slice(st[1])),this._new(lt)},rt.prototype.toString=function(it,ot,st){return this.slice(ot,st).toString(it)},rt.prototype.consume=function(it){if(it=Math.trunc(it),Number.isNaN(it)||it<=0)return this;for(;this._bufs.length;)if(it>=this._bufs[0].length)it-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(it),this.length-=it;break}return this},rt.prototype.duplicate=function(){const it=this._new();for(let ot=0;ot<this._bufs.length;ot++)it.append(this._bufs[ot]);return it},rt.prototype.append=function(it){if(it==null)return this;if(it.buffer)this._appendBuffer(o.from(it.buffer,it.byteOffset,it.byteLength));else if(Array.isArray(it))for(let ot=0;ot<it.length;ot++)this.append(it[ot]);else if(this._isBufferList(it))for(let ot=0;ot<it._bufs.length;ot++)this.append(it._bufs[ot]);else typeof it=="number"&&(it=it.toString()),this._appendBuffer(o.from(it));return this},rt.prototype._appendBuffer=function(it){this._bufs.push(it),this.length+=it.length},rt.prototype.indexOf=function(at,it,ot){if(ot===void 0&&typeof it=="string"&&(ot=it,it=void 0),typeof at=="function"||Array.isArray(at))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof at=="number"?at=o.from([at]):typeof at=="string"?at=o.from(at,ot):this._isBufferList(at)?at=at.slice():Array.isArray(at.buffer)?at=o.from(at.buffer,at.byteOffset,at.byteLength):o.isBuffer(at)||(at=o.from(at)),it=Number(it||0),isNaN(it)&&(it=0),it<0&&(it=this.length+it),it<0&&(it=0),at.length===0)return it>this.length?this.length:it;const st=this._offset(it);let ct=st[0],lt=st[1];for(;ct<this._bufs.length;ct++){const ut=this._bufs[ct];for(;lt<ut.length;)if(ut.length-lt>=at.length){const ft=ut.indexOf(at,lt);if(ft!==-1)return this._reverseOffset([ct,ft]);lt=ut.length-at.length+1}else{const ft=this._reverseOffset([ct,lt]);if(this._match(ft,at))return ft;lt++}lt=0}return-1},rt.prototype._match=function(at,it){if(this.length-at<it.length)return!1;for(let ot=0;ot<it.length;ot++)if(this.get(at+ot)!==it[ot])return!1;return!0},function(){const at={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const it in at)(function(ot){at[ot]===null?rt.prototype[ot]=function(st,ct){return this.slice(st,st+ct)[ot](0,ct)}:rt.prototype[ot]=function(st=0){return this.slice(st,st+at[ot])[ot](0)}})(it)}(),rt.prototype._isBufferList=function(it){return it instanceof rt||rt.isBufferList(it)},rt.isBufferList=function(it){return it!=null&&it[a]},BufferList_1=rt,BufferList_1}var rabin,hasRequiredRabin$1;function requireRabin$1(){if(hasRequiredRabin$1)return rabin;hasRequiredRabin$1=1;class o{constructor(rt,at=12,it=8*1024,ot=32*1024,st=64,ct){this.bits=at,this.min=it,this.max=ot,this.asModule=rt,this.rabin=new rt.Rabin(at,it,ot,st,ct),this.polynomial=ct}fingerprint(rt){const{__retain:at,__release:it,__allocArray:ot,__getInt32Array:st,Int32Array_ID:ct,Uint8Array_ID:lt}=this.asModule,ut=new Int32Array(Math.ceil(rt.length/this.min)),dt=at(ot(ct,ut)),ft=at(ot(lt,rt)),pt=this.rabin.fingerprint(ft,dt),ht=st(pt);it(ft),it(dt);const yt=ht.indexOf(0);return yt>=0?ht.subarray(0,yt):ht}}return rabin=o,rabin}var loader={},hasRequiredLoader;function requireLoader(){if(hasRequiredLoader)return loader;hasRequiredLoader=1;const o=-8,a=-4,rt=0,at=1,it=1<<0,ot=1<<1,st=5,ct=1<<10,lt=1<<11,ut=1<<13,dt=0,ft=4,pt=8,ht=12,yt=12,mt=16,gt=typeof BigUint64Array<"u",bt=Symbol(),vt=1024;function wt(Ft,Kt){const Mt=new Uint32Array(Ft),xt=new Uint16Array(Ft);var Et=Mt[Kt+a>>>2]>>>1,Rt=Kt>>>1;if(Et<=vt)return String.fromCharCode.apply(String,xt.subarray(Rt,Rt+Et));const Lt=[];do{const Bt=xt[Rt+vt-1],Ot=Bt>=55296&&Bt<56320?vt-1:vt;Lt.push(String.fromCharCode.apply(String,xt.subarray(Rt,Rt+=Ot))),Et-=Ot}while(Et>vt);return Lt.join("")+String.fromCharCode.apply(String,xt.subarray(Rt,Rt+Et))}function Tt(Ft){const Kt={};function Mt(Et,Rt){return Et?wt(Et.buffer,Rt):"<yet unknown>"}const xt=Ft.env=Ft.env||{};return xt.abort=xt.abort||function(Rt,Lt,Bt,Ot){const qt=Kt.memory||xt.memory;throw Error("abort: "+Mt(qt,Rt)+" at "+Mt(qt,Lt)+":"+Bt+":"+Ot)},xt.trace=xt.trace||function(Rt,Lt){const Bt=Kt.memory||xt.memory;console.log("trace: "+Mt(Bt,Rt)+(Lt?" ":"")+Array.prototype.slice.call(arguments,2,2+Lt).join(", "))},Ft.Math=Ft.Math||Math,Ft.Date=Ft.Date||Date,Kt}function _t(Ft,Kt){const Mt=Kt.exports,xt=Mt.memory,Et=Mt.table,Rt=Mt.__alloc,Lt=Mt.__retain,Bt=Mt.__rtti_base||-1;function Ot(Xt){const ar=new Uint32Array(xt.buffer),er=ar[Bt>>>2];if((Xt>>>=0)>=er)throw Error("invalid id: "+Xt);return ar[(Bt+4>>>2)+Xt*2]}function qt(Xt){const ar=new Uint32Array(xt.buffer),er=ar[Bt>>>2];if((Xt>>>=0)>=er)throw Error("invalid id: "+Xt);return ar[(Bt+4>>>2)+Xt*2+1]}function At(Xt){return 31-Math.clz32(Xt>>>st&31)}function Ct(Xt){const ar=Xt.length,er=Rt(ar<<1,at),ir=new Uint16Array(xt.buffer);for(var zt=0,kt=er>>>1;zt<ar;++zt)ir[kt+zt]=Xt.charCodeAt(zt);return er}Ft.__allocString=Ct;function Dt(Xt){const ar=xt.buffer;if(new Uint32Array(ar)[Xt+o>>>2]!==at)throw Error("not a string: "+Xt);return wt(ar,Xt)}Ft.__getString=Dt;function Wt(Xt,ar,er){const ir=xt.buffer;if(er)switch(Xt){case 2:return new Float32Array(ir);case 3:return new Float64Array(ir)}else switch(Xt){case 0:return new(ar?Int8Array:Uint8Array)(ir);case 1:return new(ar?Int16Array:Uint16Array)(ir);case 2:return new(ar?Int32Array:Uint32Array)(ir);case 3:return new(ar?BigInt64Array:BigUint64Array)(ir)}throw Error("unsupported align: "+Xt)}function $t(Xt,ar){const er=Ot(Xt);if(!(er&(it|ot)))throw Error("not an array: "+Xt+" @ "+er);const ir=At(er),zt=ar.length,kt=Rt(zt<<ir,rt),It=Rt(er&ot?mt:ht,Xt),Ht=new Uint32Array(xt.buffer);Ht[It+dt>>>2]=Lt(kt),Ht[It+ft>>>2]=kt,Ht[It+pt>>>2]=zt<<ir,er&ot&&(Ht[It+yt>>>2]=zt);const Gt=Wt(ir,er&ct,er&lt);if(er&ut)for(let Jt=0;Jt<zt;++Jt)Gt[(kt>>>ir)+Jt]=Lt(ar[Jt]);else Gt.set(ar,kt>>>ir);return It}Ft.__allocArray=$t;function Vt(Xt){const ar=new Uint32Array(xt.buffer),er=ar[Xt+o>>>2],ir=Ot(er);if(!(ir&it))throw Error("not an array: "+er);const zt=At(ir);var kt=ar[Xt+ft>>>2];const It=ir&ot?ar[Xt+yt>>>2]:ar[kt+a>>>2]>>>zt;return Wt(zt,ir&ct,ir&lt).subarray(kt>>>=zt,kt+It)}Ft.__getArrayView=Vt;function Qt(Xt){const ar=Vt(Xt),er=ar.length,ir=new Array(er);for(let zt=0;zt<er;zt++)ir[zt]=ar[zt];return ir}Ft.__getArray=Qt;function Zt(Xt){const ar=xt.buffer,er=new Uint32Array(ar)[Xt+a>>>2];return ar.slice(Xt,Xt+er)}Ft.__getArrayBuffer=Zt;function Yt(Xt,ar,er){return new Xt(tr(Xt,ar,er))}function tr(Xt,ar,er){const ir=xt.buffer,zt=new Uint32Array(ir),kt=zt[er+ft>>>2];return new Xt(ir,kt,zt[kt+a>>>2]>>>ar)}Ft.__getInt8Array=Yt.bind(null,Int8Array,0),Ft.__getInt8ArrayView=tr.bind(null,Int8Array,0),Ft.__getUint8Array=Yt.bind(null,Uint8Array,0),Ft.__getUint8ArrayView=tr.bind(null,Uint8Array,0),Ft.__getUint8ClampedArray=Yt.bind(null,Uint8ClampedArray,0),Ft.__getUint8ClampedArrayView=tr.bind(null,Uint8ClampedArray,0),Ft.__getInt16Array=Yt.bind(null,Int16Array,1),Ft.__getInt16ArrayView=tr.bind(null,Int16Array,1),Ft.__getUint16Array=Yt.bind(null,Uint16Array,1),Ft.__getUint16ArrayView=tr.bind(null,Uint16Array,1),Ft.__getInt32Array=Yt.bind(null,Int32Array,2),Ft.__getInt32ArrayView=tr.bind(null,Int32Array,2),Ft.__getUint32Array=Yt.bind(null,Uint32Array,2),Ft.__getUint32ArrayView=tr.bind(null,Uint32Array,2),gt&&(Ft.__getInt64Array=Yt.bind(null,BigInt64Array,3),Ft.__getInt64ArrayView=tr.bind(null,BigInt64Array,3),Ft.__getUint64Array=Yt.bind(null,BigUint64Array,3),Ft.__getUint64ArrayView=tr.bind(null,BigUint64Array,3)),Ft.__getFloat32Array=Yt.bind(null,Float32Array,2),Ft.__getFloat32ArrayView=tr.bind(null,Float32Array,2),Ft.__getFloat64Array=Yt.bind(null,Float64Array,3),Ft.__getFloat64ArrayView=tr.bind(null,Float64Array,3);function nr(Xt,ar){const er=new Uint32Array(xt.buffer);var ir=er[Xt+o>>>2];if(ir<=er[Bt>>>2])do if(ir==ar)return!0;while(ir=qt(ir));return!1}return Ft.__instanceof=nr,Ft.memory=Ft.memory||xt,Ft.table=Ft.table||Et,Ut(Mt,Ft)}function St(Ft){return typeof Response<"u"&&Ft instanceof Response}async function Pt(Ft,Kt){return St(Ft=await Ft)?jt(Ft,Kt):_t(Tt(Kt||(Kt={})),await WebAssembly.instantiate(Ft instanceof WebAssembly.Module?Ft:await WebAssembly.compile(Ft),Kt))}loader.instantiate=Pt;function Nt(Ft,Kt){return _t(Tt(Kt||(Kt={})),new WebAssembly.Instance(Ft instanceof WebAssembly.Module?Ft:new WebAssembly.Module(Ft),Kt))}loader.instantiateSync=Nt;async function jt(Ft,Kt){return WebAssembly.instantiateStreaming?_t(Tt(Kt||(Kt={})),(await WebAssembly.instantiateStreaming(Ft,Kt)).instance):Pt(St(Ft=await Ft)?Ft.arrayBuffer():Ft,Kt)}loader.instantiateStreaming=jt;function Ut(Ft,Kt){var Mt=Kt?Object.create(Kt):{},xt=Ft.__argumentsLength?function(Et){Ft.__argumentsLength.value=Et}:Ft.__setArgumentsLength||Ft.__setargc||function(){};for(let Et in Ft){if(!Object.prototype.hasOwnProperty.call(Ft,Et))continue;const Rt=Ft[Et];let Lt=Et.split("."),Bt=Mt;for(;Lt.length>1;){let At=Lt.shift();Object.prototype.hasOwnProperty.call(Bt,At)||(Bt[At]={}),Bt=Bt[At]}let Ot=Lt[0],qt=Ot.indexOf("#");if(qt>=0){let At=Ot.substring(0,qt),Ct=Bt[At];if(typeof Ct>"u"||!Ct.prototype){let Dt=function(...Wt){return Dt.wrap(Dt.prototype.constructor(0,...Wt))};Dt.prototype={valueOf:function(){return this[bt]}},Dt.wrap=function(Wt){return Object.create(Dt.prototype,{[bt]:{value:Wt,writable:!1}})},Ct&&Object.getOwnPropertyNames(Ct).forEach(Wt=>Object.defineProperty(Dt,Wt,Object.getOwnPropertyDescriptor(Ct,Wt))),Bt[At]=Dt}if(Ot=Ot.substring(qt+1),Bt=Bt[At].prototype,/^(get|set):/.test(Ot)){if(!Object.prototype.hasOwnProperty.call(Bt,Ot=Ot.substring(4))){let Dt=Ft[Et.replace("set:","get:")],Wt=Ft[Et.replace("get:","set:")];Object.defineProperty(Bt,Ot,{get:function(){return Dt(this[bt])},set:function($t){Wt(this[bt],$t)},enumerable:!0})}}else Ot==="constructor"?(Bt[Ot]=(...Dt)=>(xt(Dt.length),Rt(...Dt))).original=Rt:(Bt[Ot]=function(...Dt){return xt(Dt.length),Rt(this[bt],...Dt)}).original=Rt}else/^(get|set):/.test(Ot)?Object.prototype.hasOwnProperty.call(Bt,Ot=Ot.substring(4))||Object.defineProperty(Bt,Ot,{get:Ft[Et.replace("set:","get:")],set:Ft[Et.replace("get:","set:")],enumerable:!0}):typeof Rt=="function"&&Rt!==xt?(Bt[Ot]=(...At)=>(xt(At.length),Rt(...At))).original=Rt:Bt[Ot]=Rt}return Mt}return loader.demangle=Ut,loader}var rabinWasm,hasRequiredRabinWasm;function requireRabinWasm(){if(hasRequiredRabinWasm)return rabinWasm;hasRequiredRabinWasm=1;const{instantiate:o}=requireLoader();a.supported=typeof WebAssembly<"u";function a(rt={}){if(!a.supported)return null;var at=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return o(new Response(new Blob([at],{type:"application/wasm"})),rt)}return rabinWasm=a,rabinWasm}var src$4,hasRequiredSrc$1;function requireSrc$1(){if(hasRequiredSrc$1)return src$4;hasRequiredSrc$1=1;const o=requireRabin$1(),a=requireRabinWasm();return src$4={Rabin:o,create:async(at,it,ot,st,ct)=>{const lt=await a();return new o(lt,at,it,ot,st,ct)}},src$4}var rabin_1,hasRequiredRabin;function requireRabin(){if(hasRequiredRabin)return rabin_1;hasRequiredRabin=1;const o=requireBufferList(),{create:a}=requireSrc$1(),rt=errCode;rabin_1=async function*(ot,st){let ct,lt,ut;if(st.minChunkSize&&st.maxChunkSize&&st.avgChunkSize)ut=st.avgChunkSize,ct=st.minChunkSize,lt=st.maxChunkSize;else if(st.avgChunkSize)ut=st.avgChunkSize,ct=ut/3,lt=ut+ut/2;else throw rt(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(ct<16)throw rt(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");lt<ct&&(lt=ct),ut<ct&&(ut=ct);const dt=Math.floor(Math.log2(ut));for await(const ft of at(ot,{min:ct,max:lt,bits:dt,window:st.window,polynomial:st.polynomial}))yield ft};async function*at(it,ot){const st=await a(ot.bits,ot.min,ot.max,ot.window),ct=new o;for await(const lt of it){ct.append(lt);const ut=st.fingerprint(lt);for(let dt=0;dt<ut.length;dt++){const ft=ut[dt],pt=ct.slice(0,ft);ct.consume(ft),yield pt}}ct.length&&(yield ct.slice(0))}return rabin_1}var fixedSize,hasRequiredFixedSize;function requireFixedSize(){if(hasRequiredFixedSize)return fixedSize;hasRequiredFixedSize=1;const o=requireBufferList();return fixedSize=async function*(rt,at){let it=new o,ot=0,st=!1;const ct=at.maxChunkSize;for await(const lt of rt)for(it.append(lt),ot+=lt.length;ot>=ct;)if(yield it.slice(0,ct),st=!0,ct===it.length)it=new o,ot=0;else{const ut=new o;ut.append(it.shallowSlice(ct)),it=ut,ot-=ct}(!st||ot)&&(yield it.slice(0,ot))},fixedSize}var bases_1,hasRequiredBases;function requireBases(){if(hasRequiredBases)return bases_1;hasRequiredBases=1;const{bases:o}=require$$0$3;function a(ot,st,ct,lt){return{name:ot,prefix:st,encoder:{name:ot,prefix:st,encode:ct},decoder:{decode:lt}}}const rt=a("utf8","u",ot=>"u"+new TextDecoder("utf8").decode(ot),ot=>new TextEncoder().encode(ot.substring(1))),at=a("ascii","a",ot=>{let st="a";for(let ct=0;ct<ot.length;ct++)st+=String.fromCharCode(ot[ct]);return st},ot=>{ot=ot.substring(1);const st=new Uint8Array(ot.length);for(let ct=0;ct<ot.length;ct++)st[ct]=ot.charCodeAt(ct);return st});return bases_1={utf8:rt,"utf-8":rt,hex:o.base16,latin1:at,ascii:at,binary:at,...o},bases_1}var fromString_1,hasRequiredFromString;function requireFromString(){if(hasRequiredFromString)return fromString_1;hasRequiredFromString=1;const o=requireBases();function a(rt,at="utf8"){const it=o[at];if(!it)throw new Error(`Unsupported encoding "${at}"`);return it.decoder.decode(`${it.prefix}${rt}`)}return fromString_1=a,fromString_1}var validateChunks_1,hasRequiredValidateChunks;function requireValidateChunks(){if(hasRequiredValidateChunks)return validateChunks_1;hasRequiredValidateChunks=1;const o=errCode,a=requireFromString();async function*rt(at){for await(const it of at){if(it.length===void 0)throw o(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof it=="string"||it instanceof String)yield a(it.toString());else if(Array.isArray(it))yield Uint8Array.from(it);else if(it instanceof Uint8Array)yield it;else throw o(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}return validateChunks_1=rt,validateChunks_1}var dagBuilder_1,hasRequiredDagBuilder;function requireDagBuilder(){if(hasRequiredDagBuilder)return dagBuilder_1;hasRequiredDagBuilder=1;const o=requireDir$1(),a=requireFile(),rt=errCode;function at(ct){return Symbol.iterator in ct}function it(ct){return Symbol.asyncIterator in ct}function ot(ct){try{if(ct instanceof Uint8Array)return async function*(){yield ct}();if(at(ct))return async function*(){yield*ct}();if(it(ct))return ct}catch{throw rt(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw rt(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*st(ct,lt,ut){for await(const dt of ct)if(dt.path&&(dt.path.substring(0,2)==="./"&&(ut.wrapWithDirectory=!0),dt.path=dt.path.split("/").filter(ft=>ft&&ft!==".").join("/")),dt.content){let ft;typeof ut.chunker=="function"?ft=ut.chunker:ut.chunker==="rabin"?ft=requireRabin():ft=requireFixedSize();let pt;typeof ut.chunkValidator=="function"?pt=ut.chunkValidator:pt=requireValidateChunks();const ht={path:dt.path,mtime:dt.mtime,mode:dt.mode,content:ft(pt(ot(dt.content),ut),ut)};yield()=>a(ht,lt,ut)}else if(dt.path){const ft={path:dt.path,mtime:dt.mtime,mode:dt.mode};yield()=>o(ft,lt,ut)}else throw new Error("Import candidate must have content or path or both")}return dagBuilder_1=st,dagBuilder_1}var dir,hasRequiredDir;function requireDir(){if(hasRequiredDir)return dir;hasRequiredDir=1;class o{constructor(rt,at){this.options=at||{},this.root=rt.root,this.dir=rt.dir,this.path=rt.path,this.dirty=rt.dirty,this.flat=rt.flat,this.parent=rt.parent,this.parentKey=rt.parentKey,this.unixfs=rt.unixfs,this.mode=rt.mode,this.mtime=rt.mtime,this.cid=void 0,this.size=void 0}async put(rt,at){}get(rt){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(rt){}}return dir=o,dir}var dirFlat,hasRequiredDirFlat;function requireDirFlat(){if(hasRequiredDirFlat)return dirFlat;hasRequiredDirFlat=1;const{DAGLink:o,DAGNode:a}=requireSrc$2(),{UnixFS:rt}=requireSrc$5(),at=requireDir(),it=requirePersist();class ot extends at{constructor(ct,lt){super(ct,lt),this._children={}}async put(ct,lt){this.cid=void 0,this.size=void 0,this._children[ct]=lt}get(ct){return Promise.resolve(this._children[ct])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const ct=Object.keys(this._children);for(let lt=0;lt<ct.length;lt++){const ut=ct[lt];yield{key:ut,child:this._children[ut]}}}async*flush(ct){const lt=Object.keys(this._children),ut=[];for(let mt=0;mt<lt.length;mt++){let gt=this._children[lt[mt]];if(gt instanceof at)for await(const bt of gt.flush(ct))gt=bt,yield gt;gt.size!=null&&gt.cid&&ut.push(new o(lt[mt],gt.size,gt.cid))}const dt=new rt({type:"directory",mtime:this.mtime,mode:this.mode}),ft=new a(dt.marshal(),ut),pt=ft.serialize(),ht=await it(pt,ct,this.options),yt=pt.length+ft.Links.reduce((mt,gt)=>mt+gt.Tsize,0);this.cid=ht,this.size=yt,yield{cid:ht,unixfs:dt,path:this.path,size:yt}}}return dirFlat=ot,dirFlat}var sparseArray,hasRequiredSparseArray;function requireSparseArray(){if(hasRequiredSparseArray)return sparseArray;hasRequiredSparseArray=1;const o=7;sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(st,ct){let lt=this._internalPositionFor(st,!1);if(ct===void 0)lt!==-1&&(this._unsetInternalPos(lt),this._unsetBit(st),this._changedLength=!0,this._changedData=!0);else{let ut=!1;lt===-1?(lt=this._data.length,this._setBit(st),this._changedData=!0):ut=!0,this._setInternalPos(lt,st,ct,ut),this._changedLength=!0}}unset(st){this.set(st,void 0)}get(st){this._sortData();const ct=this._internalPositionFor(st,!0);if(ct!==-1)return this._data[ct][1]}push(st){return this.set(this.length,st),this.length}get length(){if(this._sortData(),this._changedLength){const st=this._data[this._data.length-1];this._length=st?st[0]+1:0,this._changedLength=!1}return this._length}forEach(st){let ct=0;for(;ct<this.length;)st(this.get(ct),ct,this),ct++}map(st){let ct=0,lt=new Array(this.length);for(;ct<this.length;)lt[ct]=st(this.get(ct),ct,this),ct++;return lt}reduce(st,ct){let lt=0,ut=ct;for(;lt<this.length;){const dt=this.get(lt);ut=st(ut,dt,lt),lt++}return ut}find(st){let ct=0,lt,ut;for(;ct<this.length&&!lt;)ut=this.get(ct),lt=st(ut),ct++;return lt?ut:void 0}_internalPositionFor(st,ct){const lt=this._bytePosFor(st,ct);if(lt>=this._bitArrays.length)return-1;const ut=this._bitArrays[lt],dt=st-lt*o;if(!((ut&1<<dt)>0))return-1;const pt=this._bitArrays.slice(0,lt).reduce(a,0),ht=~(4294967295<<dt+1),yt=rt(ut&ht);return pt+yt-1}_bytePosFor(st,ct){const lt=Math.floor(st/o),ut=lt+1;for(;!ct&&this._bitArrays.length<ut;)this._bitArrays.push(0);return lt}_setBit(st){const ct=this._bytePosFor(st,!1);this._bitArrays[ct]|=1<<st-ct*o}_unsetBit(st){const ct=this._bytePosFor(st,!1);this._bitArrays[ct]&=~(1<<st-ct*o)}_setInternalPos(st,ct,lt,ut){const dt=this._data,ft=[ct,lt];if(ut)this._sortData(),dt[st]=ft;else{if(dt.length)if(dt[dt.length-1][0]>=ct)dt.push(ft);else if(dt[0][0]<=ct)dt.unshift(ft);else{const pt=Math.round(dt.length/2);this._data=dt.slice(0,pt).concat(ft).concat(dt.slice(pt))}else this._data.push(ft);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(st){this._data.splice(st,1)}_sortData(){this._changedData&&this._data.sort(at),this._changedData=!1}bitField(){const st=[];let ct=8,lt=0,ut=0,dt;const ft=this._bitArrays.slice();for(;ft.length||lt;){lt===0&&(dt=ft.shift(),lt=7);const ht=Math.min(lt,ct),yt=~(255<<ht),mt=dt&yt;ut|=mt<<8-ct,dt=dt>>>ht,lt-=ht,ct-=ht,(!ct||!lt&&!ft.length)&&(st.push(ut),ut=0,ct=8)}for(var pt=st.length-1;pt>0&&st[pt]===0;pt--)st.pop();return st}compactArray(){return this._sortData(),this._data.map(it)}};function a(ot,st){return ot+rt(st)}function rt(ot){let st=ot;return st=st-(st>>1&1431655765),st=(st&858993459)+(st>>2&858993459),(st+(st>>4)&252645135)*16843009>>24}function at(ot,st){return ot[0]-st[0]}function it(ot){return ot[1]}return sparseArray}var bucket,hasRequiredBucket;function requireBucket(){if(hasRequiredBucket)return bucket;hasRequiredBucket=1;const o=requireSparseArray(),{fromString:a}=require$$1$3;class rt{constructor(lt,ut,dt=0){this._options=lt,this._popCount=0,this._parent=ut,this._posAtParent=dt,this._children=new o,this.key=null}async put(lt,ut){const dt=await this._findNewBucketAndPos(lt);await dt.bucket._putAt(dt,lt,ut)}async get(lt){const ut=await this._findChild(lt);if(ut)return ut.value}async del(lt){const ut=await this._findPlace(lt),dt=ut.bucket._at(ut.pos);dt&&dt.key===lt&&ut.bucket._delAt(ut.pos)}leafCount(){return this._children.compactArray().reduce((ut,dt)=>dt instanceof rt?ut+dt.leafCount():ut+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const lt=this._children.compactArray();for(const ut of lt)ut instanceof rt?yield*ut.eachLeafSeries():yield ut;return[]}serialize(lt,ut){const dt=[];return ut(this._children.reduce((ft,pt,ht)=>(pt&&(pt instanceof rt?ft.push(pt.serialize(lt,ut)):ft.push(lt(pt,ht))),ft),dt))}asyncTransform(lt,ut){return st(this,lt,ut)}toJSON(){return this.serialize(it,ot)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(lt){const ut=await this._findPlace(lt),dt=ut.bucket._at(ut.pos);if(!(dt instanceof rt)&&dt&&dt.key===lt)return dt}async _findPlace(lt){const ut=this._options.hash(typeof lt=="string"?a(lt):lt),dt=await ut.take(this._options.bits),ft=this._children.get(dt);return ft instanceof rt?ft._findPlace(ut):{bucket:this,pos:dt,hash:ut,existingChild:ft}}async _findNewBucketAndPos(lt){const ut=await this._findPlace(lt);if(ut.existingChild&&ut.existingChild.key!==lt){const dt=new rt(this._options,ut.bucket,ut.pos);ut.bucket._putObjectAt(ut.pos,dt);const ft=await dt._findPlace(ut.existingChild.hash);return ft.bucket._putAt(ft,ut.existingChild.key,ut.existingChild.value),dt._findNewBucketAndPos(ut.hash)}return ut}_putAt(lt,ut,dt){this._putObjectAt(lt.pos,{key:ut,value:dt,hash:lt.hash})}_putObjectAt(lt,ut){this._children.get(lt)||this._popCount++,this._children.set(lt,ut)}_delAt(lt){if(lt===-1)throw new Error("Invalid position");this._children.get(lt)&&this._popCount--,this._children.unset(lt),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const lt=this._children.find(at);if(lt&&!(lt instanceof rt)){const ut=lt.hash;ut.untake(this._options.bits);const dt={pos:this._posAtParent,hash:ut,bucket:this._parent};this._parent._putAt(dt,lt.key,lt.value)}}else this._parent._delAt(this._posAtParent)}_at(lt){return this._children.get(lt)}}function at(ct){return Boolean(ct)}function it(ct,lt){return ct.key}function ot(ct){return ct}async function st(ct,lt,ut){const dt=[];for(const ft of ct._children.compactArray())if(ft instanceof rt)await st(ft,lt,ut);else{const pt=await lt(ft);dt.push({bitField:ct._children.bitField(),children:pt})}return ut(dt)}return bucket=rt,bucket}var consumableHash={exports:{}},consumableBuffer,hasRequiredConsumableBuffer;function requireConsumableBuffer(){if(hasRequiredConsumableBuffer)return consumableBuffer;hasRequiredConsumableBuffer=1;const o=[255,254,252,248,240,224,192,128],a=[1,3,7,15,31,63,127,255];consumableBuffer=class{constructor(ot){this._value=ot,this._currentBytePos=ot.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(ot){let st=ot,ct=0;for(;st&&this._haveBits();){const lt=this._value[this._currentBytePos],ut=this._currentBitPos+1,dt=Math.min(ut,st),ft=rt(lt,ut-dt,dt);ct=(ct<<dt)+ft,st-=dt,this._currentBitPos-=dt,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return ct}untake(ot){for(this._currentBitPos+=ot;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function rt(it,ot,st){const ct=at(ot,st);return(it&ct)>>>ot}function at(it,ot){return o[it]&a[Math.min(ot+it-1,7)]}return consumableBuffer}var hasRequiredConsumableHash;function requireConsumableHash(){if(hasRequiredConsumableHash)return consumableHash.exports;hasRequiredConsumableHash=1;const o=requireConsumableBuffer(),{concat:a}=require$$1$2;function rt(it){function ot(st){return st instanceof at?st:new at(st,it)}return ot}class at{constructor(ot,st){if(!(ot instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=ot,this._hashFn=st,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(ot){let st=ot;for(;this._availableBits<st;)await this._produceMoreBits();let ct=0;for(;st>0;){const lt=this._buffers[this._currentBufferIndex],ut=Math.min(lt.availableBits(),st),dt=lt.take(ut);ct=(ct<<ut)+dt,st-=ut,this._availableBits-=ut,lt.availableBits()===0&&this._currentBufferIndex++}return ct}untake(ot){let st=ot;for(;st>0;){const ct=this._buffers[this._currentBufferIndex],lt=Math.min(ct.totalBits()-ct.availableBits(),st);ct.untake(lt),st-=lt,this._availableBits+=lt,this._currentBufferIndex>0&&ct.totalBits()===ct.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const ot=this._depth?a([this._value,Uint8Array.from([this._depth])]):this._value,st=await this._hashFn(ot),ct=new o(st);this._buffers.push(ct),this._availableBits+=ct.availableBits()}}return consumableHash.exports=rt,consumableHash.exports.InfiniteHash=at,consumableHash.exports}var src$3,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src$3;hasRequiredSrc=1;const o=requireBucket(),a=requireConsumableHash();function rt(at){if(!at||!at.hashFn)throw new Error("please define an options.hashFn");const it={bits:at.bits||8,hash:a(at.hashFn)};return new o(it)}return src$3={createHAMT:rt,Bucket:o},src$3}var dirSharded,hasRequiredDirSharded;function requireDirSharded(){if(hasRequiredDirSharded)return dirSharded;hasRequiredDirSharded=1;const{DAGLink:o,DAGNode:a}=requireSrc$2(),{UnixFS:rt}=requireSrc$5(),at=requireDir(),it=requirePersist(),{createHAMT:ot,Bucket:st}=requireSrc();class ct extends at{constructor(dt,ft){super(dt,ft),this._bucket=ot({hashFn:ft.hamtHashFn,bits:ft.hamtBucketBits})}async put(dt,ft){await this._bucket.put(dt,ft)}get(dt){return this._bucket.get(dt)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:dt,value:ft}of this._bucket.eachLeafSeries())yield{key:dt,child:ft}}async*flush(dt){for await(const ft of lt(this._bucket,dt,this,this.options))yield{...ft,path:this.path}}}dirSharded=ct;async function*lt(ut,dt,ft,pt){const ht=ut._children,yt=[];let mt=0;for(let St=0;St<ht.length;St++){const Pt=ht.get(St);if(!Pt)continue;const Nt=St.toString(16).toUpperCase().padStart(2,"0");if(Pt instanceof st){let jt;for await(const Ut of await lt(Pt,dt,null,pt))jt=Ut;if(!jt)throw new Error("Could not flush sharded directory, no subshard found");yt.push(new o(Nt,jt.size,jt.cid)),mt+=jt.size}else if(typeof Pt.value.flush=="function"){const jt=Pt.value;let Ut;for await(const Kt of jt.flush(dt))Ut=Kt,yield Ut;const Ft=Nt+Pt.key;yt.push(new o(Ft,Ut.size,Ut.cid)),mt+=Ut.size}else{const jt=Pt.value;if(!jt.cid)continue;const Ut=Nt+Pt.key,Ft=jt.size;yt.push(new o(Ut,Ft,jt.cid)),mt+=Ft}}const gt=Uint8Array.from(ht.bitField().reverse()),bt=new rt({type:"hamt-sharded-directory",data:gt,fanout:ut.tableSize(),hashType:pt.hamtHashCode,mtime:ft&&ft.mtime,mode:ft&&ft.mode}),wt=new a(bt.marshal(),yt).serialize(),Tt=await it(wt,dt,pt),_t=wt.length+mt;yield{cid:Tt,unixfs:bt,size:_t}}return dirSharded}var flatToShard,hasRequiredFlatToShard;function requireFlatToShard(){if(hasRequiredFlatToShard)return flatToShard;hasRequiredFlatToShard=1;const o=requireDirSharded(),a=requireDirFlat();flatToShard=async function at(it,ot,st,ct){let lt=ot;ot instanceof a&&ot.directChildrenCount()>=st&&(lt=await rt(ot,ct));const ut=lt.parent;if(ut){if(lt!==ot){if(it&&(it.parent=lt),!lt.parentKey)throw new Error("No parent key found");await ut.put(lt.parentKey,lt)}return at(lt,ut,st,ct)}return lt};async function rt(at,it){const ot=new o({root:at.root,dir:!0,parent:at.parent,parentKey:at.parentKey,path:at.path,dirty:at.dirty,flat:!1,mtime:at.mtime,mode:at.mode},it);for await(const{key:st,child:ct}of at.eachChildSeries())await ot.put(st,ct);return ot}return flatToShard}var toPathComponents_1,hasRequiredToPathComponents;function requireToPathComponents(){return hasRequiredToPathComponents||(hasRequiredToPathComponents=1,toPathComponents_1=(a="")=>(a.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)),toPathComponents_1}var treeBuilder_1,hasRequiredTreeBuilder;function requireTreeBuilder(){if(hasRequiredTreeBuilder)return treeBuilder_1;hasRequiredTreeBuilder=1;const o=requireDirFlat(),a=requireFlatToShard(),rt=requireDir(),at=requireToPathComponents();async function it(ct,lt,ut){const dt=at(ct.path||""),ft=dt.length-1;let pt=lt,ht="";for(let yt=0;yt<dt.length;yt++){const mt=dt[yt];ht+=`${ht?"/":""}${mt}`;const gt=yt===ft;if(pt.dirty=!0,pt.cid=void 0,pt.size=void 0,gt)await pt.put(mt,ct),lt=await a(null,pt,ut.shardSplitThreshold,ut);else{let bt=await pt.get(mt);(!bt||!(bt instanceof rt))&&(bt=new o({root:!1,dir:!0,parent:pt,parentKey:mt,path:ht,dirty:!0,flat:!0,mtime:bt&&bt.unixfs&&bt.unixfs.mtime,mode:bt&&bt.unixfs&&bt.unixfs.mode},ut)),await pt.put(mt,bt),pt=bt}}return lt}async function*ot(ct,lt){if(!(ct instanceof rt)){ct&&ct.unixfs&&ct.unixfs.isDirectory()&&(yield ct);return}yield*ct.flush(lt)}async function*st(ct,lt,ut){let dt=new o({root:!0,dir:!0,path:"",dirty:!0,flat:!0},ut);for await(const ft of ct)!ft||(dt=await it(ft,dt,ut),(!ft.unixfs||!ft.unixfs.isDirectory())&&(yield ft));if(ut.wrapWithDirectory)yield*ot(dt,lt);else for await(const ft of dt.eachChildSeries())!ft||(yield*ot(ft.child,lt))}return treeBuilder_1=st,treeBuilder_1}const parallelBatch=itParallelBatch,defaultOptions$2=options$1;async function*importer(o,a,rt={}){const at=defaultOptions$2(rt);let it;typeof rt.dagBuilder=="function"?it=rt.dagBuilder:it=requireDagBuilder();let ot;typeof rt.treeBuilder=="function"?ot=rt.treeBuilder:ot=requireTreeBuilder();let st;Symbol.asyncIterator in o||Symbol.iterator in o?st=o:st=[o];for await(const ct of ot(parallelBatch(it(st,a,at),at.fileImportConcurrency),a,at))yield{cid:ct.cid,path:ct.path,unixfs:ct.unixfs,size:ct.size}}var src$2={importer};let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let o=0;o<256;++o)byteToHex.push((o+256).toString(16).slice(1));function unsafeStringify(o,a=0){return(byteToHex[o[a+0]]+byteToHex[o[a+1]]+byteToHex[o[a+2]]+byteToHex[o[a+3]]+"-"+byteToHex[o[a+4]]+byteToHex[o[a+5]]+"-"+byteToHex[o[a+6]]+byteToHex[o[a+7]]+"-"+byteToHex[o[a+8]]+byteToHex[o[a+9]]+"-"+byteToHex[o[a+10]]+byteToHex[o[a+11]]+byteToHex[o[a+12]]+byteToHex[o[a+13]]+byteToHex[o[a+14]]+byteToHex[o[a+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(o,a,rt){if(native.randomUUID&&!a&&!o)return native.randomUUID();o=o||{};const at=o.random||(o.rng||rng)();if(at[6]=at[6]&15|64,at[8]=at[8]&63|128,a){rt=rt||0;for(let it=0;it<16;++it)a[rt+it]=at[it];return a}return unsafeStringify(at)}function _toPrimitive$2(o,a){if(typeof o!="object"||o===null)return o;var rt=o[Symbol.toPrimitive];if(rt!==void 0){var at=rt.call(o,a||"default");if(typeof at!="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function _toPropertyKey$2(o){var a=_toPrimitive$2(o,"string");return typeof a=="symbol"?a:String(a)}function _defineProperty$2(o,a,rt){return a=_toPropertyKey$2(a),a in o?Object.defineProperty(o,a,{value:rt,enumerable:!0,configurable:!0,writable:!0}):o[a]=rt,o}const DEFAULT_GATEWAY_URLS={"ipfs://":["https://ipfs-2.thirdwebcdn.com/ipfs/","https://ipfs-3.thirdwebcdn.com/ipfs/","https://ipfs-4.thirdwebcdn.com/ipfs/","https://ipfs-5.thirdwebcdn.com/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://ipfs.io/ipfs/","https://ipfs.thirdwebcdn.com/ipfs/"]},TW_IPFS_SERVER_URL="https://upload.nftlabs.co",PINATA_IPFS_URL="https://api.pinata.cloud/pinning/pinFileToIPFS";function parseGatewayUrls(o){return Array.isArray(o)?{"ipfs://":o}:o||{}}function prepareGatewayUrls(o){const a={...o,...DEFAULT_GATEWAY_URLS};for(const rt of Object.keys(DEFAULT_GATEWAY_URLS))if(o&&o[rt]){const at=o[rt].map(it=>it.replace(/\/$/,"")+"/");a[rt]=[...at,...DEFAULT_GATEWAY_URLS[rt]]}return a}function isFileInstance(o){return _global.File&&o instanceof File}function isBufferInstance(o){return _global.Buffer&&o instanceof buffer.Buffer}function isBufferOrStringWithName(o){return!!(o&&o.name&&o.data&&typeof o.name=="string"&&(typeof o.data=="string"||isBufferInstance(o.data)))}function isFileOrBuffer(o){return isFileInstance(o)||isBufferInstance(o)||isBufferOrStringWithName(o)}function isFileBufferOrStringEqual(o,a){if(isFileInstance(o)&&isFileInstance(a)){if(o.name===a.name&&o.lastModified===a.lastModified&&o.size===a.size)return!0}else{if(isBufferInstance(o)&&isBufferInstance(a))return o.equals(a);if(isBufferOrStringWithName(o)&&isBufferOrStringWithName(a)&&o.name===a.name){if(typeof o.data=="string"&&typeof a.data=="string")return o.data===a.data;if(isBufferInstance(o.data)&&isBufferInstance(a.data))return o.data.equals(a.data)}}return!1}function replaceGatewayUrlWithScheme(o,a){for(const rt of Object.keys(a))for(const at of a[rt])if(o.startsWith(at))return o.replace(at,rt);return o}function replaceSchemeWithGatewayUrl(o,a){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const at=Object.keys(a).find(ot=>o.startsWith(ot)),it=at?a[at]:[];if(!(!at&&rt>0||at&&rt>=it.length))return at?o.replace(at,it[rt]):o}function replaceObjectGatewayUrlsWithSchemes(o,a){return typeof o=="string"?replaceGatewayUrlWithScheme(o,a):typeof o=="object"?!o||isFileOrBuffer(o)?o:Array.isArray(o)?o.map(rt=>replaceObjectGatewayUrlsWithSchemes(rt,a)):Object.fromEntries(Object.entries(o).map(rt=>{let[at,it]=rt;return[at,replaceObjectGatewayUrlsWithSchemes(it,a)]})):o}function replaceObjectSchemesWithGatewayUrls(o,a){return typeof o=="string"?replaceSchemeWithGatewayUrl(o,a):typeof o=="object"?!o||isFileOrBuffer(o)?o:Array.isArray(o)?o.map(rt=>replaceObjectSchemesWithGatewayUrls(rt,a)):Object.fromEntries(Object.entries(o).map(rt=>{let[at,it]=rt;return[at,replaceObjectSchemesWithGatewayUrls(it,a)]})):o}function extractObjectFiles(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(isFileOrBuffer(o))return a.push(o),a;if(typeof o=="object"){if(!o)return a;Array.isArray(o)?o.forEach(rt=>extractObjectFiles(rt,a)):Object.keys(o).map(rt=>extractObjectFiles(o[rt],a))}return a}function replaceObjectFilesWithUris(o,a){if(isFileOrBuffer(o)){if(a.length)return o=a.shift(),o;console.warn("Not enough URIs to replace all files in object.")}return typeof o=="object"?o&&(Array.isArray(o)?o.map(rt=>replaceObjectFilesWithUris(rt,a)):Object.fromEntries(Object.entries(o).map(rt=>{let[at,it]=rt;return[at,replaceObjectFilesWithUris(it,a)]}))):o}async function getCIDForUpload(o,a){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const it=await Promise.all(o.map(async(ot,st)=>{const ct=a[st];let lt;if(typeof ot=="string")lt=new TextEncoder().encode(ot);else if(isBufferOrStringWithName(ot))typeof ot.data=="string"?lt=new TextEncoder().encode(ot.data):lt=ot.data;else if(buffer.Buffer.isBuffer(ot))lt=ot;else{const ut=await ot.arrayBuffer();lt=new Uint8Array(ut)}return{path:ct,content:lt}}));return getCID(it,rt,at)}async function getCID(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const at={onlyHash:!0,wrapWithDirectory:a,cidVersion:rt},it={put:async()=>{}};let ot;for await(const{cid:st}of src$2.importer(o,it,at))ot=st;return`${ot}`}async function isUploaded(o){return(await fetch$1(`${DEFAULT_GATEWAY_URLS["ipfs://"][0]}${o}`,{method:"HEAD",headers:{"x-skip-origin":"true"}})).ok}class StorageDownloader{async download(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(at>3)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Failed to download from URI - too many attempts failed.");const it=replaceSchemeWithGatewayUrl(a,rt,at);if(!it)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Unable to download from URI - all gateway URLs failed to respond.");const ot=await fetch$1(it);return ot.status>=500||ot.status===403||ot.status===408?(console.warn(`Request to ${it} failed with status ${ot.status} - ${ot.statusText}`),this.download(a,rt,at+1)):ot}}class IpfsUploader{constructor(a){_defineProperty$2(this,"uploadWithGatewayUrl",void 0),this.uploadWithGatewayUrl=(a==null?void 0:a.uploadWithGatewayUrl)||!1}async uploadBatch(a,rt){if((rt==null?void 0:rt.uploadWithoutDirectory)&&a.length>1)throw new Error("[UPLOAD_WITHOUT_DIRECTORY_ERROR] Cannot upload more than one file or object without directory!");const at=new browser,{form:it,fileNames:ot}=this.buildFormData(at,a,rt);try{const st=await getCIDForUpload(a,ot.map(ct=>decodeURIComponent(ct)),!(rt!=null&&rt.uploadWithoutDirectory));if(await isUploaded(st)&&!(rt!=null&&rt.alwaysUpload))return rt!=null&&rt.onProgress&&(rt==null||rt.onProgress({progress:100,total:100})),rt!=null&&rt.uploadWithoutDirectory?[`ipfs://${st}`]:ot.map(ct=>`ipfs://${st}/${ct}`)}catch{}return this.uploadBatchBrowser(it,ot,rt)}async getUploadToken(){const a=await fetch$1(`${TW_IPFS_SERVER_URL}/grant`,{method:"GET",headers:{"X-APP-NAME":{}.CI?"Storage SDK CI":"Storage SDK"}});if(!a.ok)throw new Error("Failed to get upload token");return await a.text()}buildFormData(a,rt,at){const it=new Map,ot=[];for(let ct=0;ct<rt.length;ct++){const lt=rt[ct];let ut="",dt=lt;if(isFileInstance(lt))if(at!=null&&at.rewriteFileNames){let pt="";if(lt.name){const ht=lt.name.lastIndexOf(".");ht>-1&&(pt=lt.name.substring(ht))}ut=`${ct+at.rewriteFileNames.fileStartNumber}${pt}`}else ut=`${lt.name}`;else isBufferOrStringWithName(lt)?(dt=lt.data,at!=null&&at.rewriteFileNames?ut=`${ct+at.rewriteFileNames.fileStartNumber}`:ut=`${lt.name}`):at!=null&&at.rewriteFileNames?ut=`${ct+at.rewriteFileNames.fileStartNumber}`:ut=`${ct}`;const ft=at!=null&&at.uploadWithoutDirectory?"files":`files/${ut}`;if(it.has(ut)){if(isFileBufferOrStringEqual(it.get(ut),lt)){ot.push(ut);continue}throw new Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${ut} was passed for more than one different file.`)}it.set(ut,lt),ot.push(ut),a.append("file",new Blob([dt]),ft)}const st={name:"Storage SDK",keyvalues:{...at==null?void 0:at.metadata}};return a.append("pinataMetadata",JSON.stringify(st)),at!=null&&at.uploadWithoutDirectory&&a.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:a,fileNames:ot.map(ct=>encodeURIComponent(ct))}}async uploadBatchBrowser(a,rt,at){const it=await this.getUploadToken();return new Promise((ot,st)=>{const ct=new XMLHttpRequest;let lt=setTimeout(()=>{ct.abort(),st(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4);ct.upload.addEventListener("loadstart",()=>{console.log(`[${Date.now()}] [IPFS] Started`)}),ct.upload.addEventListener("progress",ut=>{console.log(`[IPFS] Progress Event ${ut.loaded}/${ut.total}`),clearTimeout(lt),ut.loaded<ut.total?lt=setTimeout(()=>{ct.abort(),st(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4):console.log(`[${Date.now()}] [IPFS] Uploaded files. Waiting for response.`),ut.lengthComputable&&(at==null?void 0:at.onProgress)&&(at==null||at.onProgress({progress:ut.loaded,total:ut.total}))}),ct.addEventListener("load",()=>{if(console.log(`[${Date.now()}] [IPFS] Load`),clearTimeout(lt),ct.status>=200&&ct.status<300){let ut;try{ut=JSON.parse(ct.responseText)}catch{return st(new Error("Failed to parse JSON from upload response"))}const dt=ut.IpfsHash;if(!dt)throw new Error("Failed to get IPFS hash from upload response");return at!=null&&at.uploadWithoutDirectory?ot([`ipfs://${dt}`]):ot(rt.map(ft=>`ipfs://${dt}/${ft}`))}return st(new Error(`Upload failed with status ${ct.status} - ${ct.responseText}`))}),ct.addEventListener("error",()=>(console.log("[IPFS] Load"),clearTimeout(lt),ct.readyState!==0&&ct.readyState!==4||ct.status===0?st(new Error("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.")):st(new Error("Unknown upload error occured")))),ct.open("POST",PINATA_IPFS_URL),ct.setRequestHeader("Authorization",`Bearer ${it}`),ct.send(a)})}async uploadBatchNode(a,rt,at){const it=await this.getUploadToken();at!=null&&at.onProgress&&console.warn("The onProgress option is only supported in the browser");const ot=await fetch$1(PINATA_IPFS_URL,{method:"POST",headers:{Authorization:`Bearer ${it}`,...a.getHeaders()},body:a.getBuffer()}),st=await ot.json();if(!ot.ok)throw console.warn(st),new Error("Failed to upload files to IPFS");const ct=st.IpfsHash;if(!ct)throw new Error("Failed to upload files to IPFS");return at!=null&&at.uploadWithoutDirectory?[`ipfs://${ct}`]:rt.map(lt=>`ipfs://${ct}/${lt}`)}}class ThirdwebStorage{constructor(a){_defineProperty$2(this,"uploader",void 0),_defineProperty$2(this,"downloader",void 0),_defineProperty$2(this,"gatewayUrls",void 0),this.uploader=(a==null?void 0:a.uploader)||new IpfsUploader,this.downloader=(a==null?void 0:a.downloader)||new StorageDownloader,this.gatewayUrls=prepareGatewayUrls(parseGatewayUrls(a==null?void 0:a.gatewayUrls))}resolveScheme(a){return replaceSchemeWithGatewayUrl(a,this.gatewayUrls)}async download(a){return this.downloader.download(a,this.gatewayUrls)}async downloadJSON(a){const at=await(await this.download(a)).json();return replaceObjectSchemesWithGatewayUrls(at,this.gatewayUrls)}async upload(a,rt){const[at]=await this.uploadBatch([a],rt);return at}async uploadBatch(a,rt){if(a=a.filter(ot=>ot!==void 0),!a.length)return[];const at=a.map(ot=>isFileOrBuffer(ot)||typeof ot=="string").every(ot=>!!ot);let it=[];if(at)it=await this.uploader.uploadBatch(a,rt);else{const ot=(await this.uploadAndReplaceFilesWithHashes(a,rt)).map(st=>typeof st=="string"?st:JSON.stringify(st));it=await this.uploader.uploadBatch(ot,rt)}return(rt==null?void 0:rt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl?it.map(ot=>this.resolveScheme(ot)):it}async uploadAndReplaceFilesWithHashes(a,rt){let at=a;at=replaceObjectGatewayUrlsWithSchemes(at,this.gatewayUrls);const it=extractObjectFiles(at);if(it.length){const ot=await this.uploader.uploadBatch(it,rt);at=replaceObjectFilesWithUris(at,ot)}return((rt==null?void 0:rt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl)&&(at=replaceObjectSchemesWithGatewayUrls(at,this.gatewayUrls)),at}}var c1={name:"Ethereum Mainnet",chain:"ETH",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",height:512,width:512,format:"png"},rpc:["https://ethereum.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://eth-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://mainnet.infura.io/v3/${INFURA_API_KEY}","wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}","https://api.mycryptoapi.com/eth","https://cloudflare-eth.com","https://ethereum.publicnode.com"],features:[{name:"EIP1559"},{name:"EIP155"}],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},infoURL:"https://ethereum.org",shortName:"eth",chainId:1,networkId:1,slip44:60,ens:{registry:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},explorers:[{name:"etherscan",url:"https://etherscan.io",standard:"EIP3091"}],testnet:!1,slug:"ethereum"},c5={name:"Goerli",title:"Ethereum Testnet Goerli",chain:"ETH",rpc:["https://goerli.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://eth-goerli.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://goerli.infura.io/v3/${INFURA_API_KEY}","wss://goerli.infura.io/v3/${INFURA_API_KEY}","https://rpc.goerli.mudit.blog/","https://ethereum-goerli.publicnode.com"],faucets:["https://faucet.paradigm.xyz/","http://fauceth.komputing.org?chain=5&address=${ADDRESS}","https://goerli-faucet.slock.it?address=${ADDRESS}","https://faucet.goerli.mudit.blog"],nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},infoURL:"https://goerli.net/#about",shortName:"gor",chainId:5,networkId:5,ens:{registry:"0x112234455c3a32fd11230c42e7bccd4a84e02010"},explorers:[{name:"etherscan-goerli",url:"https://goerli.etherscan.io",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",height:512,width:512,format:"png"},testnet:!0,slug:"goerli"},c10={name:"Optimism",chain:"ETH",rpc:["https://optimism.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://opt-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://optimism-mainnet.infura.io/v3/${INFURA_API_KEY}","https://mainnet.optimism.io/"],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},infoURL:"https://optimism.io",shortName:"oeth",chainId:10,networkId:10,explorers:[{name:"etherscan",url:"https://optimistic.etherscan.io",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/optimism/512.png",height:512,width:512,format:"png"},testnet:!1,slug:"optimism"},c56={name:"Binance Smart Chain Mainnet",chain:"BSC",rpc:["https://binance.rpc.thirdweb.com/${THIRDWEB_API_KEY}","wss://bsc-ws-node.nariox.org","https://bsc.publicnode.com","https://bsc-dataseed4.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed1.defibit.io","https://bsc-dataseed4.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed1.binance.org"],faucets:["https://free-online-app.com/faucet-for-eth-evm-chains/"],nativeCurrency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},infoURL:"https://www.binance.org",shortName:"bnb",chainId:56,networkId:56,slip44:714,explorers:[{name:"bscscan",url:"https://bscscan.com",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/binance-coin/512.png",height:512,width:512,format:"png"},testnet:!1,slug:"binance"},c97={name:"Binance Smart Chain Testnet",chain:"BSC",rpc:["https://binance-testnet.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://bsc-testnet.publicnode.com","https://data-seed-prebsc-2-s3.binance.org:8545","https://data-seed-prebsc-1-s3.binance.org:8545","https://data-seed-prebsc-2-s2.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s1.binance.org:8545"],faucets:["https://testnet.binance.org/faucet-smart"],nativeCurrency:{name:"Binance Chain Native Token",symbol:"tBNB",decimals:18},infoURL:"https://testnet.binance.org/",shortName:"bnbt",chainId:97,networkId:97,explorers:[{name:"bscscan-testnet",url:"https://testnet.bscscan.com",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/binance-coin/512.png",height:512,width:512,format:"png"},testnet:!0,slug:"binance-testnet"},c137={name:"Polygon Mainnet",chain:"Polygon",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/polygon/512.png",height:512,width:512,format:"png"},rpc:["https://polygon.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://polygon-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://polygon-mainnet.infura.io/v3/${INFURA_API_KEY}","https://polygon-rpc.com/","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com","https://polygon-bor.publicnode.com"],faucets:[],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},infoURL:"https://polygon.technology/",shortName:"matic",chainId:137,networkId:137,slip44:966,explorers:[{name:"polygonscan",url:"https://polygonscan.com",standard:"EIP3091"}],testnet:!1,slug:"polygon"},c250={name:"Fantom Opera",chain:"FTM",rpc:["https://fantom.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://fantom.publicnode.com","https://rpc.ftm.tools"],faucets:["https://free-online-app.com/faucet-for-eth-evm-chains/"],nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},infoURL:"https://fantom.foundation",shortName:"ftm",chainId:250,networkId:250,icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/fantom/512.png",height:512,width:512,format:"png"},explorers:[{name:"ftmscan",url:"https://ftmscan.com",icon:{url:"ipfs://QmRqbK449Fo9sJ3xMpkPbg6uV1weQj4yVV1xNMP9cdPmjf",width:73,height:73,format:"png"},standard:"EIP3091"}],testnet:!1,slug:"fantom"},c420={name:"Optimism Goerli Testnet",chain:"ETH",rpc:["https://optimism-goerli.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://opt-goerli.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://optimism-goerli.infura.io/v3/${INFURA_API_KEY}","https://goerli.optimism.io/"],faucets:["https://coinbase.com/faucets/optimism-goerli-faucet"],nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},infoURL:"https://optimism.io",shortName:"ogor",chainId:420,networkId:420,icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/optimism/512.png",height:512,width:512,format:"png"},testnet:!0,slug:"optimism-goerli"},c4002={name:"Fantom Testnet",chain:"FTM",rpc:["https://fantom-testnet.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://fantom-testnet.publicnode.com","https://rpc.testnet.fantom.network"],faucets:["https://faucet.fantom.network"],nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},infoURL:"https://docs.fantom.foundation/quick-start/short-guide#fantom-testnet",shortName:"tftm",chainId:4002,networkId:4002,icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/fantom/512.png",height:512,width:512,format:"png"},explorers:[{name:"ftmscan",url:"https://testnet.ftmscan.com",icon:{url:"ipfs://QmRqbK449Fo9sJ3xMpkPbg6uV1weQj4yVV1xNMP9cdPmjf",width:73,height:73,format:"png"},standard:"EIP3091"}],testnet:!0,slug:"fantom-testnet"},c42161={name:"Arbitrum One",chainId:42161,shortName:"arb1",chain:"ETH",networkId:42161,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpc:["https://arbitrum.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://arbitrum-mainnet.infura.io/v3/${INFURA_API_KEY}","https://arb-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://arb1.arbitrum.io/rpc"],faucets:[],explorers:[{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io",standard:"EIP3091"},{name:"Arbiscan",url:"https://arbiscan.io",standard:"EIP3091"}],infoURL:"https://arbitrum.io",parent:{type:"L2",chain:"eip155-1",bridges:[{url:"https://bridge.arbitrum.io"}]},icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/arbitrum/512.png",height:512,width:512,format:"png"},testnet:!1,slug:"arbitrum"},c43113={name:"Avalanche Fuji Testnet",chain:"AVAX",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/avalanche/512.png",height:512,width:512,format:"png"},rpc:["https://avalanche-fuji.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://avalanche-fuji.infura.io/v3/${INFURA_API_KEY}","https://api.avax-test.network/ext/bc/C/rpc","https://avalanche-fuji-c-chain.publicnode.com"],faucets:["https://faucet.avax.network/","https://faucet.avax-test.network/"],nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},infoURL:"https://cchain.explorer.avax-test.network",shortName:"Fuji",chainId:43113,networkId:1,explorers:[{name:"snowtrace",url:"https://testnet.snowtrace.io",standard:"EIP3091"}],testnet:!0,slug:"avalanche-fuji"},c43114={name:"Avalanche C-Chain",chain:"AVAX",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/avalanche/512.png",height:512,width:512,format:"png"},rpc:["https://avalanche.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://avalanche-mainnet.infura.io/v3/${INFURA_API_KEY}","https://api.avax.network/ext/bc/C/rpc","https://avalanche-c-chain.publicnode.com"],features:[{name:"EIP1559"}],faucets:["https://free-online-app.com/faucet-for-eth-evm-chains/"],nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},infoURL:"https://www.avax.network/",shortName:"avax",chainId:43114,networkId:43114,slip44:9005,explorers:[{name:"snowtrace",url:"https://snowtrace.io",standard:"EIP3091"}],testnet:!1,slug:"avalanche"},c80001={name:"Mumbai",title:"Polygon Testnet Mumbai",chain:"Polygon",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/polygon/512.png",height:512,width:512,format:"png"},rpc:["https://mumbai.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://polygon-mumbai.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://polygon-mumbai.infura.io/v3/${INFURA_API_KEY}","https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com","https://polygon-mumbai-bor.publicnode.com"],faucets:["https://faucet.polygon.technology/"],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},infoURL:"https://polygon.technology/",shortName:"maticmum",chainId:80001,networkId:80001,explorers:[{name:"polygonscan",url:"https://mumbai.polygonscan.com",standard:"EIP3091"}],testnet:!0,slug:"mumbai"},c84531={name:"Base Goerli Testnet",chain:"ETH",rpc:["https://base-goerli.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://goerli.base.org"],faucets:["https://www.coinbase.com/faucets/base-ethereum-goerli-faucet"],nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},infoURL:"https://base.org",shortName:"basegor",chainId:84531,networkId:84531,explorers:[{name:"basescout",url:"https://base-goerli.blockscout.com",standard:"none"},{name:"basescan",url:"https://goerli.basescan.org",standard:"none"}],testnet:!0,icon:{url:"ipfs://QmW5Vn15HeRkScMfPcW12ZdZcC2yUASpu6eCsECRdEmjjj/base-512.png",height:512,width:512,format:"png"},slug:"base-goerli"},c421613={name:"Arbitrum Goerli",title:"Arbitrum Goerli Rollup Testnet",chainId:421613,shortName:"arb-goerli",chain:"ETH",networkId:421613,nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18},rpc:["https://arbitrum-goerli.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://arb-goerli.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://abritrum-goerli.infura.io/v3/${INFURA_API_KEY}","https://goerli-rollup.arbitrum.io/rpc/"],faucets:[],infoURL:"https://arbitrum.io/",explorers:[{name:"Arbitrum Goerli Rollup Explorer",url:"https://goerli-rollup-explorer.arbitrum.io",standard:"EIP3091"}],parent:{type:"L2",chain:"eip155-5",bridges:[{url:"https://bridge.arbitrum.io/"}]},icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/arbitrum/512.png",height:512,width:512,format:"png"},testnet:!0,slug:"arbitrum-goerli"},c1337={name:"Localhost",chain:"ETH",rpc:["http://localhost:8545"],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",height:512,width:512,format:"png"},shortName:"local",chainId:1337,networkId:1337,testnet:!0,slug:"localhost"};const defaultOptions$1={mode:"http"};function getChainRPCs(o,a){const{thirdwebApiKey:rt,alchemyApiKey:at,infuraApiKey:it,mode:ot}={...defaultOptions$1,...a},st=o.rpc.filter(pt=>!!(pt.startsWith("http")&&ot==="http"||pt.startsWith("ws")&&ot==="ws")),ct=st.filter(pt=>pt.includes("${THIRDWEB_API_KEY}")&&rt).map(pt=>rt?pt.replace("${THIRDWEB_API_KEY}",rt):pt),lt=st.filter(pt=>pt.includes("${ALCHEMY_API_KEY}")&&at).map(pt=>at?pt.replace("${ALCHEMY_API_KEY}",at):pt),ut=st.filter(pt=>pt.includes("${INFURA_API_KEY}")&&it).map(pt=>it?pt.replace("${INFURA_API_KEY}",it):pt),dt=st.filter(pt=>!pt.includes("${")),ft=[...ct,...ut,...lt,...dt];if(ft.length===0)throw new Error(`No RPC available for chainId "${o.chainId}" with mode ${ot}`);return ft}function getChainRPC(o,a){return getChainRPCs(o,a)[0]}const defaultChains=[c1,c5,c84531,c137,c80001,c42161,c421613,c10,c420,c56,c97,c250,c4002,c43114,c43113,c1337],scriptRel="modulepreload",assetsURL=function(o){return"/blockchain-tetris/"+o},seen={},__vitePreload=function o(a,rt,at){if(!rt||rt.length===0)return a();const it=document.getElementsByTagName("link");return Promise.all(rt.map(ot=>{if(ot=assetsURL(ot),ot in seen)return;seen[ot]=!0;const st=ot.endsWith(".css"),ct=st?'[rel="stylesheet"]':"";if(!!at)for(let dt=it.length-1;dt>=0;dt--){const ft=it[dt];if(ft.href===ot&&(!st||ft.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ot}"]${ct}`))return;const ut=document.createElement("link");if(ut.rel=st?"stylesheet":scriptRel,st||(ut.as="script",ut.crossOrigin=""),ut.href=ot,document.head.appendChild(ut),st)return new Promise((dt,ft)=>{ut.addEventListener("load",dt),ut.addEventListener("error",()=>ft(new Error(`Unable to preload CSS for ${ot}`)))})})).then(()=>a())};function _checkPrivateRedeclaration$1(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec$1(o,a,rt){_checkPrivateRedeclaration$1(o,a),a.set(o,rt)}function _classApplyDescriptorGet$1(o,a){return a.get?a.get.call(o):a.value}function _classExtractFieldDescriptor$1(o,a,rt){if(!a.has(o))throw new TypeError("attempted to "+rt+" private field on non-instance");return a.get(o)}function _classPrivateFieldGet$1(o,a){var rt=_classExtractFieldDescriptor$1(o,a,"get");return _classApplyDescriptorGet$1(o,rt)}function _classApplyDescriptorSet$1(o,a,rt){if(a.set)a.set.call(o,rt);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=rt}}function _classPrivateFieldSet$1(o,a,rt){var at=_classExtractFieldDescriptor$1(o,a,"set");return _classApplyDescriptorSet$1(o,at,rt),rt}function _classPrivateMethodInitSpec(o,a){_checkPrivateRedeclaration$1(o,a),a.add(o)}function _classPrivateMethodGet(o,a,rt){if(!a.has(o))throw new TypeError("attempted to get private field on non-instance");return rt}function _toPrimitive$1(o,a){if(typeof o!="object"||o===null)return o;var rt=o[Symbol.toPrimitive];if(rt!==void 0){var at=rt.call(o,a||"default");if(typeof at!="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function _toPropertyKey$1(o){var a=_toPrimitive$1(o,"string");return typeof a=="symbol"?a:String(a)}function _defineProperty$1(o,a,rt){return a=_toPropertyKey$1(a),a in o?Object.defineProperty(o,a,{value:rt,enumerable:!0,configurable:!0,writable:!0}):o[a]=rt,o}var bn={exports:{}};(function(o){(function(a,rt){function at(Mt,xt){if(!Mt)throw new Error(xt||"Assertion failed")}function it(Mt,xt){Mt.super_=xt;var Et=function(){};Et.prototype=xt.prototype,Mt.prototype=new Et,Mt.prototype.constructor=Mt}function ot(Mt,xt,Et){if(ot.isBN(Mt))return Mt;this.negative=0,this.words=null,this.length=0,this.red=null,Mt!==null&&((xt==="le"||xt==="be")&&(Et=xt,xt=10),this._init(Mt||0,xt||10,Et||"be"))}typeof a=="object"?a.exports=ot:rt.BN=ot,ot.BN=ot,ot.wordSize=26;var st;try{typeof window<"u"&&typeof window.Buffer<"u"?st=window.Buffer:st=buffer.Buffer}catch{}ot.isBN=function(xt){return xt instanceof ot?!0:xt!==null&&typeof xt=="object"&&xt.constructor.wordSize===ot.wordSize&&Array.isArray(xt.words)},ot.max=function(xt,Et){return xt.cmp(Et)>0?xt:Et},ot.min=function(xt,Et){return xt.cmp(Et)<0?xt:Et},ot.prototype._init=function(xt,Et,Rt){if(typeof xt=="number")return this._initNumber(xt,Et,Rt);if(typeof xt=="object")return this._initArray(xt,Et,Rt);Et==="hex"&&(Et=16),at(Et===(Et|0)&&Et>=2&&Et<=36),xt=xt.toString().replace(/\s+/g,"");var Lt=0;xt[0]==="-"&&(Lt++,this.negative=1),Lt<xt.length&&(Et===16?this._parseHex(xt,Lt,Rt):(this._parseBase(xt,Et,Lt),Rt==="le"&&this._initArray(this.toArray(),Et,Rt)))},ot.prototype._initNumber=function(xt,Et,Rt){xt<0&&(this.negative=1,xt=-xt),xt<67108864?(this.words=[xt&67108863],this.length=1):xt<4503599627370496?(this.words=[xt&67108863,xt/67108864&67108863],this.length=2):(at(xt<9007199254740992),this.words=[xt&67108863,xt/67108864&67108863,1],this.length=3),Rt==="le"&&this._initArray(this.toArray(),Et,Rt)},ot.prototype._initArray=function(xt,Et,Rt){if(at(typeof xt.length=="number"),xt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(xt.length/3),this.words=new Array(this.length);for(var Lt=0;Lt<this.length;Lt++)this.words[Lt]=0;var Bt,Ot,qt=0;if(Rt==="be")for(Lt=xt.length-1,Bt=0;Lt>=0;Lt-=3)Ot=xt[Lt]|xt[Lt-1]<<8|xt[Lt-2]<<16,this.words[Bt]|=Ot<<qt&67108863,this.words[Bt+1]=Ot>>>26-qt&67108863,qt+=24,qt>=26&&(qt-=26,Bt++);else if(Rt==="le")for(Lt=0,Bt=0;Lt<xt.length;Lt+=3)Ot=xt[Lt]|xt[Lt+1]<<8|xt[Lt+2]<<16,this.words[Bt]|=Ot<<qt&67108863,this.words[Bt+1]=Ot>>>26-qt&67108863,qt+=24,qt>=26&&(qt-=26,Bt++);return this._strip()};function ct(Mt,xt){var Et=Mt.charCodeAt(xt);if(Et>=48&&Et<=57)return Et-48;if(Et>=65&&Et<=70)return Et-55;if(Et>=97&&Et<=102)return Et-87;at(!1,"Invalid character in "+Mt)}function lt(Mt,xt,Et){var Rt=ct(Mt,Et);return Et-1>=xt&&(Rt|=ct(Mt,Et-1)<<4),Rt}ot.prototype._parseHex=function(xt,Et,Rt){this.length=Math.ceil((xt.length-Et)/6),this.words=new Array(this.length);for(var Lt=0;Lt<this.length;Lt++)this.words[Lt]=0;var Bt=0,Ot=0,qt;if(Rt==="be")for(Lt=xt.length-1;Lt>=Et;Lt-=2)qt=lt(xt,Et,Lt)<<Bt,this.words[Ot]|=qt&67108863,Bt>=18?(Bt-=18,Ot+=1,this.words[Ot]|=qt>>>26):Bt+=8;else{var At=xt.length-Et;for(Lt=At%2===0?Et+1:Et;Lt<xt.length;Lt+=2)qt=lt(xt,Et,Lt)<<Bt,this.words[Ot]|=qt&67108863,Bt>=18?(Bt-=18,Ot+=1,this.words[Ot]|=qt>>>26):Bt+=8}this._strip()};function ut(Mt,xt,Et,Rt){for(var Lt=0,Bt=0,Ot=Math.min(Mt.length,Et),qt=xt;qt<Ot;qt++){var At=Mt.charCodeAt(qt)-48;Lt*=Rt,At>=49?Bt=At-49+10:At>=17?Bt=At-17+10:Bt=At,at(At>=0&&Bt<Rt,"Invalid character"),Lt+=Bt}return Lt}ot.prototype._parseBase=function(xt,Et,Rt){this.words=[0],this.length=1;for(var Lt=0,Bt=1;Bt<=67108863;Bt*=Et)Lt++;Lt--,Bt=Bt/Et|0;for(var Ot=xt.length-Rt,qt=Ot%Lt,At=Math.min(Ot,Ot-qt)+Rt,Ct=0,Dt=Rt;Dt<At;Dt+=Lt)Ct=ut(xt,Dt,Dt+Lt,Et),this.imuln(Bt),this.words[0]+Ct<67108864?this.words[0]+=Ct:this._iaddn(Ct);if(qt!==0){var Wt=1;for(Ct=ut(xt,Dt,xt.length,Et),Dt=0;Dt<qt;Dt++)Wt*=Et;this.imuln(Wt),this.words[0]+Ct<67108864?this.words[0]+=Ct:this._iaddn(Ct)}this._strip()},ot.prototype.copy=function(xt){xt.words=new Array(this.length);for(var Et=0;Et<this.length;Et++)xt.words[Et]=this.words[Et];xt.length=this.length,xt.negative=this.negative,xt.red=this.red};function dt(Mt,xt){Mt.words=xt.words,Mt.length=xt.length,Mt.negative=xt.negative,Mt.red=xt.red}if(ot.prototype._move=function(xt){dt(xt,this)},ot.prototype.clone=function(){var xt=new ot(null);return this.copy(xt),xt},ot.prototype._expand=function(xt){for(;this.length<xt;)this.words[this.length++]=0;return this},ot.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ot.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ot.prototype[Symbol.for("nodejs.util.inspect.custom")]=ft}catch{ot.prototype.inspect=ft}else ot.prototype.inspect=ft;function ft(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var pt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ht=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],yt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ot.prototype.toString=function(xt,Et){xt=xt||10,Et=Et|0||1;var Rt;if(xt===16||xt==="hex"){Rt="";for(var Lt=0,Bt=0,Ot=0;Ot<this.length;Ot++){var qt=this.words[Ot],At=((qt<<Lt|Bt)&16777215).toString(16);Bt=qt>>>24-Lt&16777215,Lt+=2,Lt>=26&&(Lt-=26,Ot--),Bt!==0||Ot!==this.length-1?Rt=pt[6-At.length]+At+Rt:Rt=At+Rt}for(Bt!==0&&(Rt=Bt.toString(16)+Rt);Rt.length%Et!==0;)Rt="0"+Rt;return this.negative!==0&&(Rt="-"+Rt),Rt}if(xt===(xt|0)&&xt>=2&&xt<=36){var Ct=ht[xt],Dt=yt[xt];Rt="";var Wt=this.clone();for(Wt.negative=0;!Wt.isZero();){var $t=Wt.modrn(Dt).toString(xt);Wt=Wt.idivn(Dt),Wt.isZero()?Rt=$t+Rt:Rt=pt[Ct-$t.length]+$t+Rt}for(this.isZero()&&(Rt="0"+Rt);Rt.length%Et!==0;)Rt="0"+Rt;return this.negative!==0&&(Rt="-"+Rt),Rt}at(!1,"Base should be between 2 and 36")},ot.prototype.toNumber=function(){var xt=this.words[0];return this.length===2?xt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?xt+=4503599627370496+this.words[1]*67108864:this.length>2&&at(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-xt:xt},ot.prototype.toJSON=function(){return this.toString(16,2)},st&&(ot.prototype.toBuffer=function(xt,Et){return this.toArrayLike(st,xt,Et)}),ot.prototype.toArray=function(xt,Et){return this.toArrayLike(Array,xt,Et)};var mt=function(xt,Et){return xt.allocUnsafe?xt.allocUnsafe(Et):new xt(Et)};ot.prototype.toArrayLike=function(xt,Et,Rt){this._strip();var Lt=this.byteLength(),Bt=Rt||Math.max(1,Lt);at(Lt<=Bt,"byte array longer than desired length"),at(Bt>0,"Requested array length <= 0");var Ot=mt(xt,Bt),qt=Et==="le"?"LE":"BE";return this["_toArrayLike"+qt](Ot,Lt),Ot},ot.prototype._toArrayLikeLE=function(xt,Et){for(var Rt=0,Lt=0,Bt=0,Ot=0;Bt<this.length;Bt++){var qt=this.words[Bt]<<Ot|Lt;xt[Rt++]=qt&255,Rt<xt.length&&(xt[Rt++]=qt>>8&255),Rt<xt.length&&(xt[Rt++]=qt>>16&255),Ot===6?(Rt<xt.length&&(xt[Rt++]=qt>>24&255),Lt=0,Ot=0):(Lt=qt>>>24,Ot+=2)}if(Rt<xt.length)for(xt[Rt++]=Lt;Rt<xt.length;)xt[Rt++]=0},ot.prototype._toArrayLikeBE=function(xt,Et){for(var Rt=xt.length-1,Lt=0,Bt=0,Ot=0;Bt<this.length;Bt++){var qt=this.words[Bt]<<Ot|Lt;xt[Rt--]=qt&255,Rt>=0&&(xt[Rt--]=qt>>8&255),Rt>=0&&(xt[Rt--]=qt>>16&255),Ot===6?(Rt>=0&&(xt[Rt--]=qt>>24&255),Lt=0,Ot=0):(Lt=qt>>>24,Ot+=2)}if(Rt>=0)for(xt[Rt--]=Lt;Rt>=0;)xt[Rt--]=0},Math.clz32?ot.prototype._countBits=function(xt){return 32-Math.clz32(xt)}:ot.prototype._countBits=function(xt){var Et=xt,Rt=0;return Et>=4096&&(Rt+=13,Et>>>=13),Et>=64&&(Rt+=7,Et>>>=7),Et>=8&&(Rt+=4,Et>>>=4),Et>=2&&(Rt+=2,Et>>>=2),Rt+Et},ot.prototype._zeroBits=function(xt){if(xt===0)return 26;var Et=xt,Rt=0;return(Et&8191)===0&&(Rt+=13,Et>>>=13),(Et&127)===0&&(Rt+=7,Et>>>=7),(Et&15)===0&&(Rt+=4,Et>>>=4),(Et&3)===0&&(Rt+=2,Et>>>=2),(Et&1)===0&&Rt++,Rt},ot.prototype.bitLength=function(){var xt=this.words[this.length-1],Et=this._countBits(xt);return(this.length-1)*26+Et};function gt(Mt){for(var xt=new Array(Mt.bitLength()),Et=0;Et<xt.length;Et++){var Rt=Et/26|0,Lt=Et%26;xt[Et]=Mt.words[Rt]>>>Lt&1}return xt}ot.prototype.zeroBits=function(){if(this.isZero())return 0;for(var xt=0,Et=0;Et<this.length;Et++){var Rt=this._zeroBits(this.words[Et]);if(xt+=Rt,Rt!==26)break}return xt},ot.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ot.prototype.toTwos=function(xt){return this.negative!==0?this.abs().inotn(xt).iaddn(1):this.clone()},ot.prototype.fromTwos=function(xt){return this.testn(xt-1)?this.notn(xt).iaddn(1).ineg():this.clone()},ot.prototype.isNeg=function(){return this.negative!==0},ot.prototype.neg=function(){return this.clone().ineg()},ot.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ot.prototype.iuor=function(xt){for(;this.length<xt.length;)this.words[this.length++]=0;for(var Et=0;Et<xt.length;Et++)this.words[Et]=this.words[Et]|xt.words[Et];return this._strip()},ot.prototype.ior=function(xt){return at((this.negative|xt.negative)===0),this.iuor(xt)},ot.prototype.or=function(xt){return this.length>xt.length?this.clone().ior(xt):xt.clone().ior(this)},ot.prototype.uor=function(xt){return this.length>xt.length?this.clone().iuor(xt):xt.clone().iuor(this)},ot.prototype.iuand=function(xt){var Et;this.length>xt.length?Et=xt:Et=this;for(var Rt=0;Rt<Et.length;Rt++)this.words[Rt]=this.words[Rt]&xt.words[Rt];return this.length=Et.length,this._strip()},ot.prototype.iand=function(xt){return at((this.negative|xt.negative)===0),this.iuand(xt)},ot.prototype.and=function(xt){return this.length>xt.length?this.clone().iand(xt):xt.clone().iand(this)},ot.prototype.uand=function(xt){return this.length>xt.length?this.clone().iuand(xt):xt.clone().iuand(this)},ot.prototype.iuxor=function(xt){var Et,Rt;this.length>xt.length?(Et=this,Rt=xt):(Et=xt,Rt=this);for(var Lt=0;Lt<Rt.length;Lt++)this.words[Lt]=Et.words[Lt]^Rt.words[Lt];if(this!==Et)for(;Lt<Et.length;Lt++)this.words[Lt]=Et.words[Lt];return this.length=Et.length,this._strip()},ot.prototype.ixor=function(xt){return at((this.negative|xt.negative)===0),this.iuxor(xt)},ot.prototype.xor=function(xt){return this.length>xt.length?this.clone().ixor(xt):xt.clone().ixor(this)},ot.prototype.uxor=function(xt){return this.length>xt.length?this.clone().iuxor(xt):xt.clone().iuxor(this)},ot.prototype.inotn=function(xt){at(typeof xt=="number"&&xt>=0);var Et=Math.ceil(xt/26)|0,Rt=xt%26;this._expand(Et),Rt>0&&Et--;for(var Lt=0;Lt<Et;Lt++)this.words[Lt]=~this.words[Lt]&67108863;return Rt>0&&(this.words[Lt]=~this.words[Lt]&67108863>>26-Rt),this._strip()},ot.prototype.notn=function(xt){return this.clone().inotn(xt)},ot.prototype.setn=function(xt,Et){at(typeof xt=="number"&&xt>=0);var Rt=xt/26|0,Lt=xt%26;return this._expand(Rt+1),Et?this.words[Rt]=this.words[Rt]|1<<Lt:this.words[Rt]=this.words[Rt]&~(1<<Lt),this._strip()},ot.prototype.iadd=function(xt){var Et;if(this.negative!==0&&xt.negative===0)return this.negative=0,Et=this.isub(xt),this.negative^=1,this._normSign();if(this.negative===0&&xt.negative!==0)return xt.negative=0,Et=this.isub(xt),xt.negative=1,Et._normSign();var Rt,Lt;this.length>xt.length?(Rt=this,Lt=xt):(Rt=xt,Lt=this);for(var Bt=0,Ot=0;Ot<Lt.length;Ot++)Et=(Rt.words[Ot]|0)+(Lt.words[Ot]|0)+Bt,this.words[Ot]=Et&67108863,Bt=Et>>>26;for(;Bt!==0&&Ot<Rt.length;Ot++)Et=(Rt.words[Ot]|0)+Bt,this.words[Ot]=Et&67108863,Bt=Et>>>26;if(this.length=Rt.length,Bt!==0)this.words[this.length]=Bt,this.length++;else if(Rt!==this)for(;Ot<Rt.length;Ot++)this.words[Ot]=Rt.words[Ot];return this},ot.prototype.add=function(xt){var Et;return xt.negative!==0&&this.negative===0?(xt.negative=0,Et=this.sub(xt),xt.negative^=1,Et):xt.negative===0&&this.negative!==0?(this.negative=0,Et=xt.sub(this),this.negative=1,Et):this.length>xt.length?this.clone().iadd(xt):xt.clone().iadd(this)},ot.prototype.isub=function(xt){if(xt.negative!==0){xt.negative=0;var Et=this.iadd(xt);return xt.negative=1,Et._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(xt),this.negative=1,this._normSign();var Rt=this.cmp(xt);if(Rt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Lt,Bt;Rt>0?(Lt=this,Bt=xt):(Lt=xt,Bt=this);for(var Ot=0,qt=0;qt<Bt.length;qt++)Et=(Lt.words[qt]|0)-(Bt.words[qt]|0)+Ot,Ot=Et>>26,this.words[qt]=Et&67108863;for(;Ot!==0&&qt<Lt.length;qt++)Et=(Lt.words[qt]|0)+Ot,Ot=Et>>26,this.words[qt]=Et&67108863;if(Ot===0&&qt<Lt.length&&Lt!==this)for(;qt<Lt.length;qt++)this.words[qt]=Lt.words[qt];return this.length=Math.max(this.length,qt),Lt!==this&&(this.negative=1),this._strip()},ot.prototype.sub=function(xt){return this.clone().isub(xt)};function bt(Mt,xt,Et){Et.negative=xt.negative^Mt.negative;var Rt=Mt.length+xt.length|0;Et.length=Rt,Rt=Rt-1|0;var Lt=Mt.words[0]|0,Bt=xt.words[0]|0,Ot=Lt*Bt,qt=Ot&67108863,At=Ot/67108864|0;Et.words[0]=qt;for(var Ct=1;Ct<Rt;Ct++){for(var Dt=At>>>26,Wt=At&67108863,$t=Math.min(Ct,xt.length-1),Vt=Math.max(0,Ct-Mt.length+1);Vt<=$t;Vt++){var Qt=Ct-Vt|0;Lt=Mt.words[Qt]|0,Bt=xt.words[Vt]|0,Ot=Lt*Bt+Wt,Dt+=Ot/67108864|0,Wt=Ot&67108863}Et.words[Ct]=Wt|0,At=Dt|0}return At!==0?Et.words[Ct]=At|0:Et.length--,Et._strip()}var vt=function(xt,Et,Rt){var Lt=xt.words,Bt=Et.words,Ot=Rt.words,qt=0,At,Ct,Dt,Wt=Lt[0]|0,$t=Wt&8191,Vt=Wt>>>13,Qt=Lt[1]|0,Zt=Qt&8191,Yt=Qt>>>13,tr=Lt[2]|0,nr=tr&8191,Xt=tr>>>13,ar=Lt[3]|0,er=ar&8191,ir=ar>>>13,zt=Lt[4]|0,kt=zt&8191,It=zt>>>13,Ht=Lt[5]|0,Gt=Ht&8191,Jt=Ht>>>13,rr=Lt[6]|0,sr=rr&8191,cr=rr>>>13,dr=Lt[7]|0,ur=dr&8191,lr=dr>>>13,Fr=Lt[8]|0,pr=Fr&8191,hr=Fr>>>13,Or=Lt[9]|0,mr=Or&8191,wr=Or>>>13,Lr=Bt[0]|0,yr=Lr&8191,Cr=Lr>>>13,jr=Bt[1]|0,gr=jr&8191,Tr=jr>>>13,Ur=Bt[2]|0,Er=Ur&8191,br=Ur>>>13,qr=Bt[3]|0,_r=qr&8191,Ar=qr>>>13,Wr=Bt[4]|0,$r=Wr&8191,Sr=Wr>>>13,zr=Bt[5]|0,kr=zr&8191,xr=zr>>>13,Br=Bt[6]|0,fr=Br&8191,vr=Br>>>13,Hr=Bt[7]|0,Pr=Hr&8191,Ir=Hr>>>13,Yr=Bt[8]|0,Rr=Yr&8191,Dr=Yr>>>13,Jr=Bt[9]|0,Nr=Jr&8191,Mr=Jr>>>13;Rt.negative=xt.negative^Et.negative,Rt.length=19,At=Math.imul($t,yr),Ct=Math.imul($t,Cr),Ct=Ct+Math.imul(Vt,yr)|0,Dt=Math.imul(Vt,Cr);var Vr=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,At=Math.imul(Zt,yr),Ct=Math.imul(Zt,Cr),Ct=Ct+Math.imul(Yt,yr)|0,Dt=Math.imul(Yt,Cr),At=At+Math.imul($t,gr)|0,Ct=Ct+Math.imul($t,Tr)|0,Ct=Ct+Math.imul(Vt,gr)|0,Dt=Dt+Math.imul(Vt,Tr)|0;var Kr=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,At=Math.imul(nr,yr),Ct=Math.imul(nr,Cr),Ct=Ct+Math.imul(Xt,yr)|0,Dt=Math.imul(Xt,Cr),At=At+Math.imul(Zt,gr)|0,Ct=Ct+Math.imul(Zt,Tr)|0,Ct=Ct+Math.imul(Yt,gr)|0,Dt=Dt+Math.imul(Yt,Tr)|0,At=At+Math.imul($t,Er)|0,Ct=Ct+Math.imul($t,br)|0,Ct=Ct+Math.imul(Vt,Er)|0,Dt=Dt+Math.imul(Vt,br)|0;var Gr=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,At=Math.imul(er,yr),Ct=Math.imul(er,Cr),Ct=Ct+Math.imul(ir,yr)|0,Dt=Math.imul(ir,Cr),At=At+Math.imul(nr,gr)|0,Ct=Ct+Math.imul(nr,Tr)|0,Ct=Ct+Math.imul(Xt,gr)|0,Dt=Dt+Math.imul(Xt,Tr)|0,At=At+Math.imul(Zt,Er)|0,Ct=Ct+Math.imul(Zt,br)|0,Ct=Ct+Math.imul(Yt,Er)|0,Dt=Dt+Math.imul(Yt,br)|0,At=At+Math.imul($t,_r)|0,Ct=Ct+Math.imul($t,Ar)|0,Ct=Ct+Math.imul(Vt,_r)|0,Dt=Dt+Math.imul(Vt,Ar)|0;var Zr=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,At=Math.imul(kt,yr),Ct=Math.imul(kt,Cr),Ct=Ct+Math.imul(It,yr)|0,Dt=Math.imul(It,Cr),At=At+Math.imul(er,gr)|0,Ct=Ct+Math.imul(er,Tr)|0,Ct=Ct+Math.imul(ir,gr)|0,Dt=Dt+Math.imul(ir,Tr)|0,At=At+Math.imul(nr,Er)|0,Ct=Ct+Math.imul(nr,br)|0,Ct=Ct+Math.imul(Xt,Er)|0,Dt=Dt+Math.imul(Xt,br)|0,At=At+Math.imul(Zt,_r)|0,Ct=Ct+Math.imul(Zt,Ar)|0,Ct=Ct+Math.imul(Yt,_r)|0,Dt=Dt+Math.imul(Yt,Ar)|0,At=At+Math.imul($t,$r)|0,Ct=Ct+Math.imul($t,Sr)|0,Ct=Ct+Math.imul(Vt,$r)|0,Dt=Dt+Math.imul(Vt,Sr)|0;var Qr=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,At=Math.imul(Gt,yr),Ct=Math.imul(Gt,Cr),Ct=Ct+Math.imul(Jt,yr)|0,Dt=Math.imul(Jt,Cr),At=At+Math.imul(kt,gr)|0,Ct=Ct+Math.imul(kt,Tr)|0,Ct=Ct+Math.imul(It,gr)|0,Dt=Dt+Math.imul(It,Tr)|0,At=At+Math.imul(er,Er)|0,Ct=Ct+Math.imul(er,br)|0,Ct=Ct+Math.imul(ir,Er)|0,Dt=Dt+Math.imul(ir,br)|0,At=At+Math.imul(nr,_r)|0,Ct=Ct+Math.imul(nr,Ar)|0,Ct=Ct+Math.imul(Xt,_r)|0,Dt=Dt+Math.imul(Xt,Ar)|0,At=At+Math.imul(Zt,$r)|0,Ct=Ct+Math.imul(Zt,Sr)|0,Ct=Ct+Math.imul(Yt,$r)|0,Dt=Dt+Math.imul(Yt,Sr)|0,At=At+Math.imul($t,kr)|0,Ct=Ct+Math.imul($t,xr)|0,Ct=Ct+Math.imul(Vt,kr)|0,Dt=Dt+Math.imul(Vt,xr)|0;var Xr=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,At=Math.imul(sr,yr),Ct=Math.imul(sr,Cr),Ct=Ct+Math.imul(cr,yr)|0,Dt=Math.imul(cr,Cr),At=At+Math.imul(Gt,gr)|0,Ct=Ct+Math.imul(Gt,Tr)|0,Ct=Ct+Math.imul(Jt,gr)|0,Dt=Dt+Math.imul(Jt,Tr)|0,At=At+Math.imul(kt,Er)|0,Ct=Ct+Math.imul(kt,br)|0,Ct=Ct+Math.imul(It,Er)|0,Dt=Dt+Math.imul(It,br)|0,At=At+Math.imul(er,_r)|0,Ct=Ct+Math.imul(er,Ar)|0,Ct=Ct+Math.imul(ir,_r)|0,Dt=Dt+Math.imul(ir,Ar)|0,At=At+Math.imul(nr,$r)|0,Ct=Ct+Math.imul(nr,Sr)|0,Ct=Ct+Math.imul(Xt,$r)|0,Dt=Dt+Math.imul(Xt,Sr)|0,At=At+Math.imul(Zt,kr)|0,Ct=Ct+Math.imul(Zt,xr)|0,Ct=Ct+Math.imul(Yt,kr)|0,Dt=Dt+Math.imul(Yt,xr)|0,At=At+Math.imul($t,fr)|0,Ct=Ct+Math.imul($t,vr)|0,Ct=Ct+Math.imul(Vt,fr)|0,Dt=Dt+Math.imul(Vt,vr)|0;var en=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(en>>>26)|0,en&=67108863,At=Math.imul(ur,yr),Ct=Math.imul(ur,Cr),Ct=Ct+Math.imul(lr,yr)|0,Dt=Math.imul(lr,Cr),At=At+Math.imul(sr,gr)|0,Ct=Ct+Math.imul(sr,Tr)|0,Ct=Ct+Math.imul(cr,gr)|0,Dt=Dt+Math.imul(cr,Tr)|0,At=At+Math.imul(Gt,Er)|0,Ct=Ct+Math.imul(Gt,br)|0,Ct=Ct+Math.imul(Jt,Er)|0,Dt=Dt+Math.imul(Jt,br)|0,At=At+Math.imul(kt,_r)|0,Ct=Ct+Math.imul(kt,Ar)|0,Ct=Ct+Math.imul(It,_r)|0,Dt=Dt+Math.imul(It,Ar)|0,At=At+Math.imul(er,$r)|0,Ct=Ct+Math.imul(er,Sr)|0,Ct=Ct+Math.imul(ir,$r)|0,Dt=Dt+Math.imul(ir,Sr)|0,At=At+Math.imul(nr,kr)|0,Ct=Ct+Math.imul(nr,xr)|0,Ct=Ct+Math.imul(Xt,kr)|0,Dt=Dt+Math.imul(Xt,xr)|0,At=At+Math.imul(Zt,fr)|0,Ct=Ct+Math.imul(Zt,vr)|0,Ct=Ct+Math.imul(Yt,fr)|0,Dt=Dt+Math.imul(Yt,vr)|0,At=At+Math.imul($t,Pr)|0,Ct=Ct+Math.imul($t,Ir)|0,Ct=Ct+Math.imul(Vt,Pr)|0,Dt=Dt+Math.imul(Vt,Ir)|0;var tn=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(tn>>>26)|0,tn&=67108863,At=Math.imul(pr,yr),Ct=Math.imul(pr,Cr),Ct=Ct+Math.imul(hr,yr)|0,Dt=Math.imul(hr,Cr),At=At+Math.imul(ur,gr)|0,Ct=Ct+Math.imul(ur,Tr)|0,Ct=Ct+Math.imul(lr,gr)|0,Dt=Dt+Math.imul(lr,Tr)|0,At=At+Math.imul(sr,Er)|0,Ct=Ct+Math.imul(sr,br)|0,Ct=Ct+Math.imul(cr,Er)|0,Dt=Dt+Math.imul(cr,br)|0,At=At+Math.imul(Gt,_r)|0,Ct=Ct+Math.imul(Gt,Ar)|0,Ct=Ct+Math.imul(Jt,_r)|0,Dt=Dt+Math.imul(Jt,Ar)|0,At=At+Math.imul(kt,$r)|0,Ct=Ct+Math.imul(kt,Sr)|0,Ct=Ct+Math.imul(It,$r)|0,Dt=Dt+Math.imul(It,Sr)|0,At=At+Math.imul(er,kr)|0,Ct=Ct+Math.imul(er,xr)|0,Ct=Ct+Math.imul(ir,kr)|0,Dt=Dt+Math.imul(ir,xr)|0,At=At+Math.imul(nr,fr)|0,Ct=Ct+Math.imul(nr,vr)|0,Ct=Ct+Math.imul(Xt,fr)|0,Dt=Dt+Math.imul(Xt,vr)|0,At=At+Math.imul(Zt,Pr)|0,Ct=Ct+Math.imul(Zt,Ir)|0,Ct=Ct+Math.imul(Yt,Pr)|0,Dt=Dt+Math.imul(Yt,Ir)|0,At=At+Math.imul($t,Rr)|0,Ct=Ct+Math.imul($t,Dr)|0,Ct=Ct+Math.imul(Vt,Rr)|0,Dt=Dt+Math.imul(Vt,Dr)|0;var rn=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(rn>>>26)|0,rn&=67108863,At=Math.imul(mr,yr),Ct=Math.imul(mr,Cr),Ct=Ct+Math.imul(wr,yr)|0,Dt=Math.imul(wr,Cr),At=At+Math.imul(pr,gr)|0,Ct=Ct+Math.imul(pr,Tr)|0,Ct=Ct+Math.imul(hr,gr)|0,Dt=Dt+Math.imul(hr,Tr)|0,At=At+Math.imul(ur,Er)|0,Ct=Ct+Math.imul(ur,br)|0,Ct=Ct+Math.imul(lr,Er)|0,Dt=Dt+Math.imul(lr,br)|0,At=At+Math.imul(sr,_r)|0,Ct=Ct+Math.imul(sr,Ar)|0,Ct=Ct+Math.imul(cr,_r)|0,Dt=Dt+Math.imul(cr,Ar)|0,At=At+Math.imul(Gt,$r)|0,Ct=Ct+Math.imul(Gt,Sr)|0,Ct=Ct+Math.imul(Jt,$r)|0,Dt=Dt+Math.imul(Jt,Sr)|0,At=At+Math.imul(kt,kr)|0,Ct=Ct+Math.imul(kt,xr)|0,Ct=Ct+Math.imul(It,kr)|0,Dt=Dt+Math.imul(It,xr)|0,At=At+Math.imul(er,fr)|0,Ct=Ct+Math.imul(er,vr)|0,Ct=Ct+Math.imul(ir,fr)|0,Dt=Dt+Math.imul(ir,vr)|0,At=At+Math.imul(nr,Pr)|0,Ct=Ct+Math.imul(nr,Ir)|0,Ct=Ct+Math.imul(Xt,Pr)|0,Dt=Dt+Math.imul(Xt,Ir)|0,At=At+Math.imul(Zt,Rr)|0,Ct=Ct+Math.imul(Zt,Dr)|0,Ct=Ct+Math.imul(Yt,Rr)|0,Dt=Dt+Math.imul(Yt,Dr)|0,At=At+Math.imul($t,Nr)|0,Ct=Ct+Math.imul($t,Mr)|0,Ct=Ct+Math.imul(Vt,Nr)|0,Dt=Dt+Math.imul(Vt,Mr)|0;var nn=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(nn>>>26)|0,nn&=67108863,At=Math.imul(mr,gr),Ct=Math.imul(mr,Tr),Ct=Ct+Math.imul(wr,gr)|0,Dt=Math.imul(wr,Tr),At=At+Math.imul(pr,Er)|0,Ct=Ct+Math.imul(pr,br)|0,Ct=Ct+Math.imul(hr,Er)|0,Dt=Dt+Math.imul(hr,br)|0,At=At+Math.imul(ur,_r)|0,Ct=Ct+Math.imul(ur,Ar)|0,Ct=Ct+Math.imul(lr,_r)|0,Dt=Dt+Math.imul(lr,Ar)|0,At=At+Math.imul(sr,$r)|0,Ct=Ct+Math.imul(sr,Sr)|0,Ct=Ct+Math.imul(cr,$r)|0,Dt=Dt+Math.imul(cr,Sr)|0,At=At+Math.imul(Gt,kr)|0,Ct=Ct+Math.imul(Gt,xr)|0,Ct=Ct+Math.imul(Jt,kr)|0,Dt=Dt+Math.imul(Jt,xr)|0,At=At+Math.imul(kt,fr)|0,Ct=Ct+Math.imul(kt,vr)|0,Ct=Ct+Math.imul(It,fr)|0,Dt=Dt+Math.imul(It,vr)|0,At=At+Math.imul(er,Pr)|0,Ct=Ct+Math.imul(er,Ir)|0,Ct=Ct+Math.imul(ir,Pr)|0,Dt=Dt+Math.imul(ir,Ir)|0,At=At+Math.imul(nr,Rr)|0,Ct=Ct+Math.imul(nr,Dr)|0,Ct=Ct+Math.imul(Xt,Rr)|0,Dt=Dt+Math.imul(Xt,Dr)|0,At=At+Math.imul(Zt,Nr)|0,Ct=Ct+Math.imul(Zt,Mr)|0,Ct=Ct+Math.imul(Yt,Nr)|0,Dt=Dt+Math.imul(Yt,Mr)|0;var an=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(an>>>26)|0,an&=67108863,At=Math.imul(mr,Er),Ct=Math.imul(mr,br),Ct=Ct+Math.imul(wr,Er)|0,Dt=Math.imul(wr,br),At=At+Math.imul(pr,_r)|0,Ct=Ct+Math.imul(pr,Ar)|0,Ct=Ct+Math.imul(hr,_r)|0,Dt=Dt+Math.imul(hr,Ar)|0,At=At+Math.imul(ur,$r)|0,Ct=Ct+Math.imul(ur,Sr)|0,Ct=Ct+Math.imul(lr,$r)|0,Dt=Dt+Math.imul(lr,Sr)|0,At=At+Math.imul(sr,kr)|0,Ct=Ct+Math.imul(sr,xr)|0,Ct=Ct+Math.imul(cr,kr)|0,Dt=Dt+Math.imul(cr,xr)|0,At=At+Math.imul(Gt,fr)|0,Ct=Ct+Math.imul(Gt,vr)|0,Ct=Ct+Math.imul(Jt,fr)|0,Dt=Dt+Math.imul(Jt,vr)|0,At=At+Math.imul(kt,Pr)|0,Ct=Ct+Math.imul(kt,Ir)|0,Ct=Ct+Math.imul(It,Pr)|0,Dt=Dt+Math.imul(It,Ir)|0,At=At+Math.imul(er,Rr)|0,Ct=Ct+Math.imul(er,Dr)|0,Ct=Ct+Math.imul(ir,Rr)|0,Dt=Dt+Math.imul(ir,Dr)|0,At=At+Math.imul(nr,Nr)|0,Ct=Ct+Math.imul(nr,Mr)|0,Ct=Ct+Math.imul(Xt,Nr)|0,Dt=Dt+Math.imul(Xt,Mr)|0;var on=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(on>>>26)|0,on&=67108863,At=Math.imul(mr,_r),Ct=Math.imul(mr,Ar),Ct=Ct+Math.imul(wr,_r)|0,Dt=Math.imul(wr,Ar),At=At+Math.imul(pr,$r)|0,Ct=Ct+Math.imul(pr,Sr)|0,Ct=Ct+Math.imul(hr,$r)|0,Dt=Dt+Math.imul(hr,Sr)|0,At=At+Math.imul(ur,kr)|0,Ct=Ct+Math.imul(ur,xr)|0,Ct=Ct+Math.imul(lr,kr)|0,Dt=Dt+Math.imul(lr,xr)|0,At=At+Math.imul(sr,fr)|0,Ct=Ct+Math.imul(sr,vr)|0,Ct=Ct+Math.imul(cr,fr)|0,Dt=Dt+Math.imul(cr,vr)|0,At=At+Math.imul(Gt,Pr)|0,Ct=Ct+Math.imul(Gt,Ir)|0,Ct=Ct+Math.imul(Jt,Pr)|0,Dt=Dt+Math.imul(Jt,Ir)|0,At=At+Math.imul(kt,Rr)|0,Ct=Ct+Math.imul(kt,Dr)|0,Ct=Ct+Math.imul(It,Rr)|0,Dt=Dt+Math.imul(It,Dr)|0,At=At+Math.imul(er,Nr)|0,Ct=Ct+Math.imul(er,Mr)|0,Ct=Ct+Math.imul(ir,Nr)|0,Dt=Dt+Math.imul(ir,Mr)|0;var sn=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(sn>>>26)|0,sn&=67108863,At=Math.imul(mr,$r),Ct=Math.imul(mr,Sr),Ct=Ct+Math.imul(wr,$r)|0,Dt=Math.imul(wr,Sr),At=At+Math.imul(pr,kr)|0,Ct=Ct+Math.imul(pr,xr)|0,Ct=Ct+Math.imul(hr,kr)|0,Dt=Dt+Math.imul(hr,xr)|0,At=At+Math.imul(ur,fr)|0,Ct=Ct+Math.imul(ur,vr)|0,Ct=Ct+Math.imul(lr,fr)|0,Dt=Dt+Math.imul(lr,vr)|0,At=At+Math.imul(sr,Pr)|0,Ct=Ct+Math.imul(sr,Ir)|0,Ct=Ct+Math.imul(cr,Pr)|0,Dt=Dt+Math.imul(cr,Ir)|0,At=At+Math.imul(Gt,Rr)|0,Ct=Ct+Math.imul(Gt,Dr)|0,Ct=Ct+Math.imul(Jt,Rr)|0,Dt=Dt+Math.imul(Jt,Dr)|0,At=At+Math.imul(kt,Nr)|0,Ct=Ct+Math.imul(kt,Mr)|0,Ct=Ct+Math.imul(It,Nr)|0,Dt=Dt+Math.imul(It,Mr)|0;var cn=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(cn>>>26)|0,cn&=67108863,At=Math.imul(mr,kr),Ct=Math.imul(mr,xr),Ct=Ct+Math.imul(wr,kr)|0,Dt=Math.imul(wr,xr),At=At+Math.imul(pr,fr)|0,Ct=Ct+Math.imul(pr,vr)|0,Ct=Ct+Math.imul(hr,fr)|0,Dt=Dt+Math.imul(hr,vr)|0,At=At+Math.imul(ur,Pr)|0,Ct=Ct+Math.imul(ur,Ir)|0,Ct=Ct+Math.imul(lr,Pr)|0,Dt=Dt+Math.imul(lr,Ir)|0,At=At+Math.imul(sr,Rr)|0,Ct=Ct+Math.imul(sr,Dr)|0,Ct=Ct+Math.imul(cr,Rr)|0,Dt=Dt+Math.imul(cr,Dr)|0,At=At+Math.imul(Gt,Nr)|0,Ct=Ct+Math.imul(Gt,Mr)|0,Ct=Ct+Math.imul(Jt,Nr)|0,Dt=Dt+Math.imul(Jt,Mr)|0;var ln=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(ln>>>26)|0,ln&=67108863,At=Math.imul(mr,fr),Ct=Math.imul(mr,vr),Ct=Ct+Math.imul(wr,fr)|0,Dt=Math.imul(wr,vr),At=At+Math.imul(pr,Pr)|0,Ct=Ct+Math.imul(pr,Ir)|0,Ct=Ct+Math.imul(hr,Pr)|0,Dt=Dt+Math.imul(hr,Ir)|0,At=At+Math.imul(ur,Rr)|0,Ct=Ct+Math.imul(ur,Dr)|0,Ct=Ct+Math.imul(lr,Rr)|0,Dt=Dt+Math.imul(lr,Dr)|0,At=At+Math.imul(sr,Nr)|0,Ct=Ct+Math.imul(sr,Mr)|0,Ct=Ct+Math.imul(cr,Nr)|0,Dt=Dt+Math.imul(cr,Mr)|0;var un=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(un>>>26)|0,un&=67108863,At=Math.imul(mr,Pr),Ct=Math.imul(mr,Ir),Ct=Ct+Math.imul(wr,Pr)|0,Dt=Math.imul(wr,Ir),At=At+Math.imul(pr,Rr)|0,Ct=Ct+Math.imul(pr,Dr)|0,Ct=Ct+Math.imul(hr,Rr)|0,Dt=Dt+Math.imul(hr,Dr)|0,At=At+Math.imul(ur,Nr)|0,Ct=Ct+Math.imul(ur,Mr)|0,Ct=Ct+Math.imul(lr,Nr)|0,Dt=Dt+Math.imul(lr,Mr)|0;var dn=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(dn>>>26)|0,dn&=67108863,At=Math.imul(mr,Rr),Ct=Math.imul(mr,Dr),Ct=Ct+Math.imul(wr,Rr)|0,Dt=Math.imul(wr,Dr),At=At+Math.imul(pr,Nr)|0,Ct=Ct+Math.imul(pr,Mr)|0,Ct=Ct+Math.imul(hr,Nr)|0,Dt=Dt+Math.imul(hr,Mr)|0;var fn=(qt+At|0)+((Ct&8191)<<13)|0;qt=(Dt+(Ct>>>13)|0)+(fn>>>26)|0,fn&=67108863,At=Math.imul(mr,Nr),Ct=Math.imul(mr,Mr),Ct=Ct+Math.imul(wr,Nr)|0,Dt=Math.imul(wr,Mr);var pn=(qt+At|0)+((Ct&8191)<<13)|0;return qt=(Dt+(Ct>>>13)|0)+(pn>>>26)|0,pn&=67108863,Ot[0]=Vr,Ot[1]=Kr,Ot[2]=Gr,Ot[3]=Zr,Ot[4]=Qr,Ot[5]=Xr,Ot[6]=en,Ot[7]=tn,Ot[8]=rn,Ot[9]=nn,Ot[10]=an,Ot[11]=on,Ot[12]=sn,Ot[13]=cn,Ot[14]=ln,Ot[15]=un,Ot[16]=dn,Ot[17]=fn,Ot[18]=pn,qt!==0&&(Ot[19]=qt,Rt.length++),Rt};Math.imul||(vt=bt);function wt(Mt,xt,Et){Et.negative=xt.negative^Mt.negative,Et.length=Mt.length+xt.length;for(var Rt=0,Lt=0,Bt=0;Bt<Et.length-1;Bt++){var Ot=Lt;Lt=0;for(var qt=Rt&67108863,At=Math.min(Bt,xt.length-1),Ct=Math.max(0,Bt-Mt.length+1);Ct<=At;Ct++){var Dt=Bt-Ct,Wt=Mt.words[Dt]|0,$t=xt.words[Ct]|0,Vt=Wt*$t,Qt=Vt&67108863;Ot=Ot+(Vt/67108864|0)|0,Qt=Qt+qt|0,qt=Qt&67108863,Ot=Ot+(Qt>>>26)|0,Lt+=Ot>>>26,Ot&=67108863}Et.words[Bt]=qt,Rt=Ot,Ot=Lt}return Rt!==0?Et.words[Bt]=Rt:Et.length--,Et._strip()}function Tt(Mt,xt,Et){return wt(Mt,xt,Et)}ot.prototype.mulTo=function(xt,Et){var Rt,Lt=this.length+xt.length;return this.length===10&&xt.length===10?Rt=vt(this,xt,Et):Lt<63?Rt=bt(this,xt,Et):Lt<1024?Rt=wt(this,xt,Et):Rt=Tt(this,xt,Et),Rt},ot.prototype.mul=function(xt){var Et=new ot(null);return Et.words=new Array(this.length+xt.length),this.mulTo(xt,Et)},ot.prototype.mulf=function(xt){var Et=new ot(null);return Et.words=new Array(this.length+xt.length),Tt(this,xt,Et)},ot.prototype.imul=function(xt){return this.clone().mulTo(xt,this)},ot.prototype.imuln=function(xt){var Et=xt<0;Et&&(xt=-xt),at(typeof xt=="number"),at(xt<67108864);for(var Rt=0,Lt=0;Lt<this.length;Lt++){var Bt=(this.words[Lt]|0)*xt,Ot=(Bt&67108863)+(Rt&67108863);Rt>>=26,Rt+=Bt/67108864|0,Rt+=Ot>>>26,this.words[Lt]=Ot&67108863}return Rt!==0&&(this.words[Lt]=Rt,this.length++),Et?this.ineg():this},ot.prototype.muln=function(xt){return this.clone().imuln(xt)},ot.prototype.sqr=function(){return this.mul(this)},ot.prototype.isqr=function(){return this.imul(this.clone())},ot.prototype.pow=function(xt){var Et=gt(xt);if(Et.length===0)return new ot(1);for(var Rt=this,Lt=0;Lt<Et.length&&Et[Lt]===0;Lt++,Rt=Rt.sqr());if(++Lt<Et.length)for(var Bt=Rt.sqr();Lt<Et.length;Lt++,Bt=Bt.sqr())Et[Lt]!==0&&(Rt=Rt.mul(Bt));return Rt},ot.prototype.iushln=function(xt){at(typeof xt=="number"&&xt>=0);var Et=xt%26,Rt=(xt-Et)/26,Lt=67108863>>>26-Et<<26-Et,Bt;if(Et!==0){var Ot=0;for(Bt=0;Bt<this.length;Bt++){var qt=this.words[Bt]&Lt,At=(this.words[Bt]|0)-qt<<Et;this.words[Bt]=At|Ot,Ot=qt>>>26-Et}Ot&&(this.words[Bt]=Ot,this.length++)}if(Rt!==0){for(Bt=this.length-1;Bt>=0;Bt--)this.words[Bt+Rt]=this.words[Bt];for(Bt=0;Bt<Rt;Bt++)this.words[Bt]=0;this.length+=Rt}return this._strip()},ot.prototype.ishln=function(xt){return at(this.negative===0),this.iushln(xt)},ot.prototype.iushrn=function(xt,Et,Rt){at(typeof xt=="number"&&xt>=0);var Lt;Et?Lt=(Et-Et%26)/26:Lt=0;var Bt=xt%26,Ot=Math.min((xt-Bt)/26,this.length),qt=67108863^67108863>>>Bt<<Bt,At=Rt;if(Lt-=Ot,Lt=Math.max(0,Lt),At){for(var Ct=0;Ct<Ot;Ct++)At.words[Ct]=this.words[Ct];At.length=Ot}if(Ot!==0)if(this.length>Ot)for(this.length-=Ot,Ct=0;Ct<this.length;Ct++)this.words[Ct]=this.words[Ct+Ot];else this.words[0]=0,this.length=1;var Dt=0;for(Ct=this.length-1;Ct>=0&&(Dt!==0||Ct>=Lt);Ct--){var Wt=this.words[Ct]|0;this.words[Ct]=Dt<<26-Bt|Wt>>>Bt,Dt=Wt&qt}return At&&Dt!==0&&(At.words[At.length++]=Dt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ot.prototype.ishrn=function(xt,Et,Rt){return at(this.negative===0),this.iushrn(xt,Et,Rt)},ot.prototype.shln=function(xt){return this.clone().ishln(xt)},ot.prototype.ushln=function(xt){return this.clone().iushln(xt)},ot.prototype.shrn=function(xt){return this.clone().ishrn(xt)},ot.prototype.ushrn=function(xt){return this.clone().iushrn(xt)},ot.prototype.testn=function(xt){at(typeof xt=="number"&&xt>=0);var Et=xt%26,Rt=(xt-Et)/26,Lt=1<<Et;if(this.length<=Rt)return!1;var Bt=this.words[Rt];return!!(Bt&Lt)},ot.prototype.imaskn=function(xt){at(typeof xt=="number"&&xt>=0);var Et=xt%26,Rt=(xt-Et)/26;if(at(this.negative===0,"imaskn works only with positive numbers"),this.length<=Rt)return this;if(Et!==0&&Rt++,this.length=Math.min(Rt,this.length),Et!==0){var Lt=67108863^67108863>>>Et<<Et;this.words[this.length-1]&=Lt}return this._strip()},ot.prototype.maskn=function(xt){return this.clone().imaskn(xt)},ot.prototype.iaddn=function(xt){return at(typeof xt=="number"),at(xt<67108864),xt<0?this.isubn(-xt):this.negative!==0?this.length===1&&(this.words[0]|0)<=xt?(this.words[0]=xt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(xt),this.negative=1,this):this._iaddn(xt)},ot.prototype._iaddn=function(xt){this.words[0]+=xt;for(var Et=0;Et<this.length&&this.words[Et]>=67108864;Et++)this.words[Et]-=67108864,Et===this.length-1?this.words[Et+1]=1:this.words[Et+1]++;return this.length=Math.max(this.length,Et+1),this},ot.prototype.isubn=function(xt){if(at(typeof xt=="number"),at(xt<67108864),xt<0)return this.iaddn(-xt);if(this.negative!==0)return this.negative=0,this.iaddn(xt),this.negative=1,this;if(this.words[0]-=xt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Et=0;Et<this.length&&this.words[Et]<0;Et++)this.words[Et]+=67108864,this.words[Et+1]-=1;return this._strip()},ot.prototype.addn=function(xt){return this.clone().iaddn(xt)},ot.prototype.subn=function(xt){return this.clone().isubn(xt)},ot.prototype.iabs=function(){return this.negative=0,this},ot.prototype.abs=function(){return this.clone().iabs()},ot.prototype._ishlnsubmul=function(xt,Et,Rt){var Lt=xt.length+Rt,Bt;this._expand(Lt);var Ot,qt=0;for(Bt=0;Bt<xt.length;Bt++){Ot=(this.words[Bt+Rt]|0)+qt;var At=(xt.words[Bt]|0)*Et;Ot-=At&67108863,qt=(Ot>>26)-(At/67108864|0),this.words[Bt+Rt]=Ot&67108863}for(;Bt<this.length-Rt;Bt++)Ot=(this.words[Bt+Rt]|0)+qt,qt=Ot>>26,this.words[Bt+Rt]=Ot&67108863;if(qt===0)return this._strip();for(at(qt===-1),qt=0,Bt=0;Bt<this.length;Bt++)Ot=-(this.words[Bt]|0)+qt,qt=Ot>>26,this.words[Bt]=Ot&67108863;return this.negative=1,this._strip()},ot.prototype._wordDiv=function(xt,Et){var Rt=this.length-xt.length,Lt=this.clone(),Bt=xt,Ot=Bt.words[Bt.length-1]|0,qt=this._countBits(Ot);Rt=26-qt,Rt!==0&&(Bt=Bt.ushln(Rt),Lt.iushln(Rt),Ot=Bt.words[Bt.length-1]|0);var At=Lt.length-Bt.length,Ct;if(Et!=="mod"){Ct=new ot(null),Ct.length=At+1,Ct.words=new Array(Ct.length);for(var Dt=0;Dt<Ct.length;Dt++)Ct.words[Dt]=0}var Wt=Lt.clone()._ishlnsubmul(Bt,1,At);Wt.negative===0&&(Lt=Wt,Ct&&(Ct.words[At]=1));for(var $t=At-1;$t>=0;$t--){var Vt=(Lt.words[Bt.length+$t]|0)*67108864+(Lt.words[Bt.length+$t-1]|0);for(Vt=Math.min(Vt/Ot|0,67108863),Lt._ishlnsubmul(Bt,Vt,$t);Lt.negative!==0;)Vt--,Lt.negative=0,Lt._ishlnsubmul(Bt,1,$t),Lt.isZero()||(Lt.negative^=1);Ct&&(Ct.words[$t]=Vt)}return Ct&&Ct._strip(),Lt._strip(),Et!=="div"&&Rt!==0&&Lt.iushrn(Rt),{div:Ct||null,mod:Lt}},ot.prototype.divmod=function(xt,Et,Rt){if(at(!xt.isZero()),this.isZero())return{div:new ot(0),mod:new ot(0)};var Lt,Bt,Ot;return this.negative!==0&&xt.negative===0?(Ot=this.neg().divmod(xt,Et),Et!=="mod"&&(Lt=Ot.div.neg()),Et!=="div"&&(Bt=Ot.mod.neg(),Rt&&Bt.negative!==0&&Bt.iadd(xt)),{div:Lt,mod:Bt}):this.negative===0&&xt.negative!==0?(Ot=this.divmod(xt.neg(),Et),Et!=="mod"&&(Lt=Ot.div.neg()),{div:Lt,mod:Ot.mod}):(this.negative&xt.negative)!==0?(Ot=this.neg().divmod(xt.neg(),Et),Et!=="div"&&(Bt=Ot.mod.neg(),Rt&&Bt.negative!==0&&Bt.isub(xt)),{div:Ot.div,mod:Bt}):xt.length>this.length||this.cmp(xt)<0?{div:new ot(0),mod:this}:xt.length===1?Et==="div"?{div:this.divn(xt.words[0]),mod:null}:Et==="mod"?{div:null,mod:new ot(this.modrn(xt.words[0]))}:{div:this.divn(xt.words[0]),mod:new ot(this.modrn(xt.words[0]))}:this._wordDiv(xt,Et)},ot.prototype.div=function(xt){return this.divmod(xt,"div",!1).div},ot.prototype.mod=function(xt){return this.divmod(xt,"mod",!1).mod},ot.prototype.umod=function(xt){return this.divmod(xt,"mod",!0).mod},ot.prototype.divRound=function(xt){var Et=this.divmod(xt);if(Et.mod.isZero())return Et.div;var Rt=Et.div.negative!==0?Et.mod.isub(xt):Et.mod,Lt=xt.ushrn(1),Bt=xt.andln(1),Ot=Rt.cmp(Lt);return Ot<0||Bt===1&&Ot===0?Et.div:Et.div.negative!==0?Et.div.isubn(1):Et.div.iaddn(1)},ot.prototype.modrn=function(xt){var Et=xt<0;Et&&(xt=-xt),at(xt<=67108863);for(var Rt=(1<<26)%xt,Lt=0,Bt=this.length-1;Bt>=0;Bt--)Lt=(Rt*Lt+(this.words[Bt]|0))%xt;return Et?-Lt:Lt},ot.prototype.modn=function(xt){return this.modrn(xt)},ot.prototype.idivn=function(xt){var Et=xt<0;Et&&(xt=-xt),at(xt<=67108863);for(var Rt=0,Lt=this.length-1;Lt>=0;Lt--){var Bt=(this.words[Lt]|0)+Rt*67108864;this.words[Lt]=Bt/xt|0,Rt=Bt%xt}return this._strip(),Et?this.ineg():this},ot.prototype.divn=function(xt){return this.clone().idivn(xt)},ot.prototype.egcd=function(xt){at(xt.negative===0),at(!xt.isZero());var Et=this,Rt=xt.clone();Et.negative!==0?Et=Et.umod(xt):Et=Et.clone();for(var Lt=new ot(1),Bt=new ot(0),Ot=new ot(0),qt=new ot(1),At=0;Et.isEven()&&Rt.isEven();)Et.iushrn(1),Rt.iushrn(1),++At;for(var Ct=Rt.clone(),Dt=Et.clone();!Et.isZero();){for(var Wt=0,$t=1;(Et.words[0]&$t)===0&&Wt<26;++Wt,$t<<=1);if(Wt>0)for(Et.iushrn(Wt);Wt-- >0;)(Lt.isOdd()||Bt.isOdd())&&(Lt.iadd(Ct),Bt.isub(Dt)),Lt.iushrn(1),Bt.iushrn(1);for(var Vt=0,Qt=1;(Rt.words[0]&Qt)===0&&Vt<26;++Vt,Qt<<=1);if(Vt>0)for(Rt.iushrn(Vt);Vt-- >0;)(Ot.isOdd()||qt.isOdd())&&(Ot.iadd(Ct),qt.isub(Dt)),Ot.iushrn(1),qt.iushrn(1);Et.cmp(Rt)>=0?(Et.isub(Rt),Lt.isub(Ot),Bt.isub(qt)):(Rt.isub(Et),Ot.isub(Lt),qt.isub(Bt))}return{a:Ot,b:qt,gcd:Rt.iushln(At)}},ot.prototype._invmp=function(xt){at(xt.negative===0),at(!xt.isZero());var Et=this,Rt=xt.clone();Et.negative!==0?Et=Et.umod(xt):Et=Et.clone();for(var Lt=new ot(1),Bt=new ot(0),Ot=Rt.clone();Et.cmpn(1)>0&&Rt.cmpn(1)>0;){for(var qt=0,At=1;(Et.words[0]&At)===0&&qt<26;++qt,At<<=1);if(qt>0)for(Et.iushrn(qt);qt-- >0;)Lt.isOdd()&&Lt.iadd(Ot),Lt.iushrn(1);for(var Ct=0,Dt=1;(Rt.words[0]&Dt)===0&&Ct<26;++Ct,Dt<<=1);if(Ct>0)for(Rt.iushrn(Ct);Ct-- >0;)Bt.isOdd()&&Bt.iadd(Ot),Bt.iushrn(1);Et.cmp(Rt)>=0?(Et.isub(Rt),Lt.isub(Bt)):(Rt.isub(Et),Bt.isub(Lt))}var Wt;return Et.cmpn(1)===0?Wt=Lt:Wt=Bt,Wt.cmpn(0)<0&&Wt.iadd(xt),Wt},ot.prototype.gcd=function(xt){if(this.isZero())return xt.abs();if(xt.isZero())return this.abs();var Et=this.clone(),Rt=xt.clone();Et.negative=0,Rt.negative=0;for(var Lt=0;Et.isEven()&&Rt.isEven();Lt++)Et.iushrn(1),Rt.iushrn(1);do{for(;Et.isEven();)Et.iushrn(1);for(;Rt.isEven();)Rt.iushrn(1);var Bt=Et.cmp(Rt);if(Bt<0){var Ot=Et;Et=Rt,Rt=Ot}else if(Bt===0||Rt.cmpn(1)===0)break;Et.isub(Rt)}while(!0);return Rt.iushln(Lt)},ot.prototype.invm=function(xt){return this.egcd(xt).a.umod(xt)},ot.prototype.isEven=function(){return(this.words[0]&1)===0},ot.prototype.isOdd=function(){return(this.words[0]&1)===1},ot.prototype.andln=function(xt){return this.words[0]&xt},ot.prototype.bincn=function(xt){at(typeof xt=="number");var Et=xt%26,Rt=(xt-Et)/26,Lt=1<<Et;if(this.length<=Rt)return this._expand(Rt+1),this.words[Rt]|=Lt,this;for(var Bt=Lt,Ot=Rt;Bt!==0&&Ot<this.length;Ot++){var qt=this.words[Ot]|0;qt+=Bt,Bt=qt>>>26,qt&=67108863,this.words[Ot]=qt}return Bt!==0&&(this.words[Ot]=Bt,this.length++),this},ot.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ot.prototype.cmpn=function(xt){var Et=xt<0;if(this.negative!==0&&!Et)return-1;if(this.negative===0&&Et)return 1;this._strip();var Rt;if(this.length>1)Rt=1;else{Et&&(xt=-xt),at(xt<=67108863,"Number is too big");var Lt=this.words[0]|0;Rt=Lt===xt?0:Lt<xt?-1:1}return this.negative!==0?-Rt|0:Rt},ot.prototype.cmp=function(xt){if(this.negative!==0&&xt.negative===0)return-1;if(this.negative===0&&xt.negative!==0)return 1;var Et=this.ucmp(xt);return this.negative!==0?-Et|0:Et},ot.prototype.ucmp=function(xt){if(this.length>xt.length)return 1;if(this.length<xt.length)return-1;for(var Et=0,Rt=this.length-1;Rt>=0;Rt--){var Lt=this.words[Rt]|0,Bt=xt.words[Rt]|0;if(Lt!==Bt){Lt<Bt?Et=-1:Lt>Bt&&(Et=1);break}}return Et},ot.prototype.gtn=function(xt){return this.cmpn(xt)===1},ot.prototype.gt=function(xt){return this.cmp(xt)===1},ot.prototype.gten=function(xt){return this.cmpn(xt)>=0},ot.prototype.gte=function(xt){return this.cmp(xt)>=0},ot.prototype.ltn=function(xt){return this.cmpn(xt)===-1},ot.prototype.lt=function(xt){return this.cmp(xt)===-1},ot.prototype.lten=function(xt){return this.cmpn(xt)<=0},ot.prototype.lte=function(xt){return this.cmp(xt)<=0},ot.prototype.eqn=function(xt){return this.cmpn(xt)===0},ot.prototype.eq=function(xt){return this.cmp(xt)===0},ot.red=function(xt){return new Ft(xt)},ot.prototype.toRed=function(xt){return at(!this.red,"Already a number in reduction context"),at(this.negative===0,"red works only with positives"),xt.convertTo(this)._forceRed(xt)},ot.prototype.fromRed=function(){return at(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ot.prototype._forceRed=function(xt){return this.red=xt,this},ot.prototype.forceRed=function(xt){return at(!this.red,"Already a number in reduction context"),this._forceRed(xt)},ot.prototype.redAdd=function(xt){return at(this.red,"redAdd works only with red numbers"),this.red.add(this,xt)},ot.prototype.redIAdd=function(xt){return at(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,xt)},ot.prototype.redSub=function(xt){return at(this.red,"redSub works only with red numbers"),this.red.sub(this,xt)},ot.prototype.redISub=function(xt){return at(this.red,"redISub works only with red numbers"),this.red.isub(this,xt)},ot.prototype.redShl=function(xt){return at(this.red,"redShl works only with red numbers"),this.red.shl(this,xt)},ot.prototype.redMul=function(xt){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,xt),this.red.mul(this,xt)},ot.prototype.redIMul=function(xt){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,xt),this.red.imul(this,xt)},ot.prototype.redSqr=function(){return at(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ot.prototype.redISqr=function(){return at(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ot.prototype.redSqrt=function(){return at(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ot.prototype.redInvm=function(){return at(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ot.prototype.redNeg=function(){return at(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ot.prototype.redPow=function(xt){return at(this.red&&!xt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,xt)};var _t={k256:null,p224:null,p192:null,p25519:null};function St(Mt,xt){this.name=Mt,this.p=new ot(xt,16),this.n=this.p.bitLength(),this.k=new ot(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}St.prototype._tmp=function(){var xt=new ot(null);return xt.words=new Array(Math.ceil(this.n/13)),xt},St.prototype.ireduce=function(xt){var Et=xt,Rt;do this.split(Et,this.tmp),Et=this.imulK(Et),Et=Et.iadd(this.tmp),Rt=Et.bitLength();while(Rt>this.n);var Lt=Rt<this.n?-1:Et.ucmp(this.p);return Lt===0?(Et.words[0]=0,Et.length=1):Lt>0?Et.isub(this.p):Et.strip!==void 0?Et.strip():Et._strip(),Et},St.prototype.split=function(xt,Et){xt.iushrn(this.n,0,Et)},St.prototype.imulK=function(xt){return xt.imul(this.k)};function Pt(){St.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}it(Pt,St),Pt.prototype.split=function(xt,Et){for(var Rt=4194303,Lt=Math.min(xt.length,9),Bt=0;Bt<Lt;Bt++)Et.words[Bt]=xt.words[Bt];if(Et.length=Lt,xt.length<=9){xt.words[0]=0,xt.length=1;return}var Ot=xt.words[9];for(Et.words[Et.length++]=Ot&Rt,Bt=10;Bt<xt.length;Bt++){var qt=xt.words[Bt]|0;xt.words[Bt-10]=(qt&Rt)<<4|Ot>>>22,Ot=qt}Ot>>>=22,xt.words[Bt-10]=Ot,Ot===0&&xt.length>10?xt.length-=10:xt.length-=9},Pt.prototype.imulK=function(xt){xt.words[xt.length]=0,xt.words[xt.length+1]=0,xt.length+=2;for(var Et=0,Rt=0;Rt<xt.length;Rt++){var Lt=xt.words[Rt]|0;Et+=Lt*977,xt.words[Rt]=Et&67108863,Et=Lt*64+(Et/67108864|0)}return xt.words[xt.length-1]===0&&(xt.length--,xt.words[xt.length-1]===0&&xt.length--),xt};function Nt(){St.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}it(Nt,St);function jt(){St.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}it(jt,St);function Ut(){St.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}it(Ut,St),Ut.prototype.imulK=function(xt){for(var Et=0,Rt=0;Rt<xt.length;Rt++){var Lt=(xt.words[Rt]|0)*19+Et,Bt=Lt&67108863;Lt>>>=26,xt.words[Rt]=Bt,Et=Lt}return Et!==0&&(xt.words[xt.length++]=Et),xt},ot._prime=function(xt){if(_t[xt])return _t[xt];var Et;if(xt==="k256")Et=new Pt;else if(xt==="p224")Et=new Nt;else if(xt==="p192")Et=new jt;else if(xt==="p25519")Et=new Ut;else throw new Error("Unknown prime "+xt);return _t[xt]=Et,Et};function Ft(Mt){if(typeof Mt=="string"){var xt=ot._prime(Mt);this.m=xt.p,this.prime=xt}else at(Mt.gtn(1),"modulus must be greater than 1"),this.m=Mt,this.prime=null}Ft.prototype._verify1=function(xt){at(xt.negative===0,"red works only with positives"),at(xt.red,"red works only with red numbers")},Ft.prototype._verify2=function(xt,Et){at((xt.negative|Et.negative)===0,"red works only with positives"),at(xt.red&&xt.red===Et.red,"red works only with red numbers")},Ft.prototype.imod=function(xt){return this.prime?this.prime.ireduce(xt)._forceRed(this):(dt(xt,xt.umod(this.m)._forceRed(this)),xt)},Ft.prototype.neg=function(xt){return xt.isZero()?xt.clone():this.m.sub(xt)._forceRed(this)},Ft.prototype.add=function(xt,Et){this._verify2(xt,Et);var Rt=xt.add(Et);return Rt.cmp(this.m)>=0&&Rt.isub(this.m),Rt._forceRed(this)},Ft.prototype.iadd=function(xt,Et){this._verify2(xt,Et);var Rt=xt.iadd(Et);return Rt.cmp(this.m)>=0&&Rt.isub(this.m),Rt},Ft.prototype.sub=function(xt,Et){this._verify2(xt,Et);var Rt=xt.sub(Et);return Rt.cmpn(0)<0&&Rt.iadd(this.m),Rt._forceRed(this)},Ft.prototype.isub=function(xt,Et){this._verify2(xt,Et);var Rt=xt.isub(Et);return Rt.cmpn(0)<0&&Rt.iadd(this.m),Rt},Ft.prototype.shl=function(xt,Et){return this._verify1(xt),this.imod(xt.ushln(Et))},Ft.prototype.imul=function(xt,Et){return this._verify2(xt,Et),this.imod(xt.imul(Et))},Ft.prototype.mul=function(xt,Et){return this._verify2(xt,Et),this.imod(xt.mul(Et))},Ft.prototype.isqr=function(xt){return this.imul(xt,xt.clone())},Ft.prototype.sqr=function(xt){return this.mul(xt,xt)},Ft.prototype.sqrt=function(xt){if(xt.isZero())return xt.clone();var Et=this.m.andln(3);if(at(Et%2===1),Et===3){var Rt=this.m.add(new ot(1)).iushrn(2);return this.pow(xt,Rt)}for(var Lt=this.m.subn(1),Bt=0;!Lt.isZero()&&Lt.andln(1)===0;)Bt++,Lt.iushrn(1);at(!Lt.isZero());var Ot=new ot(1).toRed(this),qt=Ot.redNeg(),At=this.m.subn(1).iushrn(1),Ct=this.m.bitLength();for(Ct=new ot(2*Ct*Ct).toRed(this);this.pow(Ct,At).cmp(qt)!==0;)Ct.redIAdd(qt);for(var Dt=this.pow(Ct,Lt),Wt=this.pow(xt,Lt.addn(1).iushrn(1)),$t=this.pow(xt,Lt),Vt=Bt;$t.cmp(Ot)!==0;){for(var Qt=$t,Zt=0;Qt.cmp(Ot)!==0;Zt++)Qt=Qt.redSqr();at(Zt<Vt);var Yt=this.pow(Dt,new ot(1).iushln(Vt-Zt-1));Wt=Wt.redMul(Yt),Dt=Yt.redSqr(),$t=$t.redMul(Dt),Vt=Zt}return Wt},Ft.prototype.invm=function(xt){var Et=xt._invmp(this.m);return Et.negative!==0?(Et.negative=0,this.imod(Et).redNeg()):this.imod(Et)},Ft.prototype.pow=function(xt,Et){if(Et.isZero())return new ot(1).toRed(this);if(Et.cmpn(1)===0)return xt.clone();var Rt=4,Lt=new Array(1<<Rt);Lt[0]=new ot(1).toRed(this),Lt[1]=xt;for(var Bt=2;Bt<Lt.length;Bt++)Lt[Bt]=this.mul(Lt[Bt-1],xt);var Ot=Lt[0],qt=0,At=0,Ct=Et.bitLength()%26;for(Ct===0&&(Ct=26),Bt=Et.length-1;Bt>=0;Bt--){for(var Dt=Et.words[Bt],Wt=Ct-1;Wt>=0;Wt--){var $t=Dt>>Wt&1;if(Ot!==Lt[0]&&(Ot=this.sqr(Ot)),$t===0&&qt===0){At=0;continue}qt<<=1,qt|=$t,At++,!(At!==Rt&&(Bt!==0||Wt!==0))&&(Ot=this.mul(Ot,Lt[qt]),At=0,qt=0)}Ct=26}return Ot},Ft.prototype.convertTo=function(xt){var Et=xt.umod(this.m);return Et===xt?Et.clone():Et},Ft.prototype.convertFrom=function(xt){var Et=xt.clone();return Et.red=null,Et},ot.mont=function(xt){return new Kt(xt)};function Kt(Mt){Ft.call(this,Mt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ot(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}it(Kt,Ft),Kt.prototype.convertTo=function(xt){return this.imod(xt.ushln(this.shift))},Kt.prototype.convertFrom=function(xt){var Et=this.imod(xt.mul(this.rinv));return Et.red=null,Et},Kt.prototype.imul=function(xt,Et){if(xt.isZero()||Et.isZero())return xt.words[0]=0,xt.length=1,xt;var Rt=xt.imul(Et),Lt=Rt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Bt=Rt.isub(Lt).iushrn(this.shift),Ot=Bt;return Bt.cmp(this.m)>=0?Ot=Bt.isub(this.m):Bt.cmpn(0)<0&&(Ot=Bt.iadd(this.m)),Ot._forceRed(this)},Kt.prototype.mul=function(xt,Et){if(xt.isZero()||Et.isZero())return new ot(0)._forceRed(this);var Rt=xt.mul(Et),Lt=Rt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Bt=Rt.isub(Lt).iushrn(this.shift),Ot=Bt;return Bt.cmp(this.m)>=0?Ot=Bt.isub(this.m):Bt.cmpn(0)<0&&(Ot=Bt.iadd(this.m)),Ot._forceRed(this)},Kt.prototype.invm=function(xt){var Et=this.imod(xt._invmp(this.m).mul(this.r2));return Et._forceRed(this)}})(o,commonjsGlobal)})(bn);const BN$1=bn.exports,version$p="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const o=[];if(["NFD","NFC","NFKD","NFKC"].forEach(a=>{try{if("test".normalize(a)!=="test")throw new Error("bad normalize")}catch{o.push(a)}}),o.length)throw new Error("missing "+o.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(o){return o.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(o){o.DEBUG="DEBUG",o.INFO="INFO",o.WARNING="WARNING",o.ERROR="ERROR",o.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(o){o.UNKNOWN_ERROR="UNKNOWN_ERROR",o.NOT_IMPLEMENTED="NOT_IMPLEMENTED",o.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",o.NETWORK_ERROR="NETWORK_ERROR",o.SERVER_ERROR="SERVER_ERROR",o.TIMEOUT="TIMEOUT",o.BUFFER_OVERRUN="BUFFER_OVERRUN",o.NUMERIC_FAULT="NUMERIC_FAULT",o.MISSING_NEW="MISSING_NEW",o.INVALID_ARGUMENT="INVALID_ARGUMENT",o.MISSING_ARGUMENT="MISSING_ARGUMENT",o.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",o.CALL_EXCEPTION="CALL_EXCEPTION",o.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",o.NONCE_EXPIRED="NONCE_EXPIRED",o.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",o.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",o.TRANSACTION_REPLACED="TRANSACTION_REPLACED",o.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(a){Object.defineProperty(this,"version",{enumerable:!0,value:a,writable:!1})}_log(a,rt){const at=a.toLowerCase();LogLevels[at]==null&&this.throwArgumentError("invalid log level name","logLevel",a),!(_logLevel>LogLevels[at])&&console.log.apply(console,rt)}debug(...a){this._log(Logger.levels.DEBUG,a)}info(...a){this._log(Logger.levels.INFO,a)}warn(...a){this._log(Logger.levels.WARNING,a)}makeError(a,rt,at){if(_censorErrors)return this.makeError("censored error",rt,{});rt||(rt=Logger.errors.UNKNOWN_ERROR),at||(at={});const it=[];Object.keys(at).forEach(lt=>{const ut=at[lt];try{if(ut instanceof Uint8Array){let dt="";for(let ft=0;ft<ut.length;ft++)dt+=HEX[ut[ft]>>4],dt+=HEX[ut[ft]&15];it.push(lt+"=Uint8Array(0x"+dt+")")}else it.push(lt+"="+JSON.stringify(ut))}catch{it.push(lt+"="+JSON.stringify(at[lt].toString()))}}),it.push(`code=${rt}`),it.push(`version=${this.version}`);const ot=a;let st="";switch(rt){case ErrorCode.NUMERIC_FAULT:{st="NUMERIC_FAULT";const lt=a;switch(lt){case"overflow":case"underflow":case"division-by-zero":st+="-"+lt;break;case"negative-power":case"negative-width":st+="-unsupported";break;case"unbound-bitwise-result":st+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:st=rt;break}st&&(a+=" [ See: https://links.ethers.org/v5-errors-"+st+" ]"),it.length&&(a+=" ("+it.join(", ")+")");const ct=new Error(a);return ct.reason=ot,ct.code=rt,Object.keys(at).forEach(function(lt){ct[lt]=at[lt]}),ct}throwError(a,rt,at){throw this.makeError(a,rt,at)}throwArgumentError(a,rt,at){return this.throwError(a,Logger.errors.INVALID_ARGUMENT,{argument:rt,value:at})}assert(a,rt,at,it){a||this.throwError(rt,at,it)}assertArgument(a,rt,at,it){a||this.throwArgumentError(rt,at,it)}checkNormalize(a){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(a,rt){typeof a=="number"&&(rt==null&&(rt="value not safe"),(a<0||a>=9007199254740991)&&this.throwError(rt,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:a}),a%1&&this.throwError(rt,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:a}))}checkArgumentCount(a,rt,at){at?at=": "+at:at="",a<rt&&this.throwError("missing argument"+at,Logger.errors.MISSING_ARGUMENT,{count:a,expectedCount:rt}),a>rt&&this.throwError("too many arguments"+at,Logger.errors.UNEXPECTED_ARGUMENT,{count:a,expectedCount:rt})}checkNew(a,rt){(a===Object||a==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:rt.name})}checkAbstract(a,rt){a===rt?this.throwError("cannot instantiate abstract class "+JSON.stringify(rt.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:a.name,operation:"new"}):(a===Object||a==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:rt.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$p)),_globalLogger}static setCensorship(a,rt){if(!a&&rt&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!a)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!a,_permanentCensorErrors=!!rt}static setLogLevel(a){const rt=LogLevels[a.toLowerCase()];if(rt==null){Logger.globalLogger().warn("invalid log level - "+a);return}_logLevel=rt}static from(a){return new Logger(a)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return LogLevel},get ErrorCode(){return ErrorCode},Logger},Symbol.toStringTag,{value:"Module"})),version$o="bytes/5.7.0",logger$I=new Logger(version$o);function isHexable(o){return!!o.toHexString}function addSlice(o){return o.slice||(o.slice=function(){const a=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(o,a)))}),o}function isBytesLike(o){return isHexString(o)&&!(o.length%2)||isBytes(o)}function isInteger(o){return typeof o=="number"&&o==o&&o%1===0}function isBytes(o){if(o==null)return!1;if(o.constructor===Uint8Array)return!0;if(typeof o=="string"||!isInteger(o.length)||o.length<0)return!1;for(let a=0;a<o.length;a++){const rt=o[a];if(!isInteger(rt)||rt<0||rt>=256)return!1}return!0}function arrayify(o,a){if(a||(a={}),typeof o=="number"){logger$I.checkSafeUint53(o,"invalid arrayify value");const rt=[];for(;o;)rt.unshift(o&255),o=parseInt(String(o/256));return rt.length===0&&rt.push(0),addSlice(new Uint8Array(rt))}if(a.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),isHexable(o)&&(o=o.toHexString()),isHexString(o)){let rt=o.substring(2);rt.length%2&&(a.hexPad==="left"?rt="0"+rt:a.hexPad==="right"?rt+="0":logger$I.throwArgumentError("hex data is odd-length","value",o));const at=[];for(let it=0;it<rt.length;it+=2)at.push(parseInt(rt.substring(it,it+2),16));return addSlice(new Uint8Array(at))}return isBytes(o)?addSlice(new Uint8Array(o)):logger$I.throwArgumentError("invalid arrayify value","value",o)}function concat(o){const a=o.map(it=>arrayify(it)),rt=a.reduce((it,ot)=>it+ot.length,0),at=new Uint8Array(rt);return a.reduce((it,ot)=>(at.set(ot,it),it+ot.length),0),addSlice(at)}function stripZeros(o){let a=arrayify(o);if(a.length===0)return a;let rt=0;for(;rt<a.length&&a[rt]===0;)rt++;return rt&&(a=a.slice(rt)),a}function zeroPad(o,a){o=arrayify(o),o.length>a&&logger$I.throwArgumentError("value out of range","value",arguments[0]);const rt=new Uint8Array(a);return rt.set(o,a-o.length),addSlice(rt)}function isHexString(o,a){return!(typeof o!="string"||!o.match(/^0x[0-9A-Fa-f]*$/)||a&&o.length!==2+2*a)}const HexCharacters="0123456789abcdef";function hexlify(o,a){if(a||(a={}),typeof o=="number"){logger$I.checkSafeUint53(o,"invalid hexlify value");let rt="";for(;o;)rt=HexCharacters[o&15]+rt,o=Math.floor(o/16);return rt.length?(rt.length%2&&(rt="0"+rt),"0x"+rt):"0x00"}if(typeof o=="bigint")return o=o.toString(16),o.length%2?"0x0"+o:"0x"+o;if(a.allowMissingPrefix&&typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),isHexable(o))return o.toHexString();if(isHexString(o))return o.length%2&&(a.hexPad==="left"?o="0x0"+o.substring(2):a.hexPad==="right"?o+="0":logger$I.throwArgumentError("hex data is odd-length","value",o)),o.toLowerCase();if(isBytes(o)){let rt="0x";for(let at=0;at<o.length;at++){let it=o[at];rt+=HexCharacters[(it&240)>>4]+HexCharacters[it&15]}return rt}return logger$I.throwArgumentError("invalid hexlify value","value",o)}function hexDataLength(o){if(typeof o!="string")o=hexlify(o);else if(!isHexString(o)||o.length%2)return null;return(o.length-2)/2}function hexDataSlice(o,a,rt){return typeof o!="string"?o=hexlify(o):(!isHexString(o)||o.length%2)&&logger$I.throwArgumentError("invalid hexData","value",o),a=2+2*a,rt!=null?"0x"+o.substring(a,2+2*rt):"0x"+o.substring(a)}function hexConcat(o){let a="0x";return o.forEach(rt=>{a+=hexlify(rt).substring(2)}),a}function hexValue(o){const a=hexStripZeros(hexlify(o,{hexPad:"left"}));return a==="0x"?"0x0":a}function hexStripZeros(o){typeof o!="string"&&(o=hexlify(o)),isHexString(o)||logger$I.throwArgumentError("invalid hex string","value",o),o=o.substring(2);let a=0;for(;a<o.length&&o[a]==="0";)a++;return"0x"+o.substring(a)}function hexZeroPad(o,a){for(typeof o!="string"?o=hexlify(o):isHexString(o)||logger$I.throwArgumentError("invalid hex string","value",o),o.length>2*a+2&&logger$I.throwArgumentError("value out of range","value",arguments[1]);o.length<2*a+2;)o="0x0"+o.substring(2);return o}function splitSignature(o){const a={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(o)){let rt=arrayify(o);rt.length===64?(a.v=27+(rt[32]>>7),rt[32]&=127,a.r=hexlify(rt.slice(0,32)),a.s=hexlify(rt.slice(32,64))):rt.length===65?(a.r=hexlify(rt.slice(0,32)),a.s=hexlify(rt.slice(32,64)),a.v=rt[64]):logger$I.throwArgumentError("invalid signature string","signature",o),a.v<27&&(a.v===0||a.v===1?a.v+=27:logger$I.throwArgumentError("signature invalid v byte","signature",o)),a.recoveryParam=1-a.v%2,a.recoveryParam&&(rt[32]|=128),a._vs=hexlify(rt.slice(32,64))}else{if(a.r=o.r,a.s=o.s,a.v=o.v,a.recoveryParam=o.recoveryParam,a._vs=o._vs,a._vs!=null){const it=zeroPad(arrayify(a._vs),32);a._vs=hexlify(it);const ot=it[0]>=128?1:0;a.recoveryParam==null?a.recoveryParam=ot:a.recoveryParam!==ot&&logger$I.throwArgumentError("signature recoveryParam mismatch _vs","signature",o),it[0]&=127;const st=hexlify(it);a.s==null?a.s=st:a.s!==st&&logger$I.throwArgumentError("signature v mismatch _vs","signature",o)}if(a.recoveryParam==null)a.v==null?logger$I.throwArgumentError("signature missing v and recoveryParam","signature",o):a.v===0||a.v===1?a.recoveryParam=a.v:a.recoveryParam=1-a.v%2;else if(a.v==null)a.v=27+a.recoveryParam;else{const it=a.v===0||a.v===1?a.v:1-a.v%2;a.recoveryParam!==it&&logger$I.throwArgumentError("signature recoveryParam mismatch v","signature",o)}a.r==null||!isHexString(a.r)?logger$I.throwArgumentError("signature missing or invalid r","signature",o):a.r=hexZeroPad(a.r,32),a.s==null||!isHexString(a.s)?logger$I.throwArgumentError("signature missing or invalid s","signature",o):a.s=hexZeroPad(a.s,32);const rt=arrayify(a.s);rt[0]>=128&&logger$I.throwArgumentError("signature s out of range","signature",o),a.recoveryParam&&(rt[0]|=128);const at=hexlify(rt);a._vs&&(isHexString(a._vs)||logger$I.throwArgumentError("signature invalid _vs","signature",o),a._vs=hexZeroPad(a._vs,32)),a._vs==null?a._vs=at:a._vs!==at&&logger$I.throwArgumentError("signature _vs mismatch v and s","signature",o)}return a.yParityAndS=a._vs,a.compact=a.r+a.yParityAndS.substring(2),a}function joinSignature(o){return o=splitSignature(o),hexlify(concat([o.r,o.s,o.recoveryParam?"0x1c":"0x1b"]))}const lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike,isBytes,arrayify,concat,stripZeros,zeroPad,isHexString,hexlify,hexDataLength,hexDataSlice,hexConcat,hexValue,hexStripZeros,hexZeroPad,splitSignature,joinSignature},Symbol.toStringTag,{value:"Module"})),version$n="bignumber/5.7.0";var BN=BN$1.BN;const logger$H=new Logger(version$n),_constructorGuard$4={},MAX_SAFE=9007199254740991;function isBigNumberish(o){return o!=null&&(BigNumber.isBigNumber(o)||typeof o=="number"&&o%1===0||typeof o=="string"&&!!o.match(/^-?[0-9]+$/)||isHexString(o)||typeof o=="bigint"||isBytes(o))}let _warnedToStringRadix=!1;class BigNumber{constructor(a,rt){a!==_constructorGuard$4&&logger$H.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=rt,this._isBigNumber=!0,Object.freeze(this)}fromTwos(a){return toBigNumber(toBN(this).fromTwos(a))}toTwos(a){return toBigNumber(toBN(this).toTwos(a))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(a){return toBigNumber(toBN(this).add(toBN(a)))}sub(a){return toBigNumber(toBN(this).sub(toBN(a)))}div(a){return BigNumber.from(a).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(a)))}mul(a){return toBigNumber(toBN(this).mul(toBN(a)))}mod(a){const rt=toBN(a);return rt.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(rt))}pow(a){const rt=toBN(a);return rt.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(rt))}and(a){const rt=toBN(a);return(this.isNegative()||rt.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(rt))}or(a){const rt=toBN(a);return(this.isNegative()||rt.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(rt))}xor(a){const rt=toBN(a);return(this.isNegative()||rt.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(rt))}mask(a){return(this.isNegative()||a<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(a))}shl(a){return(this.isNegative()||a<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(a))}shr(a){return(this.isNegative()||a<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(a))}eq(a){return toBN(this).eq(toBN(a))}lt(a){return toBN(this).lt(toBN(a))}lte(a){return toBN(this).lte(toBN(a))}gt(a){return toBN(this).gt(toBN(a))}gte(a){return toBN(this).gte(toBN(a))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$H.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$H.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$H.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$H.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(a){return{type:"BigNumber",hex:this.toHexString()}}static from(a){if(a instanceof BigNumber)return a;if(typeof a=="string")return a.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$4,toHex$1(a)):a.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$4,toHex$1(new BN(a))):logger$H.throwArgumentError("invalid BigNumber string","value",a);if(typeof a=="number")return a%1&&throwFault$1("underflow","BigNumber.from",a),(a>=MAX_SAFE||a<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",a),BigNumber.from(String(a));const rt=a;if(typeof rt=="bigint")return BigNumber.from(rt.toString());if(isBytes(rt))return BigNumber.from(hexlify(rt));if(rt)if(rt.toHexString){const at=rt.toHexString();if(typeof at=="string")return BigNumber.from(at)}else{let at=rt._hex;if(at==null&&rt.type==="BigNumber"&&(at=rt.hex),typeof at=="string"&&(isHexString(at)||at[0]==="-"&&isHexString(at.substring(1))))return BigNumber.from(at)}return logger$H.throwArgumentError("invalid BigNumber value","value",a)}static isBigNumber(a){return!!(a&&a._isBigNumber)}}function toHex$1(o){if(typeof o!="string")return toHex$1(o.toString(16));if(o[0]==="-")return o=o.substring(1),o[0]==="-"&&logger$H.throwArgumentError("invalid hex","value",o),o=toHex$1(o),o==="0x00"?o:"-"+o;if(o.substring(0,2)!=="0x"&&(o="0x"+o),o==="0x")return"0x00";for(o.length%2&&(o="0x0"+o.substring(2));o.length>4&&o.substring(0,4)==="0x00";)o="0x"+o.substring(4);return o}function toBigNumber(o){return BigNumber.from(toHex$1(o))}function toBN(o){const a=BigNumber.from(o).toHexString();return a[0]==="-"?new BN("-"+a.substring(3),16):new BN(a.substring(2),16)}function throwFault$1(o,a,rt){const at={fault:o,operation:a};return rt!=null&&(at.value=rt),logger$H.throwError(o,Logger.errors.NUMERIC_FAULT,at)}function _base36To16(o){return new BN(o,36).toString(16)}function _base16To36(o){return new BN(o,16).toString(36)}const logger$G=new Logger(version$n),_constructorGuard$3={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(o,a,rt,at){const it={fault:a,operation:rt};return at!==void 0&&(it.value=at),logger$G.throwError(o,Logger.errors.NUMERIC_FAULT,it)}let zeros="0";for(;zeros.length<256;)zeros+=zeros;function getMultiplier(o){if(typeof o!="number")try{o=BigNumber.from(o).toNumber()}catch{}return typeof o=="number"&&o>=0&&o<=256&&!(o%1)?"1"+zeros.substring(0,o):logger$G.throwArgumentError("invalid decimal size","decimals",o)}function formatFixed(o,a){a==null&&(a=0);const rt=getMultiplier(a);o=BigNumber.from(o);const at=o.lt(Zero$2);at&&(o=o.mul(NegativeOne$2));let it=o.mod(rt).toString();for(;it.length<rt.length-1;)it="0"+it;it=it.match(/^([0-9]*[1-9]|0)(0*)/)[1];const ot=o.div(rt).toString();return rt.length===1?o=ot:o=ot+"."+it,at&&(o="-"+o),o}function parseFixed(o,a){a==null&&(a=0);const rt=getMultiplier(a);(typeof o!="string"||!o.match(/^-?[0-9.]+$/))&&logger$G.throwArgumentError("invalid decimal value","value",o);const at=o.substring(0,1)==="-";at&&(o=o.substring(1)),o==="."&&logger$G.throwArgumentError("missing value","value",o);const it=o.split(".");it.length>2&&logger$G.throwArgumentError("too many decimal points","value",o);let ot=it[0],st=it[1];for(ot||(ot="0"),st||(st="0");st[st.length-1]==="0";)st=st.substring(0,st.length-1);for(st.length>rt.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),st===""&&(st="0");st.length<rt.length-1;)st+="0";const ct=BigNumber.from(ot),lt=BigNumber.from(st);let ut=ct.mul(rt).add(lt);return at&&(ut=ut.mul(NegativeOne$2)),ut}class FixedFormat{constructor(a,rt,at,it){a!==_constructorGuard$3&&logger$G.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=rt,this.width=at,this.decimals=it,this.name=(rt?"":"u")+"fixed"+String(at)+"x"+String(it),this._multiplier=getMultiplier(it),Object.freeze(this)}static from(a){if(a instanceof FixedFormat)return a;typeof a=="number"&&(a=`fixed128x${a}`);let rt=!0,at=128,it=18;if(typeof a=="string"){if(a!=="fixed")if(a==="ufixed")rt=!1;else{const ot=a.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ot||logger$G.throwArgumentError("invalid fixed format","format",a),rt=ot[1]!=="u",at=parseInt(ot[2]),it=parseInt(ot[3])}}else if(a){const ot=(st,ct,lt)=>a[st]==null?lt:(typeof a[st]!==ct&&logger$G.throwArgumentError("invalid fixed format ("+st+" not "+ct+")","format."+st,a[st]),a[st]);rt=ot("signed","boolean",rt),at=ot("width","number",at),it=ot("decimals","number",it)}return at%8&&logger$G.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",at),it>80&&logger$G.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",it),new FixedFormat(_constructorGuard$3,rt,at,it)}}class FixedNumber{constructor(a,rt,at,it){a!==_constructorGuard$3&&logger$G.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=it,this._hex=rt,this._value=at,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(a){this.format.name!==a.format.name&&logger$G.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",a)}addUnsafe(a){this._checkFormat(a);const rt=parseFixed(this._value,this.format.decimals),at=parseFixed(a._value,a.format.decimals);return FixedNumber.fromValue(rt.add(at),this.format.decimals,this.format)}subUnsafe(a){this._checkFormat(a);const rt=parseFixed(this._value,this.format.decimals),at=parseFixed(a._value,a.format.decimals);return FixedNumber.fromValue(rt.sub(at),this.format.decimals,this.format)}mulUnsafe(a){this._checkFormat(a);const rt=parseFixed(this._value,this.format.decimals),at=parseFixed(a._value,a.format.decimals);return FixedNumber.fromValue(rt.mul(at).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(a){this._checkFormat(a);const rt=parseFixed(this._value,this.format.decimals),at=parseFixed(a._value,a.format.decimals);return FixedNumber.fromValue(rt.mul(this.format._multiplier).div(at),this.format.decimals,this.format)}floor(){const a=this.toString().split(".");a.length===1&&a.push("0");let rt=FixedNumber.from(a[0],this.format);const at=!a[1].match(/^(0*)$/);return this.isNegative()&&at&&(rt=rt.subUnsafe(ONE.toFormat(rt.format))),rt}ceiling(){const a=this.toString().split(".");a.length===1&&a.push("0");let rt=FixedNumber.from(a[0],this.format);const at=!a[1].match(/^(0*)$/);return!this.isNegative()&&at&&(rt=rt.addUnsafe(ONE.toFormat(rt.format))),rt}round(a){a==null&&(a=0);const rt=this.toString().split(".");if(rt.length===1&&rt.push("0"),(a<0||a>80||a%1)&&logger$G.throwArgumentError("invalid decimal count","decimals",a),rt[1].length<=a)return this;const at=FixedNumber.from("1"+zeros.substring(0,a),this.format),it=BUMP.toFormat(this.format);return this.mulUnsafe(at).addUnsafe(it).floor().divUnsafe(at)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(a){if(a==null)return this._hex;a%8&&logger$G.throwArgumentError("invalid byte width","width",a);const rt=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(a).toHexString();return hexZeroPad(rt,a/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(a){return FixedNumber.fromString(this._value,a)}static fromValue(a,rt,at){return at==null&&rt!=null&&!isBigNumberish(rt)&&(at=rt,rt=null),rt==null&&(rt=0),at==null&&(at="fixed"),FixedNumber.fromString(formatFixed(a,rt),FixedFormat.from(at))}static fromString(a,rt){rt==null&&(rt="fixed");const at=FixedFormat.from(rt),it=parseFixed(a,at.decimals);!at.signed&&it.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",a);let ot=null;at.signed?ot=it.toTwos(at.width).toHexString():(ot=it.toHexString(),ot=hexZeroPad(ot,at.width/8));const st=formatFixed(it,at.decimals);return new FixedNumber(_constructorGuard$3,ot,st,at)}static fromBytes(a,rt){rt==null&&(rt="fixed");const at=FixedFormat.from(rt);if(arrayify(a).length>at.width/8)throw new Error("overflow");let it=BigNumber.from(a);at.signed&&(it=it.fromTwos(at.width));const ot=it.toTwos((at.signed?0:1)+at.width).toHexString(),st=formatFixed(it,at.decimals);return new FixedNumber(_constructorGuard$3,ot,st,at)}static from(a,rt){if(typeof a=="string")return FixedNumber.fromString(a,rt);if(isBytes(a))return FixedNumber.fromBytes(a,rt);try{return FixedNumber.fromValue(a,0,rt)}catch(at){if(at.code!==Logger.errors.INVALID_ARGUMENT)throw at}return logger$G.throwArgumentError("invalid FixedNumber value","value",a)}static isFixedNumber(a){return!!(a&&a._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$m="properties/5.7.0";var __awaiter$f=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$F=new Logger(version$m);function defineReadOnly(o,a,rt){Object.defineProperty(o,a,{enumerable:!0,value:rt,writable:!1})}function getStatic(o,a){for(let rt=0;rt<32;rt++){if(o[a])return o[a];if(!o.prototype||typeof o.prototype!="object")break;o=Object.getPrototypeOf(o.prototype).constructor}return null}function resolveProperties(o){return __awaiter$f(this,void 0,void 0,function*(){const a=Object.keys(o).map(at=>{const it=o[at];return Promise.resolve(it).then(ot=>({key:at,value:ot}))});return(yield Promise.all(a)).reduce((at,it)=>(at[it.key]=it.value,at),{})})}function checkProperties(o,a){(!o||typeof o!="object")&&logger$F.throwArgumentError("invalid object","object",o),Object.keys(o).forEach(rt=>{a[rt]||logger$F.throwArgumentError("invalid object key - "+rt,"transaction:"+rt,o)})}function shallowCopy(o){const a={};for(const rt in o)a[rt]=o[rt];return a}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(o){if(o==null||opaque[typeof o])return!0;if(Array.isArray(o)||typeof o=="object"){if(!Object.isFrozen(o))return!1;const a=Object.keys(o);for(let rt=0;rt<a.length;rt++){let at=null;try{at=o[a[rt]]}catch{continue}if(!_isFrozen(at))return!1}return!0}return logger$F.throwArgumentError(`Cannot deepCopy ${typeof o}`,"object",o)}function _deepCopy(o){if(_isFrozen(o))return o;if(Array.isArray(o))return Object.freeze(o.map(a=>deepCopy(a)));if(typeof o=="object"){const a={};for(const rt in o){const at=o[rt];at!==void 0&&defineReadOnly(a,rt,deepCopy(at))}return a}return logger$F.throwArgumentError(`Cannot deepCopy ${typeof o}`,"object",o)}function deepCopy(o){return _deepCopy(o)}class Description{constructor(a){for(const rt in a)this[rt]=deepCopy(a[rt])}}const lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly,getStatic,resolveProperties,checkProperties,shallowCopy,deepCopy,Description},Symbol.toStringTag,{value:"Module"})),version$l="abi/5.7.0",logger$E=new Logger(version$l),_constructorGuard$2={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(o,a){if(o==="bytes"||o==="string"){if(ModifiersBytes[a])return!0}else if(o==="address"){if(a==="payable")return!0}else if((o.indexOf("[")>=0||o==="tuple")&&ModifiersNest[a])return!0;return(ModifiersBytes[a]||a==="payable")&&logger$E.throwArgumentError("invalid modifier","name",a),!1}function parseParamType(o,a){let rt=o;function at(ct){logger$E.throwArgumentError(`unexpected character at position ${ct}`,"param",o)}o=o.replace(/\s/g," ");function it(ct){let lt={type:"",name:"",parent:ct,state:{allowType:!0}};return a&&(lt.indexed=!1),lt}let ot={type:"",name:"",state:{allowType:!0}},st=ot;for(let ct=0;ct<o.length;ct++){let lt=o[ct];switch(lt){case"(":st.state.allowType&&st.type===""?st.type="tuple":st.state.allowParams||at(ct),st.state.allowType=!1,st.type=verifyType(st.type),st.components=[it(st)],st=st.components[0];break;case")":delete st.state,st.name==="indexed"&&(a||at(ct),st.indexed=!0,st.name=""),checkModifier(st.type,st.name)&&(st.name=""),st.type=verifyType(st.type);let ut=st;st=st.parent,st||at(ct),delete ut.parent,st.state.allowParams=!1,st.state.allowName=!0,st.state.allowArray=!0;break;case",":delete st.state,st.name==="indexed"&&(a||at(ct),st.indexed=!0,st.name=""),checkModifier(st.type,st.name)&&(st.name=""),st.type=verifyType(st.type);let dt=it(st.parent);st.parent.components.push(dt),delete st.parent,st=dt;break;case" ":st.state.allowType&&st.type!==""&&(st.type=verifyType(st.type),delete st.state.allowType,st.state.allowName=!0,st.state.allowParams=!0),st.state.allowName&&st.name!==""&&(st.name==="indexed"?(a||at(ct),st.indexed&&at(ct),st.indexed=!0,st.name=""):checkModifier(st.type,st.name)?st.name="":st.state.allowName=!1);break;case"[":st.state.allowArray||at(ct),st.type+=lt,st.state.allowArray=!1,st.state.allowName=!1,st.state.readArray=!0;break;case"]":st.state.readArray||at(ct),st.type+=lt,st.state.readArray=!1,st.state.allowArray=!0,st.state.allowName=!0;break;default:st.state.allowType?(st.type+=lt,st.state.allowParams=!0,st.state.allowArray=!0):st.state.allowName?(st.name+=lt,delete st.state.allowArray):st.state.readArray?st.type+=lt:at(ct)}}return st.parent&&logger$E.throwArgumentError("unexpected eof","param",o),delete ot.state,st.name==="indexed"?(a||at(rt.length-7),st.indexed&&at(rt.length-7),st.indexed=!0,st.name=""):checkModifier(st.type,st.name)&&(st.name=""),ot.type=verifyType(ot.type),ot}function populate(o,a){for(let rt in a)defineReadOnly(o,rt,a[rt])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(a,rt){a!==_constructorGuard$2&&logger$E.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,rt);let at=this.type.match(paramTypeArray);at?populate(this,{arrayLength:parseInt(at[2]||"-1"),arrayChildren:ParamType.fromObject({type:at[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(a){if(a||(a=FormatTypes.sighash),FormatTypes[a]||logger$E.throwArgumentError("invalid format type","format",a),a===FormatTypes.json){let at={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(at.indexed=this.indexed),this.components&&(at.components=this.components.map(it=>JSON.parse(it.format(a)))),JSON.stringify(at)}let rt="";return this.baseType==="array"?(rt+=this.arrayChildren.format(a),rt+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(a!==FormatTypes.sighash&&(rt+=this.type),rt+="("+this.components.map(at=>at.format(a)).join(a===FormatTypes.full?", ":",")+")"):rt+=this.type,a!==FormatTypes.sighash&&(this.indexed===!0&&(rt+=" indexed"),a===FormatTypes.full&&this.name&&(rt+=" "+this.name)),rt}static from(a,rt){return typeof a=="string"?ParamType.fromString(a,rt):ParamType.fromObject(a)}static fromObject(a){return ParamType.isParamType(a)?a:new ParamType(_constructorGuard$2,{name:a.name||null,type:verifyType(a.type),indexed:a.indexed==null?null:!!a.indexed,components:a.components?a.components.map(ParamType.fromObject):null})}static fromString(a,rt){function at(it){return ParamType.fromObject({name:it.name,type:it.type,indexed:it.indexed,components:it.components})}return at(parseParamType(a,!!rt))}static isParamType(a){return!!(a!=null&&a._isParamType)}}function parseParams(o,a){return splitNesting(o).map(rt=>ParamType.fromString(rt,a))}class Fragment{constructor(a,rt){a!==_constructorGuard$2&&logger$E.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,rt),this._isFragment=!0,Object.freeze(this)}static from(a){return Fragment.isFragment(a)?a:typeof a=="string"?Fragment.fromString(a):Fragment.fromObject(a)}static fromObject(a){if(Fragment.isFragment(a))return a;switch(a.type){case"function":return FunctionFragment.fromObject(a);case"event":return EventFragment.fromObject(a);case"constructor":return ConstructorFragment.fromObject(a);case"error":return ErrorFragment.fromObject(a);case"fallback":case"receive":return null}return logger$E.throwArgumentError("invalid fragment object","value",a)}static fromString(a){return a=a.replace(/\s/g," "),a=a.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),a=a.trim(),a.split(" ")[0]==="event"?EventFragment.fromString(a.substring(5).trim()):a.split(" ")[0]==="function"?FunctionFragment.fromString(a.substring(8).trim()):a.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(a.trim()):a.split(" ")[0]==="error"?ErrorFragment.fromString(a.substring(5).trim()):logger$E.throwArgumentError("unsupported fragment","value",a)}static isFragment(a){return!!(a&&a._isFragment)}}class EventFragment extends Fragment{format(a){if(a||(a=FormatTypes.sighash),FormatTypes[a]||logger$E.throwArgumentError("invalid format type","format",a),a===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(at=>JSON.parse(at.format(a)))});let rt="";return a!==FormatTypes.sighash&&(rt+="event "),rt+=this.name+"("+this.inputs.map(at=>at.format(a)).join(a===FormatTypes.full?", ":",")+") ",a!==FormatTypes.sighash&&this.anonymous&&(rt+="anonymous "),rt.trim()}static from(a){return typeof a=="string"?EventFragment.fromString(a):EventFragment.fromObject(a)}static fromObject(a){if(EventFragment.isEventFragment(a))return a;a.type!=="event"&&logger$E.throwArgumentError("invalid event object","value",a);const rt={name:verifyIdentifier(a.name),anonymous:a.anonymous,inputs:a.inputs?a.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$2,rt)}static fromString(a){let rt=a.match(regexParen);rt||logger$E.throwArgumentError("invalid event string","value",a);let at=!1;return rt[3].split(" ").forEach(it=>{switch(it.trim()){case"anonymous":at=!0;break;case"":break;default:logger$E.warn("unknown modifier: "+it)}}),EventFragment.fromObject({name:rt[1].trim(),anonymous:at,inputs:parseParams(rt[2],!0),type:"event"})}static isEventFragment(a){return a&&a._isFragment&&a.type==="event"}}function parseGas(o,a){a.gas=null;let rt=o.split("@");return rt.length!==1?(rt.length>2&&logger$E.throwArgumentError("invalid human-readable ABI signature","value",o),rt[1].match(/^[0-9]+$/)||logger$E.throwArgumentError("invalid human-readable ABI signature gas","value",o),a.gas=BigNumber.from(rt[1]),rt[0]):o}function parseModifiers(o,a){a.constant=!1,a.payable=!1,a.stateMutability="nonpayable",o.split(" ").forEach(rt=>{switch(rt.trim()){case"constant":a.constant=!0;break;case"payable":a.payable=!0,a.stateMutability="payable";break;case"nonpayable":a.payable=!1,a.stateMutability="nonpayable";break;case"pure":a.constant=!0,a.stateMutability="pure";break;case"view":a.constant=!0,a.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+rt)}})}function verifyState(o){let a={constant:!1,payable:!0,stateMutability:"payable"};return o.stateMutability!=null?(a.stateMutability=o.stateMutability,a.constant=a.stateMutability==="view"||a.stateMutability==="pure",o.constant!=null&&!!o.constant!==a.constant&&logger$E.throwArgumentError("cannot have constant function with mutability "+a.stateMutability,"value",o),a.payable=a.stateMutability==="payable",o.payable!=null&&!!o.payable!==a.payable&&logger$E.throwArgumentError("cannot have payable function with mutability "+a.stateMutability,"value",o)):o.payable!=null?(a.payable=!!o.payable,o.constant==null&&!a.payable&&o.type!=="constructor"&&logger$E.throwArgumentError("unable to determine stateMutability","value",o),a.constant=!!o.constant,a.constant?a.stateMutability="view":a.stateMutability=a.payable?"payable":"nonpayable",a.payable&&a.constant&&logger$E.throwArgumentError("cannot have constant payable function","value",o)):o.constant!=null?(a.constant=!!o.constant,a.payable=!a.constant,a.stateMutability=a.constant?"view":"payable"):o.type!=="constructor"&&logger$E.throwArgumentError("unable to determine stateMutability","value",o),a}class ConstructorFragment extends Fragment{format(a){if(a||(a=FormatTypes.sighash),FormatTypes[a]||logger$E.throwArgumentError("invalid format type","format",a),a===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(at=>JSON.parse(at.format(a)))});a===FormatTypes.sighash&&logger$E.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let rt="constructor("+this.inputs.map(at=>at.format(a)).join(a===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(rt+=this.stateMutability+" "),rt.trim()}static from(a){return typeof a=="string"?ConstructorFragment.fromString(a):ConstructorFragment.fromObject(a)}static fromObject(a){if(ConstructorFragment.isConstructorFragment(a))return a;a.type!=="constructor"&&logger$E.throwArgumentError("invalid constructor object","value",a);let rt=verifyState(a);rt.constant&&logger$E.throwArgumentError("constructor cannot be constant","value",a);const at={name:null,type:a.type,inputs:a.inputs?a.inputs.map(ParamType.fromObject):[],payable:rt.payable,stateMutability:rt.stateMutability,gas:a.gas?BigNumber.from(a.gas):null};return new ConstructorFragment(_constructorGuard$2,at)}static fromString(a){let rt={type:"constructor"};a=parseGas(a,rt);let at=a.match(regexParen);return(!at||at[1].trim()!=="constructor")&&logger$E.throwArgumentError("invalid constructor string","value",a),rt.inputs=parseParams(at[2].trim(),!1),parseModifiers(at[3].trim(),rt),ConstructorFragment.fromObject(rt)}static isConstructorFragment(a){return a&&a._isFragment&&a.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(a){if(a||(a=FormatTypes.sighash),FormatTypes[a]||logger$E.throwArgumentError("invalid format type","format",a),a===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(at=>JSON.parse(at.format(a))),outputs:this.outputs.map(at=>JSON.parse(at.format(a)))});let rt="";return a!==FormatTypes.sighash&&(rt+="function "),rt+=this.name+"("+this.inputs.map(at=>at.format(a)).join(a===FormatTypes.full?", ":",")+") ",a!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(rt+=this.stateMutability+" "):this.constant&&(rt+="view "),this.outputs&&this.outputs.length&&(rt+="returns ("+this.outputs.map(at=>at.format(a)).join(", ")+") "),this.gas!=null&&(rt+="@"+this.gas.toString()+" ")),rt.trim()}static from(a){return typeof a=="string"?FunctionFragment.fromString(a):FunctionFragment.fromObject(a)}static fromObject(a){if(FunctionFragment.isFunctionFragment(a))return a;a.type!=="function"&&logger$E.throwArgumentError("invalid function object","value",a);let rt=verifyState(a);const at={type:a.type,name:verifyIdentifier(a.name),constant:rt.constant,inputs:a.inputs?a.inputs.map(ParamType.fromObject):[],outputs:a.outputs?a.outputs.map(ParamType.fromObject):[],payable:rt.payable,stateMutability:rt.stateMutability,gas:a.gas?BigNumber.from(a.gas):null};return new FunctionFragment(_constructorGuard$2,at)}static fromString(a){let rt={type:"function"};a=parseGas(a,rt);let at=a.split(" returns ");at.length>2&&logger$E.throwArgumentError("invalid function string","value",a);let it=at[0].match(regexParen);if(it||logger$E.throwArgumentError("invalid function signature","value",a),rt.name=it[1].trim(),rt.name&&verifyIdentifier(rt.name),rt.inputs=parseParams(it[2],!1),parseModifiers(it[3].trim(),rt),at.length>1){let ot=at[1].match(regexParen);(ot[1].trim()!=""||ot[3].trim()!="")&&logger$E.throwArgumentError("unexpected tokens","value",a),rt.outputs=parseParams(ot[2],!1)}else rt.outputs=[];return FunctionFragment.fromObject(rt)}static isFunctionFragment(a){return a&&a._isFragment&&a.type==="function"}}function checkForbidden(o){const a=o.format();return(a==="Error(string)"||a==="Panic(uint256)")&&logger$E.throwArgumentError(`cannot specify user defined ${a} error`,"fragment",o),o}class ErrorFragment extends Fragment{format(a){if(a||(a=FormatTypes.sighash),FormatTypes[a]||logger$E.throwArgumentError("invalid format type","format",a),a===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(at=>JSON.parse(at.format(a)))});let rt="";return a!==FormatTypes.sighash&&(rt+="error "),rt+=this.name+"("+this.inputs.map(at=>at.format(a)).join(a===FormatTypes.full?", ":",")+") ",rt.trim()}static from(a){return typeof a=="string"?ErrorFragment.fromString(a):ErrorFragment.fromObject(a)}static fromObject(a){if(ErrorFragment.isErrorFragment(a))return a;a.type!=="error"&&logger$E.throwArgumentError("invalid error object","value",a);const rt={type:a.type,name:verifyIdentifier(a.name),inputs:a.inputs?a.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$2,rt))}static fromString(a){let rt={type:"error"},at=a.match(regexParen);return at||logger$E.throwArgumentError("invalid error signature","value",a),rt.name=at[1].trim(),rt.name&&verifyIdentifier(rt.name),rt.inputs=parseParams(at[2],!1),checkForbidden(ErrorFragment.fromObject(rt))}static isErrorFragment(a){return a&&a._isFragment&&a.type==="error"}}function verifyType(o){return o.match(/^uint($|[^1-9])/)?o="uint256"+o.substring(4):o.match(/^int($|[^1-9])/)&&(o="int256"+o.substring(3)),o}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(o){return(!o||!o.match(regexIdentifier))&&logger$E.throwArgumentError(`invalid identifier "${o}"`,"value",o),o}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(o){o=o.trim();let a=[],rt="",at=0;for(let it=0;it<o.length;it++){let ot=o[it];ot===","&&at===0?(a.push(rt),rt=""):(rt+=ot,ot==="("?at++:ot===")"&&(at--,at===-1&&logger$E.throwArgumentError("unbalanced parenthesis","value",o)))}return rt&&a.push(rt),a}const logger$D=new Logger(version$l);function checkResultErrors(o){const a=[],rt=function(at,it){if(!!Array.isArray(it))for(let ot in it){const st=at.slice();st.push(ot);try{rt(st,it[ot])}catch(ct){a.push({path:st,error:ct})}}};return rt([],o),a}class Coder{constructor(a,rt,at,it){this.name=a,this.type=rt,this.localName=at,this.dynamic=it}_throwError(a,rt){logger$D.throwArgumentError(a,this.localName,rt)}}class Writer{constructor(a){defineReadOnly(this,"wordSize",a||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(a)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(a){return this._data.push(a),this._dataLength+=a.length,a.length}appendWriter(a){return this._writeData(concat(a._data))}writeBytes(a){let rt=arrayify(a);const at=rt.length%this.wordSize;return at&&(rt=concat([rt,this._padding.slice(at)])),this._writeData(rt)}_getValue(a){let rt=arrayify(BigNumber.from(a));return rt.length>this.wordSize&&logger$D.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:rt.length}),rt.length%this.wordSize&&(rt=concat([this._padding.slice(rt.length%this.wordSize),rt])),rt}writeValue(a){return this._writeData(this._getValue(a))}writeUpdatableValue(){const a=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,rt=>{this._data[a]=this._getValue(rt)}}}class Reader{constructor(a,rt,at,it){defineReadOnly(this,"_data",arrayify(a)),defineReadOnly(this,"wordSize",rt||32),defineReadOnly(this,"_coerceFunc",at),defineReadOnly(this,"allowLoose",it),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(a,rt){let at=a.match("^u?int([0-9]+)$");return at&&parseInt(at[1])<=48&&(rt=rt.toNumber()),rt}coerce(a,rt){return this._coerceFunc?this._coerceFunc(a,rt):Reader.coerce(a,rt)}_peekBytes(a,rt,at){let it=Math.ceil(rt/this.wordSize)*this.wordSize;return this._offset+it>this._data.length&&(this.allowLoose&&at&&this._offset+rt<=this._data.length?it=rt:logger$D.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+it})),this._data.slice(this._offset,this._offset+it)}subReader(a){return new Reader(this._data.slice(this._offset+a),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(a,rt){let at=this._peekBytes(0,a,!!rt);return this._offset+=at.length,at.slice(0,a)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}function keccak256$1(o){return"0x"+sha3$2.keccak_256(arrayify(o))}const lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$1},Symbol.toStringTag,{value:"Module"})),version$k="rlp/5.7.0",logger$C=new Logger(version$k);function arrayifyInteger(o){const a=[];for(;o;)a.unshift(o&255),o>>=8;return a}function unarrayifyInteger(o,a,rt){let at=0;for(let it=0;it<rt;it++)at=at*256+o[a+it];return at}function _encode(o){if(Array.isArray(o)){let at=[];if(o.forEach(function(ot){at=at.concat(_encode(ot))}),at.length<=55)return at.unshift(192+at.length),at;const it=arrayifyInteger(at.length);return it.unshift(247+it.length),it.concat(at)}isBytesLike(o)||logger$C.throwArgumentError("RLP object must be BytesLike","object",o);const a=Array.prototype.slice.call(arrayify(o));if(a.length===1&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;const rt=arrayifyInteger(a.length);return rt.unshift(183+rt.length),rt.concat(a)}function encode$2(o){return hexlify(_encode(o))}function _decodeChildren(o,a,rt,at){const it=[];for(;rt<a+1+at;){const ot=_decode(o,rt);it.push(ot.result),rt+=ot.consumed,rt>a+1+at&&logger$C.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+at,result:it}}function _decode(o,a){if(o.length===0&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),o[a]>=248){const rt=o[a]-247;a+1+rt>o.length&&logger$C.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const at=unarrayifyInteger(o,a+1,rt);return a+1+rt+at>o.length&&logger$C.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(o,a,a+1+rt,rt+at)}else if(o[a]>=192){const rt=o[a]-192;return a+1+rt>o.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(o,a,a+1,rt)}else if(o[a]>=184){const rt=o[a]-183;a+1+rt>o.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const at=unarrayifyInteger(o,a+1,rt);a+1+rt+at>o.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const it=hexlify(o.slice(a+1+rt,a+1+rt+at));return{consumed:1+rt+at,result:it}}else if(o[a]>=128){const rt=o[a]-128;a+1+rt>o.length&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const at=hexlify(o.slice(a+1,a+1+rt));return{consumed:1+rt,result:at}}return{consumed:1,result:hexlify(o[a])}}function decode$3(o){const a=arrayify(o),rt=_decode(a,0);return rt.consumed!==a.length&&logger$C.throwArgumentError("invalid rlp data","data",o),rt.result}const lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$2,decode:decode$3},Symbol.toStringTag,{value:"Module"})),version$j="address/5.7.0",logger$B=new Logger(version$j);function getChecksumAddress(o){isHexString(o,20)||logger$B.throwArgumentError("invalid address","address",o),o=o.toLowerCase();const a=o.substring(2).split(""),rt=new Uint8Array(40);for(let it=0;it<40;it++)rt[it]=a[it].charCodeAt(0);const at=arrayify(keccak256$1(rt));for(let it=0;it<40;it+=2)at[it>>1]>>4>=8&&(a[it]=a[it].toUpperCase()),(at[it>>1]&15)>=8&&(a[it+1]=a[it+1].toUpperCase());return"0x"+a.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(o){return Math.log10?Math.log10(o):Math.log(o)/Math.LN10}const ibanLookup={};for(let o=0;o<10;o++)ibanLookup[String(o)]=String(o);for(let o=0;o<26;o++)ibanLookup[String.fromCharCode(65+o)]=String(10+o);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(o){o=o.toUpperCase(),o=o.substring(4)+o.substring(0,2)+"00";let a=o.split("").map(at=>ibanLookup[at]).join("");for(;a.length>=safeDigits;){let at=a.substring(0,safeDigits);a=parseInt(at,10)%97+a.substring(at.length)}let rt=String(98-parseInt(a,10)%97);for(;rt.length<2;)rt="0"+rt;return rt}function getAddress(o){let a=null;if(typeof o!="string"&&logger$B.throwArgumentError("invalid address","address",o),o.match(/^(0x)?[0-9a-fA-F]{40}$/))o.substring(0,2)!=="0x"&&(o="0x"+o),a=getChecksumAddress(o),o.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&a!==o&&logger$B.throwArgumentError("bad address checksum","address",o);else if(o.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(o.substring(2,4)!==ibanChecksum(o)&&logger$B.throwArgumentError("bad icap checksum","address",o),a=_base36To16(o.substring(4));a.length<40;)a="0"+a;a=getChecksumAddress("0x"+a)}else logger$B.throwArgumentError("invalid address","address",o);return a}function isAddress(o){try{return getAddress(o),!0}catch{}return!1}function getIcapAddress(o){let a=_base16To36(getAddress(o).substring(2)).toUpperCase();for(;a.length<30;)a="0"+a;return"XE"+ibanChecksum("XE00"+a)+a}function getContractAddress(o){let a=null;try{a=getAddress(o.from)}catch{logger$B.throwArgumentError("missing from address","transaction",o)}const rt=stripZeros(arrayify(BigNumber.from(o.nonce).toHexString()));return getAddress(hexDataSlice(keccak256$1(encode$2([a,rt])),12))}function getCreate2Address(o,a,rt){return hexDataLength(a)!==32&&logger$B.throwArgumentError("salt must be 32 bytes","salt",a),hexDataLength(rt)!==32&&logger$B.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",rt),getAddress(hexDataSlice(keccak256$1(concat(["0xff",getAddress(o),a,rt])),12))}const lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,getAddress,isAddress,getIcapAddress,getContractAddress,getCreate2Address},Symbol.toStringTag,{value:"Module"}));class AddressCoder extends Coder{constructor(a){super("address","address",a,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(a,rt){try{rt=getAddress(rt)}catch(at){this._throwError(at.message,rt)}return a.writeValue(rt)}decode(a){return getAddress(hexZeroPad(a.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(a){super(a.name,a.type,void 0,a.dynamic),this.coder=a}defaultValue(){return this.coder.defaultValue()}encode(a,rt){return this.coder.encode(a,rt)}decode(a){return this.coder.decode(a)}}const logger$A=new Logger(version$l);function pack$1(o,a,rt){let at=null;if(Array.isArray(rt))at=rt;else if(rt&&typeof rt=="object"){let lt={};at=a.map(ut=>{const dt=ut.localName;return dt||logger$A.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ut,value:rt}),lt[dt]&&logger$A.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ut,value:rt}),lt[dt]=!0,rt[dt]})}else logger$A.throwArgumentError("invalid tuple value","tuple",rt);a.length!==at.length&&logger$A.throwArgumentError("types/value length mismatch","tuple",rt);let it=new Writer(o.wordSize),ot=new Writer(o.wordSize),st=[];a.forEach((lt,ut)=>{let dt=at[ut];if(lt.dynamic){let ft=ot.length;lt.encode(ot,dt);let pt=it.writeUpdatableValue();st.push(ht=>{pt(ht+ft)})}else lt.encode(it,dt)}),st.forEach(lt=>{lt(it.length)});let ct=o.appendWriter(it);return ct+=o.appendWriter(ot),ct}function unpack(o,a){let rt=[],at=o.subReader(0);a.forEach(ot=>{let st=null;if(ot.dynamic){let ct=o.readValue(),lt=at.subReader(ct.toNumber());try{st=ot.decode(lt)}catch(ut){if(ut.code===Logger.errors.BUFFER_OVERRUN)throw ut;st=ut,st.baseType=ot.name,st.name=ot.localName,st.type=ot.type}}else try{st=ot.decode(o)}catch(ct){if(ct.code===Logger.errors.BUFFER_OVERRUN)throw ct;st=ct,st.baseType=ot.name,st.name=ot.localName,st.type=ot.type}st!=null&&rt.push(st)});const it=a.reduce((ot,st)=>{const ct=st.localName;return ct&&(ot[ct]||(ot[ct]=0),ot[ct]++),ot},{});a.forEach((ot,st)=>{let ct=ot.localName;if(!ct||it[ct]!==1||(ct==="length"&&(ct="_length"),rt[ct]!=null))return;const lt=rt[st];lt instanceof Error?Object.defineProperty(rt,ct,{enumerable:!0,get:()=>{throw lt}}):rt[ct]=lt});for(let ot=0;ot<rt.length;ot++){const st=rt[ot];st instanceof Error&&Object.defineProperty(rt,ot,{enumerable:!0,get:()=>{throw st}})}return Object.freeze(rt)}class ArrayCoder extends Coder{constructor(a,rt,at){const it=a.type+"["+(rt>=0?rt:"")+"]",ot=rt===-1||a.dynamic;super("array",it,at,ot),this.coder=a,this.length=rt}defaultValue(){const a=this.coder.defaultValue(),rt=[];for(let at=0;at<this.length;at++)rt.push(a);return rt}encode(a,rt){Array.isArray(rt)||this._throwError("expected array value",rt);let at=this.length;at===-1&&(at=rt.length,a.writeValue(rt.length)),logger$A.checkArgumentCount(rt.length,at,"coder array"+(this.localName?" "+this.localName:""));let it=[];for(let ot=0;ot<rt.length;ot++)it.push(this.coder);return pack$1(a,it,rt)}decode(a){let rt=this.length;rt===-1&&(rt=a.readValue().toNumber(),rt*32>a._data.length&&logger$A.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:a._data.length,count:rt}));let at=[];for(let it=0;it<rt;it++)at.push(new AnonymousCoder(this.coder));return a.coerce(this.name,unpack(a,at))}}class BooleanCoder extends Coder{constructor(a){super("bool","bool",a,!1)}defaultValue(){return!1}encode(a,rt){return a.writeValue(rt?1:0)}decode(a){return a.coerce(this.type,!a.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(a,rt){super(a,a,rt,!0)}defaultValue(){return"0x"}encode(a,rt){rt=arrayify(rt);let at=a.writeValue(rt.length);return at+=a.writeBytes(rt),at}decode(a){return a.readBytes(a.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(a){super("bytes",a)}decode(a){return a.coerce(this.name,hexlify(super.decode(a)))}}class FixedBytesCoder extends Coder{constructor(a,rt){let at="bytes"+String(a);super(at,at,rt,!1),this.size=a}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(a,rt){let at=arrayify(rt);return at.length!==this.size&&this._throwError("incorrect data length",rt),a.writeBytes(at)}decode(a){return a.coerce(this.name,hexlify(a.readBytes(this.size)))}}class NullCoder extends Coder{constructor(a){super("null","",a,!1)}defaultValue(){return null}encode(a,rt){return rt!=null&&this._throwError("not null",rt),a.writeBytes([])}decode(a){return a.readBytes(0),a.coerce(this.name,null)}}const AddressZero$1="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(a,rt,at){const it=(rt?"int":"uint")+a*8;super(it,it,at,!1),this.size=a,this.signed=rt}defaultValue(){return 0}encode(a,rt){let at=BigNumber.from(rt),it=MaxUint256$1.mask(a.wordSize*8);if(this.signed){let ot=it.mask(this.size*8-1);(at.gt(ot)||at.lt(ot.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",rt)}else(at.lt(Zero$1)||at.gt(it.mask(this.size*8)))&&this._throwError("value out-of-bounds",rt);return at=at.toTwos(this.size*8).mask(this.size*8),this.signed&&(at=at.fromTwos(this.size*8).toTwos(8*a.wordSize)),a.writeValue(at)}decode(a){let rt=a.readValue().mask(this.size*8);return this.signed&&(rt=rt.fromTwos(this.size*8)),a.coerce(this.name,rt)}}const version$i="strings/5.7.0",logger$z=new Logger(version$i);var UnicodeNormalizationForm;(function(o){o.current="",o.NFC="NFC",o.NFD="NFD",o.NFKC="NFKC",o.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(o){o.UNEXPECTED_CONTINUE="unexpected continuation byte",o.BAD_PREFIX="bad codepoint prefix",o.OVERRUN="string overrun",o.MISSING_CONTINUE="missing continuation byte",o.OUT_OF_RANGE="out of UTF-8 range",o.UTF16_SURROGATE="UTF-16 surrogate",o.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(o,a,rt,at,it){return logger$z.throwArgumentError(`invalid codepoint at offset ${a}; ${o}`,"bytes",rt)}function ignoreFunc(o,a,rt,at,it){if(o===Utf8ErrorReason.BAD_PREFIX||o===Utf8ErrorReason.UNEXPECTED_CONTINUE){let ot=0;for(let st=a+1;st<rt.length&&rt[st]>>6===2;st++)ot++;return ot}return o===Utf8ErrorReason.OVERRUN?rt.length-a-1:0}function replaceFunc(o,a,rt,at,it){return o===Utf8ErrorReason.OVERLONG?(at.push(it),0):(at.push(65533),ignoreFunc(o,a,rt))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(o,a){a==null&&(a=Utf8ErrorFuncs.error),o=arrayify(o);const rt=[];let at=0;for(;at<o.length;){const it=o[at++];if(it>>7===0){rt.push(it);continue}let ot=null,st=null;if((it&224)===192)ot=1,st=127;else if((it&240)===224)ot=2,st=2047;else if((it&248)===240)ot=3,st=65535;else{(it&192)===128?at+=a(Utf8ErrorReason.UNEXPECTED_CONTINUE,at-1,o,rt):at+=a(Utf8ErrorReason.BAD_PREFIX,at-1,o,rt);continue}if(at-1+ot>=o.length){at+=a(Utf8ErrorReason.OVERRUN,at-1,o,rt);continue}let ct=it&(1<<8-ot-1)-1;for(let lt=0;lt<ot;lt++){let ut=o[at];if((ut&192)!=128){at+=a(Utf8ErrorReason.MISSING_CONTINUE,at,o,rt),ct=null;break}ct=ct<<6|ut&63,at++}if(ct!==null){if(ct>1114111){at+=a(Utf8ErrorReason.OUT_OF_RANGE,at-1-ot,o,rt,ct);continue}if(ct>=55296&&ct<=57343){at+=a(Utf8ErrorReason.UTF16_SURROGATE,at-1-ot,o,rt,ct);continue}if(ct<=st){at+=a(Utf8ErrorReason.OVERLONG,at-1-ot,o,rt,ct);continue}rt.push(ct)}}return rt}function toUtf8Bytes(o,a=UnicodeNormalizationForm.current){a!=UnicodeNormalizationForm.current&&(logger$z.checkNormalize(),o=o.normalize(a));let rt=[];for(let at=0;at<o.length;at++){const it=o.charCodeAt(at);if(it<128)rt.push(it);else if(it<2048)rt.push(it>>6|192),rt.push(it&63|128);else if((it&64512)==55296){at++;const ot=o.charCodeAt(at);if(at>=o.length||(ot&64512)!==56320)throw new Error("invalid utf-8 string");const st=65536+((it&1023)<<10)+(ot&1023);rt.push(st>>18|240),rt.push(st>>12&63|128),rt.push(st>>6&63|128),rt.push(st&63|128)}else rt.push(it>>12|224),rt.push(it>>6&63|128),rt.push(it&63|128)}return arrayify(rt)}function escapeChar(o){const a="0000"+o.toString(16);return"\\u"+a.substring(a.length-4)}function _toEscapedUtf8String(o,a){return'"'+getUtf8CodePoints(o,a).map(rt=>{if(rt<256){switch(rt){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(rt>=32&&rt<127)return String.fromCharCode(rt)}return rt<=65535?escapeChar(rt):(rt-=65536,escapeChar((rt>>10&1023)+55296)+escapeChar((rt&1023)+56320))}).join("")+'"'}function _toUtf8String(o){return o.map(a=>a<=65535?String.fromCharCode(a):(a-=65536,String.fromCharCode((a>>10&1023)+55296,(a&1023)+56320))).join("")}function toUtf8String(o,a){return _toUtf8String(getUtf8CodePoints(o,a))}function toUtf8CodePoints(o,a=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(o,a))}function formatBytes32String(o){const a=toUtf8Bytes(o);if(a.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat([a,HashZero]).slice(0,32))}function parseBytes32String(o){const a=arrayify(o);if(a.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(a[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let rt=31;for(;a[rt-1]===0;)rt--;return toUtf8String(a.slice(0,rt))}function bytes2(o){if(o.length%4!==0)throw new Error("bad data");let a=[];for(let rt=0;rt<o.length;rt+=4)a.push(parseInt(o.substring(rt,rt+4),16));return a}function createTable(o,a){a||(a=function(it){return[parseInt(it,16)]});let rt=0,at={};return o.split(",").forEach(it=>{let ot=it.split(":");rt+=parseInt(ot[0],16),at[rt]=a(ot[1])}),at}function createRangeTable(o){let a=0;return o.split(",").map(rt=>{let at=rt.split("-");at.length===1?at[1]="0":at[1]===""&&(at[1]="1");let it=a+parseInt(at[0],16);return a=parseInt(at[1],16),{l:it,h:a}})}function matchMap(o,a){let rt=0;for(let at=0;at<a.length;at++){let it=a[at];if(rt+=it.l,o>=rt&&o<=rt+it.h&&(o-rt)%(it.d||1)===0){if(it.e&&it.e.indexOf(o-rt)!==-1)continue;return it}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(o=>parseInt(o,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(o){return o.reduce((a,rt)=>(rt.forEach(at=>{a.push(at)}),a),[])}function _nameprepTableA1(o){return!!matchMap(o,Table_A_1_ranges)}function _nameprepTableB2(o){let a=matchMap(o,Table_B_2_ranges);if(a)return[o+a.s];let rt=Table_B_2_lut_abs[o];if(rt)return rt;let at=Table_B_2_lut_rel[o];if(at)return[o+at[0]];let it=Table_B_2_complex[o];return it||null}function _nameprepTableC(o){return!!matchMap(o,Table_C_ranges)}function nameprep(o){if(o.match(/^[a-z0-9-]*$/i)&&o.length<=59)return o.toLowerCase();let a=toUtf8CodePoints(o);a=flatten(a.map(at=>{if(Table_B_1_flags.indexOf(at)>=0)return[];if(at>=65024&&at<=65039)return[];let it=_nameprepTableB2(at);return it||[at]})),a=toUtf8CodePoints(_toUtf8String(a),UnicodeNormalizationForm.NFKC),a.forEach(at=>{if(_nameprepTableC(at))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),a.forEach(at=>{if(_nameprepTableA1(at))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let rt=_toUtf8String(a);if(rt.substring(0,1)==="-"||rt.substring(2,4)==="--"||rt.substring(rt.length-1)==="-")throw new Error("invalid hyphen");return rt}const lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String,toUtf8Bytes,toUtf8CodePoints,toUtf8String,Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},formatBytes32String,parseBytes32String,nameprep},Symbol.toStringTag,{value:"Module"}));class StringCoder extends DynamicBytesCoder{constructor(a){super("string",a)}defaultValue(){return""}encode(a,rt){return super.encode(a,toUtf8Bytes(rt))}decode(a){return toUtf8String(super.decode(a))}}class TupleCoder extends Coder{constructor(a,rt){let at=!1;const it=[];a.forEach(st=>{st.dynamic&&(at=!0),it.push(st.type)});const ot="tuple("+it.join(",")+")";super("tuple",ot,rt,at),this.coders=a}defaultValue(){const a=[];this.coders.forEach(at=>{a.push(at.defaultValue())});const rt=this.coders.reduce((at,it)=>{const ot=it.localName;return ot&&(at[ot]||(at[ot]=0),at[ot]++),at},{});return this.coders.forEach((at,it)=>{let ot=at.localName;!ot||rt[ot]!==1||(ot==="length"&&(ot="_length"),a[ot]==null&&(a[ot]=a[it]))}),Object.freeze(a)}encode(a,rt){return pack$1(a,this.coders,rt)}decode(a){return a.coerce(this.name,unpack(a,this.coders))}}const logger$y=new Logger(version$l),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(a){defineReadOnly(this,"coerceFunc",a||null)}_getCoder(a){switch(a.baseType){case"address":return new AddressCoder(a.name);case"bool":return new BooleanCoder(a.name);case"string":return new StringCoder(a.name);case"bytes":return new BytesCoder(a.name);case"array":return new ArrayCoder(this._getCoder(a.arrayChildren),a.arrayLength,a.name);case"tuple":return new TupleCoder((a.components||[]).map(at=>this._getCoder(at)),a.name);case"":return new NullCoder(a.name)}let rt=a.type.match(paramTypeNumber);if(rt){let at=parseInt(rt[2]||"256");return(at===0||at>256||at%8!==0)&&logger$y.throwArgumentError("invalid "+rt[1]+" bit length","param",a),new NumberCoder(at/8,rt[1]==="int",a.name)}if(rt=a.type.match(paramTypeBytes),rt){let at=parseInt(rt[1]);return(at===0||at>32)&&logger$y.throwArgumentError("invalid bytes length","param",a),new FixedBytesCoder(at,a.name)}return logger$y.throwArgumentError("invalid type","type",a.type)}_getWordSize(){return 32}_getReader(a,rt){return new Reader(a,this._getWordSize(),this.coerceFunc,rt)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(a){const rt=a.map(it=>this._getCoder(ParamType.from(it)));return new TupleCoder(rt,"_").defaultValue()}encode(a,rt){a.length!==rt.length&&logger$y.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:a.length,values:rt.length},value:{types:a,values:rt}});const at=a.map(st=>this._getCoder(ParamType.from(st))),it=new TupleCoder(at,"_"),ot=this._getWriter();return it.encode(ot,rt),ot.data}decode(a,rt,at){const it=a.map(st=>this._getCoder(ParamType.from(st)));return new TupleCoder(it,"_").decode(this._getReader(arrayify(rt),at))}}const defaultAbiCoder=new AbiCoder;function id(o){return keccak256$1(toUtf8Bytes(o))}const version$h="hash/5.7.0";function decode$2(o){o=atob(o);const a=[];for(let rt=0;rt<o.length;rt++)a.push(o.charCodeAt(rt));return arrayify(a)}function encode$1(o){o=arrayify(o);let a="";for(let rt=0;rt<o.length;rt++)a+=String.fromCharCode(o[rt]);return btoa(a)}const lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$2,encode:encode$1},Symbol.toStringTag,{value:"Module"}));function flat(o,a){a==null&&(a=1);const rt=[],at=rt.forEach,it=function(ot,st){at.call(ot,function(ct){st>0&&Array.isArray(ct)?it(ct,st-1):rt.push(ct)})};return it(o,a),rt}function fromEntries(o){const a={};for(let rt=0;rt<o.length;rt++){const at=o[rt];a[at[0]]=at[1]}return a}function decode_arithmetic(o){let a=0;function rt(){return o[a++]<<8|o[a++]}let at=rt(),it=1,ot=[0,1];for(let _t=1;_t<at;_t++)ot.push(it+=rt());let st=rt(),ct=a;a+=st;let lt=0,ut=0;function dt(){return lt==0&&(ut=ut<<8|o[a++],lt=8),ut>>--lt&1}const ft=31,pt=Math.pow(2,ft),ht=pt>>>1,yt=ht>>1,mt=pt-1;let gt=0;for(let _t=0;_t<ft;_t++)gt=gt<<1|dt();let bt=[],vt=0,wt=pt;for(;;){let _t=Math.floor(((gt-vt+1)*it-1)/wt),St=0,Pt=at;for(;Pt-St>1;){let Ut=St+Pt>>>1;_t<ot[Ut]?Pt=Ut:St=Ut}if(St==0)break;bt.push(St);let Nt=vt+Math.floor(wt*ot[St]/it),jt=vt+Math.floor(wt*ot[St+1]/it)-1;for(;((Nt^jt)&ht)==0;)gt=gt<<1&mt|dt(),Nt=Nt<<1&mt,jt=jt<<1&mt|1;for(;Nt&~jt&yt;)gt=gt&ht|gt<<1&mt>>>1|dt(),Nt=Nt<<1^ht,jt=(jt^ht)<<1|ht|1;vt=Nt,wt=1+jt-Nt}let Tt=at-4;return bt.map(_t=>{switch(_t-Tt){case 3:return Tt+65792+(o[ct++]<<16|o[ct++]<<8|o[ct++]);case 2:return Tt+256+(o[ct++]<<8|o[ct++]);case 1:return Tt+o[ct++];default:return _t-1}})}function read_payload(o){let a=0;return()=>o[a++]}function read_compressed_payload(o){return read_payload(decode_arithmetic(o))}function signed(o){return o&1?~o>>1:o>>1}function read_counts(o,a){let rt=Array(o);for(let at=0;at<o;at++)rt[at]=1+a();return rt}function read_ascending(o,a){let rt=Array(o);for(let at=0,it=-1;at<o;at++)rt[at]=it+=1+a();return rt}function read_deltas(o,a){let rt=Array(o);for(let at=0,it=0;at<o;at++)rt[at]=it+=signed(a());return rt}function read_member_array(o,a){let rt=read_ascending(o(),o),at=o(),it=read_ascending(at,o),ot=read_counts(at,o);for(let st=0;st<at;st++)for(let ct=0;ct<ot[st];ct++)rt.push(it[st]+ct);return a?rt.map(st=>a[st]):rt}function read_mapped_map(o){let a=[];for(;;){let rt=o();if(rt==0)break;a.push(read_linear_table(rt,o))}for(;;){let rt=o()-1;if(rt<0)break;a.push(read_replacement_table(rt,o))}return fromEntries(flat(a))}function read_zero_terminated_array(o){let a=[];for(;;){let rt=o();if(rt==0)break;a.push(rt)}return a}function read_transposed(o,a,rt){let at=Array(o).fill(void 0).map(()=>[]);for(let it=0;it<a;it++)read_deltas(o,rt).forEach((ot,st)=>at[st].push(ot));return at}function read_linear_table(o,a){let rt=1+a(),at=a(),it=read_zero_terminated_array(a),ot=read_transposed(it.length,1+o,a);return flat(ot.map((st,ct)=>{const lt=st[0],ut=st.slice(1);return Array(it[ct]).fill(void 0).map((dt,ft)=>{let pt=ft*at;return[lt+ft*rt,ut.map(ht=>ht+pt)]})}))}function read_replacement_table(o,a){let rt=1+a();return read_transposed(rt,1+o,a).map(it=>[it[0],it.slice(1)])}function read_emoji_trie(o){let a=read_member_array(o).sort((at,it)=>at-it);return rt();function rt(){let at=[];for(;;){let ut=read_member_array(o,a);if(ut.length==0)break;at.push({set:new Set(ut),node:rt()})}at.sort((ut,dt)=>dt.set.size-ut.set.size);let it=o(),ot=it%3;it=it/3|0;let st=!!(it&1);it>>=1;let ct=it==1,lt=it==2;return{branches:at,valid:ot,fe0f:st,save:ct,check:lt}}}function getData(){return read_compressed_payload(decode$2("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$3=getData(),VALID=new Set(read_member_array(r$3)),IGNORED=new Set(read_member_array(r$3)),MAPPED=read_mapped_map(r$3),EMOJI_ROOT=read_emoji_trie(r$3),HYPHEN=45,UNDERSCORE=95;function explode_cp(o){return toUtf8CodePoints(o)}function filter_fe0f(o){return o.filter(a=>a!=65039)}function ens_normalize_post_check(o){for(let a of o.split(".")){let rt=explode_cp(a);try{for(let at=rt.lastIndexOf(UNDERSCORE)-1;at>=0;at--)if(rt[at]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(rt.length>=4&&rt.every(at=>at<128)&&rt[2]===HYPHEN&&rt[3]===HYPHEN)throw new Error("invalid label extension")}catch(at){throw new Error(`Invalid label "${a}": ${at.message}`)}}return o}function ens_normalize(o){return ens_normalize_post_check(normalize(o,filter_fe0f))}function normalize(o,a){let rt=explode_cp(o).reverse(),at=[];for(;rt.length;){let it=consume_emoji_reversed(rt);if(it){at.push(...a(it));continue}let ot=rt.pop();if(VALID.has(ot)){at.push(ot);continue}if(IGNORED.has(ot))continue;let st=MAPPED[ot];if(st){at.push(...st);continue}throw new Error(`Disallowed codepoint: 0x${ot.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...at)))}function nfc(o){return o.normalize("NFC")}function consume_emoji_reversed(o,a){var rt;let at=EMOJI_ROOT,it,ot,st=[],ct=o.length;for(a&&(a.length=0);ct;){let lt=o[--ct];if(at=(rt=at.branches.find(ut=>ut.set.has(lt)))===null||rt===void 0?void 0:rt.node,!at)break;if(at.save)ot=lt;else if(at.check&&lt===ot)break;st.push(lt),at.fe0f&&(st.push(65039),ct>0&&o[ct-1]==65039&&ct--),at.valid&&(it=st.slice(),at.valid==2&&it.splice(1,1),a&&a.push(...o.slice(ct).reverse()),o.length=ct)}return it}const logger$x=new Logger(version$h),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent(o){if(o.length===0)throw new Error("invalid ENS name; empty component");return o}function ensNameSplit(o){const a=toUtf8Bytes(ens_normalize(o)),rt=[];if(o.length===0)return rt;let at=0;for(let it=0;it<a.length;it++)a[it]===46&&(rt.push(checkComponent(a.slice(at,it))),at=it+1);if(at>=a.length)throw new Error("invalid ENS name; empty component");return rt.push(checkComponent(a.slice(at))),rt}function ensNormalize(o){return ensNameSplit(o).map(a=>toUtf8String(a)).join(".")}function isValidName(o){try{return ensNameSplit(o).length!==0}catch{}return!1}function namehash(o){typeof o!="string"&&logger$x.throwArgumentError("invalid ENS name; not a string","name",o);let a=Zeros$1;const rt=ensNameSplit(o);for(;rt.length;)a=keccak256$1(concat([a,keccak256$1(rt.pop())]));return hexlify(a)}function dnsEncode(o){return hexlify(concat(ensNameSplit(o).map(a=>{if(a.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const rt=new Uint8Array(a.length+1);return rt.set(a,1),rt[0]=rt.length-1,rt})))+"00"}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(o){return typeof o=="string"&&(o=toUtf8Bytes(o)),keccak256$1(concat([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(o.length)),o]))}var __awaiter$e=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$w=new Logger(version$h),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(o){const a=arrayify(o),rt=a.length%32;return rt?hexConcat([a,padding.slice(rt)]):hexlify(a)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(o){return function(a){return typeof a!="string"&&logger$w.throwArgumentError(`invalid domain value for ${JSON.stringify(o)}`,`domain.${o}`,a),a}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(o){try{return BigNumber.from(o).toString()}catch{}return logger$w.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",o)},verifyingContract:function(o){try{return getAddress(o).toLowerCase()}catch{}return logger$w.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",o)},salt:function(o){try{const a=arrayify(o);if(a.length!==32)throw new Error("bad length");return hexlify(a)}catch{}return logger$w.throwArgumentError('invalid domain value "salt"',"domain.salt",o)}};function getBaseEncoder(o){{const a=o.match(/^(u?)int(\d*)$/);if(a){const rt=a[1]==="",at=parseInt(a[2]||"256");(at%8!==0||at>256||a[2]&&a[2]!==String(at))&&logger$w.throwArgumentError("invalid numeric width","type",o);const it=MaxUint256.mask(rt?at-1:at),ot=rt?it.add(One).mul(NegativeOne):Zero;return function(st){const ct=BigNumber.from(st);return(ct.lt(ot)||ct.gt(it))&&logger$w.throwArgumentError(`value out-of-bounds for ${o}`,"value",st),hexZeroPad(ct.toTwos(256).toHexString(),32)}}}{const a=o.match(/^bytes(\d+)$/);if(a){const rt=parseInt(a[1]);return(rt===0||rt>32||a[1]!==String(rt))&&logger$w.throwArgumentError("invalid bytes width","type",o),function(at){return arrayify(at).length!==rt&&logger$w.throwArgumentError(`invalid length for ${o}`,"value",at),hexPadRight(at)}}}switch(o){case"address":return function(a){return hexZeroPad(getAddress(a),32)};case"bool":return function(a){return a?hexTrue:hexFalse};case"bytes":return function(a){return keccak256$1(a)};case"string":return function(a){return id(a)}}return null}function encodeType(o,a){return`${o}(${a.map(({name:rt,type:at})=>at+" "+rt).join(",")})`}class TypedDataEncoder{constructor(a){defineReadOnly(this,"types",Object.freeze(deepCopy(a))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const rt={},at={},it={};Object.keys(a).forEach(ct=>{rt[ct]={},at[ct]=[],it[ct]={}});for(const ct in a){const lt={};a[ct].forEach(ut=>{lt[ut.name]&&logger$w.throwArgumentError(`duplicate variable name ${JSON.stringify(ut.name)} in ${JSON.stringify(ct)}`,"types",a),lt[ut.name]=!0;const dt=ut.type.match(/^([^\x5b]*)(\x5b|$)/)[1];dt===ct&&logger$w.throwArgumentError(`circular type reference to ${JSON.stringify(dt)}`,"types",a),!getBaseEncoder(dt)&&(at[dt]||logger$w.throwArgumentError(`unknown type ${JSON.stringify(dt)}`,"types",a),at[dt].push(ct),rt[ct][dt]=!0)})}const ot=Object.keys(at).filter(ct=>at[ct].length===0);ot.length===0?logger$w.throwArgumentError("missing primary type","types",a):ot.length>1&&logger$w.throwArgumentError(`ambiguous primary types or unused types: ${ot.map(ct=>JSON.stringify(ct)).join(", ")}`,"types",a),defineReadOnly(this,"primaryType",ot[0]);function st(ct,lt){lt[ct]&&logger$w.throwArgumentError(`circular type reference to ${JSON.stringify(ct)}`,"types",a),lt[ct]=!0,Object.keys(rt[ct]).forEach(ut=>{!at[ut]||(st(ut,lt),Object.keys(lt).forEach(dt=>{it[dt][ut]=!0}))}),delete lt[ct]}st(this.primaryType,{});for(const ct in it){const lt=Object.keys(it[ct]);lt.sort(),this._types[ct]=encodeType(ct,a[ct])+lt.map(ut=>encodeType(ut,a[ut])).join("")}}getEncoder(a){let rt=this._encoderCache[a];return rt||(rt=this._encoderCache[a]=this._getEncoder(a)),rt}_getEncoder(a){{const it=getBaseEncoder(a);if(it)return it}const rt=a.match(/^(.*)(\x5b(\d*)\x5d)$/);if(rt){const it=rt[1],ot=this.getEncoder(it),st=parseInt(rt[3]);return ct=>{st>=0&&ct.length!==st&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",ct);let lt=ct.map(ot);return this._types[it]&&(lt=lt.map(keccak256$1)),keccak256$1(hexConcat(lt))}}const at=this.types[a];if(at){const it=id(this._types[a]);return ot=>{const st=at.map(({name:ct,type:lt})=>{const ut=this.getEncoder(lt)(ot[ct]);return this._types[lt]?keccak256$1(ut):ut});return st.unshift(it),hexConcat(st)}}return logger$w.throwArgumentError(`unknown type: ${a}`,"type",a)}encodeType(a){const rt=this._types[a];return rt||logger$w.throwArgumentError(`unknown type: ${JSON.stringify(a)}`,"name",a),rt}encodeData(a,rt){return this.getEncoder(a)(rt)}hashStruct(a,rt){return keccak256$1(this.encodeData(a,rt))}encode(a){return this.encodeData(this.primaryType,a)}hash(a){return this.hashStruct(this.primaryType,a)}_visit(a,rt,at){if(getBaseEncoder(a))return at(a,rt);const it=a.match(/^(.*)(\x5b(\d*)\x5d)$/);if(it){const st=it[1],ct=parseInt(it[3]);return ct>=0&&rt.length!==ct&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",rt),rt.map(lt=>this._visit(st,lt,at))}const ot=this.types[a];return ot?ot.reduce((st,{name:ct,type:lt})=>(st[ct]=this._visit(lt,rt[ct],at),st),{}):logger$w.throwArgumentError(`unknown type: ${a}`,"type",a)}visit(a,rt){return this._visit(this.primaryType,a,rt)}static from(a){return new TypedDataEncoder(a)}static getPrimaryType(a){return TypedDataEncoder.from(a).primaryType}static hashStruct(a,rt,at){return TypedDataEncoder.from(rt).hashStruct(a,at)}static hashDomain(a){const rt=[];for(const at in a){const it=domainFieldTypes[at];it||logger$w.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(at)}`,"domain",a),rt.push({name:at,type:it})}return rt.sort((at,it)=>domainFieldNames.indexOf(at.name)-domainFieldNames.indexOf(it.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:rt},a)}static encode(a,rt,at){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(a),TypedDataEncoder.from(rt).hash(at)])}static hash(a,rt,at){return keccak256$1(TypedDataEncoder.encode(a,rt,at))}static resolveNames(a,rt,at,it){return __awaiter$e(this,void 0,void 0,function*(){a=shallowCopy(a);const ot={};a.verifyingContract&&!isHexString(a.verifyingContract,20)&&(ot[a.verifyingContract]="0x");const st=TypedDataEncoder.from(rt);st.visit(at,(ct,lt)=>(ct==="address"&&!isHexString(lt,20)&&(ot[lt]="0x"),lt));for(const ct in ot)ot[ct]=yield it(ct);return a.verifyingContract&&ot[a.verifyingContract]&&(a.verifyingContract=ot[a.verifyingContract]),at=st.visit(at,(ct,lt)=>ct==="address"&&ot[lt]?ot[lt]:lt),{domain:a,value:at}})}static getPayload(a,rt,at){TypedDataEncoder.hashDomain(a);const it={},ot=[];domainFieldNames.forEach(lt=>{const ut=a[lt];ut!=null&&(it[lt]=domainChecks[lt](ut),ot.push({name:lt,type:domainFieldTypes[lt]}))});const st=TypedDataEncoder.from(rt),ct=shallowCopy(rt);return ct.EIP712Domain?logger$w.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",rt):ct.EIP712Domain=ot,st.encode(at),{types:ct,domain:it,primaryType:st.primaryType,message:st.visit(at,(lt,ut)=>{if(lt.match(/^bytes(\d*)/))return hexlify(arrayify(ut));if(lt.match(/^u?int/))return BigNumber.from(ut).toString();switch(lt){case"address":return ut.toLowerCase();case"bool":return!!ut;case"string":return typeof ut!="string"&&logger$w.throwArgumentError("invalid string","value",ut),ut}return logger$w.throwArgumentError("unsupported type","type",lt)})}}}const lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,id,dnsEncode,namehash,isValidName,ensNormalize,messagePrefix,hashMessage,_TypedDataEncoder:TypedDataEncoder},Symbol.toStringTag,{value:"Module"})),logger$v=new Logger(version$l);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(a){return!!(a&&a._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(o,a){const rt=new Error(`deferred error during ABI decoding triggered accessing ${o}`);return rt.error=a,rt}class Interface{constructor(a){let rt=[];typeof a=="string"?rt=JSON.parse(a):rt=a,defineReadOnly(this,"fragments",rt.map(at=>Fragment.from(at)).filter(at=>at!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(at=>{let it=null;switch(at.type){case"constructor":if(this.deploy){logger$v.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",at);return;case"function":it=this.functions;break;case"event":it=this.events;break;case"error":it=this.errors;break;default:return}let ot=at.format();if(it[ot]){logger$v.warn("duplicate definition - "+ot);return}it[ot]=at}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(a){a||(a=FormatTypes.full),a===FormatTypes.sighash&&logger$v.throwArgumentError("interface does not support formatting sighash","format",a);const rt=this.fragments.map(at=>at.format(a));return a===FormatTypes.json?JSON.stringify(rt.map(at=>JSON.parse(at))):rt}static getAbiCoder(){return defaultAbiCoder}static getAddress(a){return getAddress(a)}static getSighash(a){return hexDataSlice(id(a.format()),0,4)}static getEventTopic(a){return id(a.format())}getFunction(a){if(isHexString(a)){for(const at in this.functions)if(a===this.getSighash(at))return this.functions[at];logger$v.throwArgumentError("no matching function","sighash",a)}if(a.indexOf("(")===-1){const at=a.trim(),it=Object.keys(this.functions).filter(ot=>ot.split("(")[0]===at);return it.length===0?logger$v.throwArgumentError("no matching function","name",at):it.length>1&&logger$v.throwArgumentError("multiple matching functions","name",at),this.functions[it[0]]}const rt=this.functions[FunctionFragment.fromString(a).format()];return rt||logger$v.throwArgumentError("no matching function","signature",a),rt}getEvent(a){if(isHexString(a)){const at=a.toLowerCase();for(const it in this.events)if(at===this.getEventTopic(it))return this.events[it];logger$v.throwArgumentError("no matching event","topichash",at)}if(a.indexOf("(")===-1){const at=a.trim(),it=Object.keys(this.events).filter(ot=>ot.split("(")[0]===at);return it.length===0?logger$v.throwArgumentError("no matching event","name",at):it.length>1&&logger$v.throwArgumentError("multiple matching events","name",at),this.events[it[0]]}const rt=this.events[EventFragment.fromString(a).format()];return rt||logger$v.throwArgumentError("no matching event","signature",a),rt}getError(a){if(isHexString(a)){const at=getStatic(this.constructor,"getSighash");for(const it in this.errors){const ot=this.errors[it];if(a===at(ot))return this.errors[it]}logger$v.throwArgumentError("no matching error","sighash",a)}if(a.indexOf("(")===-1){const at=a.trim(),it=Object.keys(this.errors).filter(ot=>ot.split("(")[0]===at);return it.length===0?logger$v.throwArgumentError("no matching error","name",at):it.length>1&&logger$v.throwArgumentError("multiple matching errors","name",at),this.errors[it[0]]}const rt=this.errors[FunctionFragment.fromString(a).format()];return rt||logger$v.throwArgumentError("no matching error","signature",a),rt}getSighash(a){if(typeof a=="string")try{a=this.getFunction(a)}catch(rt){try{a=this.getError(a)}catch{throw rt}}return getStatic(this.constructor,"getSighash")(a)}getEventTopic(a){return typeof a=="string"&&(a=this.getEvent(a)),getStatic(this.constructor,"getEventTopic")(a)}_decodeParams(a,rt){return this._abiCoder.decode(a,rt)}_encodeParams(a,rt){return this._abiCoder.encode(a,rt)}encodeDeploy(a){return this._encodeParams(this.deploy.inputs,a||[])}decodeErrorResult(a,rt){typeof a=="string"&&(a=this.getError(a));const at=arrayify(rt);return hexlify(at.slice(0,4))!==this.getSighash(a)&&logger$v.throwArgumentError(`data signature does not match error ${a.name}.`,"data",hexlify(at)),this._decodeParams(a.inputs,at.slice(4))}encodeErrorResult(a,rt){return typeof a=="string"&&(a=this.getError(a)),hexlify(concat([this.getSighash(a),this._encodeParams(a.inputs,rt||[])]))}decodeFunctionData(a,rt){typeof a=="string"&&(a=this.getFunction(a));const at=arrayify(rt);return hexlify(at.slice(0,4))!==this.getSighash(a)&&logger$v.throwArgumentError(`data signature does not match function ${a.name}.`,"data",hexlify(at)),this._decodeParams(a.inputs,at.slice(4))}encodeFunctionData(a,rt){return typeof a=="string"&&(a=this.getFunction(a)),hexlify(concat([this.getSighash(a),this._encodeParams(a.inputs,rt||[])]))}decodeFunctionResult(a,rt){typeof a=="string"&&(a=this.getFunction(a));let at=arrayify(rt),it=null,ot="",st=null,ct=null,lt=null;switch(at.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(a.outputs,at)}catch{}break;case 4:{const ut=hexlify(at.slice(0,4)),dt=BuiltinErrors[ut];if(dt)st=this._abiCoder.decode(dt.inputs,at.slice(4)),ct=dt.name,lt=dt.signature,dt.reason&&(it=st[0]),ct==="Error"?ot=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(st[0])}`:ct==="Panic"&&(ot=`; VM Exception while processing transaction: reverted with panic code ${st[0]}`);else try{const ft=this.getError(ut);st=this._abiCoder.decode(ft.inputs,at.slice(4)),ct=ft.name,lt=ft.format()}catch{}break}}return logger$v.throwError("call revert exception"+ot,Logger.errors.CALL_EXCEPTION,{method:a.format(),data:hexlify(rt),errorArgs:st,errorName:ct,errorSignature:lt,reason:it})}encodeFunctionResult(a,rt){return typeof a=="string"&&(a=this.getFunction(a)),hexlify(this._abiCoder.encode(a.outputs,rt||[]))}encodeFilterTopics(a,rt){typeof a=="string"&&(a=this.getEvent(a)),rt.length>a.inputs.length&&logger$v.throwError("too many arguments for "+a.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:rt});let at=[];a.anonymous||at.push(this.getEventTopic(a));const it=(ot,st)=>ot.type==="string"?id(st):ot.type==="bytes"?keccak256$1(hexlify(st)):(ot.type==="bool"&&typeof st=="boolean"&&(st=st?"0x01":"0x00"),ot.type.match(/^u?int/)&&(st=BigNumber.from(st).toHexString()),ot.type==="address"&&this._abiCoder.encode(["address"],[st]),hexZeroPad(hexlify(st),32));for(rt.forEach((ot,st)=>{let ct=a.inputs[st];if(!ct.indexed){ot!=null&&logger$v.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ct.name,ot);return}ot==null?at.push(null):ct.baseType==="array"||ct.baseType==="tuple"?logger$v.throwArgumentError("filtering with tuples or arrays not supported","contract."+ct.name,ot):Array.isArray(ot)?at.push(ot.map(lt=>it(ct,lt))):at.push(it(ct,ot))});at.length&&at[at.length-1]===null;)at.pop();return at}encodeEventLog(a,rt){typeof a=="string"&&(a=this.getEvent(a));const at=[],it=[],ot=[];return a.anonymous||at.push(this.getEventTopic(a)),rt.length!==a.inputs.length&&logger$v.throwArgumentError("event arguments/values mismatch","values",rt),a.inputs.forEach((st,ct)=>{const lt=rt[ct];if(st.indexed)if(st.type==="string")at.push(id(lt));else if(st.type==="bytes")at.push(keccak256$1(lt));else{if(st.baseType==="tuple"||st.baseType==="array")throw new Error("not implemented");at.push(this._abiCoder.encode([st.type],[lt]))}else it.push(st),ot.push(lt)}),{data:this._abiCoder.encode(it,ot),topics:at}}decodeEventLog(a,rt,at){if(typeof a=="string"&&(a=this.getEvent(a)),at!=null&&!a.anonymous){let pt=this.getEventTopic(a);(!isHexString(at[0],32)||at[0].toLowerCase()!==pt)&&logger$v.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:pt,value:at[0]}),at=at.slice(1)}let it=[],ot=[],st=[];a.inputs.forEach((pt,ht)=>{pt.indexed?pt.type==="string"||pt.type==="bytes"||pt.baseType==="tuple"||pt.baseType==="array"?(it.push(ParamType.fromObject({type:"bytes32",name:pt.name})),st.push(!0)):(it.push(pt),st.push(!1)):(ot.push(pt),st.push(!1))});let ct=at!=null?this._abiCoder.decode(it,concat(at)):null,lt=this._abiCoder.decode(ot,rt,!0),ut=[],dt=0,ft=0;a.inputs.forEach((pt,ht)=>{if(pt.indexed)if(ct==null)ut[ht]=new Indexed({_isIndexed:!0,hash:null});else if(st[ht])ut[ht]=new Indexed({_isIndexed:!0,hash:ct[ft++]});else try{ut[ht]=ct[ft++]}catch(yt){ut[ht]=yt}else try{ut[ht]=lt[dt++]}catch(yt){ut[ht]=yt}if(pt.name&&ut[pt.name]==null){const yt=ut[ht];yt instanceof Error?Object.defineProperty(ut,pt.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(pt.name)}`,yt)}}):ut[pt.name]=yt}});for(let pt=0;pt<ut.length;pt++){const ht=ut[pt];ht instanceof Error&&Object.defineProperty(ut,pt,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${pt}`,ht)}})}return Object.freeze(ut)}parseTransaction(a){let rt=this.getFunction(a.data.substring(0,10).toLowerCase());return rt?new TransactionDescription({args:this._abiCoder.decode(rt.inputs,"0x"+a.data.substring(10)),functionFragment:rt,name:rt.name,signature:rt.format(),sighash:this.getSighash(rt),value:BigNumber.from(a.value||"0")}):null}parseLog(a){let rt=this.getEvent(a.topics[0]);return!rt||rt.anonymous?null:new LogDescription({eventFragment:rt,name:rt.name,signature:rt.format(),topic:this.getEventTopic(rt),args:this.decodeEventLog(rt,a.data,a.topics)})}parseError(a){const rt=hexlify(a);let at=this.getError(rt.substring(0,10).toLowerCase());return at?new ErrorDescription({args:this._abiCoder.decode(at.inputs,"0x"+rt.substring(10)),errorFragment:at,name:at.name,signature:at.format(),sighash:this.getSighash(at)}):null}static isInterface(a){return!!(a&&a._isInterface)}}const lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment,ErrorFragment,EventFragment,Fragment,FunctionFragment,ParamType,FormatTypes,AbiCoder,defaultAbiCoder,Interface,Indexed,checkResultErrors,LogDescription,TransactionDescription},Symbol.toStringTag,{value:"Module"})),version$g="abstract-provider/5.7.0";var __awaiter$d=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$u=new Logger(version$g);class ForkEvent extends Description{static isForkEvent(a){return!!(a&&a._isForkEvent)}}class Provider{constructor(){logger$u.checkAbstract(new.target,Provider),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$d(this,void 0,void 0,function*(){const{block:a,gasPrice:rt}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(st=>null)});let at=null,it=null,ot=null;return a&&a.baseFeePerGas&&(at=a.baseFeePerGas,ot=BigNumber.from("1500000000"),it=a.baseFeePerGas.mul(2).add(ot)),{lastBaseFeePerGas:at,maxFeePerGas:it,maxPriorityFeePerGas:ot,gasPrice:rt}})}addListener(a,rt){return this.on(a,rt)}removeListener(a,rt){return this.off(a,rt)}static isProvider(a){return!!(a&&a._isProvider)}}const version$f="abstract-signer/5.7.0";var __awaiter$c=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$t=new Logger(version$f),allowedTransactionKeys$3=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$t.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(a){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),a)})}getTransactionCount(a){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),a)})}estimateGas(a){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const rt=yield resolveProperties(this.checkTransaction(a));return yield this.provider.estimateGas(rt)})}call(a,rt){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("call");const at=yield resolveProperties(this.checkTransaction(a));return yield this.provider.call(at,rt)})}sendTransaction(a){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const rt=yield this.populateTransaction(a),at=yield this.signTransaction(rt);return yield this.provider.sendTransaction(at)})}getChainId(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(a){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(a)})}checkTransaction(a){for(const at in a)allowedTransactionKeys$3.indexOf(at)===-1&&logger$t.throwArgumentError("invalid transaction key: "+at,"transaction",a);const rt=shallowCopy(a);return rt.from==null?rt.from=this.getAddress():rt.from=Promise.all([Promise.resolve(rt.from),this.getAddress()]).then(at=>(at[0].toLowerCase()!==at[1].toLowerCase()&&logger$t.throwArgumentError("from address mismatch","transaction",a),at[0])),rt}populateTransaction(a){return __awaiter$c(this,void 0,void 0,function*(){const rt=yield resolveProperties(this.checkTransaction(a));rt.to!=null&&(rt.to=Promise.resolve(rt.to).then(it=>__awaiter$c(this,void 0,void 0,function*(){if(it==null)return null;const ot=yield this.resolveName(it);return ot==null&&logger$t.throwArgumentError("provided ENS name resolves to null","tx.to",it),ot})),rt.to.catch(it=>{}));const at=rt.maxFeePerGas!=null||rt.maxPriorityFeePerGas!=null;if(rt.gasPrice!=null&&(rt.type===2||at)?logger$t.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",a):(rt.type===0||rt.type===1)&&at&&logger$t.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",a),(rt.type===2||rt.type==null)&&rt.maxFeePerGas!=null&&rt.maxPriorityFeePerGas!=null)rt.type=2;else if(rt.type===0||rt.type===1)rt.gasPrice==null&&(rt.gasPrice=this.getGasPrice());else{const it=yield this.getFeeData();if(rt.type==null)if(it.maxFeePerGas!=null&&it.maxPriorityFeePerGas!=null)if(rt.type=2,rt.gasPrice!=null){const ot=rt.gasPrice;delete rt.gasPrice,rt.maxFeePerGas=ot,rt.maxPriorityFeePerGas=ot}else rt.maxFeePerGas==null&&(rt.maxFeePerGas=it.maxFeePerGas),rt.maxPriorityFeePerGas==null&&(rt.maxPriorityFeePerGas=it.maxPriorityFeePerGas);else it.gasPrice!=null?(at&&logger$t.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),rt.gasPrice==null&&(rt.gasPrice=it.gasPrice),rt.type=0):logger$t.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else rt.type===2&&(rt.maxFeePerGas==null&&(rt.maxFeePerGas=it.maxFeePerGas),rt.maxPriorityFeePerGas==null&&(rt.maxPriorityFeePerGas=it.maxPriorityFeePerGas))}return rt.nonce==null&&(rt.nonce=this.getTransactionCount("pending")),rt.gasLimit==null&&(rt.gasLimit=this.estimateGas(rt).catch(it=>{if(forwardErrors.indexOf(it.code)>=0)throw it;return logger$t.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:it,tx:rt})})),rt.chainId==null?rt.chainId=this.getChainId():rt.chainId=Promise.all([Promise.resolve(rt.chainId),this.getChainId()]).then(it=>(it[1]!==0&&it[0]!==it[1]&&logger$t.throwArgumentError("chainId address mismatch","transaction",a),it[0])),yield resolveProperties(rt)})}_checkProvider(a){this.provider||logger$t.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:a||"_checkProvider"})}static isSigner(a){return!!(a&&a._isSigner)}}class VoidSigner extends Signer{constructor(a,rt){super(),defineReadOnly(this,"address",a),defineReadOnly(this,"provider",rt||null)}getAddress(){return Promise.resolve(this.address)}_fail(a,rt){return Promise.resolve().then(()=>{logger$t.throwError(a,Logger.errors.UNSUPPORTED_OPERATION,{operation:rt})})}signMessage(a){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(a){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(a,rt,at){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(a){return new VoidSigner(this.address,a)}}var hash$1={},utils$a={},minimalisticAssert$1=assert$b;function assert$b(o,a){if(!o)throw new Error(a||"Assertion failed")}assert$b.equal=function o(a,rt,at){if(a!=rt)throw new Error(at||"Assertion failed: "+a+" != "+rt)};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(a,rt){rt&&(a.super_=rt,a.prototype=Object.create(rt.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(a,rt){if(rt){a.super_=rt;var at=function(){};at.prototype=rt.prototype,a.prototype=new at,a.prototype.constructor=a}};var assert$a=minimalisticAssert$1,inherits=inherits_browser$1.exports;utils$a.inherits=inherits;function isSurrogatePair(o,a){return(o.charCodeAt(a)&64512)!==55296||a<0||a+1>=o.length?!1:(o.charCodeAt(a+1)&64512)===56320}function toArray(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var rt=[];if(typeof o=="string")if(a){if(a==="hex")for(o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o),it=0;it<o.length;it+=2)rt.push(parseInt(o[it]+o[it+1],16))}else for(var at=0,it=0;it<o.length;it++){var ot=o.charCodeAt(it);ot<128?rt[at++]=ot:ot<2048?(rt[at++]=ot>>6|192,rt[at++]=ot&63|128):isSurrogatePair(o,it)?(ot=65536+((ot&1023)<<10)+(o.charCodeAt(++it)&1023),rt[at++]=ot>>18|240,rt[at++]=ot>>12&63|128,rt[at++]=ot>>6&63|128,rt[at++]=ot&63|128):(rt[at++]=ot>>12|224,rt[at++]=ot>>6&63|128,rt[at++]=ot&63|128)}else for(it=0;it<o.length;it++)rt[it]=o[it]|0;return rt}utils$a.toArray=toArray;function toHex(o){for(var a="",rt=0;rt<o.length;rt++)a+=zero2(o[rt].toString(16));return a}utils$a.toHex=toHex;function htonl(o){var a=o>>>24|o>>>8&65280|o<<8&16711680|(o&255)<<24;return a>>>0}utils$a.htonl=htonl;function toHex32(o,a){for(var rt="",at=0;at<o.length;at++){var it=o[at];a==="little"&&(it=htonl(it)),rt+=zero8(it.toString(16))}return rt}utils$a.toHex32=toHex32;function zero2(o){return o.length===1?"0"+o:o}utils$a.zero2=zero2;function zero8(o){return o.length===7?"0"+o:o.length===6?"00"+o:o.length===5?"000"+o:o.length===4?"0000"+o:o.length===3?"00000"+o:o.length===2?"000000"+o:o.length===1?"0000000"+o:o}utils$a.zero8=zero8;function join32(o,a,rt,at){var it=rt-a;assert$a(it%4===0);for(var ot=new Array(it/4),st=0,ct=a;st<ot.length;st++,ct+=4){var lt;at==="big"?lt=o[ct]<<24|o[ct+1]<<16|o[ct+2]<<8|o[ct+3]:lt=o[ct+3]<<24|o[ct+2]<<16|o[ct+1]<<8|o[ct],ot[st]=lt>>>0}return ot}utils$a.join32=join32;function split32(o,a){for(var rt=new Array(o.length*4),at=0,it=0;at<o.length;at++,it+=4){var ot=o[at];a==="big"?(rt[it]=ot>>>24,rt[it+1]=ot>>>16&255,rt[it+2]=ot>>>8&255,rt[it+3]=ot&255):(rt[it+3]=ot>>>24,rt[it+2]=ot>>>16&255,rt[it+1]=ot>>>8&255,rt[it]=ot&255)}return rt}utils$a.split32=split32;function rotr32$1(o,a){return o>>>a|o<<32-a}utils$a.rotr32=rotr32$1;function rotl32$2(o,a){return o<<a|o>>>32-a}utils$a.rotl32=rotl32$2;function sum32$3(o,a){return o+a>>>0}utils$a.sum32=sum32$3;function sum32_3$1(o,a,rt){return o+a+rt>>>0}utils$a.sum32_3=sum32_3$1;function sum32_4$2(o,a,rt,at){return o+a+rt+at>>>0}utils$a.sum32_4=sum32_4$2;function sum32_5$2(o,a,rt,at,it){return o+a+rt+at+it>>>0}utils$a.sum32_5=sum32_5$2;function sum64$1(o,a,rt,at){var it=o[a],ot=o[a+1],st=at+ot>>>0,ct=(st<at?1:0)+rt+it;o[a]=ct>>>0,o[a+1]=st}utils$a.sum64=sum64$1;function sum64_hi$1(o,a,rt,at){var it=a+at>>>0,ot=(it<a?1:0)+o+rt;return ot>>>0}utils$a.sum64_hi=sum64_hi$1;function sum64_lo$1(o,a,rt,at){var it=a+at;return it>>>0}utils$a.sum64_lo=sum64_lo$1;function sum64_4_hi$1(o,a,rt,at,it,ot,st,ct){var lt=0,ut=a;ut=ut+at>>>0,lt+=ut<a?1:0,ut=ut+ot>>>0,lt+=ut<ot?1:0,ut=ut+ct>>>0,lt+=ut<ct?1:0;var dt=o+rt+it+st+lt;return dt>>>0}utils$a.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(o,a,rt,at,it,ot,st,ct){var lt=a+at+ot+ct;return lt>>>0}utils$a.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(o,a,rt,at,it,ot,st,ct,lt,ut){var dt=0,ft=a;ft=ft+at>>>0,dt+=ft<a?1:0,ft=ft+ot>>>0,dt+=ft<ot?1:0,ft=ft+ct>>>0,dt+=ft<ct?1:0,ft=ft+ut>>>0,dt+=ft<ut?1:0;var pt=o+rt+it+st+lt+dt;return pt>>>0}utils$a.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(o,a,rt,at,it,ot,st,ct,lt,ut){var dt=a+at+ot+ct+ut;return dt>>>0}utils$a.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(o,a,rt){var at=a<<32-rt|o>>>rt;return at>>>0}utils$a.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(o,a,rt){var at=o<<32-rt|a>>>rt;return at>>>0}utils$a.rotr64_lo=rotr64_lo$1;function shr64_hi$1(o,a,rt){return o>>>rt}utils$a.shr64_hi=shr64_hi$1;function shr64_lo$1(o,a,rt){var at=o<<32-rt|a>>>rt;return at>>>0}utils$a.shr64_lo=shr64_lo$1;var common$5={},utils$9=utils$a,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function o(a,rt){if(a=utils$9.toArray(a,rt),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var at=a.length%this._delta8;this.pending=a.slice(a.length-at,a.length),this.pending.length===0&&(this.pending=null),a=utils$9.join32(a,0,a.length-at,this.endian);for(var it=0;it<a.length;it+=this._delta32)this._update(a,it,it+this._delta32)}return this};BlockHash$4.prototype.digest=function o(a){return this.update(this._pad()),assert$9(this.pending===null),this._digest(a)};BlockHash$4.prototype._pad=function o(){var a=this.pendingTotal,rt=this._delta8,at=rt-(a+this.padLength)%rt,it=new Array(at+this.padLength);it[0]=128;for(var ot=1;ot<at;ot++)it[ot]=0;if(a<<=3,this.endian==="big"){for(var st=8;st<this.padLength;st++)it[ot++]=0;it[ot++]=0,it[ot++]=0,it[ot++]=0,it[ot++]=0,it[ot++]=a>>>24&255,it[ot++]=a>>>16&255,it[ot++]=a>>>8&255,it[ot++]=a&255}else for(it[ot++]=a&255,it[ot++]=a>>>8&255,it[ot++]=a>>>16&255,it[ot++]=a>>>24&255,it[ot++]=0,it[ot++]=0,it[ot++]=0,it[ot++]=0,st=8;st<this.padLength;st++)it[ot++]=0;return it};var sha={},common$4={},utils$8=utils$a,rotr32=utils$8.rotr32;function ft_1$1(o,a,rt,at){if(o===0)return ch32$1(a,rt,at);if(o===1||o===3)return p32(a,rt,at);if(o===2)return maj32$1(a,rt,at)}common$4.ft_1=ft_1$1;function ch32$1(o,a,rt){return o&a^~o&rt}common$4.ch32=ch32$1;function maj32$1(o,a,rt){return o&a^o&rt^a&rt}common$4.maj32=maj32$1;function p32(o,a,rt){return o^a^rt}common$4.p32=p32;function s0_256$1(o){return rotr32(o,2)^rotr32(o,13)^rotr32(o,22)}common$4.s0_256=s0_256$1;function s1_256$1(o){return rotr32(o,6)^rotr32(o,11)^rotr32(o,25)}common$4.s1_256=s1_256$1;function g0_256$1(o){return rotr32(o,7)^rotr32(o,18)^o>>>3}common$4.g0_256=g0_256$1;function g1_256$1(o){return rotr32(o,17)^rotr32(o,19)^o>>>10}common$4.g1_256=g1_256$1;var utils$7=utils$a,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$7.rotl32,sum32$2=utils$7.sum32,sum32_5$1=utils$7.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$7.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function o(a,rt){for(var at=this.W,it=0;it<16;it++)at[it]=a[rt+it];for(;it<at.length;it++)at[it]=rotl32$1(at[it-3]^at[it-8]^at[it-14]^at[it-16],1);var ot=this.h[0],st=this.h[1],ct=this.h[2],lt=this.h[3],ut=this.h[4];for(it=0;it<at.length;it++){var dt=~~(it/20),ft=sum32_5$1(rotl32$1(ot,5),ft_1(dt,st,ct,lt),ut,at[it],sha1_K[dt]);ut=lt,lt=ct,ct=rotl32$1(st,30),st=ot,ot=ft}this.h[0]=sum32$2(this.h[0],ot),this.h[1]=sum32$2(this.h[1],st),this.h[2]=sum32$2(this.h[2],ct),this.h[3]=sum32$2(this.h[3],lt),this.h[4]=sum32$2(this.h[4],ut)};SHA1.prototype._digest=function o(a){return a==="hex"?utils$7.toHex32(this.h,"big"):utils$7.split32(this.h,"big")};var utils$6=utils$a,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$6.sum32,sum32_4$1=utils$6.sum32_4,sum32_5=utils$6.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$6.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function o(a,rt){for(var at=this.W,it=0;it<16;it++)at[it]=a[rt+it];for(;it<at.length;it++)at[it]=sum32_4$1(g1_256(at[it-2]),at[it-7],g0_256(at[it-15]),at[it-16]);var ot=this.h[0],st=this.h[1],ct=this.h[2],lt=this.h[3],ut=this.h[4],dt=this.h[5],ft=this.h[6],pt=this.h[7];for(assert$8(this.k.length===at.length),it=0;it<at.length;it++){var ht=sum32_5(pt,s1_256(ut),ch32(ut,dt,ft),this.k[it],at[it]),yt=sum32$1(s0_256(ot),maj32(ot,st,ct));pt=ft,ft=dt,dt=ut,ut=sum32$1(lt,ht),lt=ct,ct=st,st=ot,ot=sum32$1(ht,yt)}this.h[0]=sum32$1(this.h[0],ot),this.h[1]=sum32$1(this.h[1],st),this.h[2]=sum32$1(this.h[2],ct),this.h[3]=sum32$1(this.h[3],lt),this.h[4]=sum32$1(this.h[4],ut),this.h[5]=sum32$1(this.h[5],dt),this.h[6]=sum32$1(this.h[6],ft),this.h[7]=sum32$1(this.h[7],pt)};SHA256$1.prototype._digest=function o(a){return a==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$a,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$5.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function o(a){return a==="hex"?utils$5.toHex32(this.h.slice(0,7),"big"):utils$5.split32(this.h.slice(0,7),"big")};var utils$4=utils$a,common$1=common$5,assert$7=minimalisticAssert$1,rotr64_hi=utils$4.rotr64_hi,rotr64_lo=utils$4.rotr64_lo,shr64_hi=utils$4.shr64_hi,shr64_lo=utils$4.shr64_lo,sum64=utils$4.sum64,sum64_hi=utils$4.sum64_hi,sum64_lo=utils$4.sum64_lo,sum64_4_hi=utils$4.sum64_4_hi,sum64_4_lo=utils$4.sum64_4_lo,sum64_5_hi=utils$4.sum64_5_hi,sum64_5_lo=utils$4.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$4.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function o(a,rt){for(var at=this.W,it=0;it<32;it++)at[it]=a[rt+it];for(;it<at.length;it+=2){var ot=g1_512_hi(at[it-4],at[it-3]),st=g1_512_lo(at[it-4],at[it-3]),ct=at[it-14],lt=at[it-13],ut=g0_512_hi(at[it-30],at[it-29]),dt=g0_512_lo(at[it-30],at[it-29]),ft=at[it-32],pt=at[it-31];at[it]=sum64_4_hi(ot,st,ct,lt,ut,dt,ft,pt),at[it+1]=sum64_4_lo(ot,st,ct,lt,ut,dt,ft,pt)}};SHA512$1.prototype._update=function o(a,rt){this._prepareBlock(a,rt);var at=this.W,it=this.h[0],ot=this.h[1],st=this.h[2],ct=this.h[3],lt=this.h[4],ut=this.h[5],dt=this.h[6],ft=this.h[7],pt=this.h[8],ht=this.h[9],yt=this.h[10],mt=this.h[11],gt=this.h[12],bt=this.h[13],vt=this.h[14],wt=this.h[15];assert$7(this.k.length===at.length);for(var Tt=0;Tt<at.length;Tt+=2){var _t=vt,St=wt,Pt=s1_512_hi(pt,ht),Nt=s1_512_lo(pt,ht),jt=ch64_hi(pt,ht,yt,mt,gt),Ut=ch64_lo(pt,ht,yt,mt,gt,bt),Ft=this.k[Tt],Kt=this.k[Tt+1],Mt=at[Tt],xt=at[Tt+1],Et=sum64_5_hi(_t,St,Pt,Nt,jt,Ut,Ft,Kt,Mt,xt),Rt=sum64_5_lo(_t,St,Pt,Nt,jt,Ut,Ft,Kt,Mt,xt);_t=s0_512_hi(it,ot),St=s0_512_lo(it,ot),Pt=maj64_hi(it,ot,st,ct,lt),Nt=maj64_lo(it,ot,st,ct,lt,ut);var Lt=sum64_hi(_t,St,Pt,Nt),Bt=sum64_lo(_t,St,Pt,Nt);vt=gt,wt=bt,gt=yt,bt=mt,yt=pt,mt=ht,pt=sum64_hi(dt,ft,Et,Rt),ht=sum64_lo(ft,ft,Et,Rt),dt=lt,ft=ut,lt=st,ut=ct,st=it,ct=ot,it=sum64_hi(Et,Rt,Lt,Bt),ot=sum64_lo(Et,Rt,Lt,Bt)}sum64(this.h,0,it,ot),sum64(this.h,2,st,ct),sum64(this.h,4,lt,ut),sum64(this.h,6,dt,ft),sum64(this.h,8,pt,ht),sum64(this.h,10,yt,mt),sum64(this.h,12,gt,bt),sum64(this.h,14,vt,wt)};SHA512$1.prototype._digest=function o(a){return a==="hex"?utils$4.toHex32(this.h,"big"):utils$4.split32(this.h,"big")};function ch64_hi(o,a,rt,at,it){var ot=o&rt^~o&it;return ot<0&&(ot+=4294967296),ot}function ch64_lo(o,a,rt,at,it,ot){var st=a&at^~a&ot;return st<0&&(st+=4294967296),st}function maj64_hi(o,a,rt,at,it){var ot=o&rt^o&it^rt&it;return ot<0&&(ot+=4294967296),ot}function maj64_lo(o,a,rt,at,it,ot){var st=a&at^a&ot^at&ot;return st<0&&(st+=4294967296),st}function s0_512_hi(o,a){var rt=rotr64_hi(o,a,28),at=rotr64_hi(a,o,2),it=rotr64_hi(a,o,7),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}function s0_512_lo(o,a){var rt=rotr64_lo(o,a,28),at=rotr64_lo(a,o,2),it=rotr64_lo(a,o,7),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}function s1_512_hi(o,a){var rt=rotr64_hi(o,a,14),at=rotr64_hi(o,a,18),it=rotr64_hi(a,o,9),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}function s1_512_lo(o,a){var rt=rotr64_lo(o,a,14),at=rotr64_lo(o,a,18),it=rotr64_lo(a,o,9),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}function g0_512_hi(o,a){var rt=rotr64_hi(o,a,1),at=rotr64_hi(o,a,8),it=shr64_hi(o,a,7),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}function g0_512_lo(o,a){var rt=rotr64_lo(o,a,1),at=rotr64_lo(o,a,8),it=shr64_lo(o,a,7),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}function g1_512_hi(o,a){var rt=rotr64_hi(o,a,19),at=rotr64_hi(a,o,29),it=shr64_hi(o,a,6),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}function g1_512_lo(o,a){var rt=rotr64_lo(o,a,19),at=rotr64_lo(a,o,29),it=shr64_lo(o,a,6),ot=rt^at^it;return ot<0&&(ot+=4294967296),ot}var utils$3=utils$a,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$3.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function o(a){return a==="hex"?utils$3.toHex32(this.h.slice(0,12),"big"):utils$3.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$2=utils$a,common=common$5,rotl32=utils$2.rotl32,sum32=utils$2.sum32,sum32_3=utils$2.sum32_3,sum32_4=utils$2.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$2.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function o(a,rt){for(var at=this.h[0],it=this.h[1],ot=this.h[2],st=this.h[3],ct=this.h[4],lt=at,ut=it,dt=ot,ft=st,pt=ct,ht=0;ht<80;ht++){var yt=sum32(rotl32(sum32_4(at,f$1(ht,it,ot,st),a[r$2[ht]+rt],K$1(ht)),s[ht]),ct);at=ct,ct=st,st=rotl32(ot,10),ot=it,it=yt,yt=sum32(rotl32(sum32_4(lt,f$1(79-ht,ut,dt,ft),a[rh[ht]+rt],Kh(ht)),sh[ht]),pt),lt=pt,pt=ft,ft=rotl32(dt,10),dt=ut,ut=yt}yt=sum32_3(this.h[1],ot,ft),this.h[1]=sum32_3(this.h[2],st,pt),this.h[2]=sum32_3(this.h[3],ct,lt),this.h[3]=sum32_3(this.h[4],at,ut),this.h[4]=sum32_3(this.h[0],it,dt),this.h[0]=yt};RIPEMD160.prototype._digest=function o(a){return a==="hex"?utils$2.toHex32(this.h,"little"):utils$2.split32(this.h,"little")};function f$1(o,a,rt,at){return o<=15?a^rt^at:o<=31?a&rt|~a&at:o<=47?(a|~rt)^at:o<=63?a&at|rt&~at:a^(rt|~at)}function K$1(o){return o<=15?0:o<=31?1518500249:o<=47?1859775393:o<=63?2400959708:2840853838}function Kh(o){return o<=15?1352829926:o<=31?1548603684:o<=47?1836072691:o<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$1=utils$a,assert$6=minimalisticAssert$1;function Hmac(o,a,rt){if(!(this instanceof Hmac))return new Hmac(o,a,rt);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(utils$1.toArray(a,rt))}var hmac$1=Hmac;Hmac.prototype._init=function o(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),assert$6(a.length<=this.blockSize);for(var rt=a.length;rt<this.blockSize;rt++)a.push(0);for(rt=0;rt<a.length;rt++)a[rt]^=54;for(this.inner=new this.Hash().update(a),rt=0;rt<a.length;rt++)a[rt]^=106;this.outer=new this.Hash().update(a)};Hmac.prototype.update=function o(a,rt){return this.inner.update(a,rt),this};Hmac.prototype.digest=function o(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)};(function(o){var a=o;a.utils=utils$a,a.common=common$5,a.sha=sha,a.ripemd=ripemd,a.hmac=hmac$1,a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160})(hash$1);function createCommonjsModule(o,a,rt){return rt={path:a,exports:{},require:function(at,it){return commonjsRequire(at,it==null?rt.path:it)}},o(rt,rt.exports),rt.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert(o,a){if(!o)throw new Error(a||"Assertion failed")}assert.equal=function o(a,rt,at){if(a!=rt)throw new Error(at||"Assertion failed: "+a+" != "+rt)};var utils_1=createCommonjsModule(function(o,a){var rt=a;function at(st,ct){if(Array.isArray(st))return st.slice();if(!st)return[];var lt=[];if(typeof st!="string"){for(var ut=0;ut<st.length;ut++)lt[ut]=st[ut]|0;return lt}if(ct==="hex"){st=st.replace(/[^a-z0-9]+/ig,""),st.length%2!==0&&(st="0"+st);for(var ut=0;ut<st.length;ut+=2)lt.push(parseInt(st[ut]+st[ut+1],16))}else for(var ut=0;ut<st.length;ut++){var dt=st.charCodeAt(ut),ft=dt>>8,pt=dt&255;ft?lt.push(ft,pt):lt.push(pt)}return lt}rt.toArray=at;function it(st){return st.length===1?"0"+st:st}rt.zero2=it;function ot(st){for(var ct="",lt=0;lt<st.length;lt++)ct+=it(st[lt].toString(16));return ct}rt.toHex=ot,rt.encode=function(ct,lt){return lt==="hex"?ot(ct):ct}}),utils_1$1=createCommonjsModule(function(o,a){var rt=a;rt.assert=minimalisticAssert,rt.toArray=utils_1.toArray,rt.zero2=utils_1.zero2,rt.toHex=utils_1.toHex,rt.encode=utils_1.encode;function at(lt,ut,dt){var ft=new Array(Math.max(lt.bitLength(),dt)+1);ft.fill(0);for(var pt=1<<ut+1,ht=lt.clone(),yt=0;yt<ft.length;yt++){var mt,gt=ht.andln(pt-1);ht.isOdd()?(gt>(pt>>1)-1?mt=(pt>>1)-gt:mt=gt,ht.isubn(mt)):mt=0,ft[yt]=mt,ht.iushrn(1)}return ft}rt.getNAF=at;function it(lt,ut){var dt=[[],[]];lt=lt.clone(),ut=ut.clone();for(var ft=0,pt=0,ht;lt.cmpn(-ft)>0||ut.cmpn(-pt)>0;){var yt=lt.andln(3)+ft&3,mt=ut.andln(3)+pt&3;yt===3&&(yt=-1),mt===3&&(mt=-1);var gt;(yt&1)===0?gt=0:(ht=lt.andln(7)+ft&7,(ht===3||ht===5)&&mt===2?gt=-yt:gt=yt),dt[0].push(gt);var bt;(mt&1)===0?bt=0:(ht=ut.andln(7)+pt&7,(ht===3||ht===5)&&yt===2?bt=-mt:bt=mt),dt[1].push(bt),2*ft===gt+1&&(ft=1-ft),2*pt===bt+1&&(pt=1-pt),lt.iushrn(1),ut.iushrn(1)}return dt}rt.getJSF=it;function ot(lt,ut,dt){var ft="_"+ut;lt.prototype[ut]=function(){return this[ft]!==void 0?this[ft]:this[ft]=dt.call(this)}}rt.cachedProperty=ot;function st(lt){return typeof lt=="string"?rt.toArray(lt,"hex"):lt}rt.parseBytes=st;function ct(lt){return new BN$1(lt,"hex","le")}rt.intFromLE=ct}),getNAF=utils_1$1.getNAF,getJSF=utils_1$1.getJSF,assert$1=utils_1$1.assert;function BaseCurve(o,a){this.type=o,this.p=new BN$1(a.p,16),this.red=a.prime?BN$1.red(a.prime):BN$1.mont(this.p),this.zero=new BN$1(0).toRed(this.red),this.one=new BN$1(1).toRed(this.red),this.two=new BN$1(2).toRed(this.red),this.n=a.n&&new BN$1(a.n,16),this.g=a.g&&this.pointFromJSON(a.g,a.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var rt=this.n&&this.p.div(this.n);!rt||rt.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function o(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function o(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function o(a,rt){assert$1(a.precomputed);var at=a._getDoubles(),it=getNAF(rt,1,this._bitLength),ot=(1<<at.step+1)-(at.step%2===0?2:1);ot/=3;var st=[],ct,lt;for(ct=0;ct<it.length;ct+=at.step){lt=0;for(var ut=ct+at.step-1;ut>=ct;ut--)lt=(lt<<1)+it[ut];st.push(lt)}for(var dt=this.jpoint(null,null,null),ft=this.jpoint(null,null,null),pt=ot;pt>0;pt--){for(ct=0;ct<st.length;ct++)lt=st[ct],lt===pt?ft=ft.mixedAdd(at.points[ct]):lt===-pt&&(ft=ft.mixedAdd(at.points[ct].neg()));dt=dt.add(ft)}return dt.toP()};BaseCurve.prototype._wnafMul=function o(a,rt){var at=4,it=a._getNAFPoints(at);at=it.wnd;for(var ot=it.points,st=getNAF(rt,at,this._bitLength),ct=this.jpoint(null,null,null),lt=st.length-1;lt>=0;lt--){for(var ut=0;lt>=0&&st[lt]===0;lt--)ut++;if(lt>=0&&ut++,ct=ct.dblp(ut),lt<0)break;var dt=st[lt];assert$1(dt!==0),a.type==="affine"?dt>0?ct=ct.mixedAdd(ot[dt-1>>1]):ct=ct.mixedAdd(ot[-dt-1>>1].neg()):dt>0?ct=ct.add(ot[dt-1>>1]):ct=ct.add(ot[-dt-1>>1].neg())}return a.type==="affine"?ct.toP():ct};BaseCurve.prototype._wnafMulAdd=function o(a,rt,at,it,ot){var st=this._wnafT1,ct=this._wnafT2,lt=this._wnafT3,ut=0,dt,ft,pt;for(dt=0;dt<it;dt++){pt=rt[dt];var ht=pt._getNAFPoints(a);st[dt]=ht.wnd,ct[dt]=ht.points}for(dt=it-1;dt>=1;dt-=2){var yt=dt-1,mt=dt;if(st[yt]!==1||st[mt]!==1){lt[yt]=getNAF(at[yt],st[yt],this._bitLength),lt[mt]=getNAF(at[mt],st[mt],this._bitLength),ut=Math.max(lt[yt].length,ut),ut=Math.max(lt[mt].length,ut);continue}var gt=[rt[yt],null,null,rt[mt]];rt[yt].y.cmp(rt[mt].y)===0?(gt[1]=rt[yt].add(rt[mt]),gt[2]=rt[yt].toJ().mixedAdd(rt[mt].neg())):rt[yt].y.cmp(rt[mt].y.redNeg())===0?(gt[1]=rt[yt].toJ().mixedAdd(rt[mt]),gt[2]=rt[yt].add(rt[mt].neg())):(gt[1]=rt[yt].toJ().mixedAdd(rt[mt]),gt[2]=rt[yt].toJ().mixedAdd(rt[mt].neg()));var bt=[-3,-1,-5,-7,0,7,5,1,3],vt=getJSF(at[yt],at[mt]);for(ut=Math.max(vt[0].length,ut),lt[yt]=new Array(ut),lt[mt]=new Array(ut),ft=0;ft<ut;ft++){var wt=vt[0][ft]|0,Tt=vt[1][ft]|0;lt[yt][ft]=bt[(wt+1)*3+(Tt+1)],lt[mt][ft]=0,ct[yt]=gt}}var _t=this.jpoint(null,null,null),St=this._wnafT4;for(dt=ut;dt>=0;dt--){for(var Pt=0;dt>=0;){var Nt=!0;for(ft=0;ft<it;ft++)St[ft]=lt[ft][dt]|0,St[ft]!==0&&(Nt=!1);if(!Nt)break;Pt++,dt--}if(dt>=0&&Pt++,_t=_t.dblp(Pt),dt<0)break;for(ft=0;ft<it;ft++){var jt=St[ft];jt!==0&&(jt>0?pt=ct[ft][jt-1>>1]:jt<0&&(pt=ct[ft][-jt-1>>1].neg()),pt.type==="affine"?_t=_t.mixedAdd(pt):_t=_t.add(pt))}}for(dt=0;dt<it;dt++)ct[dt]=null;return ot?_t:_t.toP()};function BasePoint(o,a){this.curve=o,this.type=a,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function o(){throw new Error("Not implemented")};BasePoint.prototype.validate=function o(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function o(a,rt){a=utils_1$1.toArray(a,rt);var at=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1===2*at){a[0]===6?assert$1(a[a.length-1]%2===0):a[0]===7&&assert$1(a[a.length-1]%2===1);var it=this.point(a.slice(1,1+at),a.slice(1+at,1+2*at));return it}else if((a[0]===2||a[0]===3)&&a.length-1===at)return this.pointFromX(a.slice(1,1+at),a[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function o(a){return this.encode(a,!0)};BasePoint.prototype._encode=function o(a){var rt=this.curve.p.byteLength(),at=this.getX().toArray("be",rt);return a?[this.getY().isEven()?2:3].concat(at):[4].concat(at,this.getY().toArray("be",rt))};BasePoint.prototype.encode=function o(a,rt){return utils_1$1.encode(this._encode(rt),a)};BasePoint.prototype.precompute=function o(a){if(this.precomputed)return this;var rt={doubles:null,naf:null,beta:null};return rt.naf=this._getNAFPoints(8),rt.doubles=this._getDoubles(4,a),rt.beta=this._getBeta(),this.precomputed=rt,this};BasePoint.prototype._hasDoubles=function o(a){if(!this.precomputed)return!1;var rt=this.precomputed.doubles;return rt?rt.points.length>=Math.ceil((a.bitLength()+1)/rt.step):!1};BasePoint.prototype._getDoubles=function o(a,rt){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var at=[this],it=this,ot=0;ot<rt;ot+=a){for(var st=0;st<a;st++)it=it.dbl();at.push(it)}return{step:a,points:at}};BasePoint.prototype._getNAFPoints=function o(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var rt=[this],at=(1<<a)-1,it=at===1?null:this.dbl(),ot=1;ot<at;ot++)rt[ot]=rt[ot-1].add(it);return{wnd:a,points:rt}};BasePoint.prototype._getBeta=function o(){return null};BasePoint.prototype.dblp=function o(a){for(var rt=this,at=0;at<a;at++)rt=rt.dbl();return rt};var inherits_browser=createCommonjsModule(function(o){typeof Object.create=="function"?o.exports=function(rt,at){at&&(rt.super_=at,rt.prototype=Object.create(at.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(rt,at){if(at){rt.super_=at;var it=function(){};it.prototype=at.prototype,rt.prototype=new it,rt.prototype.constructor=rt}}}),assert$2=utils_1$1.assert;function ShortCurve(o){base$1.call(this,"short",o),this.a=new BN$1(o.a,16).toRed(this.red),this.b=new BN$1(o.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(o),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$1);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function o(a){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var rt,at;if(a.beta)rt=new BN$1(a.beta,16).toRed(this.red);else{var it=this._getEndoRoots(this.p);rt=it[0].cmp(it[1])<0?it[0]:it[1],rt=rt.toRed(this.red)}if(a.lambda)at=new BN$1(a.lambda,16);else{var ot=this._getEndoRoots(this.n);this.g.mul(ot[0]).x.cmp(this.g.x.redMul(rt))===0?at=ot[0]:(at=ot[1],assert$2(this.g.mul(at).x.cmp(this.g.x.redMul(rt))===0))}var st;return a.basis?st=a.basis.map(function(ct){return{a:new BN$1(ct.a,16),b:new BN$1(ct.b,16)}}):st=this._getEndoBasis(at),{beta:rt,lambda:at,basis:st}}};ShortCurve.prototype._getEndoRoots=function o(a){var rt=a===this.p?this.red:BN$1.mont(a),at=new BN$1(2).toRed(rt).redInvm(),it=at.redNeg(),ot=new BN$1(3).toRed(rt).redNeg().redSqrt().redMul(at),st=it.redAdd(ot).fromRed(),ct=it.redSub(ot).fromRed();return[st,ct]};ShortCurve.prototype._getEndoBasis=function o(a){for(var rt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),at=a,it=this.n.clone(),ot=new BN$1(1),st=new BN$1(0),ct=new BN$1(0),lt=new BN$1(1),ut,dt,ft,pt,ht,yt,mt,gt=0,bt,vt;at.cmpn(0)!==0;){var wt=it.div(at);bt=it.sub(wt.mul(at)),vt=ct.sub(wt.mul(ot));var Tt=lt.sub(wt.mul(st));if(!ft&&bt.cmp(rt)<0)ut=mt.neg(),dt=ot,ft=bt.neg(),pt=vt;else if(ft&&++gt===2)break;mt=bt,it=at,at=bt,ct=ot,ot=vt,lt=st,st=Tt}ht=bt.neg(),yt=vt;var _t=ft.sqr().add(pt.sqr()),St=ht.sqr().add(yt.sqr());return St.cmp(_t)>=0&&(ht=ut,yt=dt),ft.negative&&(ft=ft.neg(),pt=pt.neg()),ht.negative&&(ht=ht.neg(),yt=yt.neg()),[{a:ft,b:pt},{a:ht,b:yt}]};ShortCurve.prototype._endoSplit=function o(a){var rt=this.endo.basis,at=rt[0],it=rt[1],ot=it.b.mul(a).divRound(this.n),st=at.b.neg().mul(a).divRound(this.n),ct=ot.mul(at.a),lt=st.mul(it.a),ut=ot.mul(at.b),dt=st.mul(it.b),ft=a.sub(ct).sub(lt),pt=ut.add(dt).neg();return{k1:ft,k2:pt}};ShortCurve.prototype.pointFromX=function o(a,rt){a=new BN$1(a,16),a.red||(a=a.toRed(this.red));var at=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),it=at.redSqrt();if(it.redSqr().redSub(at).cmp(this.zero)!==0)throw new Error("invalid point");var ot=it.fromRed().isOdd();return(rt&&!ot||!rt&&ot)&&(it=it.redNeg()),this.point(a,it)};ShortCurve.prototype.validate=function o(a){if(a.inf)return!0;var rt=a.x,at=a.y,it=this.a.redMul(rt),ot=rt.redSqr().redMul(rt).redIAdd(it).redIAdd(this.b);return at.redSqr().redISub(ot).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function o(a,rt,at){for(var it=this._endoWnafT1,ot=this._endoWnafT2,st=0;st<a.length;st++){var ct=this._endoSplit(rt[st]),lt=a[st],ut=lt._getBeta();ct.k1.negative&&(ct.k1.ineg(),lt=lt.neg(!0)),ct.k2.negative&&(ct.k2.ineg(),ut=ut.neg(!0)),it[st*2]=lt,it[st*2+1]=ut,ot[st*2]=ct.k1,ot[st*2+1]=ct.k2}for(var dt=this._wnafMulAdd(1,it,ot,st*2,at),ft=0;ft<st*2;ft++)it[ft]=null,ot[ft]=null;return dt};function Point(o,a,rt,at){base$1.BasePoint.call(this,o,"affine"),a===null&&rt===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$1(a,16),this.y=new BN$1(rt,16),at&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base$1.BasePoint);ShortCurve.prototype.point=function o(a,rt,at){return new Point(this,a,rt,at)};ShortCurve.prototype.pointFromJSON=function o(a,rt){return Point.fromJSON(this,a,rt)};Point.prototype._getBeta=function o(){if(!!this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var rt=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var at=this.curve,it=function(ot){return at.point(ot.x.redMul(at.endo.beta),ot.y)};a.beta=rt,rt.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(it)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(it)}}}return rt}};Point.prototype.toJSON=function o(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function o(a,rt,at){typeof rt=="string"&&(rt=JSON.parse(rt));var it=a.point(rt[0],rt[1],at);if(!rt[2])return it;function ot(ct){return a.point(ct[0],ct[1],at)}var st=rt[2];return it.precomputed={beta:null,doubles:st.doubles&&{step:st.doubles.step,points:[it].concat(st.doubles.points.map(ot))},naf:st.naf&&{wnd:st.naf.wnd,points:[it].concat(st.naf.points.map(ot))}},it};Point.prototype.inspect=function o(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function o(){return this.inf};Point.prototype.add=function o(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a))return this.curve.point(null,null);if(this.x.cmp(a.x)===0)return this.curve.point(null,null);var rt=this.y.redSub(a.y);rt.cmpn(0)!==0&&(rt=rt.redMul(this.x.redSub(a.x).redInvm()));var at=rt.redSqr().redISub(this.x).redISub(a.x),it=rt.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,it)};Point.prototype.dbl=function o(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(a.cmpn(0)===0)return this.curve.point(null,null);var rt=this.curve.a,at=this.x.redSqr(),it=a.redInvm(),ot=at.redAdd(at).redIAdd(at).redIAdd(rt).redMul(it),st=ot.redSqr().redISub(this.x.redAdd(this.x)),ct=ot.redMul(this.x.redSub(st)).redISub(this.y);return this.curve.point(st,ct)};Point.prototype.getX=function o(){return this.x.fromRed()};Point.prototype.getY=function o(){return this.y.fromRed()};Point.prototype.mul=function o(a){return a=new BN$1(a,16),this.isInfinity()?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)};Point.prototype.mulAdd=function o(a,rt,at){var it=[this,rt],ot=[a,at];return this.curve.endo?this.curve._endoWnafMulAdd(it,ot):this.curve._wnafMulAdd(1,it,ot,2)};Point.prototype.jmulAdd=function o(a,rt,at){var it=[this,rt],ot=[a,at];return this.curve.endo?this.curve._endoWnafMulAdd(it,ot,!0):this.curve._wnafMulAdd(1,it,ot,2,!0)};Point.prototype.eq=function o(a){return this===a||this.inf===a.inf&&(this.inf||this.x.cmp(a.x)===0&&this.y.cmp(a.y)===0)};Point.prototype.neg=function o(a){if(this.inf)return this;var rt=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var at=this.precomputed,it=function(ot){return ot.neg()};rt.precomputed={naf:at.naf&&{wnd:at.naf.wnd,points:at.naf.points.map(it)},doubles:at.doubles&&{step:at.doubles.step,points:at.doubles.points.map(it)}}}return rt};Point.prototype.toJ=function o(){if(this.inf)return this.curve.jpoint(null,null,null);var a=this.curve.jpoint(this.x,this.y,this.curve.one);return a};function JPoint(o,a,rt,at){base$1.BasePoint.call(this,o,"jacobian"),a===null&&rt===null&&at===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$1(0)):(this.x=new BN$1(a,16),this.y=new BN$1(rt,16),this.z=new BN$1(at,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base$1.BasePoint);ShortCurve.prototype.jpoint=function o(a,rt,at){return new JPoint(this,a,rt,at)};JPoint.prototype.toP=function o(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),rt=a.redSqr(),at=this.x.redMul(rt),it=this.y.redMul(rt).redMul(a);return this.curve.point(at,it)};JPoint.prototype.neg=function o(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function o(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var rt=a.z.redSqr(),at=this.z.redSqr(),it=this.x.redMul(rt),ot=a.x.redMul(at),st=this.y.redMul(rt.redMul(a.z)),ct=a.y.redMul(at.redMul(this.z)),lt=it.redSub(ot),ut=st.redSub(ct);if(lt.cmpn(0)===0)return ut.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var dt=lt.redSqr(),ft=dt.redMul(lt),pt=it.redMul(dt),ht=ut.redSqr().redIAdd(ft).redISub(pt).redISub(pt),yt=ut.redMul(pt.redISub(ht)).redISub(st.redMul(ft)),mt=this.z.redMul(a.z).redMul(lt);return this.curve.jpoint(ht,yt,mt)};JPoint.prototype.mixedAdd=function o(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var rt=this.z.redSqr(),at=this.x,it=a.x.redMul(rt),ot=this.y,st=a.y.redMul(rt).redMul(this.z),ct=at.redSub(it),lt=ot.redSub(st);if(ct.cmpn(0)===0)return lt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ut=ct.redSqr(),dt=ut.redMul(ct),ft=at.redMul(ut),pt=lt.redSqr().redIAdd(dt).redISub(ft).redISub(ft),ht=lt.redMul(ft.redISub(pt)).redISub(ot.redMul(dt)),yt=this.z.redMul(ct);return this.curve.jpoint(pt,ht,yt)};JPoint.prototype.dblp=function o(a){if(a===0)return this;if(this.isInfinity())return this;if(!a)return this.dbl();var rt;if(this.curve.zeroA||this.curve.threeA){var at=this;for(rt=0;rt<a;rt++)at=at.dbl();return at}var it=this.curve.a,ot=this.curve.tinv,st=this.x,ct=this.y,lt=this.z,ut=lt.redSqr().redSqr(),dt=ct.redAdd(ct);for(rt=0;rt<a;rt++){var ft=st.redSqr(),pt=dt.redSqr(),ht=pt.redSqr(),yt=ft.redAdd(ft).redIAdd(ft).redIAdd(it.redMul(ut)),mt=st.redMul(pt),gt=yt.redSqr().redISub(mt.redAdd(mt)),bt=mt.redISub(gt),vt=yt.redMul(bt);vt=vt.redIAdd(vt).redISub(ht);var wt=dt.redMul(lt);rt+1<a&&(ut=ut.redMul(ht)),st=gt,lt=wt,dt=vt}return this.curve.jpoint(st,dt.redMul(ot),lt)};JPoint.prototype.dbl=function o(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function o(){var a,rt,at;if(this.zOne){var it=this.x.redSqr(),ot=this.y.redSqr(),st=ot.redSqr(),ct=this.x.redAdd(ot).redSqr().redISub(it).redISub(st);ct=ct.redIAdd(ct);var lt=it.redAdd(it).redIAdd(it),ut=lt.redSqr().redISub(ct).redISub(ct),dt=st.redIAdd(st);dt=dt.redIAdd(dt),dt=dt.redIAdd(dt),a=ut,rt=lt.redMul(ct.redISub(ut)).redISub(dt),at=this.y.redAdd(this.y)}else{var ft=this.x.redSqr(),pt=this.y.redSqr(),ht=pt.redSqr(),yt=this.x.redAdd(pt).redSqr().redISub(ft).redISub(ht);yt=yt.redIAdd(yt);var mt=ft.redAdd(ft).redIAdd(ft),gt=mt.redSqr(),bt=ht.redIAdd(ht);bt=bt.redIAdd(bt),bt=bt.redIAdd(bt),a=gt.redISub(yt).redISub(yt),rt=mt.redMul(yt.redISub(a)).redISub(bt),at=this.y.redMul(this.z),at=at.redIAdd(at)}return this.curve.jpoint(a,rt,at)};JPoint.prototype._threeDbl=function o(){var a,rt,at;if(this.zOne){var it=this.x.redSqr(),ot=this.y.redSqr(),st=ot.redSqr(),ct=this.x.redAdd(ot).redSqr().redISub(it).redISub(st);ct=ct.redIAdd(ct);var lt=it.redAdd(it).redIAdd(it).redIAdd(this.curve.a),ut=lt.redSqr().redISub(ct).redISub(ct);a=ut;var dt=st.redIAdd(st);dt=dt.redIAdd(dt),dt=dt.redIAdd(dt),rt=lt.redMul(ct.redISub(ut)).redISub(dt),at=this.y.redAdd(this.y)}else{var ft=this.z.redSqr(),pt=this.y.redSqr(),ht=this.x.redMul(pt),yt=this.x.redSub(ft).redMul(this.x.redAdd(ft));yt=yt.redAdd(yt).redIAdd(yt);var mt=ht.redIAdd(ht);mt=mt.redIAdd(mt);var gt=mt.redAdd(mt);a=yt.redSqr().redISub(gt),at=this.y.redAdd(this.z).redSqr().redISub(pt).redISub(ft);var bt=pt.redSqr();bt=bt.redIAdd(bt),bt=bt.redIAdd(bt),bt=bt.redIAdd(bt),rt=yt.redMul(mt.redISub(a)).redISub(bt)}return this.curve.jpoint(a,rt,at)};JPoint.prototype._dbl=function o(){var a=this.curve.a,rt=this.x,at=this.y,it=this.z,ot=it.redSqr().redSqr(),st=rt.redSqr(),ct=at.redSqr(),lt=st.redAdd(st).redIAdd(st).redIAdd(a.redMul(ot)),ut=rt.redAdd(rt);ut=ut.redIAdd(ut);var dt=ut.redMul(ct),ft=lt.redSqr().redISub(dt.redAdd(dt)),pt=dt.redISub(ft),ht=ct.redSqr();ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),ht=ht.redIAdd(ht);var yt=lt.redMul(pt).redISub(ht),mt=at.redAdd(at).redMul(it);return this.curve.jpoint(ft,yt,mt)};JPoint.prototype.trpl=function o(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),rt=this.y.redSqr(),at=this.z.redSqr(),it=rt.redSqr(),ot=a.redAdd(a).redIAdd(a),st=ot.redSqr(),ct=this.x.redAdd(rt).redSqr().redISub(a).redISub(it);ct=ct.redIAdd(ct),ct=ct.redAdd(ct).redIAdd(ct),ct=ct.redISub(st);var lt=ct.redSqr(),ut=it.redIAdd(it);ut=ut.redIAdd(ut),ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var dt=ot.redIAdd(ct).redSqr().redISub(st).redISub(lt).redISub(ut),ft=rt.redMul(dt);ft=ft.redIAdd(ft),ft=ft.redIAdd(ft);var pt=this.x.redMul(lt).redISub(ft);pt=pt.redIAdd(pt),pt=pt.redIAdd(pt);var ht=this.y.redMul(dt.redMul(ut.redISub(dt)).redISub(ct.redMul(lt)));ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),ht=ht.redIAdd(ht);var yt=this.z.redAdd(ct).redSqr().redISub(at).redISub(lt);return this.curve.jpoint(pt,ht,yt)};JPoint.prototype.mul=function o(a,rt){return a=new BN$1(a,rt),this.curve._wnafMul(this,a)};JPoint.prototype.eq=function o(a){if(a.type==="affine")return this.eq(a.toJ());if(this===a)return!0;var rt=this.z.redSqr(),at=a.z.redSqr();if(this.x.redMul(at).redISub(a.x.redMul(rt)).cmpn(0)!==0)return!1;var it=rt.redMul(this.z),ot=at.redMul(a.z);return this.y.redMul(ot).redISub(a.y.redMul(it)).cmpn(0)===0};JPoint.prototype.eqXToP=function o(a){var rt=this.z.redSqr(),at=a.toRed(this.curve.red).redMul(rt);if(this.x.cmp(at)===0)return!0;for(var it=a.clone(),ot=this.curve.redN.redMul(rt);;){if(it.iadd(this.curve.n),it.cmp(this.curve.p)>=0)return!1;if(at.redIAdd(ot),this.x.cmp(at)===0)return!0}};JPoint.prototype.inspect=function o(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function o(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(o,a){var rt=a;rt.base=base$1,rt.short=short_1,rt.mont=null,rt.edwards=null}),curves_1=createCommonjsModule(function(o,a){var rt=a,at=utils_1$1.assert;function it(ct){ct.type==="short"?this.curve=new curve_1.short(ct):ct.type==="edwards"?this.curve=new curve_1.edwards(ct):this.curve=new curve_1.mont(ct),this.g=this.curve.g,this.n=this.curve.n,this.hash=ct.hash,at(this.g.validate(),"Invalid curve"),at(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}rt.PresetCurve=it;function ot(ct,lt){Object.defineProperty(rt,ct,{configurable:!0,enumerable:!0,get:function(){var ut=new it(lt);return Object.defineProperty(rt,ct,{configurable:!0,enumerable:!0,value:ut}),ut}})}ot("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ot("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ot("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ot("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ot("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ot("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["9"]}),ot("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var st;try{st=null.crash()}catch{st=void 0}ot("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",st]})});function HmacDRBG(o){if(!(this instanceof HmacDRBG))return new HmacDRBG(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=utils_1.toArray(o.entropy,o.entropyEnc||"hex"),rt=utils_1.toArray(o.nonce,o.nonceEnc||"hex"),at=utils_1.toArray(o.pers,o.persEnc||"hex");minimalisticAssert(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,rt,at)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function o(a,rt,at){var it=a.concat(rt).concat(at);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ot=0;ot<this.V.length;ot++)this.K[ot]=0,this.V[ot]=1;this._update(it),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function o(){return new hash$1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function o(a){var rt=this._hmac().update(this.V).update([0]);a&&(rt=rt.update(a)),this.K=rt.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function o(a,rt,at,it){typeof rt!="string"&&(it=at,at=rt,rt=null),a=utils_1.toArray(a,rt),at=utils_1.toArray(at,it),minimalisticAssert(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(at||[])),this._reseed=1};HmacDRBG.prototype.generate=function o(a,rt,at,it){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof rt!="string"&&(it=at,at=rt,rt=null),at&&(at=utils_1.toArray(at,it||"hex"),this._update(at));for(var ot=[];ot.length<a;)this.V=this._hmac().update(this.V).digest(),ot=ot.concat(this.V);var st=ot.slice(0,a);return this._update(at),this._reseed++,utils_1.encode(st,rt)};var assert$3=utils_1$1.assert;function KeyPair(o,a){this.ec=o,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function o(a,rt,at){return rt instanceof KeyPair?rt:new KeyPair(a,{pub:rt,pubEnc:at})};KeyPair.fromPrivate=function o(a,rt,at){return rt instanceof KeyPair?rt:new KeyPair(a,{priv:rt,privEnc:at})};KeyPair.prototype.validate=function o(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function o(a,rt){return typeof a=="string"&&(rt=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),rt?this.pub.encode(rt,a):this.pub};KeyPair.prototype.getPrivate=function o(a){return a==="hex"?this.priv.toString(16,2):this.priv};KeyPair.prototype._importPrivate=function o(a,rt){this.priv=new BN$1(a,rt||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function o(a,rt){if(a.x||a.y){this.ec.curve.type==="mont"?assert$3(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,rt)};KeyPair.prototype.derive=function o(a){return a.validate()||assert$3(a.validate(),"public point not validated"),a.mul(this.priv).getX()};KeyPair.prototype.sign=function o(a,rt,at){return this.ec.sign(a,this,rt,at)};KeyPair.prototype.verify=function o(a,rt){return this.ec.verify(a,rt,this)};KeyPair.prototype.inspect=function o(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1.assert;function Signature(o,a){if(o instanceof Signature)return o;this._importDER(o,a)||(assert$4(o.r&&o.s,"Signature without r or s"),this.r=new BN$1(o.r,16),this.s=new BN$1(o.s,16),o.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=o.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength(o,a){var rt=o[a.place++];if(!(rt&128))return rt;var at=rt&15;if(at===0||at>4)return!1;for(var it=0,ot=0,st=a.place;ot<at;ot++,st++)it<<=8,it|=o[st],it>>>=0;return it<=127?!1:(a.place=st,it)}function rmPadding(o){for(var a=0,rt=o.length-1;!o[a]&&!(o[a+1]&128)&&a<rt;)a++;return a===0?o:o.slice(a)}Signature.prototype._importDER=function o(a,rt){a=utils_1$1.toArray(a,rt);var at=new Position;if(a[at.place++]!==48)return!1;var it=getLength(a,at);if(it===!1||it+at.place!==a.length||a[at.place++]!==2)return!1;var ot=getLength(a,at);if(ot===!1)return!1;var st=a.slice(at.place,ot+at.place);if(at.place+=ot,a[at.place++]!==2)return!1;var ct=getLength(a,at);if(ct===!1||a.length!==ct+at.place)return!1;var lt=a.slice(at.place,ct+at.place);if(st[0]===0)if(st[1]&128)st=st.slice(1);else return!1;if(lt[0]===0)if(lt[1]&128)lt=lt.slice(1);else return!1;return this.r=new BN$1(st),this.s=new BN$1(lt),this.recoveryParam=null,!0};function constructLength(o,a){if(a<128){o.push(a);return}var rt=1+(Math.log(a)/Math.LN2>>>3);for(o.push(rt|128);--rt;)o.push(a>>>(rt<<3)&255);o.push(a)}Signature.prototype.toDER=function o(a){var rt=this.r.toArray(),at=this.s.toArray();for(rt[0]&128&&(rt=[0].concat(rt)),at[0]&128&&(at=[0].concat(at)),rt=rmPadding(rt),at=rmPadding(at);!at[0]&&!(at[1]&128);)at=at.slice(1);var it=[2];constructLength(it,rt.length),it=it.concat(rt),it.push(2),constructLength(it,at.length);var ot=it.concat(at),st=[48];return constructLength(st,ot.length),st=st.concat(ot),utils_1$1.encode(st,a)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1.assert;function EC(o){if(!(this instanceof EC))return new EC(o);typeof o=="string"&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,o),"Unknown curve "+o),o=curves_1[o]),o instanceof curves_1.PresetCurve&&(o={curve:o}),this.curve=o.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=o.curve.g,this.g.precompute(o.curve.n.bitLength()+1),this.hash=o.hash||o.curve.hash}var ec=EC;EC.prototype.keyPair=function o(a){return new key(this,a)};EC.prototype.keyFromPrivate=function o(a,rt){return key.fromPrivate(this,a,rt)};EC.prototype.keyFromPublic=function o(a,rt){return key.fromPublic(this,a,rt)};EC.prototype.genKeyPair=function o(a){a||(a={});for(var rt=new hmacDrbg({hash:this.hash,pers:a.pers,persEnc:a.persEnc||"utf8",entropy:a.entropy||rand(this.hash.hmacStrength),entropyEnc:a.entropy&&a.entropyEnc||"utf8",nonce:this.n.toArray()}),at=this.n.byteLength(),it=this.n.sub(new BN$1(2));;){var ot=new BN$1(rt.generate(at));if(!(ot.cmp(it)>0))return ot.iaddn(1),this.keyFromPrivate(ot)}};EC.prototype._truncateToN=function o(a,rt){var at=a.byteLength()*8-this.n.bitLength();return at>0&&(a=a.ushrn(at)),!rt&&a.cmp(this.n)>=0?a.sub(this.n):a};EC.prototype.sign=function o(a,rt,at,it){typeof at=="object"&&(it=at,at=null),it||(it={}),rt=this.keyFromPrivate(rt,at),a=this._truncateToN(new BN$1(a,16));for(var ot=this.n.byteLength(),st=rt.getPrivate().toArray("be",ot),ct=a.toArray("be",ot),lt=new hmacDrbg({hash:this.hash,entropy:st,nonce:ct,pers:it.pers,persEnc:it.persEnc||"utf8"}),ut=this.n.sub(new BN$1(1)),dt=0;;dt++){var ft=it.k?it.k(dt):new BN$1(lt.generate(this.n.byteLength()));if(ft=this._truncateToN(ft,!0),!(ft.cmpn(1)<=0||ft.cmp(ut)>=0)){var pt=this.g.mul(ft);if(!pt.isInfinity()){var ht=pt.getX(),yt=ht.umod(this.n);if(yt.cmpn(0)!==0){var mt=ft.invm(this.n).mul(yt.mul(rt.getPrivate()).iadd(a));if(mt=mt.umod(this.n),mt.cmpn(0)!==0){var gt=(pt.getY().isOdd()?1:0)|(ht.cmp(yt)!==0?2:0);return it.canonical&&mt.cmp(this.nh)>0&&(mt=this.n.sub(mt),gt^=1),new signature({r:yt,s:mt,recoveryParam:gt})}}}}}};EC.prototype.verify=function o(a,rt,at,it){a=this._truncateToN(new BN$1(a,16)),at=this.keyFromPublic(at,it),rt=new signature(rt,"hex");var ot=rt.r,st=rt.s;if(ot.cmpn(1)<0||ot.cmp(this.n)>=0||st.cmpn(1)<0||st.cmp(this.n)>=0)return!1;var ct=st.invm(this.n),lt=ct.mul(a).umod(this.n),ut=ct.mul(ot).umod(this.n),dt;return this.curve._maxwellTrick?(dt=this.g.jmulAdd(lt,at.getPublic(),ut),dt.isInfinity()?!1:dt.eqXToP(ot)):(dt=this.g.mulAdd(lt,at.getPublic(),ut),dt.isInfinity()?!1:dt.getX().umod(this.n).cmp(ot)===0)};EC.prototype.recoverPubKey=function(o,a,rt,at){assert$5((3&rt)===rt,"The recovery param is more than two bits"),a=new signature(a,at);var it=this.n,ot=new BN$1(o),st=a.r,ct=a.s,lt=rt&1,ut=rt>>1;if(st.cmp(this.curve.p.umod(this.curve.n))>=0&&ut)throw new Error("Unable to find sencond key candinate");ut?st=this.curve.pointFromX(st.add(this.curve.n),lt):st=this.curve.pointFromX(st,lt);var dt=a.r.invm(it),ft=it.sub(ot).mul(dt).umod(it),pt=ct.mul(dt).umod(it);return this.g.mulAdd(ft,st,pt)};EC.prototype.getKeyRecoveryParam=function(o,a,rt,at){if(a=new signature(a,at),a.recoveryParam!==null)return a.recoveryParam;for(var it=0;it<4;it++){var ot;try{ot=this.recoverPubKey(o,a,it)}catch{continue}if(ot.eq(rt))return it}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(o,a){var rt=a;rt.version="6.5.4",rt.utils=utils_1$1,rt.rand=function(){throw new Error("unsupported")},rt.curve=curve_1,rt.curves=curves_1,rt.ec=ec,rt.eddsa=null}),EC$1=elliptic_1.ec;const version$e="signing-key/5.7.0",logger$s=new Logger(version$e);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(a){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(a)),hexDataLength(this.privateKey)!==32&&logger$s.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const rt=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+rt.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+rt.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(a){const rt=getCurve().keyFromPublic(arrayify(this.publicKey)),at=getCurve().keyFromPublic(arrayify(a));return"0x"+rt.pub.add(at.pub).encodeCompressed("hex")}signDigest(a){const rt=getCurve().keyFromPrivate(arrayify(this.privateKey)),at=arrayify(a);at.length!==32&&logger$s.throwArgumentError("bad digest length","digest",a);const it=rt.sign(at,{canonical:!0});return splitSignature({recoveryParam:it.recoveryParam,r:hexZeroPad("0x"+it.r.toString(16),32),s:hexZeroPad("0x"+it.s.toString(16),32)})}computeSharedSecret(a){const rt=getCurve().keyFromPrivate(arrayify(this.privateKey)),at=getCurve().keyFromPublic(arrayify(computePublicKey(a)));return hexZeroPad("0x"+rt.derive(at.getPublic()).toString(16),32)}static isSigningKey(a){return!!(a&&a._isSigningKey)}}function recoverPublicKey(o,a){const rt=splitSignature(a),at={r:arrayify(rt.r),s:arrayify(rt.s)};return"0x"+getCurve().recoverPubKey(arrayify(o),at,rt.recoveryParam).encode("hex",!1)}function computePublicKey(o,a){const rt=arrayify(o);if(rt.length===32){const at=new SigningKey(rt);return a?"0x"+getCurve().keyFromPrivate(rt).getPublic(!0,"hex"):at.publicKey}else{if(rt.length===33)return a?hexlify(rt):"0x"+getCurve().keyFromPublic(rt).getPublic(!1,"hex");if(rt.length===65)return a?"0x"+getCurve().keyFromPublic(rt).getPublic(!0,"hex"):hexlify(rt)}return logger$s.throwArgumentError("invalid public or private key","key","[REDACTED]")}const lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,SigningKey,recoverPublicKey,computePublicKey},Symbol.toStringTag,{value:"Module"})),version$d="transactions/5.7.0",logger$r=new Logger(version$d);var TransactionTypes;(function(o){o[o.legacy=0]="legacy",o[o.eip2930=1]="eip2930",o[o.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(o){return o==="0x"?null:getAddress(o)}function handleNumber(o){return o==="0x"?Zero$1:BigNumber.from(o)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(o){const a=computePublicKey(o);return getAddress(hexDataSlice(keccak256$1(hexDataSlice(a,1)),12))}function recoverAddress(o,a){return computeAddress(recoverPublicKey(arrayify(o),a))}function formatNumber(o,a){const rt=stripZeros(BigNumber.from(o).toHexString());return rt.length>32&&logger$r.throwArgumentError("invalid length for "+a,"transaction:"+a,o),rt}function accessSetify(o,a){return{address:getAddress(o),storageKeys:(a||[]).map((rt,at)=>(hexDataLength(rt)!==32&&logger$r.throwArgumentError("invalid access list storageKey",`accessList[${o}:${at}]`,rt),rt.toLowerCase()))}}function accessListify(o){if(Array.isArray(o))return o.map((rt,at)=>Array.isArray(rt)?(rt.length>2&&logger$r.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${at}]`,rt),accessSetify(rt[0],rt[1])):accessSetify(rt.address,rt.storageKeys));const a=Object.keys(o).map(rt=>{const at=o[rt].reduce((it,ot)=>(it[ot]=!0,it),{});return accessSetify(rt,Object.keys(at).sort())});return a.sort((rt,at)=>rt.address.localeCompare(at.address)),a}function formatAccessList(o){return accessListify(o).map(a=>[a.address,a.storageKeys])}function _serializeEip1559(o,a){if(o.gasPrice!=null){const at=BigNumber.from(o.gasPrice),it=BigNumber.from(o.maxFeePerGas||0);at.eq(it)||logger$r.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:at,maxFeePerGas:it})}const rt=[formatNumber(o.chainId||0,"chainId"),formatNumber(o.nonce||0,"nonce"),formatNumber(o.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(o.maxFeePerGas||0,"maxFeePerGas"),formatNumber(o.gasLimit||0,"gasLimit"),o.to!=null?getAddress(o.to):"0x",formatNumber(o.value||0,"value"),o.data||"0x",formatAccessList(o.accessList||[])];if(a){const at=splitSignature(a);rt.push(formatNumber(at.recoveryParam,"recoveryParam")),rt.push(stripZeros(at.r)),rt.push(stripZeros(at.s))}return hexConcat(["0x02",encode$2(rt)])}function _serializeEip2930(o,a){const rt=[formatNumber(o.chainId||0,"chainId"),formatNumber(o.nonce||0,"nonce"),formatNumber(o.gasPrice||0,"gasPrice"),formatNumber(o.gasLimit||0,"gasLimit"),o.to!=null?getAddress(o.to):"0x",formatNumber(o.value||0,"value"),o.data||"0x",formatAccessList(o.accessList||[])];if(a){const at=splitSignature(a);rt.push(formatNumber(at.recoveryParam,"recoveryParam")),rt.push(stripZeros(at.r)),rt.push(stripZeros(at.s))}return hexConcat(["0x01",encode$2(rt)])}function _serialize(o,a){checkProperties(o,allowedTransactionKeys$2);const rt=[];transactionFields.forEach(function(st){let ct=o[st.name]||[];const lt={};st.numeric&&(lt.hexPad="left"),ct=arrayify(hexlify(ct,lt)),st.length&&ct.length!==st.length&&ct.length>0&&logger$r.throwArgumentError("invalid length for "+st.name,"transaction:"+st.name,ct),st.maxLength&&(ct=stripZeros(ct),ct.length>st.maxLength&&logger$r.throwArgumentError("invalid length for "+st.name,"transaction:"+st.name,ct)),rt.push(hexlify(ct))});let at=0;if(o.chainId!=null?(at=o.chainId,typeof at!="number"&&logger$r.throwArgumentError("invalid transaction.chainId","transaction",o)):a&&!isBytesLike(a)&&a.v>28&&(at=Math.floor((a.v-35)/2)),at!==0&&(rt.push(hexlify(at)),rt.push("0x"),rt.push("0x")),!a)return encode$2(rt);const it=splitSignature(a);let ot=27+it.recoveryParam;return at!==0?(rt.pop(),rt.pop(),rt.pop(),ot+=at*2+8,it.v>28&&it.v!==ot&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",a)):it.v!==ot&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",a),rt.push(hexlify(ot)),rt.push(stripZeros(arrayify(it.r))),rt.push(stripZeros(arrayify(it.s))),encode$2(rt)}function serialize$2(o,a){if(o.type==null||o.type===0)return o.accessList!=null&&logger$r.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",o),_serialize(o,a);switch(o.type){case 1:return _serializeEip2930(o,a);case 2:return _serializeEip1559(o,a)}return logger$r.throwError(`unsupported transaction type: ${o.type}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:o.type})}function _parseEipSignature(o,a,rt){try{const at=handleNumber(a[0]).toNumber();if(at!==0&&at!==1)throw new Error("bad recid");o.v=at}catch{logger$r.throwArgumentError("invalid v for transaction type: 1","v",a[0])}o.r=hexZeroPad(a[1],32),o.s=hexZeroPad(a[2],32);try{const at=keccak256$1(rt(o));o.from=recoverAddress(at,{r:o.r,s:o.s,recoveryParam:o.v})}catch{}}function _parseEip1559(o){const a=decode$3(o.slice(1));a.length!==9&&a.length!==12&&logger$r.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(o));const rt=handleNumber(a[2]),at=handleNumber(a[3]),it={type:2,chainId:handleNumber(a[0]).toNumber(),nonce:handleNumber(a[1]).toNumber(),maxPriorityFeePerGas:rt,maxFeePerGas:at,gasPrice:null,gasLimit:handleNumber(a[4]),to:handleAddress(a[5]),value:handleNumber(a[6]),data:a[7],accessList:accessListify(a[8])};return a.length===9||(it.hash=keccak256$1(o),_parseEipSignature(it,a.slice(9),_serializeEip1559)),it}function _parseEip2930(o){const a=decode$3(o.slice(1));a.length!==8&&a.length!==11&&logger$r.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(o));const rt={type:1,chainId:handleNumber(a[0]).toNumber(),nonce:handleNumber(a[1]).toNumber(),gasPrice:handleNumber(a[2]),gasLimit:handleNumber(a[3]),to:handleAddress(a[4]),value:handleNumber(a[5]),data:a[6],accessList:accessListify(a[7])};return a.length===8||(rt.hash=keccak256$1(o),_parseEipSignature(rt,a.slice(8),_serializeEip2930)),rt}function _parse(o){const a=decode$3(o);a.length!==9&&a.length!==6&&logger$r.throwArgumentError("invalid raw transaction","rawTransaction",o);const rt={nonce:handleNumber(a[0]).toNumber(),gasPrice:handleNumber(a[1]),gasLimit:handleNumber(a[2]),to:handleAddress(a[3]),value:handleNumber(a[4]),data:a[5],chainId:0};if(a.length===6)return rt;try{rt.v=BigNumber.from(a[6]).toNumber()}catch{return rt}if(rt.r=hexZeroPad(a[7],32),rt.s=hexZeroPad(a[8],32),BigNumber.from(rt.r).isZero()&&BigNumber.from(rt.s).isZero())rt.chainId=rt.v,rt.v=0;else{rt.chainId=Math.floor((rt.v-35)/2),rt.chainId<0&&(rt.chainId=0);let at=rt.v-27;const it=a.slice(0,6);rt.chainId!==0&&(it.push(hexlify(rt.chainId)),it.push("0x"),it.push("0x"),at-=rt.chainId*2+8);const ot=keccak256$1(encode$2(it));try{rt.from=recoverAddress(ot,{r:hexlify(rt.r),s:hexlify(rt.s),recoveryParam:at})}catch{}rt.hash=keccak256$1(o)}return rt.type=null,rt}function parse$2(o){const a=arrayify(o);if(a[0]>127)return _parse(a);switch(a[0]){case 1:return _parseEip2930(a);case 2:return _parseEip1559(a)}return logger$r.throwError(`unsupported transaction type: ${a[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:a[0]})}const lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress,recoverAddress,accessListify,serialize:serialize$2,parse:parse$2},Symbol.toStringTag,{value:"Module"})),version$c="contracts/5.7.0";var __awaiter$b=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$q=new Logger(version$c),allowedTransactionKeys$1={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function resolveName(o,a){return __awaiter$b(this,void 0,void 0,function*(){const rt=yield a;typeof rt!="string"&&logger$q.throwArgumentError("invalid address or ENS name","name",rt);try{return getAddress(rt)}catch{}o||logger$q.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const at=yield o.resolveName(rt);return at==null&&logger$q.throwArgumentError("resolver or addr is not configured for ENS name","name",rt),at})}function resolveAddresses(o,a,rt){return __awaiter$b(this,void 0,void 0,function*(){return Array.isArray(rt)?yield Promise.all(rt.map((at,it)=>resolveAddresses(o,Array.isArray(a)?a[it]:a[at.name],at))):rt.type==="address"?yield resolveName(o,a):rt.type==="tuple"?yield resolveAddresses(o,a,rt.components):rt.baseType==="array"?Array.isArray(a)?yield Promise.all(a.map(at=>resolveAddresses(o,at,rt.arrayChildren))):Promise.reject(logger$q.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:a})):a})}function populateTransaction(o,a,rt){return __awaiter$b(this,void 0,void 0,function*(){let at={};rt.length===a.inputs.length+1&&typeof rt[rt.length-1]=="object"&&(at=shallowCopy(rt.pop())),logger$q.checkArgumentCount(rt.length,a.inputs.length,"passed to contract"),o.signer?at.from?at.from=resolveProperties({override:resolveName(o.signer,at.from),signer:o.signer.getAddress()}).then(ut=>__awaiter$b(this,void 0,void 0,function*(){return getAddress(ut.signer)!==ut.override&&logger$q.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),ut.override})):at.from=o.signer.getAddress():at.from&&(at.from=resolveName(o.provider,at.from));const it=yield resolveProperties({args:resolveAddresses(o.signer||o.provider,rt,a.inputs),address:o.resolvedAddress,overrides:resolveProperties(at)||{}}),ot=o.interface.encodeFunctionData(a,it.args),st={data:ot,to:it.address},ct=it.overrides;if(ct.nonce!=null&&(st.nonce=BigNumber.from(ct.nonce).toNumber()),ct.gasLimit!=null&&(st.gasLimit=BigNumber.from(ct.gasLimit)),ct.gasPrice!=null&&(st.gasPrice=BigNumber.from(ct.gasPrice)),ct.maxFeePerGas!=null&&(st.maxFeePerGas=BigNumber.from(ct.maxFeePerGas)),ct.maxPriorityFeePerGas!=null&&(st.maxPriorityFeePerGas=BigNumber.from(ct.maxPriorityFeePerGas)),ct.from!=null&&(st.from=ct.from),ct.type!=null&&(st.type=ct.type),ct.accessList!=null&&(st.accessList=accessListify(ct.accessList)),st.gasLimit==null&&a.gas!=null){let ut=21e3;const dt=arrayify(ot);for(let ft=0;ft<dt.length;ft++)ut+=4,dt[ft]&&(ut+=64);st.gasLimit=BigNumber.from(a.gas).add(ut)}if(ct.value){const ut=BigNumber.from(ct.value);!ut.isZero()&&!a.payable&&logger$q.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:at.value}),st.value=ut}ct.customData&&(st.customData=shallowCopy(ct.customData)),ct.ccipReadEnabled&&(st.ccipReadEnabled=!!ct.ccipReadEnabled),delete at.nonce,delete at.gasLimit,delete at.gasPrice,delete at.from,delete at.value,delete at.type,delete at.accessList,delete at.maxFeePerGas,delete at.maxPriorityFeePerGas,delete at.customData,delete at.ccipReadEnabled;const lt=Object.keys(at).filter(ut=>at[ut]!=null);return lt.length&&logger$q.throwError(`cannot override ${lt.map(ut=>JSON.stringify(ut)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:lt}),st})}function buildPopulate(o,a){return function(...rt){return populateTransaction(o,a,rt)}}function buildEstimate(o,a){const rt=o.signer||o.provider;return function(...at){return __awaiter$b(this,void 0,void 0,function*(){rt||logger$q.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const it=yield populateTransaction(o,a,at);return yield rt.estimateGas(it)})}}function addContractWait(o,a){const rt=a.wait.bind(a);a.wait=at=>rt(at).then(it=>(it.events=it.logs.map(ot=>{let st=deepCopy(ot),ct=null;try{ct=o.interface.parseLog(ot)}catch{}return ct&&(st.args=ct.args,st.decode=(lt,ut)=>o.interface.decodeEventLog(ct.eventFragment,lt,ut),st.event=ct.name,st.eventSignature=ct.signature),st.removeListener=()=>o.provider,st.getBlock=()=>o.provider.getBlock(it.blockHash),st.getTransaction=()=>o.provider.getTransaction(it.transactionHash),st.getTransactionReceipt=()=>Promise.resolve(it),st}),it))}function buildCall(o,a,rt){const at=o.signer||o.provider;return function(...it){return __awaiter$b(this,void 0,void 0,function*(){let ot;if(it.length===a.inputs.length+1&&typeof it[it.length-1]=="object"){const lt=shallowCopy(it.pop());lt.blockTag!=null&&(ot=yield lt.blockTag),delete lt.blockTag,it.push(lt)}o.deployTransaction!=null&&(yield o._deployed(ot));const st=yield populateTransaction(o,a,it),ct=yield at.call(st,ot);try{let lt=o.interface.decodeFunctionResult(a,ct);return rt&&a.outputs.length===1&&(lt=lt[0]),lt}catch(lt){throw lt.code===Logger.errors.CALL_EXCEPTION&&(lt.address=o.address,lt.args=it,lt.transaction=st),lt}})}}function buildSend(o,a){return function(...rt){return __awaiter$b(this,void 0,void 0,function*(){o.signer||logger$q.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),o.deployTransaction!=null&&(yield o._deployed());const at=yield populateTransaction(o,a,rt),it=yield o.signer.sendTransaction(at);return addContractWait(o,it),it})}}function buildDefault(o,a,rt){return a.constant?buildCall(o,a,rt):buildSend(o,a)}function getEventTag$1(o){return o.address&&(o.topics==null||o.topics.length===0)?"*":(o.address||"*")+"@"+(o.topics?o.topics.map(a=>Array.isArray(a)?a.join("|"):a).join(":"):"")}class RunningEvent{constructor(a,rt){defineReadOnly(this,"tag",a),defineReadOnly(this,"filter",rt),this._listeners=[]}addListener(a,rt){this._listeners.push({listener:a,once:rt})}removeListener(a){let rt=!1;this._listeners=this._listeners.filter(at=>rt||at.listener!==a?!0:(rt=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(a=>a.listener)}listenerCount(){return this._listeners.length}run(a){const rt=this.listenerCount();return this._listeners=this._listeners.filter(at=>{const it=a.slice();return setTimeout(()=>{at.listener.apply(this,it)},0),!at.once}),rt}prepareEvent(a){}getEmit(a){return[a]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(a,rt,at,it){const ot={address:a};let st=rt.getEventTopic(at);it?(st!==it[0]&&logger$q.throwArgumentError("topic mismatch","topics",it),ot.topics=it.slice()):ot.topics=[st],super(getEventTag$1(ot),ot),defineReadOnly(this,"address",a),defineReadOnly(this,"interface",rt),defineReadOnly(this,"fragment",at)}prepareEvent(a){super.prepareEvent(a),a.event=this.fragment.name,a.eventSignature=this.fragment.format(),a.decode=(rt,at)=>this.interface.decodeEventLog(this.fragment,rt,at);try{a.args=this.interface.decodeEventLog(this.fragment,a.data,a.topics)}catch(rt){a.args=null,a.decodeError=rt}}getEmit(a){const rt=checkResultErrors(a.args);if(rt.length)throw rt[0].error;const at=(a.args||[]).slice();return at.push(a),at}}class WildcardRunningEvent extends RunningEvent{constructor(a,rt){super("*",{address:a}),defineReadOnly(this,"address",a),defineReadOnly(this,"interface",rt)}prepareEvent(a){super.prepareEvent(a);try{const rt=this.interface.parseLog(a);a.event=rt.name,a.eventSignature=rt.signature,a.decode=(at,it)=>this.interface.decodeEventLog(rt.eventFragment,at,it),a.args=rt.args}catch{}}}class BaseContract{constructor(a,rt,at){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(rt)),at==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(at)?(defineReadOnly(this,"provider",at.provider||null),defineReadOnly(this,"signer",at)):Provider.isProvider(at)?(defineReadOnly(this,"provider",at),defineReadOnly(this,"signer",null)):logger$q.throwArgumentError("invalid signer or provider","signerOrProvider",at),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const st={};Object.keys(this.interface.events).forEach(ct=>{const lt=this.interface.events[ct];defineReadOnly(this.filters,ct,(...ut)=>({address:this.address,topics:this.interface.encodeFilterTopics(lt,ut)})),st[lt.name]||(st[lt.name]=[]),st[lt.name].push(ct)}),Object.keys(st).forEach(ct=>{const lt=st[ct];lt.length===1?defineReadOnly(this.filters,ct,this.filters[lt[0]]):logger$q.warn(`Duplicate definition of ${ct} (${lt.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),a==null&&logger$q.throwArgumentError("invalid contract address or ENS name","addressOrName",a),defineReadOnly(this,"address",a),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,a));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(a)))}catch{logger$q.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(st=>{});const it={},ot={};Object.keys(this.interface.functions).forEach(st=>{const ct=this.interface.functions[st];if(ot[st]){logger$q.warn(`Duplicate ABI entry for ${JSON.stringify(st)}`);return}ot[st]=!0;{const lt=ct.name;it[`%${lt}`]||(it[`%${lt}`]=[]),it[`%${lt}`].push(st)}this[st]==null&&defineReadOnly(this,st,buildDefault(this,ct,!0)),this.functions[st]==null&&defineReadOnly(this.functions,st,buildDefault(this,ct,!1)),this.callStatic[st]==null&&defineReadOnly(this.callStatic,st,buildCall(this,ct,!0)),this.populateTransaction[st]==null&&defineReadOnly(this.populateTransaction,st,buildPopulate(this,ct)),this.estimateGas[st]==null&&defineReadOnly(this.estimateGas,st,buildEstimate(this,ct))}),Object.keys(it).forEach(st=>{const ct=it[st];if(ct.length>1)return;st=st.substring(1);const lt=ct[0];try{this[st]==null&&defineReadOnly(this,st,this[lt])}catch{}this.functions[st]==null&&defineReadOnly(this.functions,st,this.functions[lt]),this.callStatic[st]==null&&defineReadOnly(this.callStatic,st,this.callStatic[lt]),this.populateTransaction[st]==null&&defineReadOnly(this.populateTransaction,st,this.populateTransaction[lt]),this.estimateGas[st]==null&&defineReadOnly(this.estimateGas,st,this.estimateGas[lt])})}static getContractAddress(a){return getContractAddress(a)}static getInterface(a){return Interface.isInterface(a)?a:new Interface(a)}deployed(){return this._deployed()}_deployed(a){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,a).then(rt=>(rt==="0x"&&logger$q.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(a){this.signer||logger$q.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const rt=shallowCopy(a||{});return["from","to"].forEach(function(at){rt[at]!=null&&logger$q.throwError("cannot override "+at,Logger.errors.UNSUPPORTED_OPERATION,{operation:at})}),rt.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(rt))}connect(a){typeof a=="string"&&(a=new VoidSigner(a,this.provider));const rt=new this.constructor(this.address,this.interface,a);return this.deployTransaction&&defineReadOnly(rt,"deployTransaction",this.deployTransaction),rt}attach(a){return new this.constructor(a,this.interface,this.signer||this.provider)}static isIndexed(a){return Indexed.isIndexed(a)}_normalizeRunningEvent(a){return this._runningEvents[a.tag]?this._runningEvents[a.tag]:a}_getRunningEvent(a){if(typeof a=="string"){if(a==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(a==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(a==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const rt=this.interface.getEvent(a);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,rt))}if(a.topics&&a.topics.length>0){try{const at=a.topics[0];if(typeof at!="string")throw new Error("invalid topic");const it=this.interface.getEvent(at);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,it,a.topics))}catch{}const rt={address:this.address,topics:a.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(rt),rt))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(a){if(a.listenerCount()===0){delete this._runningEvents[a.tag];const rt=this._wrappedEmits[a.tag];rt&&a.filter&&(this.provider.off(a.filter,rt),delete this._wrappedEmits[a.tag])}}_wrapEvent(a,rt,at){const it=deepCopy(rt);return it.removeListener=()=>{!at||(a.removeListener(at),this._checkRunningEvents(a))},it.getBlock=()=>this.provider.getBlock(rt.blockHash),it.getTransaction=()=>this.provider.getTransaction(rt.transactionHash),it.getTransactionReceipt=()=>this.provider.getTransactionReceipt(rt.transactionHash),a.prepareEvent(it),it}_addEventListener(a,rt,at){if(this.provider||logger$q.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),a.addListener(rt,at),this._runningEvents[a.tag]=a,!this._wrappedEmits[a.tag]){const it=ot=>{let st=this._wrapEvent(a,ot,rt);if(st.decodeError==null)try{const ct=a.getEmit(st);this.emit(a.filter,...ct)}catch(ct){st.decodeError=ct.error}a.filter!=null&&this.emit("event",st),st.decodeError!=null&&this.emit("error",st.decodeError,st)};this._wrappedEmits[a.tag]=it,a.filter!=null&&this.provider.on(a.filter,it)}}queryFilter(a,rt,at){const it=this._getRunningEvent(a),ot=shallowCopy(it.filter);return typeof rt=="string"&&isHexString(rt,32)?(at!=null&&logger$q.throwArgumentError("cannot specify toBlock with blockhash","toBlock",at),ot.blockHash=rt):(ot.fromBlock=rt!=null?rt:0,ot.toBlock=at!=null?at:"latest"),this.provider.getLogs(ot).then(st=>st.map(ct=>this._wrapEvent(it,ct,null)))}on(a,rt){return this._addEventListener(this._getRunningEvent(a),rt,!1),this}once(a,rt){return this._addEventListener(this._getRunningEvent(a),rt,!0),this}emit(a,...rt){if(!this.provider)return!1;const at=this._getRunningEvent(a),it=at.run(rt)>0;return this._checkRunningEvents(at),it}listenerCount(a){return this.provider?a==null?Object.keys(this._runningEvents).reduce((rt,at)=>rt+this._runningEvents[at].listenerCount(),0):this._getRunningEvent(a).listenerCount():0}listeners(a){if(!this.provider)return[];if(a==null){const rt=[];for(let at in this._runningEvents)this._runningEvents[at].listeners().forEach(it=>{rt.push(it)});return rt}return this._getRunningEvent(a).listeners()}removeAllListeners(a){if(!this.provider)return this;if(a==null){for(const at in this._runningEvents){const it=this._runningEvents[at];it.removeAllListeners(),this._checkRunningEvents(it)}return this}const rt=this._getRunningEvent(a);return rt.removeAllListeners(),this._checkRunningEvents(rt),this}off(a,rt){if(!this.provider)return this;const at=this._getRunningEvent(a);return at.removeListener(rt),this._checkRunningEvents(at),this}removeListener(a,rt){return this.off(a,rt)}}class Contract extends BaseContract{}class ContractFactory$1{constructor(a,rt,at){let it=null;typeof rt=="string"?it=rt:isBytes(rt)?it=hexlify(rt):rt&&typeof rt.object=="string"?it=rt.object:it="!",it.substring(0,2)!=="0x"&&(it="0x"+it),(!isHexString(it)||it.length%2)&&logger$q.throwArgumentError("invalid bytecode","bytecode",rt),at&&!Signer.isSigner(at)&&logger$q.throwArgumentError("invalid signer","signer",at),defineReadOnly(this,"bytecode",it),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(a)),defineReadOnly(this,"signer",at||null)}getDeployTransaction(...a){let rt={};if(a.length===this.interface.deploy.inputs.length+1&&typeof a[a.length-1]=="object"){rt=shallowCopy(a.pop());for(const at in rt)if(!allowedTransactionKeys$1[at])throw new Error("unknown transaction override "+at)}return["data","from","to"].forEach(at=>{rt[at]!=null&&logger$q.throwError("cannot override "+at,Logger.errors.UNSUPPORTED_OPERATION,{operation:at})}),rt.value&&!BigNumber.from(rt.value).isZero()&&!this.interface.deploy.payable&&logger$q.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:rt.value}),logger$q.checkArgumentCount(a.length,this.interface.deploy.inputs.length," in Contract constructor"),rt.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(a)])),rt}deploy(...a){return __awaiter$b(this,void 0,void 0,function*(){let rt={};a.length===this.interface.deploy.inputs.length+1&&(rt=a.pop()),logger$q.checkArgumentCount(a.length,this.interface.deploy.inputs.length," in Contract constructor");const at=yield resolveAddresses(this.signer,a,this.interface.deploy.inputs);at.push(rt);const it=this.getDeployTransaction(...at),ot=yield this.signer.sendTransaction(it),st=getStatic(this.constructor,"getContractAddress")(ot),ct=getStatic(this.constructor,"getContract")(st,this.interface,this.signer);return addContractWait(ct,ot),defineReadOnly(ct,"deployTransaction",ot),ct})}attach(a){return this.constructor.getContract(a,this.interface,this.signer)}connect(a){return new this.constructor(this.interface,this.bytecode,a)}static fromSolidity(a,rt){a==null&&logger$q.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof a=="string"&&(a=JSON.parse(a));const at=a.abi;let it=null;return a.bytecode?it=a.bytecode:a.evm&&a.evm.bytecode&&(it=a.evm.bytecode),new this(at,it,rt)}static getInterface(a){return Contract.getInterface(a)}static getContractAddress(a){return getContractAddress(a)}static getContract(a,rt,at){return new Contract(a,rt,at)}}class BaseX{constructor(a){defineReadOnly(this,"alphabet",a),defineReadOnly(this,"base",a.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",a.charAt(0));for(let rt=0;rt<a.length;rt++)this._alphabetMap[a.charAt(rt)]=rt}encode(a){let rt=arrayify(a);if(rt.length===0)return"";let at=[0];for(let ot=0;ot<rt.length;++ot){let st=rt[ot];for(let ct=0;ct<at.length;++ct)st+=at[ct]<<8,at[ct]=st%this.base,st=st/this.base|0;for(;st>0;)at.push(st%this.base),st=st/this.base|0}let it="";for(let ot=0;rt[ot]===0&&ot<rt.length-1;++ot)it+=this._leader;for(let ot=at.length-1;ot>=0;--ot)it+=this.alphabet[at[ot]];return it}decode(a){if(typeof a!="string")throw new TypeError("Expected String");let rt=[];if(a.length===0)return new Uint8Array(rt);rt.push(0);for(let at=0;at<a.length;at++){let it=this._alphabetMap[a[at]];if(it===void 0)throw new Error("Non-base"+this.base+" character");let ot=it;for(let st=0;st<rt.length;++st)ot+=rt[st]*this.base,rt[st]=ot&255,ot>>=8;for(;ot>0;)rt.push(ot&255),ot>>=8}for(let at=0;a[at]===this._leader&&at<a.length-1;++at)rt.push(0);return arrayify(new Uint8Array(rt.reverse()))}}const Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,BaseX,Base32,Base58},Symbol.toStringTag,{value:"Module"}));var SupportedAlgorithm;(function(o){o.sha256="sha256",o.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$b="sha2/5.7.0",logger$p=new Logger(version$b);function ripemd160$1(o){return"0x"+hash$1.ripemd160().update(arrayify(o)).digest("hex")}function sha256$2(o){return"0x"+hash$1.sha256().update(arrayify(o)).digest("hex")}function sha512$1(o){return"0x"+hash$1.sha512().update(arrayify(o)).digest("hex")}function computeHmac(o,a,rt){return SupportedAlgorithm[o]||logger$p.throwError("unsupported algorithm "+o,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:o}),"0x"+hash$1.hmac(hash$1[o],arrayify(a)).update(arrayify(rt)).digest("hex")}const lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,computeHmac,ripemd160:ripemd160$1,sha256:sha256$2,sha512:sha512$1,get SupportedAlgorithm(){return SupportedAlgorithm}},Symbol.toStringTag,{value:"Module"}));function pbkdf2$2(o,a,rt,at,it){o=arrayify(o),a=arrayify(a);let ot,st=1;const ct=new Uint8Array(at),lt=new Uint8Array(a.length+4);lt.set(a);let ut,dt;for(let ft=1;ft<=st;ft++){lt[a.length]=ft>>24&255,lt[a.length+1]=ft>>16&255,lt[a.length+2]=ft>>8&255,lt[a.length+3]=ft&255;let pt=arrayify(computeHmac(it,o,lt));ot||(ot=pt.length,dt=new Uint8Array(ot),st=Math.ceil(at/ot),ut=at-(st-1)*ot),dt.set(pt);for(let mt=1;mt<rt;mt++){pt=arrayify(computeHmac(it,o,pt));for(let gt=0;gt<ot;gt++)dt[gt]^=pt[gt]}const ht=(ft-1)*ot,yt=ft===st?ut:ot;ct.set(arrayify(dt).slice(0,yt),ht)}return hexlify(ct)}const version$a="wordlists/5.7.0",logger$o=new Logger(version$a);class Wordlist{constructor(a){logger$o.checkAbstract(new.target,Wordlist),defineReadOnly(this,"locale",a)}split(a){return a.toLowerCase().split(/ +/g)}join(a){return a.join(" ")}static check(a){const rt=[];for(let at=0;at<2048;at++){const it=a.getWord(at);if(at!==a.getWordIndex(it))return"0x";rt.push(it)}return id(rt.join(`
`)+`
`)}static register(a,rt){rt||(rt=a.locale)}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(o){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(o)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(a){return loadWords(this),wordlist[a]}getWordIndex(a){return loadWords(this),wordlist.indexOf(a)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$9="hdnode/5.7.0",logger$n=new Logger(version$9),N$1=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(o){return(1<<o)-1<<8-o}function getLowerMask(o){return(1<<o)-1}function bytes32(o){return hexZeroPad(hexlify(o),32)}function base58check(o){return Base58.encode(concat([o,hexDataSlice(sha256$2(sha256$2(o)),0,4)]))}function getWordlist(o){if(o==null)return wordlists.en;if(typeof o=="string"){const a=wordlists[o];return a==null&&logger$n.throwArgumentError("unknown locale","wordlist",o),a}return o}const _constructorGuard$1={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(a,rt,at,it,ot,st,ct,lt){if(a!==_constructorGuard$1)throw new Error("HDNode constructor cannot be called directly");if(rt){const ut=new SigningKey(rt);defineReadOnly(this,"privateKey",ut.privateKey),defineReadOnly(this,"publicKey",ut.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(at));defineReadOnly(this,"parentFingerprint",it),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160$1(sha256$2(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",ot),defineReadOnly(this,"index",st),defineReadOnly(this,"depth",ct),lt==null?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):typeof lt=="string"?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",lt)):(defineReadOnly(this,"mnemonic",lt),defineReadOnly(this,"path",lt.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(a){if(a>4294967295)throw new Error("invalid index - "+String(a));let rt=this.path;rt&&(rt+="/"+(a&~HardenedBit));const at=new Uint8Array(37);if(a&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");at.set(arrayify(this.privateKey),1),rt&&(rt+="'")}else at.set(arrayify(this.publicKey));for(let ft=24;ft>=0;ft-=8)at[33+(ft>>3)]=a>>24-ft&255;const it=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,at)),ot=it.slice(0,32),st=it.slice(32);let ct=null,lt=null;this.privateKey?ct=bytes32(BigNumber.from(ot).add(this.privateKey).mod(N$1)):lt=new SigningKey(hexlify(ot))._addPoint(this.publicKey);let ut=rt;const dt=this.mnemonic;return dt&&(ut=Object.freeze({phrase:dt.phrase,path:rt,locale:dt.locale||"en"})),new HDNode(_constructorGuard$1,ct,lt,this.fingerprint,bytes32(st),a,this.depth+1,ut)}derivePath(a){const rt=a.split("/");if(rt.length===0||rt[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+a);rt[0]==="m"&&rt.shift();let at=this;for(let it=0;it<rt.length;it++){const ot=rt[it];if(ot.match(/^[0-9]+'$/)){const st=parseInt(ot.substring(0,ot.length-1));if(st>=HardenedBit)throw new Error("invalid path index - "+ot);at=at._derive(HardenedBit+st)}else if(ot.match(/^[0-9]+$/)){const st=parseInt(ot);if(st>=HardenedBit)throw new Error("invalid path index - "+ot);at=at._derive(st)}else throw new Error("invalid path component - "+ot)}return at}static _fromSeed(a,rt){const at=arrayify(a);if(at.length<16||at.length>64)throw new Error("invalid seed");const it=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,at));return new HDNode(_constructorGuard$1,bytes32(it.slice(0,32)),null,"0x00000000",bytes32(it.slice(32)),0,0,rt)}static fromMnemonic(a,rt,at){return at=getWordlist(at),a=entropyToMnemonic(mnemonicToEntropy(a,at),at),HDNode._fromSeed(mnemonicToSeed(a,rt),{phrase:a,path:"m",locale:at.locale})}static fromSeed(a){return HDNode._fromSeed(a,null)}static fromExtendedKey(a){const rt=Base58.decode(a);(rt.length!==82||base58check(rt.slice(0,78))!==a)&&logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const at=rt[4],it=hexlify(rt.slice(5,9)),ot=parseInt(hexlify(rt.slice(9,13)).substring(2),16),st=hexlify(rt.slice(13,45)),ct=rt.slice(45,78);switch(hexlify(rt.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$1,null,hexlify(ct),it,st,ot,at,null);case"0x0488ade4":case"0x04358394 ":if(ct[0]!==0)break;return new HDNode(_constructorGuard$1,hexlify(ct.slice(1)),null,it,st,ot,at,null)}return logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(o,a){a||(a="");const rt=toUtf8Bytes("mnemonic"+a,UnicodeNormalizationForm.NFKD);return pbkdf2$2(toUtf8Bytes(o,UnicodeNormalizationForm.NFKD),rt,2048,64,"sha512")}function mnemonicToEntropy(o,a){a=getWordlist(a),logger$n.checkNormalize();const rt=a.split(o);if(rt.length%3!==0)throw new Error("invalid mnemonic");const at=arrayify(new Uint8Array(Math.ceil(11*rt.length/8)));let it=0;for(let ut=0;ut<rt.length;ut++){let dt=a.getWordIndex(rt[ut].normalize("NFKD"));if(dt===-1)throw new Error("invalid mnemonic");for(let ft=0;ft<11;ft++)dt&1<<10-ft&&(at[it>>3]|=1<<7-it%8),it++}const ot=32*rt.length/3,st=rt.length/3,ct=getUpperMask(st);if((arrayify(sha256$2(at.slice(0,ot/8)))[0]&ct)!==(at[at.length-1]&ct))throw new Error("invalid checksum");return hexlify(at.slice(0,ot/8))}function entropyToMnemonic(o,a){if(a=getWordlist(a),o=arrayify(o),o.length%4!==0||o.length<16||o.length>32)throw new Error("invalid entropy");const rt=[0];let at=11;for(let st=0;st<o.length;st++)at>8?(rt[rt.length-1]<<=8,rt[rt.length-1]|=o[st],at-=8):(rt[rt.length-1]<<=at,rt[rt.length-1]|=o[st]>>8-at,rt.push(o[st]&getLowerMask(8-at)),at+=3);const it=o.length/4,ot=arrayify(sha256$2(o))[0]&getUpperMask(it);return rt[rt.length-1]<<=it,rt[rt.length-1]|=ot>>8-it,a.join(rt.map(st=>a.getWord(st)))}function isValidMnemonic(o,a){try{return mnemonicToEntropy(o,a),!0}catch{}return!1}function getAccountPath(o){return(typeof o!="number"||o<0||o>=HardenedBit||o%1)&&logger$n.throwArgumentError("invalid account index","index",o),`m/44'/60'/${o}'/0/0`}const lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,defaultPath,HDNode,mnemonicToSeed,mnemonicToEntropy,entropyToMnemonic,isValidMnemonic,getAccountPath},Symbol.toStringTag,{value:"Module"})),version$8="random/5.7.0",logger$m=new Logger(version$8);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof _global<"u")return _global;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();let crypto$1=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$1||!crypto$1.getRandomValues)&&(logger$m.warn("WARNING: Missing strong random number source"),crypto$1={getRandomValues:function(o){return logger$m.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes(o){(o<=0||o>1024||o%1||o!=o)&&logger$m.throwArgumentError("invalid length","length",o);const a=new Uint8Array(o);return crypto$1.getRandomValues(a),arrayify(a)}function shuffled(o){o=o.slice();for(let a=o.length-1;a>0;a--){const rt=Math.floor(Math.random()*(a+1)),at=o[a];o[a]=o[rt],o[rt]=at}return o}const lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,randomBytes,shuffled},Symbol.toStringTag,{value:"Module"}));var aesJs={exports:{}};(function(o,a){(function(rt){function at(At){return parseInt(At)===At}function it(At){if(!at(At.length))return!1;for(var Ct=0;Ct<At.length;Ct++)if(!at(At[Ct])||At[Ct]<0||At[Ct]>255)return!1;return!0}function ot(At,Ct){if(At.buffer&&ArrayBuffer.isView(At)&&At.name==="Uint8Array")return Ct&&(At.slice?At=At.slice():At=Array.prototype.slice.call(At)),At;if(Array.isArray(At)){if(!it(At))throw new Error("Array contains invalid value: "+At);return new Uint8Array(At)}if(at(At.length)&&it(At))return new Uint8Array(At);throw new Error("unsupported array-like object")}function st(At){return new Uint8Array(At)}function ct(At,Ct,Dt,Wt,$t){(Wt!=null||$t!=null)&&(At.slice?At=At.slice(Wt,$t):At=Array.prototype.slice.call(At,Wt,$t)),Ct.set(At,Dt)}var lt=function(){function At(Dt){var Wt=[],$t=0;for(Dt=encodeURI(Dt);$t<Dt.length;){var Vt=Dt.charCodeAt($t++);Vt===37?(Wt.push(parseInt(Dt.substr($t,2),16)),$t+=2):Wt.push(Vt)}return ot(Wt)}function Ct(Dt){for(var Wt=[],$t=0;$t<Dt.length;){var Vt=Dt[$t];Vt<128?(Wt.push(String.fromCharCode(Vt)),$t++):Vt>191&&Vt<224?(Wt.push(String.fromCharCode((Vt&31)<<6|Dt[$t+1]&63)),$t+=2):(Wt.push(String.fromCharCode((Vt&15)<<12|(Dt[$t+1]&63)<<6|Dt[$t+2]&63)),$t+=3)}return Wt.join("")}return{toBytes:At,fromBytes:Ct}}(),ut=function(){function At(Wt){for(var $t=[],Vt=0;Vt<Wt.length;Vt+=2)$t.push(parseInt(Wt.substr(Vt,2),16));return $t}var Ct="0123456789abcdef";function Dt(Wt){for(var $t=[],Vt=0;Vt<Wt.length;Vt++){var Qt=Wt[Vt];$t.push(Ct[(Qt&240)>>4]+Ct[Qt&15])}return $t.join("")}return{toBytes:At,fromBytes:Dt}}(),dt={16:10,24:12,32:14},ft=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],pt=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ht=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],yt=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],mt=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],gt=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],bt=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],vt=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],wt=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Tt=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_t=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],St=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Pt=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Nt=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],jt=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Ut(At){for(var Ct=[],Dt=0;Dt<At.length;Dt+=4)Ct.push(At[Dt]<<24|At[Dt+1]<<16|At[Dt+2]<<8|At[Dt+3]);return Ct}var Ft=function(At){if(!(this instanceof Ft))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:ot(At,!0)}),this._prepare()};Ft.prototype._prepare=function(){var At=dt[this.key.length];if(At==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var Ct=0;Ct<=At;Ct++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var Dt=(At+1)*4,Wt=this.key.length/4,$t=Ut(this.key),Vt,Ct=0;Ct<Wt;Ct++)Vt=Ct>>2,this._Ke[Vt][Ct%4]=$t[Ct],this._Kd[At-Vt][Ct%4]=$t[Ct];for(var Qt=0,Zt=Wt,Yt;Zt<Dt;){if(Yt=$t[Wt-1],$t[0]^=pt[Yt>>16&255]<<24^pt[Yt>>8&255]<<16^pt[Yt&255]<<8^pt[Yt>>24&255]^ft[Qt]<<24,Qt+=1,Wt!=8)for(var Ct=1;Ct<Wt;Ct++)$t[Ct]^=$t[Ct-1];else{for(var Ct=1;Ct<Wt/2;Ct++)$t[Ct]^=$t[Ct-1];Yt=$t[Wt/2-1],$t[Wt/2]^=pt[Yt&255]^pt[Yt>>8&255]<<8^pt[Yt>>16&255]<<16^pt[Yt>>24&255]<<24;for(var Ct=Wt/2+1;Ct<Wt;Ct++)$t[Ct]^=$t[Ct-1]}for(var Ct=0,tr,nr;Ct<Wt&&Zt<Dt;)tr=Zt>>2,nr=Zt%4,this._Ke[tr][nr]=$t[Ct],this._Kd[At-tr][nr]=$t[Ct++],Zt++}for(var tr=1;tr<At;tr++)for(var nr=0;nr<4;nr++)Yt=this._Kd[tr][nr],this._Kd[tr][nr]=St[Yt>>24&255]^Pt[Yt>>16&255]^Nt[Yt>>8&255]^jt[Yt&255]},Ft.prototype.encrypt=function(At){if(At.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var Ct=this._Ke.length-1,Dt=[0,0,0,0],Wt=Ut(At),$t=0;$t<4;$t++)Wt[$t]^=this._Ke[0][$t];for(var Vt=1;Vt<Ct;Vt++){for(var $t=0;$t<4;$t++)Dt[$t]=yt[Wt[$t]>>24&255]^mt[Wt[($t+1)%4]>>16&255]^gt[Wt[($t+2)%4]>>8&255]^bt[Wt[($t+3)%4]&255]^this._Ke[Vt][$t];Wt=Dt.slice()}for(var Qt=st(16),Zt,$t=0;$t<4;$t++)Zt=this._Ke[Ct][$t],Qt[4*$t]=(pt[Wt[$t]>>24&255]^Zt>>24)&255,Qt[4*$t+1]=(pt[Wt[($t+1)%4]>>16&255]^Zt>>16)&255,Qt[4*$t+2]=(pt[Wt[($t+2)%4]>>8&255]^Zt>>8)&255,Qt[4*$t+3]=(pt[Wt[($t+3)%4]&255]^Zt)&255;return Qt},Ft.prototype.decrypt=function(At){if(At.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var Ct=this._Kd.length-1,Dt=[0,0,0,0],Wt=Ut(At),$t=0;$t<4;$t++)Wt[$t]^=this._Kd[0][$t];for(var Vt=1;Vt<Ct;Vt++){for(var $t=0;$t<4;$t++)Dt[$t]=vt[Wt[$t]>>24&255]^wt[Wt[($t+3)%4]>>16&255]^Tt[Wt[($t+2)%4]>>8&255]^_t[Wt[($t+1)%4]&255]^this._Kd[Vt][$t];Wt=Dt.slice()}for(var Qt=st(16),Zt,$t=0;$t<4;$t++)Zt=this._Kd[Ct][$t],Qt[4*$t]=(ht[Wt[$t]>>24&255]^Zt>>24)&255,Qt[4*$t+1]=(ht[Wt[($t+3)%4]>>16&255]^Zt>>16)&255,Qt[4*$t+2]=(ht[Wt[($t+2)%4]>>8&255]^Zt>>8)&255,Qt[4*$t+3]=(ht[Wt[($t+1)%4]&255]^Zt)&255;return Qt};var Kt=function(At){if(!(this instanceof Kt))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Ft(At)};Kt.prototype.encrypt=function(At){if(At=ot(At),At.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var Ct=st(At.length),Dt=st(16),Wt=0;Wt<At.length;Wt+=16)ct(At,Dt,0,Wt,Wt+16),Dt=this._aes.encrypt(Dt),ct(Dt,Ct,Wt);return Ct},Kt.prototype.decrypt=function(At){if(At=ot(At),At.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var Ct=st(At.length),Dt=st(16),Wt=0;Wt<At.length;Wt+=16)ct(At,Dt,0,Wt,Wt+16),Dt=this._aes.decrypt(Dt),ct(Dt,Ct,Wt);return Ct};var Mt=function(At,Ct){if(!(this instanceof Mt))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!Ct)Ct=st(16);else if(Ct.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=ot(Ct,!0),this._aes=new Ft(At)};Mt.prototype.encrypt=function(At){if(At=ot(At),At.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var Ct=st(At.length),Dt=st(16),Wt=0;Wt<At.length;Wt+=16){ct(At,Dt,0,Wt,Wt+16);for(var $t=0;$t<16;$t++)Dt[$t]^=this._lastCipherblock[$t];this._lastCipherblock=this._aes.encrypt(Dt),ct(this._lastCipherblock,Ct,Wt)}return Ct},Mt.prototype.decrypt=function(At){if(At=ot(At),At.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var Ct=st(At.length),Dt=st(16),Wt=0;Wt<At.length;Wt+=16){ct(At,Dt,0,Wt,Wt+16),Dt=this._aes.decrypt(Dt);for(var $t=0;$t<16;$t++)Ct[Wt+$t]=Dt[$t]^this._lastCipherblock[$t];ct(At,this._lastCipherblock,0,Wt,Wt+16)}return Ct};var xt=function(At,Ct,Dt){if(!(this instanceof xt))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!Ct)Ct=st(16);else if(Ct.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");Dt||(Dt=1),this.segmentSize=Dt,this._shiftRegister=ot(Ct,!0),this._aes=new Ft(At)};xt.prototype.encrypt=function(At){if(At.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var Ct=ot(At,!0),Dt,Wt=0;Wt<Ct.length;Wt+=this.segmentSize){Dt=this._aes.encrypt(this._shiftRegister);for(var $t=0;$t<this.segmentSize;$t++)Ct[Wt+$t]^=Dt[$t];ct(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ct(Ct,this._shiftRegister,16-this.segmentSize,Wt,Wt+this.segmentSize)}return Ct},xt.prototype.decrypt=function(At){if(At.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var Ct=ot(At,!0),Dt,Wt=0;Wt<Ct.length;Wt+=this.segmentSize){Dt=this._aes.encrypt(this._shiftRegister);for(var $t=0;$t<this.segmentSize;$t++)Ct[Wt+$t]^=Dt[$t];ct(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ct(At,this._shiftRegister,16-this.segmentSize,Wt,Wt+this.segmentSize)}return Ct};var Et=function(At,Ct){if(!(this instanceof Et))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!Ct)Ct=st(16);else if(Ct.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=ot(Ct,!0),this._lastPrecipherIndex=16,this._aes=new Ft(At)};Et.prototype.encrypt=function(At){for(var Ct=ot(At,!0),Dt=0;Dt<Ct.length;Dt++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),Ct[Dt]^=this._lastPrecipher[this._lastPrecipherIndex++];return Ct},Et.prototype.decrypt=Et.prototype.encrypt;var Rt=function(At){if(!(this instanceof Rt))throw Error("Counter must be instanitated with `new`");At!==0&&!At&&(At=1),typeof At=="number"?(this._counter=st(16),this.setValue(At)):this.setBytes(At)};Rt.prototype.setValue=function(At){if(typeof At!="number"||parseInt(At)!=At)throw new Error("invalid counter value (must be an integer)");for(var Ct=15;Ct>=0;--Ct)this._counter[Ct]=At%256,At=At>>8},Rt.prototype.setBytes=function(At){if(At=ot(At,!0),At.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=At},Rt.prototype.increment=function(){for(var At=15;At>=0;At--)if(this._counter[At]===255)this._counter[At]=0;else{this._counter[At]++;break}};var Lt=function(At,Ct){if(!(this instanceof Lt))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",Ct instanceof Rt||(Ct=new Rt(Ct)),this._counter=Ct,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Ft(At)};Lt.prototype.encrypt=function(At){for(var Ct=ot(At,!0),Dt=0;Dt<Ct.length;Dt++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),Ct[Dt]^=this._remainingCounter[this._remainingCounterIndex++];return Ct},Lt.prototype.decrypt=Lt.prototype.encrypt;function Bt(At){At=ot(At,!0);var Ct=16-At.length%16,Dt=st(At.length+Ct);ct(At,Dt);for(var Wt=At.length;Wt<Dt.length;Wt++)Dt[Wt]=Ct;return Dt}function Ot(At){if(At=ot(At,!0),At.length<16)throw new Error("PKCS#7 invalid length");var Ct=At[At.length-1];if(Ct>16)throw new Error("PKCS#7 padding byte out of range");for(var Dt=At.length-Ct,Wt=0;Wt<Ct;Wt++)if(At[Dt+Wt]!==Ct)throw new Error("PKCS#7 invalid padding byte");var $t=st(Dt);return ct(At,$t,0,0,Dt),$t}var qt={AES:Ft,Counter:Rt,ModeOfOperation:{ecb:Kt,cbc:Mt,cfb:xt,ofb:Et,ctr:Lt},utils:{hex:ut,utf8:lt},padding:{pkcs7:{pad:Bt,strip:Ot}},_arrayTest:{coerceArray:ot,createArray:st,copyArray:ct}};o.exports=qt})()})(aesJs);const aes$1=aesJs.exports,version$7="json-wallets/5.7.0";function looseArrayify(o){return typeof o=="string"&&o.substring(0,2)!=="0x"&&(o="0x"+o),arrayify(o)}function zpad(o,a){for(o=String(o);o.length<a;)o="0"+o;return o}function getPassword(o){return typeof o=="string"?toUtf8Bytes(o,UnicodeNormalizationForm.NFKC):arrayify(o)}function searchPath(o,a){let rt=o;const at=a.toLowerCase().split("/");for(let it=0;it<at.length;it++){let ot=null;for(const st in rt)if(st.toLowerCase()===at[it]){ot=rt[st];break}if(ot===null)return null;rt=ot}return rt}function uuidV4(o){const a=arrayify(o);a[6]=a[6]&15|64,a[8]=a[8]&63|128;const rt=hexlify(a);return[rt.substring(2,10),rt.substring(10,14),rt.substring(14,18),rt.substring(18,22),rt.substring(22,34)].join("-")}const logger$l=new Logger(version$7);class CrowdsaleAccount extends Description{isCrowdsaleAccount(a){return!!(a&&a._isCrowdsaleAccount)}}function decrypt$1(o,a){const rt=JSON.parse(o);a=getPassword(a);const at=getAddress(searchPath(rt,"ethaddr")),it=looseArrayify(searchPath(rt,"encseed"));(!it||it.length%16!==0)&&logger$l.throwArgumentError("invalid encseed","json",o);const ot=arrayify(pbkdf2$2(a,a,2e3,32,"sha256")).slice(0,16),st=it.slice(0,16),ct=it.slice(16),lt=new aes$1.ModeOfOperation.cbc(ot,st),ut=aes$1.padding.pkcs7.strip(arrayify(lt.decrypt(ct)));let dt="";for(let ht=0;ht<ut.length;ht++)dt+=String.fromCharCode(ut[ht]);const ft=toUtf8Bytes(dt),pt=keccak256$1(ft);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:at,privateKey:pt})}function isCrowdsaleWallet(o){let a=null;try{a=JSON.parse(o)}catch{return!1}return a.encseed&&a.ethaddr}function isKeystoreWallet(o){let a=null;try{a=JSON.parse(o)}catch{return!1}return!(!a.version||parseInt(a.version)!==a.version||parseInt(a.version)!==3)}function getJsonWalletAddress(o){if(isCrowdsaleWallet(o))try{return getAddress(JSON.parse(o).ethaddr)}catch{return null}if(isKeystoreWallet(o))try{return getAddress(JSON.parse(o).address)}catch{return null}return null}var scrypt$1={exports:{}};(function(o,a){(function(rt){function it(mt){const gt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let bt=1779033703,vt=3144134277,wt=1013904242,Tt=2773480762,_t=1359893119,St=2600822924,Pt=528734635,Nt=1541459225;const jt=new Uint32Array(64);function Ut(Lt){let Bt=0,Ot=Lt.length;for(;Ot>=64;){let qt=bt,At=vt,Ct=wt,Dt=Tt,Wt=_t,$t=St,Vt=Pt,Qt=Nt,Zt,Yt,tr,nr,Xt;for(Yt=0;Yt<16;Yt++)tr=Bt+Yt*4,jt[Yt]=(Lt[tr]&255)<<24|(Lt[tr+1]&255)<<16|(Lt[tr+2]&255)<<8|Lt[tr+3]&255;for(Yt=16;Yt<64;Yt++)Zt=jt[Yt-2],nr=(Zt>>>17|Zt<<32-17)^(Zt>>>19|Zt<<32-19)^Zt>>>10,Zt=jt[Yt-15],Xt=(Zt>>>7|Zt<<32-7)^(Zt>>>18|Zt<<32-18)^Zt>>>3,jt[Yt]=(nr+jt[Yt-7]|0)+(Xt+jt[Yt-16]|0)|0;for(Yt=0;Yt<64;Yt++)nr=(((Wt>>>6|Wt<<32-6)^(Wt>>>11|Wt<<32-11)^(Wt>>>25|Wt<<32-25))+(Wt&$t^~Wt&Vt)|0)+(Qt+(gt[Yt]+jt[Yt]|0)|0)|0,Xt=((qt>>>2|qt<<32-2)^(qt>>>13|qt<<32-13)^(qt>>>22|qt<<32-22))+(qt&At^qt&Ct^At&Ct)|0,Qt=Vt,Vt=$t,$t=Wt,Wt=Dt+nr|0,Dt=Ct,Ct=At,At=qt,qt=nr+Xt|0;bt=bt+qt|0,vt=vt+At|0,wt=wt+Ct|0,Tt=Tt+Dt|0,_t=_t+Wt|0,St=St+$t|0,Pt=Pt+Vt|0,Nt=Nt+Qt|0,Bt+=64,Ot-=64}}Ut(mt);let Ft,Kt=mt.length%64,Mt=mt.length/536870912|0,xt=mt.length<<3,Et=Kt<56?56:120,Rt=mt.slice(mt.length-Kt,mt.length);for(Rt.push(128),Ft=Kt+1;Ft<Et;Ft++)Rt.push(0);return Rt.push(Mt>>>24&255),Rt.push(Mt>>>16&255),Rt.push(Mt>>>8&255),Rt.push(Mt>>>0&255),Rt.push(xt>>>24&255),Rt.push(xt>>>16&255),Rt.push(xt>>>8&255),Rt.push(xt>>>0&255),Ut(Rt),[bt>>>24&255,bt>>>16&255,bt>>>8&255,bt>>>0&255,vt>>>24&255,vt>>>16&255,vt>>>8&255,vt>>>0&255,wt>>>24&255,wt>>>16&255,wt>>>8&255,wt>>>0&255,Tt>>>24&255,Tt>>>16&255,Tt>>>8&255,Tt>>>0&255,_t>>>24&255,_t>>>16&255,_t>>>8&255,_t>>>0&255,St>>>24&255,St>>>16&255,St>>>8&255,St>>>0&255,Pt>>>24&255,Pt>>>16&255,Pt>>>8&255,Pt>>>0&255,Nt>>>24&255,Nt>>>16&255,Nt>>>8&255,Nt>>>0&255]}function ot(mt,gt,bt){mt=mt.length<=64?mt:it(mt);const vt=64+gt.length+4,wt=new Array(vt),Tt=new Array(64);let _t,St=[];for(_t=0;_t<64;_t++)wt[_t]=54;for(_t=0;_t<mt.length;_t++)wt[_t]^=mt[_t];for(_t=0;_t<gt.length;_t++)wt[64+_t]=gt[_t];for(_t=vt-4;_t<vt;_t++)wt[_t]=0;for(_t=0;_t<64;_t++)Tt[_t]=92;for(_t=0;_t<mt.length;_t++)Tt[_t]^=mt[_t];function Pt(){for(let Nt=vt-1;Nt>=vt-4;Nt--){if(wt[Nt]++,wt[Nt]<=255)return;wt[Nt]=0}}for(;bt>=32;)Pt(),St=St.concat(it(Tt.concat(it(wt)))),bt-=32;return bt>0&&(Pt(),St=St.concat(it(Tt.concat(it(wt))).slice(0,bt))),St}function st(mt,gt,bt,vt,wt){let Tt;for(dt(mt,(2*bt-1)*16,wt,0,16),Tt=0;Tt<2*bt;Tt++)ut(mt,Tt*16,wt,16),lt(wt,vt),dt(wt,0,mt,gt+Tt*16,16);for(Tt=0;Tt<bt;Tt++)dt(mt,gt+Tt*2*16,mt,Tt*16,16);for(Tt=0;Tt<bt;Tt++)dt(mt,gt+(Tt*2+1)*16,mt,(Tt+bt)*16,16)}function ct(mt,gt){return mt<<gt|mt>>>32-gt}function lt(mt,gt){dt(mt,0,gt,0,16);for(let bt=8;bt>0;bt-=2)gt[4]^=ct(gt[0]+gt[12],7),gt[8]^=ct(gt[4]+gt[0],9),gt[12]^=ct(gt[8]+gt[4],13),gt[0]^=ct(gt[12]+gt[8],18),gt[9]^=ct(gt[5]+gt[1],7),gt[13]^=ct(gt[9]+gt[5],9),gt[1]^=ct(gt[13]+gt[9],13),gt[5]^=ct(gt[1]+gt[13],18),gt[14]^=ct(gt[10]+gt[6],7),gt[2]^=ct(gt[14]+gt[10],9),gt[6]^=ct(gt[2]+gt[14],13),gt[10]^=ct(gt[6]+gt[2],18),gt[3]^=ct(gt[15]+gt[11],7),gt[7]^=ct(gt[3]+gt[15],9),gt[11]^=ct(gt[7]+gt[3],13),gt[15]^=ct(gt[11]+gt[7],18),gt[1]^=ct(gt[0]+gt[3],7),gt[2]^=ct(gt[1]+gt[0],9),gt[3]^=ct(gt[2]+gt[1],13),gt[0]^=ct(gt[3]+gt[2],18),gt[6]^=ct(gt[5]+gt[4],7),gt[7]^=ct(gt[6]+gt[5],9),gt[4]^=ct(gt[7]+gt[6],13),gt[5]^=ct(gt[4]+gt[7],18),gt[11]^=ct(gt[10]+gt[9],7),gt[8]^=ct(gt[11]+gt[10],9),gt[9]^=ct(gt[8]+gt[11],13),gt[10]^=ct(gt[9]+gt[8],18),gt[12]^=ct(gt[15]+gt[14],7),gt[13]^=ct(gt[12]+gt[15],9),gt[14]^=ct(gt[13]+gt[12],13),gt[15]^=ct(gt[14]+gt[13],18);for(let bt=0;bt<16;++bt)mt[bt]+=gt[bt]}function ut(mt,gt,bt,vt){for(let wt=0;wt<vt;wt++)bt[wt]^=mt[gt+wt]}function dt(mt,gt,bt,vt,wt){for(;wt--;)bt[vt++]=mt[gt++]}function ft(mt){if(!mt||typeof mt.length!="number")return!1;for(let gt=0;gt<mt.length;gt++){const bt=mt[gt];if(typeof bt!="number"||bt%1||bt<0||bt>=256)return!1}return!0}function pt(mt,gt){if(typeof mt!="number"||mt%1)throw new Error("invalid "+gt);return mt}function ht(mt,gt,bt,vt,wt,Tt,_t){if(bt=pt(bt,"N"),vt=pt(vt,"r"),wt=pt(wt,"p"),Tt=pt(Tt,"dkLen"),bt===0||(bt&bt-1)!==0)throw new Error("N must be power of 2");if(bt>2147483647/128/vt)throw new Error("N too large");if(vt>2147483647/128/wt)throw new Error("r too large");if(!ft(mt))throw new Error("password must be an array or buffer");if(mt=Array.prototype.slice.call(mt),!ft(gt))throw new Error("salt must be an array or buffer");gt=Array.prototype.slice.call(gt);let St=ot(mt,gt,wt*128*vt);const Pt=new Uint32Array(wt*32*vt);for(let Wt=0;Wt<Pt.length;Wt++){const $t=Wt*4;Pt[Wt]=(St[$t+3]&255)<<24|(St[$t+2]&255)<<16|(St[$t+1]&255)<<8|(St[$t+0]&255)<<0}const Nt=new Uint32Array(64*vt),jt=new Uint32Array(32*vt*bt),Ut=32*vt,Ft=new Uint32Array(16),Kt=new Uint32Array(16),Mt=wt*bt*2;let xt=0,Et=null,Rt=!1,Lt=0,Bt=0,Ot,qt;const At=_t?parseInt(1e3/vt):4294967295,Ct=typeof setImmediate<"u"?setImmediate:setTimeout,Dt=function(){if(Rt)return _t(new Error("cancelled"),xt/Mt);let Wt;switch(Lt){case 0:qt=Bt*32*vt,dt(Pt,qt,Nt,0,Ut),Lt=1,Ot=0;case 1:Wt=bt-Ot,Wt>At&&(Wt=At);for(let Vt=0;Vt<Wt;Vt++)dt(Nt,0,jt,(Ot+Vt)*Ut,Ut),st(Nt,Ut,vt,Ft,Kt);if(Ot+=Wt,xt+=Wt,_t){const Vt=parseInt(1e3*xt/Mt);if(Vt!==Et){if(Rt=_t(null,xt/Mt),Rt)break;Et=Vt}}if(Ot<bt)break;Ot=0,Lt=2;case 2:Wt=bt-Ot,Wt>At&&(Wt=At);for(let Vt=0;Vt<Wt;Vt++){const Qt=(2*vt-1)*16,Zt=Nt[Qt]&bt-1;ut(jt,Zt*Ut,Nt,Ut),st(Nt,Ut,vt,Ft,Kt)}if(Ot+=Wt,xt+=Wt,_t){const Vt=parseInt(1e3*xt/Mt);if(Vt!==Et){if(Rt=_t(null,xt/Mt),Rt)break;Et=Vt}}if(Ot<bt)break;if(dt(Nt,0,Pt,qt,Ut),Bt++,Bt<wt){Lt=0;break}St=[];for(let Vt=0;Vt<Pt.length;Vt++)St.push(Pt[Vt]>>0&255),St.push(Pt[Vt]>>8&255),St.push(Pt[Vt]>>16&255),St.push(Pt[Vt]>>24&255);const $t=ot(mt,St,Tt);return _t&&_t(null,1,$t),$t}_t&&Ct(Dt)};if(!_t)for(;;){const Wt=Dt();if(Wt!=null)return Wt}Dt()}const yt={scrypt:function(mt,gt,bt,vt,wt,Tt,_t){return new Promise(function(St,Pt){let Nt=0;_t&&_t(0),ht(mt,gt,bt,vt,wt,Tt,function(jt,Ut,Ft){if(jt)Pt(jt);else if(Ft)_t&&Nt!==1&&_t(1),St(new Uint8Array(Ft));else if(_t&&Ut!==Nt)return Nt=Ut,_t(Ut)})})},syncScrypt:function(mt,gt,bt,vt,wt,Tt){return new Uint8Array(ht(mt,gt,bt,vt,wt,Tt))}};o.exports=yt})()})(scrypt$1);const scrypt=scrypt$1.exports;var __awaiter$a=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$k=new Logger(version$7);function hasMnemonic$1(o){return o!=null&&o.mnemonic&&o.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(a){return!!(a&&a._isKeystoreAccount)}}function _decrypt(o,a,rt){if(searchPath(o,"crypto/cipher")==="aes-128-ctr"){const it=looseArrayify(searchPath(o,"crypto/cipherparams/iv")),ot=new aes$1.Counter(it),st=new aes$1.ModeOfOperation.ctr(a,ot);return arrayify(st.decrypt(rt))}return null}function _getAccount(o,a){const rt=looseArrayify(searchPath(o,"crypto/ciphertext"));if(hexlify(keccak256$1(concat([a.slice(16,32),rt]))).substring(2)!==searchPath(o,"crypto/mac").toLowerCase())throw new Error("invalid password");const it=_decrypt(o,a.slice(0,16),rt);it||logger$k.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const ot=a.slice(32,64),st=computeAddress(it);if(o.address){let lt=o.address.toLowerCase();if(lt.substring(0,2)!=="0x"&&(lt="0x"+lt),getAddress(lt)!==st)throw new Error("address mismatch")}const ct={_isKeystoreAccount:!0,address:st,privateKey:hexlify(it)};if(searchPath(o,"x-ethers/version")==="0.1"){const lt=looseArrayify(searchPath(o,"x-ethers/mnemonicCiphertext")),ut=looseArrayify(searchPath(o,"x-ethers/mnemonicCounter")),dt=new aes$1.Counter(ut),ft=new aes$1.ModeOfOperation.ctr(ot,dt),pt=searchPath(o,"x-ethers/path")||defaultPath,ht=searchPath(o,"x-ethers/locale")||"en",yt=arrayify(ft.decrypt(lt));try{const mt=entropyToMnemonic(yt,ht),gt=HDNode.fromMnemonic(mt,null,ht).derivePath(pt);if(gt.privateKey!=ct.privateKey)throw new Error("mnemonic mismatch");ct.mnemonic=gt.mnemonic}catch(mt){if(mt.code!==Logger.errors.INVALID_ARGUMENT||mt.argument!=="wordlist")throw mt}}return new KeystoreAccount(ct)}function pbkdf2Sync(o,a,rt,at,it){return arrayify(pbkdf2$2(o,a,rt,at,it))}function pbkdf2$1(o,a,rt,at,it){return Promise.resolve(pbkdf2Sync(o,a,rt,at,it))}function _computeKdfKey(o,a,rt,at,it){const ot=getPassword(a),st=searchPath(o,"crypto/kdf");if(st&&typeof st=="string"){const ct=function(lt,ut){return logger$k.throwArgumentError("invalid key-derivation function parameters",lt,ut)};if(st.toLowerCase()==="scrypt"){const lt=looseArrayify(searchPath(o,"crypto/kdfparams/salt")),ut=parseInt(searchPath(o,"crypto/kdfparams/n")),dt=parseInt(searchPath(o,"crypto/kdfparams/r")),ft=parseInt(searchPath(o,"crypto/kdfparams/p"));(!ut||!dt||!ft)&&ct("kdf",st),(ut&ut-1)!==0&&ct("N",ut);const pt=parseInt(searchPath(o,"crypto/kdfparams/dklen"));return pt!==32&&ct("dklen",pt),at(ot,lt,ut,dt,ft,64,it)}else if(st.toLowerCase()==="pbkdf2"){const lt=looseArrayify(searchPath(o,"crypto/kdfparams/salt"));let ut=null;const dt=searchPath(o,"crypto/kdfparams/prf");dt==="hmac-sha256"?ut="sha256":dt==="hmac-sha512"?ut="sha512":ct("prf",dt);const ft=parseInt(searchPath(o,"crypto/kdfparams/c")),pt=parseInt(searchPath(o,"crypto/kdfparams/dklen"));return pt!==32&&ct("dklen",pt),rt(ot,lt,ft,pt,ut)}}return logger$k.throwArgumentError("unsupported key-derivation function","kdf",st)}function decryptSync(o,a){const rt=JSON.parse(o),at=_computeKdfKey(rt,a,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(rt,at)}function decrypt(o,a,rt){return __awaiter$a(this,void 0,void 0,function*(){const at=JSON.parse(o),it=yield _computeKdfKey(at,a,pbkdf2$1,scrypt.scrypt,rt);return _getAccount(at,it)})}function encrypt(o,a,rt,at){try{if(getAddress(o.address)!==computeAddress(o.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(o)){const gt=o.mnemonic;if(HDNode.fromMnemonic(gt.phrase,null,gt.locale).derivePath(gt.path||defaultPath).privateKey!=o.privateKey)throw new Error("mnemonic mismatch")}}catch(gt){return Promise.reject(gt)}typeof rt=="function"&&!at&&(at=rt,rt={}),rt||(rt={});const it=arrayify(o.privateKey),ot=getPassword(a);let st=null,ct=null,lt=null;if(hasMnemonic$1(o)){const gt=o.mnemonic;st=arrayify(mnemonicToEntropy(gt.phrase,gt.locale||"en")),ct=gt.path||defaultPath,lt=gt.locale||"en"}let ut=rt.client;ut||(ut="ethers.js");let dt=null;rt.salt?dt=arrayify(rt.salt):dt=randomBytes(32);let ft=null;if(rt.iv){if(ft=arrayify(rt.iv),ft.length!==16)throw new Error("invalid iv")}else ft=randomBytes(16);let pt=null;if(rt.uuid){if(pt=arrayify(rt.uuid),pt.length!==16)throw new Error("invalid uuid")}else pt=randomBytes(16);let ht=1<<17,yt=8,mt=1;return rt.scrypt&&(rt.scrypt.N&&(ht=rt.scrypt.N),rt.scrypt.r&&(yt=rt.scrypt.r),rt.scrypt.p&&(mt=rt.scrypt.p)),scrypt.scrypt(ot,dt,ht,yt,mt,64,at).then(gt=>{gt=arrayify(gt);const bt=gt.slice(0,16),vt=gt.slice(16,32),wt=gt.slice(32,64),Tt=new aes$1.Counter(ft),_t=new aes$1.ModeOfOperation.ctr(bt,Tt),St=arrayify(_t.encrypt(it)),Pt=keccak256$1(concat([vt,St])),Nt={address:o.address.substring(2).toLowerCase(),id:uuidV4(pt),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(ft).substring(2)},ciphertext:hexlify(St).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(dt).substring(2),n:ht,dklen:32,p:mt,r:yt},mac:Pt.substring(2)}};if(st){const jt=randomBytes(16),Ut=new aes$1.Counter(jt),Ft=new aes$1.ModeOfOperation.ctr(wt,Ut),Kt=arrayify(Ft.encrypt(st)),Mt=new Date,xt=Mt.getUTCFullYear()+"-"+zpad(Mt.getUTCMonth()+1,2)+"-"+zpad(Mt.getUTCDate(),2)+"T"+zpad(Mt.getUTCHours(),2)+"-"+zpad(Mt.getUTCMinutes(),2)+"-"+zpad(Mt.getUTCSeconds(),2)+".0Z";Nt["x-ethers"]={client:ut,gethFilename:"UTC--"+xt+"--"+Nt.address,mnemonicCounter:hexlify(jt).substring(2),mnemonicCiphertext:hexlify(Kt).substring(2),path:ct,locale:lt,version:"0.1"}}return JSON.stringify(Nt)})}function decryptJsonWallet(o,a,rt){if(isCrowdsaleWallet(o)){rt&&rt(0);const at=decrypt$1(o,a);return rt&&rt(1),Promise.resolve(at)}return isKeystoreWallet(o)?decrypt(o,a,rt):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(o,a){if(isCrowdsaleWallet(o))return decrypt$1(o,a);if(isKeystoreWallet(o))return decryptSync(o,a);throw new Error("invalid JSON wallet")}const lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$1,decryptKeystore:decrypt,decryptKeystoreSync:decryptSync,encryptKeystore:encrypt,isCrowdsaleWallet,isKeystoreWallet,getJsonWalletAddress,decryptJsonWallet,decryptJsonWalletSync},Symbol.toStringTag,{value:"Module"})),version$6="wallet/5.7.0";var __awaiter$9=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$j=new Logger(version$6);function isAccount(o){return o!=null&&isHexString(o.privateKey,32)&&o.address!=null}function hasMnemonic(o){const a=o.mnemonic;return a&&a.phrase}class Wallet extends Signer{constructor(a,rt){if(super(),isAccount(a)){const at=new SigningKey(a.privateKey);if(defineReadOnly(this,"_signingKey",()=>at),defineReadOnly(this,"address",computeAddress(this.publicKey)),this.address!==getAddress(a.address)&&logger$j.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(a)){const it=a.mnemonic;defineReadOnly(this,"_mnemonic",()=>({phrase:it.phrase,path:it.path||defaultPath,locale:it.locale||"en"}));const ot=this.mnemonic,st=HDNode.fromMnemonic(ot.phrase,null,ot.locale).derivePath(ot.path);computeAddress(st.privateKey)!==this.address&&logger$j.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(this,"_mnemonic",()=>null)}else{if(SigningKey.isSigningKey(a))a.curve!=="secp256k1"&&logger$j.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(this,"_signingKey",()=>a);else{typeof a=="string"&&a.match(/^[0-9a-f]*$/i)&&a.length===64&&(a="0x"+a);const at=new SigningKey(a);defineReadOnly(this,"_signingKey",()=>at)}defineReadOnly(this,"_mnemonic",()=>null),defineReadOnly(this,"address",computeAddress(this.publicKey))}rt&&!Provider.isProvider(rt)&&logger$j.throwArgumentError("invalid provider","provider",rt),defineReadOnly(this,"provider",rt||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(a){return new Wallet(this,a)}signTransaction(a){return resolveProperties(a).then(rt=>{rt.from!=null&&(getAddress(rt.from)!==this.address&&logger$j.throwArgumentError("transaction from address mismatch","transaction.from",a.from),delete rt.from);const at=this._signingKey().signDigest(keccak256$1(serialize$2(rt)));return serialize$2(rt,at)})}signMessage(a){return __awaiter$9(this,void 0,void 0,function*(){return joinSignature(this._signingKey().signDigest(hashMessage(a)))})}_signTypedData(a,rt,at){return __awaiter$9(this,void 0,void 0,function*(){const it=yield TypedDataEncoder.resolveNames(a,rt,at,ot=>(this.provider==null&&logger$j.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:ot}),this.provider.resolveName(ot)));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(it.domain,rt,it.value)))})}encrypt(a,rt,at){if(typeof rt=="function"&&!at&&(at=rt,rt={}),at&&typeof at!="function")throw new Error("invalid callback");return rt||(rt={}),encrypt(this,a,rt,at)}static createRandom(a){let rt=randomBytes(16);a||(a={}),a.extraEntropy&&(rt=arrayify(hexDataSlice(keccak256$1(concat([rt,a.extraEntropy])),0,16)));const at=entropyToMnemonic(rt,a.locale);return Wallet.fromMnemonic(at,a.path,a.locale)}static fromEncryptedJson(a,rt,at){return decryptJsonWallet(a,rt,at).then(it=>new Wallet(it))}static fromEncryptedJsonSync(a,rt){return new Wallet(decryptJsonWalletSync(a,rt))}static fromMnemonic(a,rt,at){return rt||(rt=defaultPath),new Wallet(HDNode.fromMnemonic(a,null,at).derivePath(rt))}}function verifyMessage(o,a){return recoverAddress(hashMessage(o),a)}function verifyTypedData(o,a,rt,at){return recoverAddress(TypedDataEncoder.hash(o,a,rt),at)}const lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,Wallet,verifyMessage,verifyTypedData},Symbol.toStringTag,{value:"Module"})),version$5="networks/5.7.1",logger$i=new Logger(version$5);function isRenetworkable(o){return o&&typeof o.renetwork=="function"}function ethDefaultProvider(o){const a=function(rt,at){at==null&&(at={});const it=[];if(rt.InfuraProvider&&at.infura!=="-")try{it.push(new rt.InfuraProvider(o,at.infura))}catch{}if(rt.EtherscanProvider&&at.etherscan!=="-")try{it.push(new rt.EtherscanProvider(o,at.etherscan))}catch{}if(rt.AlchemyProvider&&at.alchemy!=="-")try{it.push(new rt.AlchemyProvider(o,at.alchemy))}catch{}if(rt.PocketProvider&&at.pocket!=="-"){const ot=["goerli","ropsten","rinkeby","sepolia"];try{const st=new rt.PocketProvider(o,at.pocket);st.network&&ot.indexOf(st.network.name)===-1&&it.push(st)}catch{}}if(rt.CloudflareProvider&&at.cloudflare!=="-")try{it.push(new rt.CloudflareProvider(o))}catch{}if(rt.AnkrProvider&&at.ankr!=="-")try{const ot=["ropsten"],st=new rt.AnkrProvider(o,at.ankr);st.network&&ot.indexOf(st.network.name)===-1&&it.push(st)}catch{}if(it.length===0)return null;if(rt.FallbackProvider){let ot=1;return at.quorum!=null?ot=at.quorum:o==="homestead"&&(ot=2),new rt.FallbackProvider(it,ot)}return it[0]};return a.renetwork=function(rt){return ethDefaultProvider(rt)},a}function etcDefaultProvider(o,a){const rt=function(at,it){return at.JsonRpcProvider?new at.JsonRpcProvider(o,a):null};return rt.renetwork=function(at){return etcDefaultProvider(o,at)},rt}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(o){if(o==null)return null;if(typeof o=="number"){for(const at in networks){const it=networks[at];if(it.chainId===o)return{name:it.name,chainId:it.chainId,ensAddress:it.ensAddress||null,_defaultProvider:it._defaultProvider||null}}return{chainId:o,name:"unknown"}}if(typeof o=="string"){const at=networks[o];return at==null?null:{name:at.name,chainId:at.chainId,ensAddress:at.ensAddress,_defaultProvider:at._defaultProvider||null}}const a=networks[o.name];if(!a)return typeof o.chainId!="number"&&logger$i.throwArgumentError("invalid network chainId","network",o),o;o.chainId!==0&&o.chainId!==a.chainId&&logger$i.throwArgumentError("network chainId mismatch","network",o);let rt=o._defaultProvider||null;return rt==null&&a._defaultProvider&&(isRenetworkable(a._defaultProvider)?rt=a._defaultProvider.renetwork(o):rt=a._defaultProvider),{name:o.name,chainId:a.chainId,ensAddress:o.ensAddress||a.ensAddress||null,_defaultProvider:rt}}const version$4="web/5.7.1";var __awaiter$8=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};function getUrl(o,a){return __awaiter$8(this,void 0,void 0,function*(){a==null&&(a={});const rt={method:a.method||"GET",headers:a.headers||{},body:a.body||void 0};if(a.skipFetchSetup!==!0&&(rt.mode="cors",rt.cache="no-cache",rt.credentials="same-origin",rt.redirect="follow",rt.referrer="client"),a.fetchOptions!=null){const st=a.fetchOptions;st.mode&&(rt.mode=st.mode),st.cache&&(rt.cache=st.cache),st.credentials&&(rt.credentials=st.credentials),st.redirect&&(rt.redirect=st.redirect),st.referrer&&(rt.referrer=st.referrer)}const at=yield fetch(o,rt),it=yield at.arrayBuffer(),ot={};return at.headers.forEach?at.headers.forEach((st,ct)=>{ot[ct.toLowerCase()]=st}):at.headers.keys().forEach(st=>{ot[st.toLowerCase()]=at.headers.get(st)}),{headers:ot,statusCode:at.status,statusMessage:at.statusText,body:arrayify(new Uint8Array(it))}})}var __awaiter$7=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$h=new Logger(version$4);function staller(o){return new Promise(a=>{setTimeout(a,o)})}function bodyify(o,a){if(o==null)return null;if(typeof o=="string")return o;if(isBytesLike(o)){if(a&&(a.split("/")[0]==="text"||a.split(";")[0].trim()==="application/json"))try{return toUtf8String(o)}catch{}return hexlify(o)}return o}function unpercent(o){return toUtf8Bytes(o.replace(/%([0-9a-f][0-9a-f])/gi,(a,rt)=>String.fromCharCode(parseInt(rt,16))))}function _fetchData(o,a,rt){const at=typeof o=="object"&&o.throttleLimit!=null?o.throttleLimit:12;logger$h.assertArgument(at>0&&at%1===0,"invalid connection throttle limit","connection.throttleLimit",at);const it=typeof o=="object"?o.throttleCallback:null,ot=typeof o=="object"&&typeof o.throttleSlotInterval=="number"?o.throttleSlotInterval:100;logger$h.assertArgument(ot>0&&ot%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",ot);const st=typeof o=="object"?!!o.errorPassThrough:!1,ct={};let lt=null;const ut={method:"GET"};let dt=!1,ft=2*60*1e3;if(typeof o=="string")lt=o;else if(typeof o=="object"){if((o==null||o.url==null)&&logger$h.throwArgumentError("missing URL","connection.url",o),lt=o.url,typeof o.timeout=="number"&&o.timeout>0&&(ft=o.timeout),o.headers)for(const bt in o.headers)ct[bt.toLowerCase()]={key:bt,value:String(o.headers[bt])},["if-none-match","if-modified-since"].indexOf(bt.toLowerCase())>=0&&(dt=!0);if(ut.allowGzip=!!o.allowGzip,o.user!=null&&o.password!=null){lt.substring(0,6)!=="https:"&&o.allowInsecureAuthentication!==!0&&logger$h.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:lt,user:o.user,password:"[REDACTED]"});const bt=o.user+":"+o.password;ct.authorization={key:"Authorization",value:"Basic "+encode$1(toUtf8Bytes(bt))}}o.skipFetchSetup!=null&&(ut.skipFetchSetup=!!o.skipFetchSetup),o.fetchOptions!=null&&(ut.fetchOptions=shallowCopy(o.fetchOptions))}const pt=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),ht=lt?lt.match(pt):null;if(ht)try{const bt={statusCode:200,statusMessage:"OK",headers:{"content-type":ht[1]||"text/plain"},body:ht[2]?decode$2(ht[3]):unpercent(ht[3])};let vt=bt.body;return rt&&(vt=rt(bt.body,bt)),Promise.resolve(vt)}catch(bt){logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(ht[1],ht[2]),error:bt,requestBody:null,requestMethod:"GET",url:lt})}a&&(ut.method="POST",ut.body=a,ct["content-type"]==null&&(ct["content-type"]={key:"Content-Type",value:"application/octet-stream"}),ct["content-length"]==null&&(ct["content-length"]={key:"Content-Length",value:String(a.length)}));const yt={};Object.keys(ct).forEach(bt=>{const vt=ct[bt];yt[vt.key]=vt.value}),ut.headers=yt;const mt=function(){let bt=null;return{promise:new Promise(function(Tt,_t){ft&&(bt=setTimeout(()=>{bt!=null&&(bt=null,_t(logger$h.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(ut.body,yt["content-type"]),requestMethod:ut.method,timeout:ft,url:lt})))},ft))}),cancel:function(){bt!=null&&(clearTimeout(bt),bt=null)}}}(),gt=function(){return __awaiter$7(this,void 0,void 0,function*(){for(let bt=0;bt<at;bt++){let vt=null;try{if(vt=yield getUrl(lt,ut),bt<at){if(vt.statusCode===301||vt.statusCode===302){const Tt=vt.headers.location||"";if(ut.method==="GET"&&Tt.match(/^https:/)){lt=vt.headers.location;continue}}else if(vt.statusCode===429){let Tt=!0;if(it&&(Tt=yield it(bt,lt)),Tt){let _t=0;const St=vt.headers["retry-after"];typeof St=="string"&&St.match(/^[1-9][0-9]*$/)?_t=parseInt(St)*1e3:_t=ot*parseInt(String(Math.random()*Math.pow(2,bt))),yield staller(_t);continue}}}}catch(Tt){vt=Tt.response,vt==null&&(mt.cancel(),logger$h.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(ut.body,yt["content-type"]),requestMethod:ut.method,serverError:Tt,url:lt}))}let wt=vt.body;if(dt&&vt.statusCode===304?wt=null:!st&&(vt.statusCode<200||vt.statusCode>=300)&&(mt.cancel(),logger$h.throwError("bad response",Logger.errors.SERVER_ERROR,{status:vt.statusCode,headers:vt.headers,body:bodyify(wt,vt.headers?vt.headers["content-type"]:null),requestBody:bodyify(ut.body,yt["content-type"]),requestMethod:ut.method,url:lt})),rt)try{const Tt=yield rt(wt,vt);return mt.cancel(),Tt}catch(Tt){if(Tt.throttleRetry&&bt<at){let _t=!0;if(it&&(_t=yield it(bt,lt)),_t){const St=ot*parseInt(String(Math.random()*Math.pow(2,bt)));yield staller(St);continue}}mt.cancel(),logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(wt,vt.headers?vt.headers["content-type"]:null),error:Tt,requestBody:bodyify(ut.body,yt["content-type"]),requestMethod:ut.method,url:lt})}return mt.cancel(),wt}return logger$h.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(ut.body,yt["content-type"]),requestMethod:ut.method,url:lt})})}();return Promise.race([mt.promise,gt])}function fetchJson(o,a,rt){let at=(ot,st)=>{let ct=null;if(ot!=null)try{ct=JSON.parse(toUtf8String(ot))}catch(lt){logger$h.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:ot,error:lt})}return rt&&(ct=rt(ct,st)),ct},it=null;if(a!=null){it=toUtf8Bytes(a);const ot=typeof o=="string"?{url:o}:shallowCopy(o);ot.headers?Object.keys(ot.headers).filter(ct=>ct.toLowerCase()==="content-type").length!==0||(ot.headers=shallowCopy(ot.headers),ot.headers["content-type"]="application/json"):ot.headers={"content-type":"application/json"},o=ot}return _fetchData(o,it,at)}function poll(o,a){return a||(a={}),a=shallowCopy(a),a.floor==null&&(a.floor=0),a.ceiling==null&&(a.ceiling=1e4),a.interval==null&&(a.interval=250),new Promise(function(rt,at){let it=null,ot=!1;const st=()=>ot?!1:(ot=!0,it&&clearTimeout(it),!0);a.timeout&&(it=setTimeout(()=>{st()&&at(new Error("timeout"))},a.timeout));const ct=a.retryLimit;let lt=0;function ut(){return o().then(function(dt){if(dt!==void 0)st()&&rt(dt);else if(a.oncePoll)a.oncePoll.once("poll",ut);else if(a.onceBlock)a.onceBlock.once("block",ut);else if(!ot){if(lt++,lt>ct){st()&&at(new Error("retry limit reached"));return}let ft=a.interval*parseInt(String(Math.random()*Math.pow(2,lt)));ft<a.floor&&(ft=a.floor),ft>a.ceiling&&(ft=a.ceiling),setTimeout(ut,ft)}return null},function(dt){st()&&at(dt)})}ut()})}const lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,_fetchData,fetchJson,poll},Symbol.toStringTag,{value:"Module"}));var ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$3=0;z$3<ALPHABET$1.length;z$3++){var x$2=ALPHABET$1.charAt(z$3);if(ALPHABET_MAP[x$2]!==void 0)throw new TypeError(x$2+" is ambiguous");ALPHABET_MAP[x$2]=z$3}function polymodStep(o){var a=o>>25;return(o&33554431)<<5^-(a>>0&1)&996825010^-(a>>1&1)&642813549^-(a>>2&1)&513874426^-(a>>3&1)&1027748829^-(a>>4&1)&705979059}function prefixChk(o){for(var a=1,rt=0;rt<o.length;++rt){var at=o.charCodeAt(rt);if(at<33||at>126)return"Invalid prefix ("+o+")";a=polymodStep(a)^at>>5}for(a=polymodStep(a),rt=0;rt<o.length;++rt){var it=o.charCodeAt(rt);a=polymodStep(a)^it&31}return a}function encode(o,a,rt){if(rt=rt||90,o.length+7+a.length>rt)throw new TypeError("Exceeds length limit");o=o.toLowerCase();var at=prefixChk(o);if(typeof at=="string")throw new Error(at);for(var it=o+"1",ot=0;ot<a.length;++ot){var st=a[ot];if(st>>5!==0)throw new Error("Non 5-bit word");at=polymodStep(at)^st,it+=ALPHABET$1.charAt(st)}for(ot=0;ot<6;++ot)at=polymodStep(at);for(at^=1,ot=0;ot<6;++ot){var ct=at>>(5-ot)*5&31;it+=ALPHABET$1.charAt(ct)}return it}function __decode(o,a){if(a=a||90,o.length<8)return o+" too short";if(o.length>a)return"Exceeds length limit";var rt=o.toLowerCase(),at=o.toUpperCase();if(o!==rt&&o!==at)return"Mixed-case string "+o;o=rt;var it=o.lastIndexOf("1");if(it===-1)return"No separator character for "+o;if(it===0)return"Missing prefix for "+o;var ot=o.slice(0,it),st=o.slice(it+1);if(st.length<6)return"Data too short";var ct=prefixChk(ot);if(typeof ct=="string")return ct;for(var lt=[],ut=0;ut<st.length;++ut){var dt=st.charAt(ut),ft=ALPHABET_MAP[dt];if(ft===void 0)return"Unknown character "+dt;ct=polymodStep(ct)^ft,!(ut+6>=st.length)&&lt.push(ft)}return ct!==1?"Invalid checksum for "+o:{prefix:ot,words:lt}}function decodeUnsafe(){var o=__decode.apply(null,arguments);if(typeof o=="object")return o}function decode$1(o){var a=__decode.apply(null,arguments);if(typeof a=="object")return a;throw new Error(a)}function convert(o,a,rt,at){for(var it=0,ot=0,st=(1<<rt)-1,ct=[],lt=0;lt<o.length;++lt)for(it=it<<a|o[lt],ot+=a;ot>=rt;)ot-=rt,ct.push(it>>ot&st);if(at)ot>0&&ct.push(it<<rt-ot&st);else{if(ot>=a)return"Excess padding";if(it<<rt-ot&st)return"Non-zero padding"}return ct}function toWordsUnsafe(o){var a=convert(o,8,5,!0);if(Array.isArray(a))return a}function toWords(o){var a=convert(o,8,5,!0);if(Array.isArray(a))return a;throw new Error(a)}function fromWordsUnsafe(o){var a=convert(o,5,8,!1);if(Array.isArray(a))return a}function fromWords(o){var a=convert(o,5,8,!1);if(Array.isArray(a))return a;throw new Error(a)}var bech32={decodeUnsafe,decode:decode$1,encode,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version$3="providers/5.7.2",logger$g=new Logger(version$3);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const a={},rt=this.address.bind(this),at=this.bigNumber.bind(this),it=this.blockTag.bind(this),ot=this.data.bind(this),st=this.hash.bind(this),ct=this.hex.bind(this),lt=this.number.bind(this),ut=this.type.bind(this),dt=ft=>this.data(ft,!0);return a.transaction={hash:st,type:ut,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(st,null),blockNumber:Formatter.allowNull(lt,null),transactionIndex:Formatter.allowNull(lt,null),confirmations:Formatter.allowNull(lt,null),from:rt,gasPrice:Formatter.allowNull(at),maxPriorityFeePerGas:Formatter.allowNull(at),maxFeePerGas:Formatter.allowNull(at),gasLimit:at,to:Formatter.allowNull(rt,null),value:at,nonce:lt,data:ot,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(lt),creates:Formatter.allowNull(rt,null),raw:Formatter.allowNull(ot)},a.transactionRequest={from:Formatter.allowNull(rt),nonce:Formatter.allowNull(lt),gasLimit:Formatter.allowNull(at),gasPrice:Formatter.allowNull(at),maxPriorityFeePerGas:Formatter.allowNull(at),maxFeePerGas:Formatter.allowNull(at),to:Formatter.allowNull(rt),value:Formatter.allowNull(at),data:Formatter.allowNull(dt),type:Formatter.allowNull(lt),accessList:Formatter.allowNull(this.accessList.bind(this),null)},a.receiptLog={transactionIndex:lt,blockNumber:lt,transactionHash:st,address:rt,topics:Formatter.arrayOf(st),data:ot,logIndex:lt,blockHash:st},a.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(rt,null),transactionIndex:lt,root:Formatter.allowNull(ct),gasUsed:at,logsBloom:Formatter.allowNull(ot),blockHash:st,transactionHash:st,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:lt,confirmations:Formatter.allowNull(lt,null),cumulativeGasUsed:at,effectiveGasPrice:Formatter.allowNull(at),status:Formatter.allowNull(lt),type:ut},a.block={hash:Formatter.allowNull(st),parentHash:st,number:lt,timestamp:lt,nonce:Formatter.allowNull(ct),difficulty:this.difficulty.bind(this),gasLimit:at,gasUsed:at,miner:Formatter.allowNull(rt),extraData:ot,transactions:Formatter.allowNull(Formatter.arrayOf(st)),baseFeePerGas:Formatter.allowNull(at)},a.blockWithTransactions=shallowCopy(a.block),a.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),a.filter={fromBlock:Formatter.allowNull(it,void 0),toBlock:Formatter.allowNull(it,void 0),blockHash:Formatter.allowNull(st,void 0),address:Formatter.allowNull(rt,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},a.filterLog={blockNumber:Formatter.allowNull(lt),blockHash:Formatter.allowNull(st),transactionIndex:lt,removed:Formatter.allowNull(this.boolean.bind(this)),address:rt,data:Formatter.allowFalsish(ot,"0x"),topics:Formatter.arrayOf(st),transactionHash:st,logIndex:lt},a}accessList(a){return accessListify(a||[])}number(a){return a==="0x"?0:BigNumber.from(a).toNumber()}type(a){return a==="0x"||a==null?0:BigNumber.from(a).toNumber()}bigNumber(a){return BigNumber.from(a)}boolean(a){if(typeof a=="boolean")return a;if(typeof a=="string"){if(a=a.toLowerCase(),a==="true")return!0;if(a==="false")return!1}throw new Error("invalid boolean - "+a)}hex(a,rt){return typeof a=="string"&&(!rt&&a.substring(0,2)!=="0x"&&(a="0x"+a),isHexString(a))?a.toLowerCase():logger$g.throwArgumentError("invalid hash","value",a)}data(a,rt){const at=this.hex(a,rt);if(at.length%2!==0)throw new Error("invalid data; odd-length - "+a);return at}address(a){return getAddress(a)}callAddress(a){if(!isHexString(a,32))return null;const rt=getAddress(hexDataSlice(a,12));return rt===AddressZero$1?null:rt}contractAddress(a){return getContractAddress(a)}blockTag(a){if(a==null)return"latest";if(a==="earliest")return"0x0";switch(a){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return a}if(typeof a=="number"||isHexString(a))return hexValue(a);throw new Error("invalid blockTag")}hash(a,rt){const at=this.hex(a,rt);return hexDataLength(at)!==32?logger$g.throwArgumentError("invalid hash","value",a):at}difficulty(a){if(a==null)return null;const rt=BigNumber.from(a);try{return rt.toNumber()}catch{}return null}uint256(a){if(!isHexString(a))throw new Error("invalid uint256");return hexZeroPad(a,32)}_block(a,rt){a.author!=null&&a.miner==null&&(a.miner=a.author);const at=a._difficulty!=null?a._difficulty:a.difficulty,it=Formatter.check(rt,a);return it._difficulty=at==null?null:BigNumber.from(at),it}block(a){return this._block(a,this.formats.block)}blockWithTransactions(a){return this._block(a,this.formats.blockWithTransactions)}transactionRequest(a){return Formatter.check(this.formats.transactionRequest,a)}transactionResponse(a){a.gas!=null&&a.gasLimit==null&&(a.gasLimit=a.gas),a.to&&BigNumber.from(a.to).isZero()&&(a.to="0x0000000000000000000000000000000000000000"),a.input!=null&&a.data==null&&(a.data=a.input),a.to==null&&a.creates==null&&(a.creates=this.contractAddress(a)),(a.type===1||a.type===2)&&a.accessList==null&&(a.accessList=[]);const rt=Formatter.check(this.formats.transaction,a);if(a.chainId!=null){let at=a.chainId;isHexString(at)&&(at=BigNumber.from(at).toNumber()),rt.chainId=at}else{let at=a.networkId;at==null&&rt.v==null&&(at=a.chainId),isHexString(at)&&(at=BigNumber.from(at).toNumber()),typeof at!="number"&&rt.v!=null&&(at=(rt.v-35)/2,at<0&&(at=0),at=parseInt(at)),typeof at!="number"&&(at=0),rt.chainId=at}return rt.blockHash&&rt.blockHash.replace(/0/g,"")==="x"&&(rt.blockHash=null),rt}transaction(a){return parse$2(a)}receiptLog(a){return Formatter.check(this.formats.receiptLog,a)}receipt(a){const rt=Formatter.check(this.formats.receipt,a);if(rt.root!=null)if(rt.root.length<=4){const at=BigNumber.from(rt.root).toNumber();at===0||at===1?(rt.status!=null&&rt.status!==at&&logger$g.throwArgumentError("alt-root-status/status mismatch","value",{root:rt.root,status:rt.status}),rt.status=at,delete rt.root):logger$g.throwArgumentError("invalid alt-root-status","value.root",rt.root)}else rt.root.length!==66&&logger$g.throwArgumentError("invalid root hash","value.root",rt.root);return rt.status!=null&&(rt.byzantium=!0),rt}topics(a){return Array.isArray(a)?a.map(rt=>this.topics(rt)):a!=null?this.hash(a,!0):null}filter(a){return Formatter.check(this.formats.filter,a)}filterLog(a){return Formatter.check(this.formats.filterLog,a)}static check(a,rt){const at={};for(const it in a)try{const ot=a[it](rt[it]);ot!==void 0&&(at[it]=ot)}catch(ot){throw ot.checkKey=it,ot.checkValue=rt[it],ot}return at}static allowNull(a,rt){return function(at){return at==null?rt:a(at)}}static allowFalsish(a,rt){return function(at){return at?a(at):rt}}static arrayOf(a){return function(rt){if(!Array.isArray(rt))throw new Error("not an array");const at=[];return rt.forEach(function(it){at.push(a(it))}),at}}}function isCommunityResourcable(o){return o&&typeof o.isCommunityResource=="function"}function isCommunityResource(o){return isCommunityResourcable(o)&&o.isCommunityResource()}let throttleMessage=!1;function showThrottleMessage(){throttleMessage||(throttleMessage=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var __awaiter$6=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$f=new Logger(version$3),MAX_CCIP_REDIRECTS=10;function checkTopic(o){return o==null?"null":(hexDataLength(o)!==32&&logger$f.throwArgumentError("invalid topic","topic",o),o.toLowerCase())}function serializeTopics(o){for(o=o.slice();o.length>0&&o[o.length-1]==null;)o.pop();return o.map(a=>{if(Array.isArray(a)){const rt={};a.forEach(it=>{rt[checkTopic(it)]=!0});const at=Object.keys(rt);return at.sort(),at.join("|")}else return checkTopic(a)}).join("&")}function deserializeTopics(o){return o===""?[]:o.split(/&/g).map(a=>{if(a==="")return[];const rt=a.split("|").map(at=>at==="null"?null:at);return rt.length===1?rt[0]:rt})}function getEventTag(o){if(typeof o=="string"){if(o=o.toLowerCase(),hexDataLength(o)===32)return"tx:"+o;if(o.indexOf(":")===-1)return o}else{if(Array.isArray(o))return"filter:*:"+serializeTopics(o);if(ForkEvent.isForkEvent(o))throw logger$f.warn("not implemented"),new Error("not implemented");if(o&&typeof o=="object")return"filter:"+(o.address||"*")+":"+serializeTopics(o.topics||[])}throw new Error("invalid event - "+o)}function getTime(){return new Date().getTime()}function stall$1(o){return new Promise(a=>{setTimeout(a,o)})}const PollableEvents=["block","network","pending","poll"];class Event{constructor(a,rt,at){defineReadOnly(this,"tag",a),defineReadOnly(this,"listener",rt),defineReadOnly(this,"once",at),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const a=this.tag.split(":");return a[0]!=="tx"?null:a[1]}get filter(){const a=this.tag.split(":");if(a[0]!=="filter")return null;const rt=a[1],at=deserializeTopics(a[2]),it={};return at.length>0&&(it.topics=at),rt&&rt!=="*"&&(it.address=rt),it}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(o){return hexZeroPad(BigNumber.from(o).toHexString(),32)}function base58Encode(o){return Base58.encode(concat([o,hexDataSlice(sha256$2(sha256$2(o)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(o,a){try{return toUtf8String(_parseBytes(o,a))}catch{}return null}function _parseBytes(o,a){if(o==="0x")return null;const rt=BigNumber.from(hexDataSlice(o,a,a+32)).toNumber(),at=BigNumber.from(hexDataSlice(o,rt,rt+32)).toNumber();return hexDataSlice(o,rt+32,rt+32+at)}function getIpfsLink(o){return o.match(/^ipfs:\/\/ipfs\//i)?o=o.substring(12):o.match(/^ipfs:\/\//i)?o=o.substring(7):logger$f.throwArgumentError("unsupported IPFS format","link",o),`https://gateway.ipfs.io/ipfs/${o}`}function numPad(o){const a=arrayify(o);if(a.length>32)throw new Error("internal; should not happen");const rt=new Uint8Array(32);return rt.set(a,32-a.length),rt}function bytesPad(o){if(o.length%32===0)return o;const a=new Uint8Array(Math.ceil(o.length/32)*32);return a.set(o),a}function encodeBytes(o){const a=[];let rt=0;for(let at=0;at<o.length;at++)a.push(null),rt+=32;for(let at=0;at<o.length;at++){const it=arrayify(o[at]);a[at]=numPad(rt),a.push(numPad(it.length)),a.push(bytesPad(it)),rt+=32+Math.ceil(it.length/32)*32}return hexConcat(a)}class Resolver{constructor(a,rt,at,it){defineReadOnly(this,"provider",a),defineReadOnly(this,"name",at),defineReadOnly(this,"address",a.formatter.address(rt)),defineReadOnly(this,"_resolvedAddress",it)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(a=>BigNumber.from(a).eq(1)).catch(a=>{if(a.code===Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,a})),this._supportsEip2544}_fetch(a,rt){return __awaiter$6(this,void 0,void 0,function*(){const at={to:this.address,ccipReadEnabled:!0,data:hexConcat([a,namehash(this.name),rt||"0x"])};let it=!1;(yield this.supportsWildcard())&&(it=!0,at.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),at.data])]));try{let ot=yield this.provider.call(at);return arrayify(ot).length%32===4&&logger$f.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:at,data:ot}),it&&(ot=_parseBytes(ot,0)),ot}catch(ot){if(ot.code===Logger.errors.CALL_EXCEPTION)return null;throw ot}})}_fetchBytes(a,rt){return __awaiter$6(this,void 0,void 0,function*(){const at=yield this._fetch(a,rt);return at!=null?_parseBytes(at,0):null})}_getAddress(a,rt){const at=coinInfos[String(a)];if(at==null&&logger$f.throwError(`unsupported coin type: ${a}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${a})`}),at.ilk==="eth")return this.provider.formatter.address(rt);const it=arrayify(rt);if(at.p2pkh!=null){const ot=rt.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(ot){const st=parseInt(ot[1],16);if(ot[2].length===st*2&&st>=1&&st<=75)return base58Encode(concat([[at.p2pkh],"0x"+ot[2]]))}}if(at.p2sh!=null){const ot=rt.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(ot){const st=parseInt(ot[1],16);if(ot[2].length===st*2&&st>=1&&st<=75)return base58Encode(concat([[at.p2sh],"0x"+ot[2]]))}}if(at.prefix!=null){const ot=it[1];let st=it[0];if(st===0?ot!==20&&ot!==32&&(st=-1):st=-1,st>=0&&it.length===2+ot&&ot>=1&&ot<=75){const ct=bech32.toWords(it.slice(2));return ct.unshift(st),bech32.encode(at.prefix,ct)}}return null}getAddress(a){return __awaiter$6(this,void 0,void 0,function*(){if(a==null&&(a=60),a===60)try{const it=yield this._fetch("0x3b3b57de");return it==="0x"||it===HashZero?null:this.provider.formatter.callAddress(it)}catch(it){if(it.code===Logger.errors.CALL_EXCEPTION)return null;throw it}const rt=yield this._fetchBytes("0xf1cb7e06",bytes32ify(a));if(rt==null||rt==="0x")return null;const at=this._getAddress(a,rt);return at==null&&logger$f.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${a})`,coinType:a,data:rt}),at})}getAvatar(){return __awaiter$6(this,void 0,void 0,function*(){const a=[{type:"name",content:this.name}];try{const rt=yield this.getText("avatar");if(rt==null)return null;for(let at=0;at<matchers.length;at++){const it=rt.match(matchers[at]);if(it==null)continue;const ot=it[1].toLowerCase();switch(ot){case"https":return a.push({type:"url",content:rt}),{linkage:a,url:rt};case"data":return a.push({type:"data",content:rt}),{linkage:a,url:rt};case"ipfs":return a.push({type:"ipfs",content:rt}),{linkage:a,url:getIpfsLink(rt)};case"erc721":case"erc1155":{const st=ot==="erc721"?"0xc87b56dd":"0x0e89341c";a.push({type:ot,content:rt});const ct=this._resolvedAddress||(yield this.getAddress()),lt=(it[2]||"").split("/");if(lt.length!==2)return null;const ut=yield this.provider.formatter.address(lt[0]),dt=hexZeroPad(BigNumber.from(lt[1]).toHexString(),32);if(ot==="erc721"){const mt=this.provider.formatter.callAddress(yield this.provider.call({to:ut,data:hexConcat(["0x6352211e",dt])}));if(ct!==mt)return null;a.push({type:"owner",content:mt})}else if(ot==="erc1155"){const mt=BigNumber.from(yield this.provider.call({to:ut,data:hexConcat(["0x00fdd58e",hexZeroPad(ct,32),dt])}));if(mt.isZero())return null;a.push({type:"balance",content:mt.toString()})}const ft={to:this.provider.formatter.address(lt[0]),data:hexConcat([st,dt])};let pt=_parseString(yield this.provider.call(ft),0);if(pt==null)return null;a.push({type:"metadata-url-base",content:pt}),ot==="erc1155"&&(pt=pt.replace("{id}",dt.substring(2)),a.push({type:"metadata-url-expanded",content:pt})),pt.match(/^ipfs:/i)&&(pt=getIpfsLink(pt)),a.push({type:"metadata-url",content:pt});const ht=yield fetchJson(pt);if(!ht)return null;a.push({type:"metadata",content:JSON.stringify(ht)});let yt=ht.image;if(typeof yt!="string")return null;if(!yt.match(/^(https:\/\/|data:)/i)){if(yt.match(matcherIpfs)==null)return null;a.push({type:"url-ipfs",content:yt}),yt=getIpfsLink(yt)}return a.push({type:"url",content:yt}),{linkage:a,url:yt}}}}}catch{}return null})}getContentHash(){return __awaiter$6(this,void 0,void 0,function*(){const a=yield this._fetchBytes("0xbc1c58d1");if(a==null||a==="0x")return null;const rt=a.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(rt){const st=parseInt(rt[3],16);if(rt[4].length===st*2)return"ipfs://"+Base58.encode("0x"+rt[1])}const at=a.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(at){const st=parseInt(at[3],16);if(at[4].length===st*2)return"ipns://"+Base58.encode("0x"+at[1])}const it=a.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(it&&it[1].length===32*2)return"bzz://"+it[1];const ot=a.match(/^0x90b2c605([0-9a-f]*)$/);if(ot&&ot[1].length===34*2){const st={"=":"","+":"-","/":"_"};return"sia://"+encode$1("0x"+ot[1]).replace(/[=+\/]/g,lt=>st[lt])}return logger$f.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:a})})}getText(a){return __awaiter$6(this,void 0,void 0,function*(){let rt=toUtf8Bytes(a);rt=concat([bytes32ify(64),bytes32ify(rt.length),rt]),rt.length%32!==0&&(rt=concat([rt,hexZeroPad("0x",32-a.length%32)]));const at=yield this._fetchBytes("0x59d1d43c",hexlify(rt));return at==null||at==="0x"?null:toUtf8String(at)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider{constructor(a){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",a==="any"),this.anyNetwork&&(a=this.detectNetwork()),a instanceof Promise)this._networkPromise=a,a.catch(rt=>{}),this._ready().catch(rt=>{});else{const rt=getStatic(new.target,"getNetwork")(a);rt?(defineReadOnly(this,"_network",rt),this.emit("network",rt,null)):logger$f.throwArgumentError("invalid network","network",a)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$6(this,void 0,void 0,function*(){if(this._network==null){let a=null;if(this._networkPromise)try{a=yield this._networkPromise}catch{}a==null&&(a=yield this.detectNetwork()),a||logger$f.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=a:defineReadOnly(this,"_network",a),this.emit("network",a,null))}return this._network})}get ready(){return poll(()=>this._ready().then(a=>a,a=>{if(!(a.code===Logger.errors.NETWORK_ERROR&&a.event==="noNetwork"))throw a}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(a){return getNetwork(a==null?"homestead":a)}ccipReadFetch(a,rt,at){return __awaiter$6(this,void 0,void 0,function*(){if(this.disableCcipRead||at.length===0)return null;const it=a.to.toLowerCase(),ot=rt.toLowerCase(),st=[];for(let ct=0;ct<at.length;ct++){const lt=at[ct],ut=lt.replace("{sender}",it).replace("{data}",ot),dt=lt.indexOf("{data}")>=0?null:JSON.stringify({data:ot,sender:it}),ft=yield fetchJson({url:ut,errorPassThrough:!0},dt,(ht,yt)=>(ht.status=yt.statusCode,ht));if(ft.data)return ft.data;const pt=ft.message||"unknown error";if(ft.status>=400&&ft.status<500)return logger$f.throwError(`response not found during CCIP fetch: ${pt}`,Logger.errors.SERVER_ERROR,{url:lt,errorMessage:pt});st.push(pt)}return logger$f.throwError(`error encountered during CCIP fetch: ${st.map(ct=>JSON.stringify(ct)).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:at,errorMessages:st})})}_getInternalBlockNumber(a){return __awaiter$6(this,void 0,void 0,function*(){if(yield this._ready(),a>0)for(;this._internalBlockNumber;){const it=this._internalBlockNumber;try{const ot=yield it;if(getTime()-ot.respTime<=a)return ot.blockNumber;break}catch{if(this._internalBlockNumber===it)break}}const rt=getTime(),at=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(it=>null,it=>it)}).then(({blockNumber:it,networkError:ot})=>{if(ot)throw this._internalBlockNumber===at&&(this._internalBlockNumber=null),ot;const st=getTime();return it=BigNumber.from(it).toNumber(),it<this._maxInternalBlockNumber&&(it=this._maxInternalBlockNumber),this._maxInternalBlockNumber=it,this._setFastBlockNumber(it),{blockNumber:it,reqTime:rt,respTime:st}});return this._internalBlockNumber=at,at.catch(it=>{this._internalBlockNumber===at&&(this._internalBlockNumber=null)}),(yield at).blockNumber})}poll(){return __awaiter$6(this,void 0,void 0,function*(){const a=nextPollId++,rt=[];let at=null;try{at=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(it){this.emit("error",it);return}if(this._setFastBlockNumber(at),this.emit("poll",a,at),at===this._lastBlockNumber){this.emit("didPoll",a);return}if(this._emitted.block===-2&&(this._emitted.block=at-1),Math.abs(this._emitted.block-at)>1e3)logger$f.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${at})`),this.emit("error",logger$f.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:at,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",at);else for(let it=this._emitted.block+1;it<=at;it++)this.emit("block",it);this._emitted.block!==at&&(this._emitted.block=at,Object.keys(this._emitted).forEach(it=>{if(it==="block")return;const ot=this._emitted[it];ot!=="pending"&&at-ot>12&&delete this._emitted[it]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=at-1),this._events.forEach(it=>{switch(it.type){case"tx":{const ot=it.hash;let st=this.getTransactionReceipt(ot).then(ct=>(!ct||ct.blockNumber==null||(this._emitted["t:"+ot]=ct.blockNumber,this.emit(ot,ct)),null)).catch(ct=>{this.emit("error",ct)});rt.push(st);break}case"filter":{if(!it._inflight){it._inflight=!0,it._lastBlockNumber===-2&&(it._lastBlockNumber=at-1);const ot=it.filter;ot.fromBlock=it._lastBlockNumber+1,ot.toBlock=at;const st=ot.toBlock-this._maxFilterBlockRange;st>ot.fromBlock&&(ot.fromBlock=st),ot.fromBlock<0&&(ot.fromBlock=0);const ct=this.getLogs(ot).then(lt=>{it._inflight=!1,lt.length!==0&&lt.forEach(ut=>{ut.blockNumber>it._lastBlockNumber&&(it._lastBlockNumber=ut.blockNumber),this._emitted["b:"+ut.blockHash]=ut.blockNumber,this._emitted["t:"+ut.transactionHash]=ut.blockNumber,this.emit(ot,ut)})}).catch(lt=>{this.emit("error",lt),it._inflight=!1});rt.push(ct)}break}}}),this._lastBlockNumber=at,Promise.all(rt).then(()=>{this.emit("didPoll",a)}).catch(it=>{this.emit("error",it)})})}resetEventsBlock(a){this._lastBlockNumber=a-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$6(this,void 0,void 0,function*(){return logger$f.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$6(this,void 0,void 0,function*(){const a=yield this._ready(),rt=yield this.detectNetwork();if(a.chainId!==rt.chainId){if(this.anyNetwork)return this._network=rt,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",rt,a),yield stall$1(0),this._network;const at=logger$f.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:a,detectedNetwork:rt});throw this.emit("error",at),at}return a})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(a=>{this._setFastBlockNumber(a)},a=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(a){a&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!a&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(a){if(typeof a!="number"||a<=0||parseInt(String(a))!=a)throw new Error("invalid polling interval");this._pollingInterval=a,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const a=getTime();return a-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=a,this._fastBlockNumberPromise=this.getBlockNumber().then(rt=>((this._fastBlockNumber==null||rt>this._fastBlockNumber)&&(this._fastBlockNumber=rt),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(a){this._fastBlockNumber!=null&&a<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||a>this._fastBlockNumber)&&(this._fastBlockNumber=a,this._fastBlockNumberPromise=Promise.resolve(a)))}waitForTransaction(a,rt,at){return __awaiter$6(this,void 0,void 0,function*(){return this._waitForTransaction(a,rt==null?1:rt,at||0,null)})}_waitForTransaction(a,rt,at,it){return __awaiter$6(this,void 0,void 0,function*(){const ot=yield this.getTransactionReceipt(a);return(ot?ot.confirmations:0)>=rt?ot:new Promise((st,ct)=>{const lt=[];let ut=!1;const dt=function(){return ut?!0:(ut=!0,lt.forEach(pt=>{pt()}),!1)},ft=pt=>{pt.confirmations<rt||dt()||st(pt)};if(this.on(a,ft),lt.push(()=>{this.removeListener(a,ft)}),it){let pt=it.startBlock,ht=null;const yt=mt=>__awaiter$6(this,void 0,void 0,function*(){ut||(yield stall$1(1e3),this.getTransactionCount(it.from).then(gt=>__awaiter$6(this,void 0,void 0,function*(){if(!ut){if(gt<=it.nonce)pt=mt;else{{const bt=yield this.getTransaction(a);if(bt&&bt.blockNumber!=null)return}for(ht==null&&(ht=pt-3,ht<it.startBlock&&(ht=it.startBlock));ht<=mt;){if(ut)return;const bt=yield this.getBlockWithTransactions(ht);for(let vt=0;vt<bt.transactions.length;vt++){const wt=bt.transactions[vt];if(wt.hash===a)return;if(wt.from===it.from&&wt.nonce===it.nonce){if(ut)return;const Tt=yield this.waitForTransaction(wt.hash,rt);if(dt())return;let _t="replaced";wt.data===it.data&&wt.to===it.to&&wt.value.eq(it.value)?_t="repriced":wt.data==="0x"&&wt.from===wt.to&&wt.value.isZero()&&(_t="cancelled"),ct(logger$f.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:_t==="replaced"||_t==="cancelled",reason:_t,replacement:this._wrapTransaction(wt),hash:a,receipt:Tt}));return}}ht++}}ut||this.once("block",yt)}}),gt=>{ut||this.once("block",yt)}))});if(ut)return;this.once("block",yt),lt.push(()=>{this.removeListener("block",yt)})}if(typeof at=="number"&&at>0){const pt=setTimeout(()=>{dt()||ct(logger$f.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:at}))},at);pt.unref&&pt.unref(),lt.push(()=>{clearTimeout(pt)})}})})}getBlockNumber(){return __awaiter$6(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield this.perform("getGasPrice",{});try{return BigNumber.from(a)}catch(rt){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:a,error:rt})}})}getBalance(a,rt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const at=yield resolveProperties({address:this._getAddress(a),blockTag:this._getBlockTag(rt)}),it=yield this.perform("getBalance",at);try{return BigNumber.from(it)}catch(ot){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:at,result:it,error:ot})}})}getTransactionCount(a,rt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const at=yield resolveProperties({address:this._getAddress(a),blockTag:this._getBlockTag(rt)}),it=yield this.perform("getTransactionCount",at);try{return BigNumber.from(it).toNumber()}catch(ot){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:at,result:it,error:ot})}})}getCode(a,rt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const at=yield resolveProperties({address:this._getAddress(a),blockTag:this._getBlockTag(rt)}),it=yield this.perform("getCode",at);try{return hexlify(it)}catch(ot){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:at,result:it,error:ot})}})}getStorageAt(a,rt,at){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const it=yield resolveProperties({address:this._getAddress(a),blockTag:this._getBlockTag(at),position:Promise.resolve(rt).then(st=>hexValue(st))}),ot=yield this.perform("getStorageAt",it);try{return hexlify(ot)}catch(st){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:it,result:ot,error:st})}})}_wrapTransaction(a,rt,at){if(rt!=null&&hexDataLength(rt)!==32)throw new Error("invalid response - sendTransaction");const it=a;return rt!=null&&a.hash!==rt&&logger$f.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:a.hash,returnedHash:rt}),it.wait=(ot,st)=>__awaiter$6(this,void 0,void 0,function*(){ot==null&&(ot=1),st==null&&(st=0);let ct;ot!==0&&at!=null&&(ct={data:a.data,from:a.from,nonce:a.nonce,to:a.to,value:a.value,startBlock:at});const lt=yield this._waitForTransaction(a.hash,ot,st,ct);return lt==null&&ot===0?null:(this._emitted["t:"+a.hash]=lt.blockNumber,lt.status===0&&logger$f.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:a.hash,transaction:a,receipt:lt}),lt)}),it}sendTransaction(a){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield Promise.resolve(a).then(ot=>hexlify(ot)),at=this.formatter.transaction(a);at.confirmations==null&&(at.confirmations=0);const it=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const ot=yield this.perform("sendTransaction",{signedTransaction:rt});return this._wrapTransaction(at,ot,it)}catch(ot){throw ot.transaction=at,ot.transactionHash=at.hash,ot}})}_getTransactionRequest(a){return __awaiter$6(this,void 0,void 0,function*(){const rt=yield a,at={};return["from","to"].forEach(it=>{rt[it]!=null&&(at[it]=Promise.resolve(rt[it]).then(ot=>ot?this._getAddress(ot):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(it=>{rt[it]!=null&&(at[it]=Promise.resolve(rt[it]).then(ot=>ot?BigNumber.from(ot):null))}),["type"].forEach(it=>{rt[it]!=null&&(at[it]=Promise.resolve(rt[it]).then(ot=>ot!=null?ot:null))}),rt.accessList&&(at.accessList=this.formatter.accessList(rt.accessList)),["data"].forEach(it=>{rt[it]!=null&&(at[it]=Promise.resolve(rt[it]).then(ot=>ot?hexlify(ot):null))}),this.formatter.transactionRequest(yield resolveProperties(at))})}_getFilter(a){return __awaiter$6(this,void 0,void 0,function*(){a=yield a;const rt={};return a.address!=null&&(rt.address=this._getAddress(a.address)),["blockHash","topics"].forEach(at=>{a[at]!=null&&(rt[at]=a[at])}),["fromBlock","toBlock"].forEach(at=>{a[at]!=null&&(rt[at]=this._getBlockTag(a[at]))}),this.formatter.filter(yield resolveProperties(rt))})}_call(a,rt,at){return __awaiter$6(this,void 0,void 0,function*(){at>=MAX_CCIP_REDIRECTS&&logger$f.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:at,transaction:a});const it=a.to,ot=yield this.perform("call",{transaction:a,blockTag:rt});if(at>=0&&rt==="latest"&&it!=null&&ot.substring(0,10)==="0x556f1830"&&hexDataLength(ot)%32===4)try{const st=hexDataSlice(ot,4),ct=hexDataSlice(st,0,32);BigNumber.from(ct).eq(it)||logger$f.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:ot});const lt=[],ut=BigNumber.from(hexDataSlice(st,32,64)).toNumber(),dt=BigNumber.from(hexDataSlice(st,ut,ut+32)).toNumber(),ft=hexDataSlice(st,ut+32);for(let bt=0;bt<dt;bt++){const vt=_parseString(ft,bt*32);vt==null&&logger$f.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:ot}),lt.push(vt)}const pt=_parseBytes(st,64);BigNumber.from(hexDataSlice(st,100,128)).isZero()||logger$f.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:ot});const ht=hexDataSlice(st,96,100),yt=_parseBytes(st,128),mt=yield this.ccipReadFetch(a,pt,lt);mt==null&&logger$f.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:ot});const gt={to:it,data:hexConcat([ht,encodeBytes([mt,yt])])};return this._call(gt,rt,at+1)}catch(st){if(st.code===Logger.errors.SERVER_ERROR)throw st}try{return hexlify(ot)}catch(st){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:a,blockTag:rt},result:ot,error:st})}})}call(a,rt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const at=yield resolveProperties({transaction:this._getTransactionRequest(a),blockTag:this._getBlockTag(rt),ccipReadEnabled:Promise.resolve(a.ccipReadEnabled)});return this._call(at.transaction,at.blockTag,at.ccipReadEnabled?0:-1)})}estimateGas(a){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({transaction:this._getTransactionRequest(a)}),at=yield this.perform("estimateGas",rt);try{return BigNumber.from(at)}catch(it){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:rt,result:at,error:it})}})}_getAddress(a){return __awaiter$6(this,void 0,void 0,function*(){a=yield a,typeof a!="string"&&logger$f.throwArgumentError("invalid address or ENS name","name",a);const rt=yield this.resolveName(a);return rt==null&&logger$f.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(a)})`}),rt})}_getBlock(a,rt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),a=yield a;let at=-128;const it={includeTransactions:!!rt};if(isHexString(a,32))it.blockHash=a;else try{it.blockTag=yield this._getBlockTag(a),isHexString(it.blockTag)&&(at=parseInt(it.blockTag.substring(2),16))}catch{logger$f.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",a)}return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const ot=yield this.perform("getBlock",it);if(ot==null)return it.blockHash!=null&&this._emitted["b:"+it.blockHash]==null||it.blockTag!=null&&at>this._emitted.block?null:void 0;if(rt){let st=null;for(let lt=0;lt<ot.transactions.length;lt++){const ut=ot.transactions[lt];if(ut.blockNumber==null)ut.confirmations=0;else if(ut.confirmations==null){st==null&&(st=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let dt=st-ut.blockNumber+1;dt<=0&&(dt=1),ut.confirmations=dt}}const ct=this.formatter.blockWithTransactions(ot);return ct.transactions=ct.transactions.map(lt=>this._wrapTransaction(lt)),ct}return this.formatter.block(ot)}),{oncePoll:this})})}getBlock(a){return this._getBlock(a,!1)}getBlockWithTransactions(a){return this._getBlock(a,!0)}getTransaction(a){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),a=yield a;const rt={transactionHash:this.formatter.hash(a,!0)};return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const at=yield this.perform("getTransaction",rt);if(at==null)return this._emitted["t:"+a]==null?null:void 0;const it=this.formatter.transactionResponse(at);if(it.blockNumber==null)it.confirmations=0;else if(it.confirmations==null){let st=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-it.blockNumber+1;st<=0&&(st=1),it.confirmations=st}return this._wrapTransaction(it)}),{oncePoll:this})})}getTransactionReceipt(a){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),a=yield a;const rt={transactionHash:this.formatter.hash(a,!0)};return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const at=yield this.perform("getTransactionReceipt",rt);if(at==null)return this._emitted["t:"+a]==null?null:void 0;if(at.blockHash==null)return;const it=this.formatter.receipt(at);if(it.blockNumber==null)it.confirmations=0;else if(it.confirmations==null){let st=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-it.blockNumber+1;st<=0&&(st=1),it.confirmations=st}return it}),{oncePoll:this})})}getLogs(a){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({filter:this._getFilter(a)}),at=yield this.perform("getLogs",rt);return at.forEach(it=>{it.removed==null&&(it.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(at)})}getEtherPrice(){return __awaiter$6(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(a){return __awaiter$6(this,void 0,void 0,function*(){if(a=yield a,typeof a=="number"&&a<0){a%1&&logger$f.throwArgumentError("invalid BlockTag","blockTag",a);let rt=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return rt+=a,rt<0&&(rt=0),this.formatter.blockTag(rt)}return this.formatter.blockTag(a)})}getResolver(a){return __awaiter$6(this,void 0,void 0,function*(){let rt=a;for(;;){if(rt===""||rt==="."||a!=="eth"&&rt==="eth")return null;const at=yield this._getResolver(rt,"getResolver");if(at!=null){const it=new Resolver(this,at,a);return rt!==a&&!(yield it.supportsWildcard())?null:it}rt=rt.split(".").slice(1).join(".")}})}_getResolver(a,rt){return __awaiter$6(this,void 0,void 0,function*(){rt==null&&(rt="ENS");const at=yield this.getNetwork();at.ensAddress||logger$f.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:rt,network:at.name});try{const it=yield this.call({to:at.ensAddress,data:"0x0178b8bf"+namehash(a).substring(2)});return this.formatter.callAddress(it)}catch{}return null})}resolveName(a){return __awaiter$6(this,void 0,void 0,function*(){a=yield a;try{return Promise.resolve(this.formatter.address(a))}catch(at){if(isHexString(a))throw at}typeof a!="string"&&logger$f.throwArgumentError("invalid ENS name","name",a);const rt=yield this.getResolver(a);return rt?yield rt.getAddress():null})}lookupAddress(a){return __awaiter$6(this,void 0,void 0,function*(){a=yield a,a=this.formatter.address(a);const rt=a.substring(2).toLowerCase()+".addr.reverse",at=yield this._getResolver(rt,"lookupAddress");if(at==null)return null;const it=_parseString(yield this.call({to:at,data:"0x691f3431"+namehash(rt).substring(2)}),0);return(yield this.resolveName(it))!=a?null:it})}getAvatar(a){return __awaiter$6(this,void 0,void 0,function*(){let rt=null;if(isHexString(a)){const ot=this.formatter.address(a).substring(2).toLowerCase()+".addr.reverse",st=yield this._getResolver(ot,"getAvatar");if(!st)return null;rt=new Resolver(this,st,ot);try{const ct=yield rt.getAvatar();if(ct)return ct.url}catch(ct){if(ct.code!==Logger.errors.CALL_EXCEPTION)throw ct}try{const ct=_parseString(yield this.call({to:st,data:"0x691f3431"+namehash(ot).substring(2)}),0);rt=yield this.getResolver(ct)}catch(ct){if(ct.code!==Logger.errors.CALL_EXCEPTION)throw ct;return null}}else if(rt=yield this.getResolver(a),!rt)return null;const at=yield rt.getAvatar();return at==null?null:at.url})}perform(a,rt){return logger$f.throwError(a+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:a})}_startEvent(a){this.polling=this._events.filter(rt=>rt.pollable()).length>0}_stopEvent(a){this.polling=this._events.filter(rt=>rt.pollable()).length>0}_addEventListener(a,rt,at){const it=new Event(getEventTag(a),rt,at);return this._events.push(it),this._startEvent(it),this}on(a,rt){return this._addEventListener(a,rt,!1)}once(a,rt){return this._addEventListener(a,rt,!0)}emit(a,...rt){let at=!1,it=[],ot=getEventTag(a);return this._events=this._events.filter(st=>st.tag!==ot?!0:(setTimeout(()=>{st.listener.apply(this,rt)},0),at=!0,st.once?(it.push(st),!1):!0)),it.forEach(st=>{this._stopEvent(st)}),at}listenerCount(a){if(!a)return this._events.length;let rt=getEventTag(a);return this._events.filter(at=>at.tag===rt).length}listeners(a){if(a==null)return this._events.map(at=>at.listener);let rt=getEventTag(a);return this._events.filter(at=>at.tag===rt).map(at=>at.listener)}off(a,rt){if(rt==null)return this.removeAllListeners(a);const at=[];let it=!1,ot=getEventTag(a);return this._events=this._events.filter(st=>st.tag!==ot||st.listener!=rt||it?!0:(it=!0,at.push(st),!1)),at.forEach(st=>{this._stopEvent(st)}),this}removeAllListeners(a){let rt=[];if(a==null)rt=this._events,this._events=[];else{const at=getEventTag(a);this._events=this._events.filter(it=>it.tag!==at?!0:(rt.push(it),!1))}return rt.forEach(at=>{this._stopEvent(at)}),this}}var __awaiter$5=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$e=new Logger(version$3),errorGas=["call","estimateGas"];function spelunk(o,a){if(o==null)return null;if(typeof o.message=="string"&&o.message.match("reverted")){const rt=isHexString(o.data)?o.data:null;if(!a||rt)return{message:o.message,data:rt}}if(typeof o=="object"){for(const rt in o){const at=spelunk(o[rt],a);if(at)return at}return null}if(typeof o=="string")try{return spelunk(JSON.parse(o),a)}catch{}return null}function checkError$1(o,a,rt){const at=rt.transaction||rt.signedTransaction;if(o==="call"){const ot=spelunk(a,!0);if(ot)return ot.data;logger$e.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:at,error:a})}if(o==="estimateGas"){let ot=spelunk(a.body,!1);ot==null&&(ot=spelunk(a,!1)),ot&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:ot.message,method:o,transaction:at,error:a})}let it=a.message;throw a.code===Logger.errors.SERVER_ERROR&&a.error&&typeof a.error.message=="string"?it=a.error.message:typeof a.body=="string"?it=a.body:typeof a.responseText=="string"&&(it=a.responseText),it=(it||"").toLowerCase(),it.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$e.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:a,method:o,transaction:at}),it.match(/nonce (is )?too low/i)&&logger$e.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:a,method:o,transaction:at}),it.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$e.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:a,method:o,transaction:at}),it.match(/only replay-protected/i)&&logger$e.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:a,method:o,transaction:at}),errorGas.indexOf(o)>=0&&it.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:a,method:o,transaction:at}),a}function timer(o){return new Promise(function(a){setTimeout(a,o)})}function getResult$1(o){if(o.error){const a=new Error(o.error.message);throw a.code=o.error.code,a.data=o.error.data,a}return o.result}function getLowerCase(o){return o&&o.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(a,rt,at){if(super(),a!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",rt),at==null&&(at=0),typeof at=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(at)),defineReadOnly(this,"_index",null)):typeof at=="number"?(defineReadOnly(this,"_index",at),defineReadOnly(this,"_address",null)):logger$e.throwArgumentError("invalid address or index","addressOrIndex",at)}connect(a){return logger$e.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(a=>(a.length<=this._index&&logger$e.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(a[this._index])))}sendUncheckedTransaction(a){a=shallowCopy(a);const rt=this.getAddress().then(at=>(at&&(at=at.toLowerCase()),at));if(a.gasLimit==null){const at=shallowCopy(a);at.from=rt,a.gasLimit=this.provider.estimateGas(at)}return a.to!=null&&(a.to=Promise.resolve(a.to).then(at=>__awaiter$5(this,void 0,void 0,function*(){if(at==null)return null;const it=yield this.provider.resolveName(at);return it==null&&logger$e.throwArgumentError("provided ENS name resolves to null","tx.to",at),it}))),resolveProperties({tx:resolveProperties(a),sender:rt}).then(({tx:at,sender:it})=>{at.from!=null?at.from.toLowerCase()!==it&&logger$e.throwArgumentError("from address mismatch","transaction",a):at.from=it;const ot=this.provider.constructor.hexlifyTransaction(at,{from:!0});return this.provider.send("eth_sendTransaction",[ot]).then(st=>st,st=>(typeof st.message=="string"&&st.message.match(/user denied/i)&&logger$e.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:at}),checkError$1("sendTransaction",st,ot)))})}signTransaction(a){return logger$e.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(a){return __awaiter$5(this,void 0,void 0,function*(){const rt=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),at=yield this.sendUncheckedTransaction(a);try{return yield poll(()=>__awaiter$5(this,void 0,void 0,function*(){const it=yield this.provider.getTransaction(at);if(it!==null)return this.provider._wrapTransaction(it,at,rt)}),{oncePoll:this.provider})}catch(it){throw it.transactionHash=at,it}})}signMessage(a){return __awaiter$5(this,void 0,void 0,function*(){const rt=typeof a=="string"?toUtf8Bytes(a):a,at=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(rt),at.toLowerCase()])}catch(it){throw typeof it.message=="string"&&it.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:at,messageData:a}),it}})}_legacySignMessage(a){return __awaiter$5(this,void 0,void 0,function*(){const rt=typeof a=="string"?toUtf8Bytes(a):a,at=yield this.getAddress();try{return yield this.provider.send("eth_sign",[at.toLowerCase(),hexlify(rt)])}catch(it){throw typeof it.message=="string"&&it.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:at,messageData:a}),it}})}_signTypedData(a,rt,at){return __awaiter$5(this,void 0,void 0,function*(){const it=yield TypedDataEncoder.resolveNames(a,rt,at,st=>this.provider.resolveName(st)),ot=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[ot.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(it.domain,rt,it.value))])}catch(st){throw typeof st.message=="string"&&st.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:ot,messageData:{domain:it.domain,types:rt,value:it.value}}),st}})}unlock(a){return __awaiter$5(this,void 0,void 0,function*(){const rt=this.provider,at=yield this.getAddress();return rt.send("personal_unlockAccount",[at.toLowerCase(),a,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(a){return this.sendUncheckedTransaction(a).then(rt=>({hash:rt,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:at=>this.provider.waitForTransaction(rt,at)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(a,rt){let at=rt;at==null&&(at=new Promise((it,ot)=>{setTimeout(()=>{this.detectNetwork().then(st=>{it(st)},st=>{ot(st)})},0)})),super(at),a||(a=getStatic(this.constructor,"defaultUrl")()),typeof a=="string"?defineReadOnly(this,"connection",Object.freeze({url:a})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(a))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$5(this,void 0,void 0,function*(){yield timer(0);let a=null;try{a=yield this.send("eth_chainId",[])}catch{try{a=yield this.send("net_version",[])}catch{}}if(a!=null){const rt=getStatic(this.constructor,"getNetwork");try{return rt(BigNumber.from(a).toNumber())}catch(at){return logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:a,event:"invalidNetwork",serverError:at})}}return logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(a){return new JsonRpcSigner(_constructorGuard,this,a)}getUncheckedSigner(a){return this.getSigner(a).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(a=>a.map(rt=>this.formatter.address(rt)))}send(a,rt){const at={method:a,params:rt,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(at),provider:this});const it=["eth_chainId","eth_blockNumber"].indexOf(a)>=0;if(it&&this._cache[a])return this._cache[a];const ot=fetchJson(this.connection,JSON.stringify(at),getResult$1).then(st=>(this.emit("debug",{action:"response",request:at,response:st,provider:this}),st),st=>{throw this.emit("debug",{action:"response",error:st,request:at,provider:this}),st});return it&&(this._cache[a]=ot,setTimeout(()=>{this._cache[a]=null},0)),ot}prepareRequest(a,rt){switch(a){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(rt.address),rt.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(rt.address),rt.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(rt.address),rt.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(rt.address),hexZeroPad(rt.position,32),rt.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[rt.signedTransaction]];case"getBlock":return rt.blockTag?["eth_getBlockByNumber",[rt.blockTag,!!rt.includeTransactions]]:rt.blockHash?["eth_getBlockByHash",[rt.blockHash,!!rt.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[rt.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[rt.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(rt.transaction,{from:!0}),rt.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(rt.transaction,{from:!0})]];case"getLogs":return rt.filter&&rt.filter.address!=null&&(rt.filter.address=getLowerCase(rt.filter.address)),["eth_getLogs",[rt.filter]]}return null}perform(a,rt){return __awaiter$5(this,void 0,void 0,function*(){if(a==="call"||a==="estimateGas"){const it=rt.transaction;if(it&&it.type!=null&&BigNumber.from(it.type).isZero()&&it.maxFeePerGas==null&&it.maxPriorityFeePerGas==null){const ot=yield this.getFeeData();ot.maxFeePerGas==null&&ot.maxPriorityFeePerGas==null&&(rt=shallowCopy(rt),rt.transaction=shallowCopy(it),delete rt.transaction.type)}}const at=this.prepareRequest(a,rt);at==null&&logger$e.throwError(a+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:a});try{return yield this.send(at[0],at[1])}catch(it){return checkError$1(a,it,rt)}})}_startEvent(a){a.tag==="pending"&&this._startPending(),super._startEvent(a)}_startPending(){if(this._pendingFilter!=null)return;const a=this,rt=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=rt,rt.then(function(at){function it(){a.send("eth_getFilterChanges",[at]).then(function(ot){if(a._pendingFilter!=rt)return null;let st=Promise.resolve();return ot.forEach(function(ct){a._emitted["t:"+ct.toLowerCase()]="pending",st=st.then(function(){return a.getTransaction(ct).then(function(lt){return a.emit("pending",lt),null})})}),st.then(function(){return timer(1e3)})}).then(function(){if(a._pendingFilter!=rt){a.send("eth_uninstallFilter",[at]);return}return setTimeout(function(){it()},0),null}).catch(ot=>{})}return it(),at}).catch(at=>{})}_stopEvent(a){a.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(a)}static hexlifyTransaction(a,rt){const at=shallowCopy(allowedTransactionKeys);if(rt)for(const ot in rt)rt[ot]&&(at[ot]=!0);checkProperties(a,at);const it={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(ot){if(a[ot]==null)return;const st=hexValue(BigNumber.from(a[ot]));ot==="gasLimit"&&(ot="gas"),it[ot]=st}),["from","to","data"].forEach(function(ot){a[ot]!=null&&(it[ot]=hexlify(a[ot]))}),a.accessList&&(it.accessList=accessListify(a.accessList)),it}}let WS=null;try{if(WS=WebSocket,WS==null)throw new Error("inject please")}catch(o){const a=new Logger(version$3);WS=function(){a.throwError("WebSockets not supported in this environment",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$d=new Logger(version$3);let NextId=1;class WebSocketProvider extends JsonRpcProvider{constructor(a,rt){rt==="any"&&logger$d.throwError("WebSocketProvider does not support 'any' network yet",Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof a=="string"?super(a,rt):super("_websocket",rt),this._pollingInterval=-1,this._wsReady=!1,typeof a=="string"?defineReadOnly(this,"_websocket",new WS(this.connection.url)):defineReadOnly(this,"_websocket",a),defineReadOnly(this,"_requests",{}),defineReadOnly(this,"_subs",{}),defineReadOnly(this,"_subIds",{}),defineReadOnly(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(it=>{this.websocket.send(this._requests[it].payload)})},this.websocket.onmessage=it=>{const ot=it.data,st=JSON.parse(ot);if(st.id!=null){const ct=String(st.id),lt=this._requests[ct];if(delete this._requests[ct],st.result!==void 0)lt.callback(null,st.result),this.emit("debug",{action:"response",request:JSON.parse(lt.payload),response:st.result,provider:this});else{let ut=null;st.error?(ut=new Error(st.error.message||"unknown error"),defineReadOnly(ut,"code",st.error.code||null),defineReadOnly(ut,"response",ot)):ut=new Error("unknown error"),lt.callback(ut,void 0),this.emit("debug",{action:"response",error:ut,request:JSON.parse(lt.payload),provider:this})}}else if(st.method==="eth_subscription"){const ct=this._subs[st.params.subscription];ct&&ct.processFunc(st.params.result)}else console.warn("this should not happen")};const at=setInterval(()=>{this.emit("poll")},1e3);at.unref&&at.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(a){logger$d.throwError("cannot reset events block on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(a){logger$d.throwError("cannot set polling interval on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return __awaiter$4(this,void 0,void 0,function*(){return null})}set polling(a){!a||logger$d.throwError("cannot set polling on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(a,rt){const at=NextId++;return new Promise((it,ot)=>{function st(lt,ut){return lt?ot(lt):it(ut)}const ct=JSON.stringify({method:a,params:rt,id:at,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(ct),provider:this}),this._requests[String(at)]={callback:st,payload:ct},this._wsReady&&this.websocket.send(ct)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(a,rt,at){return __awaiter$4(this,void 0,void 0,function*(){let it=this._subIds[a];it==null&&(it=Promise.all(rt).then(st=>this.send("eth_subscribe",st)),this._subIds[a]=it);const ot=yield it;this._subs[ot]={tag:a,processFunc:at}})}_startEvent(a){switch(a.type){case"block":this._subscribe("block",["newHeads"],rt=>{const at=BigNumber.from(rt.number).toNumber();this._emitted.block=at,this.emit("block",at)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],rt=>{this.emit("pending",rt)});break;case"filter":this._subscribe(a.tag,["logs",this._getFilter(a.filter)],rt=>{rt.removed==null&&(rt.removed=!1),this.emit(a.filter,this.formatter.filterLog(rt))});break;case"tx":{const rt=at=>{const it=at.hash;this.getTransactionReceipt(it).then(ot=>{!ot||this.emit(it,ot)})};rt(a),this._subscribe("tx",["newHeads"],at=>{this._events.filter(it=>it.type==="tx").forEach(rt)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",a);break}}_stopEvent(a){let rt=a.tag;if(a.type==="tx"){if(this._events.filter(it=>it.type==="tx").length)return;rt="tx"}else if(this.listenerCount(a.event))return;const at=this._subIds[rt];!at||(delete this._subIds[rt],at.then(it=>{!this._subs[it]||(delete this._subs[it],this.send("eth_unsubscribe",[it]))}))}destroy(){return __awaiter$4(this,void 0,void 0,function*(){this.websocket.readyState===WS.CONNECTING&&(yield new Promise(a=>{this.websocket.onopen=function(){a(!0)},this.websocket.onerror=function(){a(!1)}})),this.websocket.close(1e3)})}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$c=new Logger(version$3);class StaticJsonRpcProvider extends JsonRpcProvider{detectNetwork(){const a=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return __awaiter$3(this,void 0,void 0,function*(){let rt=this.network;return rt==null&&(rt=yield a.detectNetwork.call(this),rt||logger$c.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(defineReadOnly(this,"_network",rt),this.emit("network",rt,null))),rt})}}class UrlJsonRpcProvider extends StaticJsonRpcProvider{constructor(a,rt){logger$c.checkAbstract(new.target,UrlJsonRpcProvider),a=getStatic(new.target,"getNetwork")(a),rt=getStatic(new.target,"getApiKey")(rt);const at=getStatic(new.target,"getUrl")(a,rt);super(at,a),typeof rt=="string"?defineReadOnly(this,"apiKey",rt):rt!=null&&Object.keys(rt).forEach(it=>{defineReadOnly(this,it,rt[it])})}_startPending(){logger$c.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(a){return logger$c.throwError("API provider does not support signing",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(a){return a}static getUrl(a,rt){return logger$c.throwError("not implemented; sub-classes must override getUrl",Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const logger$b=new Logger(version$3),defaultApiKey$2="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider extends WebSocketProvider{constructor(a,rt){const at=new AlchemyProvider(a,rt),it=at.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(it,at.network),defineReadOnly(this,"apiKey",at.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey$2}}class AlchemyProvider extends UrlJsonRpcProvider{static getWebSocketProvider(a,rt){return new AlchemyWebSocketProvider(a,rt)}static getApiKey(a){return a==null?defaultApiKey$2:(a&&typeof a!="string"&&logger$b.throwArgumentError("invalid apiKey","apiKey",a),a)}static getUrl(a,rt){let at=null;switch(a.name){case"homestead":at="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":at="eth-goerli.g.alchemy.com/v2/";break;case"matic":at="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":at="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":at="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":at="arb-goerli.g.alchemy.com/v2/";break;case"optimism":at="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":at="opt-goerli.g.alchemy.com/v2/";break;default:logger$b.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+at+rt,throttleCallback:(it,ot)=>(rt===defaultApiKey$2&&showThrottleMessage(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===defaultApiKey$2}}const logger$a=new Logger(version$3),defaultApiKey$1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(o){switch(o){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$a.throwArgumentError("unsupported network","name",o)}class AnkrProvider extends UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===defaultApiKey$1}static getApiKey(a){return a==null?defaultApiKey$1:a}static getUrl(a,rt){rt==null&&(rt=defaultApiKey$1);const at={allowGzip:!0,url:"https://"+getHost(a.name)+rt,throttleCallback:(it,ot)=>(rt.apiKey===defaultApiKey$1&&showThrottleMessage(),Promise.resolve(!0))};return rt.projectSecret!=null&&(at.user="",at.password=rt.projectSecret),at}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$9=new Logger(version$3);class CloudflareProvider extends UrlJsonRpcProvider{static getApiKey(a){return a!=null&&logger$9.throwArgumentError("apiKey not supported for cloudflare","apiKey",a),null}static getUrl(a,rt){let at=null;switch(a.name){case"homestead":at="https://cloudflare-eth.com/";break;default:logger$9.throwArgumentError("unsupported network","network",arguments[0])}return at}perform(a,rt){const at=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$2(this,void 0,void 0,function*(){return a==="getBlockNumber"?(yield at.perform.call(this,"getBlock",{blockTag:"latest"})).number:at.perform.call(this,a,rt)})}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$8=new Logger(version$3);function getTransactionPostData(o){const a={};for(let rt in o){if(o[rt]==null)continue;let at=o[rt];rt==="type"&&at===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[rt]?at=hexValue(hexlify(at)):rt==="accessList"?at="["+accessListify(at).map(it=>`{address:"${it.address}",storageKeys:["${it.storageKeys.join('","')}"]}`).join(",")+"]":at=hexlify(at),a[rt]=at)}return a}function getResult(o){if(o.status==0&&(o.message==="No records found"||o.message==="No transactions found"))return o.result;if(o.status!=1||typeof o.message!="string"||!o.message.match(/^OK/)){const a=new Error("invalid response");throw a.result=JSON.stringify(o),(o.result||"").toLowerCase().indexOf("rate limit")>=0&&(a.throttleRetry=!0),a}return o.result}function getJsonResult(o){if(o&&o.status==0&&o.message=="NOTOK"&&(o.result||"").toLowerCase().indexOf("rate limit")>=0){const a=new Error("throttled response");throw a.result=JSON.stringify(o),a.throttleRetry=!0,a}if(o.jsonrpc!="2.0"){const a=new Error("invalid response");throw a.result=JSON.stringify(o),a}if(o.error){const a=new Error(o.error.message||"unknown error");throw o.error.code&&(a.code=o.error.code),o.error.data&&(a.data=o.error.data),a}return o.result}function checkLogTag(o){if(o==="pending")throw new Error("pending not supported");return o==="latest"?o:parseInt(o.substring(2),16)}function checkError(o,a,rt){if(o==="call"&&a.code===Logger.errors.SERVER_ERROR){const it=a.error;if(it&&(it.message.match(/reverted/i)||it.message.match(/VM execution error/i))){let ot=it.data;if(ot&&(ot="0x"+ot.replace(/^.*0x/i,"")),isHexString(ot))return ot;logger$8.throwError("missing revert data in call exception",Logger.errors.CALL_EXCEPTION,{error:a,data:"0x"})}}let at=a.message;throw a.code===Logger.errors.SERVER_ERROR&&(a.error&&typeof a.error.message=="string"?at=a.error.message:typeof a.body=="string"?at=a.body:typeof a.responseText=="string"&&(at=a.responseText)),at=(at||"").toLowerCase(),at.match(/insufficient funds/)&&logger$8.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:a,method:o,transaction:rt}),at.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&logger$8.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:a,method:o,transaction:rt}),at.match(/another transaction with same nonce/)&&logger$8.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:a,method:o,transaction:rt}),at.match(/execution failed due to an exception|execution reverted/)&&logger$8.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:a,method:o,transaction:rt}),a}class EtherscanProvider extends BaseProvider{constructor(a,rt){super(a),defineReadOnly(this,"baseUrl",this.getBaseUrl()),defineReadOnly(this,"apiKey",rt||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return logger$8.throwArgumentError("unsupported network","network",this.network.name)}getUrl(a,rt){const at=Object.keys(rt).reduce((ot,st)=>{const ct=rt[st];return ct!=null&&(ot+=`&${st}=${ct}`),ot},""),it=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${a}${at}${it}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(a,rt){return rt.module=a,rt.apikey=this.apiKey,rt}fetch(a,rt,at){return __awaiter$1(this,void 0,void 0,function*(){const it=at?this.getPostUrl():this.getUrl(a,rt),ot=at?this.getPostData(a,rt):null,st=a==="proxy"?getJsonResult:getResult;this.emit("debug",{action:"request",request:it,provider:this});const ct={url:it,throttleSlotInterval:1e3,throttleCallback:(dt,ft)=>(this.isCommunityResource()&&showThrottleMessage(),Promise.resolve(!0))};let lt=null;ot&&(ct.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},lt=Object.keys(ot).map(dt=>`${dt}=${ot[dt]}`).join("&"));const ut=yield fetchJson(ct,lt,st||getJsonResult);return this.emit("debug",{action:"response",request:it,response:deepCopy(ut),provider:this}),ut})}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){return this.network})}perform(a,rt){const at=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$1(this,void 0,void 0,function*(){switch(a){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:rt.address,tag:rt.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:rt.address,tag:rt.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:rt.address,tag:rt.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:rt.address,position:rt.position,tag:rt.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:rt.signedTransaction},!0).catch(it=>checkError("sendTransaction",it,rt.signedTransaction));case"getBlock":if(rt.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:rt.blockTag,boolean:rt.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:rt.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:rt.transactionHash});case"call":{if(rt.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const it=getTransactionPostData(rt.transaction);it.module="proxy",it.action="eth_call";try{return yield this.fetch("proxy",it,!0)}catch(ot){return checkError("call",ot,rt.transaction)}}case"estimateGas":{const it=getTransactionPostData(rt.transaction);it.module="proxy",it.action="eth_estimateGas";try{return yield this.fetch("proxy",it,!0)}catch(ot){return checkError("estimateGas",ot,rt.transaction)}}case"getLogs":{const it={action:"getLogs"};if(rt.filter.fromBlock&&(it.fromBlock=checkLogTag(rt.filter.fromBlock)),rt.filter.toBlock&&(it.toBlock=checkLogTag(rt.filter.toBlock)),rt.filter.address&&(it.address=rt.filter.address),rt.filter.topics&&rt.filter.topics.length>0&&(rt.filter.topics.length>1&&logger$8.throwError("unsupported topic count",Logger.errors.UNSUPPORTED_OPERATION,{topics:rt.filter.topics}),rt.filter.topics.length===1)){const ct=rt.filter.topics[0];(typeof ct!="string"||ct.length!==66)&&logger$8.throwError("unsupported topic format",Logger.errors.UNSUPPORTED_OPERATION,{topic0:ct}),it.topic0=ct}const ot=yield this.fetch("logs",it);let st={};for(let ct=0;ct<ot.length;ct++){const lt=ot[ct];if(lt.blockHash==null){if(st[lt.blockNumber]==null){const ut=yield this.getBlock(lt.blockNumber);ut&&(st[lt.blockNumber]=ut.hash)}lt.blockHash=st[lt.blockNumber]}}return ot}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return at.perform.call(this,a,rt)})}getHistory(a,rt,at){return __awaiter$1(this,void 0,void 0,function*(){const it={action:"txlist",address:yield this.resolveName(a),startblock:rt==null?0:rt,endblock:at==null?99999999:at,sort:"asc"};return(yield this.fetch("account",it)).map(st=>{["contractAddress","to"].forEach(function(lt){st[lt]==""&&delete st[lt]}),st.creates==null&&st.contractAddress!=null&&(st.creates=st.contractAddress);const ct=this.formatter.transactionResponse(st);return st.timeStamp&&(ct.timestamp=parseInt(st.timeStamp)),ct})})}isCommunityResource(){return this.apiKey==null}}var __awaiter=globalThis&&globalThis.__awaiter||function(o,a,rt,at){function it(ot){return ot instanceof rt?ot:new rt(function(st){st(ot)})}return new(rt||(rt=Promise))(function(ot,st){function ct(dt){try{ut(at.next(dt))}catch(ft){st(ft)}}function lt(dt){try{ut(at.throw(dt))}catch(ft){st(ft)}}function ut(dt){dt.done?ot(dt.value):it(dt.value).then(ct,lt)}ut((at=at.apply(o,a||[])).next())})};const logger$7=new Logger(version$3);function now(){return new Date().getTime()}function checkNetworks(o){let a=null;for(let rt=0;rt<o.length;rt++){const at=o[rt];if(at==null)return null;a?a.name===at.name&&a.chainId===at.chainId&&(a.ensAddress===at.ensAddress||a.ensAddress==null&&at.ensAddress==null)||logger$7.throwArgumentError("provider mismatch","networks",o):a=at}return a}function median(o,a){o=o.slice().sort();const rt=Math.floor(o.length/2);if(o.length%2)return o[rt];const at=o[rt-1],it=o[rt];return a!=null&&Math.abs(at-it)>a?null:(at+it)/2}function serialize$1(o){if(o===null)return"null";if(typeof o=="number"||typeof o=="boolean")return JSON.stringify(o);if(typeof o=="string")return o;if(BigNumber.isBigNumber(o))return o.toString();if(Array.isArray(o))return JSON.stringify(o.map(a=>serialize$1(a)));if(typeof o=="object"){const a=Object.keys(o);return a.sort(),"{"+a.map(rt=>{let at=o[rt];return typeof at=="function"?at="[function]":at=serialize$1(at),JSON.stringify(rt)+":"+at}).join(",")+"}"}throw new Error("unknown value type: "+typeof o)}let nextRid=1;function stall(o){let a=null,rt=null,at=new Promise(st=>{a=function(){rt&&(clearTimeout(rt),rt=null),st()},rt=setTimeout(a,o)});const it=st=>(at=at.then(st),at);function ot(){return at}return{cancel:a,getPromise:ot,wait:it}}const ForwardErrors=[Logger.errors.CALL_EXCEPTION,Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED,Logger.errors.UNPREDICTABLE_GAS_LIMIT],ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(o,a){const rt={weight:o.weight};return Object.defineProperty(rt,"provider",{get:()=>o.provider}),o.start&&(rt.start=o.start),a&&(rt.duration=a-o.start),o.done&&(o.error?rt.error=o.error:rt.result=o.result||null),rt}function normalizedTally(o,a){return function(rt){const at={};rt.forEach(ot=>{const st=o(ot.result);at[st]||(at[st]={count:0,result:ot.result}),at[st].count++});const it=Object.keys(at);for(let ot=0;ot<it.length;ot++){const st=at[it[ot]];if(st.count>=a)return st.result}}}function getProcessFunc(o,a,rt){let at=serialize$1;switch(a){case"getBlockNumber":return function(it){const ot=it.map(ct=>ct.result);let st=median(it.map(ct=>ct.result),2);if(st!=null)return st=Math.ceil(st),ot.indexOf(st+1)>=0&&st++,st>=o._highestBlockNumber&&(o._highestBlockNumber=st),o._highestBlockNumber};case"getGasPrice":return function(it){const ot=it.map(st=>st.result);return ot.sort(),ot[Math.floor(ot.length/2)]};case"getEtherPrice":return function(it){return median(it.map(ot=>ot.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":at=function(it){return it==null?null:(it=shallowCopy(it),it.confirmations=-1,serialize$1(it))};break;case"getBlock":rt.includeTransactions?at=function(it){return it==null?null:(it=shallowCopy(it),it.transactions=it.transactions.map(ot=>(ot=shallowCopy(ot),ot.confirmations=-1,ot)),serialize$1(it))}:at=function(it){return it==null?null:serialize$1(it)};break;default:throw new Error("unknown method: "+a)}return normalizedTally(at,o.quorum)}function waitForSync(o,a){return __awaiter(this,void 0,void 0,function*(){const rt=o.provider;return rt.blockNumber!=null&&rt.blockNumber>=a||a===-1?rt:poll(()=>new Promise((at,it)=>{setTimeout(function(){return rt.blockNumber>=a?at(rt):o.cancelled?at(null):at(void 0)},0)}),{oncePoll:rt})})}function getRunner(o,a,rt,at){return __awaiter(this,void 0,void 0,function*(){let it=o.provider;switch(rt){case"getBlockNumber":case"getGasPrice":return it[rt]();case"getEtherPrice":if(it.getEtherPrice)return it.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return at.blockTag&&isHexString(at.blockTag)&&(it=yield waitForSync(o,a)),it[rt](at.address,at.blockTag||"latest");case"getStorageAt":return at.blockTag&&isHexString(at.blockTag)&&(it=yield waitForSync(o,a)),it.getStorageAt(at.address,at.position,at.blockTag||"latest");case"getBlock":return at.blockTag&&isHexString(at.blockTag)&&(it=yield waitForSync(o,a)),it[at.includeTransactions?"getBlockWithTransactions":"getBlock"](at.blockTag||at.blockHash);case"call":case"estimateGas":return at.blockTag&&isHexString(at.blockTag)&&(it=yield waitForSync(o,a)),rt==="call"&&at.blockTag?it[rt](at.transaction,at.blockTag):it[rt](at.transaction);case"getTransaction":case"getTransactionReceipt":return it[rt](at.transactionHash);case"getLogs":{let ot=at.filter;return(ot.fromBlock&&isHexString(ot.fromBlock)||ot.toBlock&&isHexString(ot.toBlock))&&(it=yield waitForSync(o,a)),it.getLogs(ot)}}return logger$7.throwError("unknown method error",Logger.errors.UNKNOWN_ERROR,{method:rt,params:at})})}class FallbackProvider extends BaseProvider{constructor(a,rt){a.length===0&&logger$7.throwArgumentError("missing providers","providers",a);const at=a.map((st,ct)=>{if(Provider.isProvider(st)){const dt=isCommunityResource(st)?2e3:750;return Object.freeze({provider:st,weight:1,stallTimeout:dt,priority:1})}const lt=shallowCopy(st);lt.priority==null&&(lt.priority=1),lt.stallTimeout==null&&(lt.stallTimeout=isCommunityResource(st)?2e3:750),lt.weight==null&&(lt.weight=1);const ut=lt.weight;return(ut%1||ut>512||ut<1)&&logger$7.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${ct}].weight`,ut),Object.freeze(lt)}),it=at.reduce((st,ct)=>st+ct.weight,0);rt==null?rt=it/2:rt>it&&logger$7.throwArgumentError("quorum will always fail; larger than total weight","quorum",rt);let ot=checkNetworks(at.map(st=>st.provider.network));ot==null&&(ot=new Promise((st,ct)=>{setTimeout(()=>{this.detectNetwork().then(st,ct)},0)})),super(ot),defineReadOnly(this,"providerConfigs",Object.freeze(at)),defineReadOnly(this,"quorum",rt),this._highestBlockNumber=-1}detectNetwork(){return __awaiter(this,void 0,void 0,function*(){const a=yield Promise.all(this.providerConfigs.map(rt=>rt.provider.getNetwork()));return checkNetworks(a)})}perform(a,rt){return __awaiter(this,void 0,void 0,function*(){if(a==="sendTransaction"){const lt=yield Promise.all(this.providerConfigs.map(ut=>ut.provider.sendTransaction(rt.signedTransaction).then(dt=>dt.hash,dt=>dt)));for(let ut=0;ut<lt.length;ut++){const dt=lt[ut];if(typeof dt=="string")return dt}throw lt[0]}this._highestBlockNumber===-1&&a!=="getBlockNumber"&&(yield this.getBlockNumber());const at=getProcessFunc(this,a,rt),it=shuffled(this.providerConfigs.map(shallowCopy));it.sort((lt,ut)=>lt.priority-ut.priority);const ot=this._highestBlockNumber;let st=0,ct=!0;for(;;){const lt=now();let ut=it.filter(ht=>ht.runner&&lt-ht.start<ht.stallTimeout).reduce((ht,yt)=>ht+yt.weight,0);for(;ut<this.quorum&&st<it.length;){const ht=it[st++],yt=nextRid++;ht.start=now(),ht.staller=stall(ht.stallTimeout),ht.staller.wait(()=>{ht.staller=null}),ht.runner=getRunner(ht,ot,a,rt).then(mt=>{ht.done=!0,ht.result=mt,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:yt,backend:exposeDebugConfig(ht,now()),request:{method:a,params:deepCopy(rt)},provider:this})},mt=>{ht.done=!0,ht.error=mt,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:yt,backend:exposeDebugConfig(ht,now()),request:{method:a,params:deepCopy(rt)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:yt,backend:exposeDebugConfig(ht,null),request:{method:a,params:deepCopy(rt)},provider:this}),ut+=ht.weight}const dt=[];it.forEach(ht=>{ht.done||!ht.runner||(dt.push(ht.runner),ht.staller&&dt.push(ht.staller.getPromise()))}),dt.length&&(yield Promise.race(dt));const ft=it.filter(ht=>ht.done&&ht.error==null);if(ft.length>=this.quorum){const ht=at(ft);if(ht!==void 0)return it.forEach(yt=>{yt.staller&&yt.staller.cancel(),yt.cancelled=!0}),ht;ct||(yield stall(100).getPromise()),ct=!1}const pt=it.reduce((ht,yt)=>{if(!yt.done||yt.error==null)return ht;const mt=yt.error.code;return ForwardErrors.indexOf(mt)>=0&&(ht[mt]||(ht[mt]={error:yt.error,weight:0}),ht[mt].weight+=yt.weight),ht},{});if(Object.keys(pt).forEach(ht=>{const yt=pt[ht];if(yt.weight<this.quorum)return;it.forEach(bt=>{bt.staller&&bt.staller.cancel(),bt.cancelled=!0});const mt=yt.error,gt={};ForwardProperties.forEach(bt=>{mt[bt]!=null&&(gt[bt]=mt[bt])}),logger$7.throwError(mt.reason||mt.message,ht,gt)}),it.filter(ht=>!ht.done).length===0)break}return it.forEach(lt=>{lt.staller&&lt.staller.cancel(),lt.cancelled=!0}),logger$7.throwError("failed to meet quorum",Logger.errors.SERVER_ERROR,{method:a,params:rt,results:it.map(lt=>exposeDebugConfig(lt)),provider:this})})}}const IpcProvider=null,logger$6=new Logger(version$3),defaultProjectId="84842078b09946638c03157f83405213";class InfuraWebSocketProvider extends WebSocketProvider{constructor(a,rt){const at=new InfuraProvider(a,rt),it=at.connection;it.password&&logger$6.throwError("INFURA WebSocket project secrets unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const ot=it.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(ot,a),defineReadOnly(this,"apiKey",at.projectId),defineReadOnly(this,"projectId",at.projectId),defineReadOnly(this,"projectSecret",at.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends UrlJsonRpcProvider{static getWebSocketProvider(a,rt){return new InfuraWebSocketProvider(a,rt)}static getApiKey(a){const rt={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};return a==null||(typeof a=="string"?rt.projectId=a:a.projectSecret!=null?(logger$6.assertArgument(typeof a.projectId=="string","projectSecret requires a projectId","projectId",a.projectId),logger$6.assertArgument(typeof a.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),rt.projectId=a.projectId,rt.projectSecret=a.projectSecret):a.projectId&&(rt.projectId=a.projectId),rt.apiKey=rt.projectId),rt}static getUrl(a,rt){let at=null;switch(a?a.name:"unknown"){case"homestead":at="mainnet.infura.io";break;case"goerli":at="goerli.infura.io";break;case"sepolia":at="sepolia.infura.io";break;case"matic":at="polygon-mainnet.infura.io";break;case"maticmum":at="polygon-mumbai.infura.io";break;case"optimism":at="optimism-mainnet.infura.io";break;case"optimism-goerli":at="optimism-goerli.infura.io";break;case"arbitrum":at="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":at="arbitrum-goerli.infura.io";break;default:logger$6.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:a})}const it={allowGzip:!0,url:"https://"+at+"/v3/"+rt.projectId,throttleCallback:(ot,st)=>(rt.projectId===defaultProjectId&&showThrottleMessage(),Promise.resolve(!0))};return rt.projectSecret!=null&&(it.user="",it.password=rt.projectSecret),it}isCommunityResource(){return this.projectId===defaultProjectId}}class JsonRpcBatchProvider extends JsonRpcProvider{send(a,rt){const at={method:a,params:rt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const it={request:at,resolve:null,reject:null},ot=new Promise((st,ct)=>{it.resolve=st,it.reject=ct});return this._pendingBatch.push(it),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const st=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const ct=st.map(lt=>lt.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(ct),provider:this}),fetchJson(this.connection,JSON.stringify(ct)).then(lt=>{this.emit("debug",{action:"response",request:ct,response:lt,provider:this}),st.forEach((ut,dt)=>{const ft=lt[dt];if(ft.error){const pt=new Error(ft.error.message);pt.code=ft.error.code,pt.data=ft.error.data,ut.reject(pt)}else ut.resolve(ft.result)})},lt=>{this.emit("debug",{action:"response",error:lt,request:ct,provider:this}),st.forEach(ut=>{ut.reject(lt)})})},10)),ot}}const logger$5=new Logger(version$3),defaultApiKey="ETHERS_JS_SHARED";class NodesmithProvider extends UrlJsonRpcProvider{static getApiKey(a){return a&&typeof a!="string"&&logger$5.throwArgumentError("invalid apiKey","apiKey",a),a||defaultApiKey}static getUrl(a,rt){logger$5.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let at=null;switch(a.name){case"homestead":at="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":at="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":at="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":at="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":at="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$5.throwArgumentError("unsupported network","network",arguments[0])}return at+"?apiKey="+rt}}const logger$4=new Logger(version$3),defaultApplicationId="62e1ad51b37b8e00394bda3b";class PocketProvider extends UrlJsonRpcProvider{static getApiKey(a){const rt={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return a==null?rt.applicationId=defaultApplicationId:typeof a=="string"?rt.applicationId=a:a.applicationSecretKey!=null?(rt.applicationId=a.applicationId,rt.applicationSecretKey=a.applicationSecretKey):a.applicationId?rt.applicationId=a.applicationId:logger$4.throwArgumentError("unsupported PocketProvider apiKey","apiKey",a),rt}static getUrl(a,rt){let at=null;switch(a?a.name:"unknown"){case"goerli":at="eth-goerli.gateway.pokt.network";break;case"homestead":at="eth-mainnet.gateway.pokt.network";break;case"kovan":at="poa-kovan.gateway.pokt.network";break;case"matic":at="poly-mainnet.gateway.pokt.network";break;case"maticmum":at="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":at="eth-rinkeby.gateway.pokt.network";break;case"ropsten":at="eth-ropsten.gateway.pokt.network";break;default:logger$4.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:a})}const it=`https://${at}/v1/lb/${rt.applicationId}`,ot={headers:{},url:it};return rt.applicationSecretKey!=null&&(ot.user="",ot.password=rt.applicationSecretKey),ot}isCommunityResource(){return this.applicationId===defaultApplicationId}}const logger$3=new Logger(version$3);let _nextId=1;function buildWeb3LegacyFetcher(o,a){const rt="Web3LegacyFetcher";return function(at,it){const ot={method:at,params:it,id:_nextId++,jsonrpc:"2.0"};return new Promise((st,ct)=>{this.emit("debug",{action:"request",fetcher:rt,request:deepCopy(ot),provider:this}),a(ot,(lt,ut)=>{if(lt)return this.emit("debug",{action:"response",fetcher:rt,error:lt,request:ot,provider:this}),ct(lt);if(this.emit("debug",{action:"response",fetcher:rt,request:ot,response:ut,provider:this}),ut.error){const dt=new Error(ut.error.message);return dt.code=ut.error.code,dt.data=ut.error.data,ct(dt)}st(ut.result)})})}}function buildEip1193Fetcher(o){return function(a,rt){rt==null&&(rt=[]);const at={method:a,params:rt};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(at),provider:this}),o.request(at).then(it=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:at,response:it,provider:this}),it),it=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:at,error:it,provider:this}),it})}}class Web3Provider extends JsonRpcProvider{constructor(a,rt){a==null&&logger$3.throwArgumentError("missing provider","provider",a);let at=null,it=null,ot=null;typeof a=="function"?(at="unknown:",it=a):(at=a.host||a.path||"",!at&&a.isMetaMask&&(at="metamask"),ot=a,a.request?(at===""&&(at="eip-1193:"),it=buildEip1193Fetcher(a)):a.sendAsync?it=buildWeb3LegacyFetcher(a,a.sendAsync.bind(a)):a.send?it=buildWeb3LegacyFetcher(a,a.send.bind(a)):logger$3.throwArgumentError("unsupported provider","provider",a),at||(at="unknown:")),super(at,rt),defineReadOnly(this,"jsonRpcFetchFunc",it),defineReadOnly(this,"provider",ot)}send(a,rt){return this.jsonRpcFetchFunc(a,rt)}}const logger$2=new Logger(version$3);function getDefaultProvider(o,a){if(o==null&&(o="homestead"),typeof o=="string"){const at=o.match(/^(ws|http)s?:/i);if(at)switch(at[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider(o);case"ws":case"wss":return new WebSocketProvider(o);default:logger$2.throwArgumentError("unsupported URL scheme","network",o)}}const rt=getNetwork(o);return(!rt||!rt._defaultProvider)&&logger$2.throwError("unsupported getDefaultProvider network",Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:o}),rt._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider,NodesmithProvider,PocketProvider,Web3Provider,IpcProvider},a)}const version$2="solidity/5.7.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$1=new Logger(version$2);function _pack(o,a,rt){switch(o){case"address":return rt?zeroPad(a,32):arrayify(a);case"string":return toUtf8Bytes(a);case"bytes":return arrayify(a);case"bool":return a=a?"0x01":"0x00",rt?zeroPad(a,32):arrayify(a)}let at=o.match(regexNumber);if(at){let it=parseInt(at[2]||"256");return(at[2]&&String(it)!==at[2]||it%8!==0||it===0||it>256)&&logger$1.throwArgumentError("invalid number type","type",o),rt&&(it=256),a=BigNumber.from(a).toTwos(it),zeroPad(a,it/8)}if(at=o.match(regexBytes),at){const it=parseInt(at[1]);return(String(it)!==at[1]||it===0||it>32)&&logger$1.throwArgumentError("invalid bytes type","type",o),arrayify(a).byteLength!==it&&logger$1.throwArgumentError(`invalid value for ${o}`,"value",a),rt?arrayify((a+Zeros).substring(0,66)):a}if(at=o.match(regexArray),at&&Array.isArray(a)){const it=at[1];parseInt(at[2]||String(a.length))!=a.length&&logger$1.throwArgumentError(`invalid array length for ${o}`,"value",a);const st=[];return a.forEach(function(ct){st.push(_pack(it,ct,!0))}),concat(st)}return logger$1.throwArgumentError("invalid type","type",o)}function pack(o,a){o.length!=a.length&&logger$1.throwArgumentError("wrong number of values; expected ${ types.length }","values",a);const rt=[];return o.forEach(function(at,it){rt.push(_pack(at,a[it]))}),hexlify(concat(rt))}function keccak256(o,a){return keccak256$1(pack(o,a))}function sha256$1(o,a){return sha256$2(pack(o,a))}const lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,pack,keccak256,sha256:sha256$1},Symbol.toStringTag,{value:"Module"})),version$1="units/5.7.0",logger=new Logger(version$1),names=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(o){const a=String(o).split(".");(a.length>2||!a[0].match(/^-?[0-9]*$/)||a[1]&&!a[1].match(/^[0-9]*$/)||o==="."||o==="-.")&&logger.throwArgumentError("invalid value","value",o);let rt=a[0],at="";for(rt.substring(0,1)==="-"&&(at="-",rt=rt.substring(1));rt.substring(0,1)==="0";)rt=rt.substring(1);rt===""&&(rt="0");let it="";for(a.length===2&&(it="."+(a[1]||"0"));it.length>2&&it[it.length-1]==="0";)it=it.substring(0,it.length-1);const ot=[];for(;rt.length;)if(rt.length<=3){ot.unshift(rt);break}else{const st=rt.length-3;ot.unshift(rt.substring(st)),rt=rt.substring(0,st)}return at+ot.join(",")+it}function formatUnits(o,a){if(typeof a=="string"){const rt=names.indexOf(a);rt!==-1&&(a=3*rt)}return formatFixed(o,a!=null?a:18)}function parseUnits(o,a){if(typeof o!="string"&&logger.throwArgumentError("value must be a string","value",o),typeof a=="string"){const rt=names.indexOf(a);rt!==-1&&(a=3*rt)}return parseFixed(o,a!=null?a:18)}function formatEther(o){return formatUnits(o,18)}function parseEther(o){return parseUnits(o,18)}const lib_esm=Object.freeze(Object.defineProperty({__proto__:null,commify,formatUnits,parseUnits,formatEther,parseEther},Symbol.toStringTag,{value:"Module"})),version="ethers/5.7.2";new Logger(version);var eventemitter3={exports:{}};(function(o){var a=Object.prototype.hasOwnProperty,rt="~";function at(){}Object.create&&(at.prototype=Object.create(null),new at().__proto__||(rt=!1));function it(lt,ut,dt){this.fn=lt,this.context=ut,this.once=dt||!1}function ot(lt,ut,dt,ft,pt){if(typeof dt!="function")throw new TypeError("The listener must be a function");var ht=new it(dt,ft||lt,pt),yt=rt?rt+ut:ut;return lt._events[yt]?lt._events[yt].fn?lt._events[yt]=[lt._events[yt],ht]:lt._events[yt].push(ht):(lt._events[yt]=ht,lt._eventsCount++),lt}function st(lt,ut){--lt._eventsCount===0?lt._events=new at:delete lt._events[ut]}function ct(){this._events=new at,this._eventsCount=0}ct.prototype.eventNames=function(){var ut=[],dt,ft;if(this._eventsCount===0)return ut;for(ft in dt=this._events)a.call(dt,ft)&&ut.push(rt?ft.slice(1):ft);return Object.getOwnPropertySymbols?ut.concat(Object.getOwnPropertySymbols(dt)):ut},ct.prototype.listeners=function(ut){var dt=rt?rt+ut:ut,ft=this._events[dt];if(!ft)return[];if(ft.fn)return[ft.fn];for(var pt=0,ht=ft.length,yt=new Array(ht);pt<ht;pt++)yt[pt]=ft[pt].fn;return yt},ct.prototype.listenerCount=function(ut){var dt=rt?rt+ut:ut,ft=this._events[dt];return ft?ft.fn?1:ft.length:0},ct.prototype.emit=function(ut,dt,ft,pt,ht,yt){var mt=rt?rt+ut:ut;if(!this._events[mt])return!1;var gt=this._events[mt],bt=arguments.length,vt,wt;if(gt.fn){switch(gt.once&&this.removeListener(ut,gt.fn,void 0,!0),bt){case 1:return gt.fn.call(gt.context),!0;case 2:return gt.fn.call(gt.context,dt),!0;case 3:return gt.fn.call(gt.context,dt,ft),!0;case 4:return gt.fn.call(gt.context,dt,ft,pt),!0;case 5:return gt.fn.call(gt.context,dt,ft,pt,ht),!0;case 6:return gt.fn.call(gt.context,dt,ft,pt,ht,yt),!0}for(wt=1,vt=new Array(bt-1);wt<bt;wt++)vt[wt-1]=arguments[wt];gt.fn.apply(gt.context,vt)}else{var Tt=gt.length,_t;for(wt=0;wt<Tt;wt++)switch(gt[wt].once&&this.removeListener(ut,gt[wt].fn,void 0,!0),bt){case 1:gt[wt].fn.call(gt[wt].context);break;case 2:gt[wt].fn.call(gt[wt].context,dt);break;case 3:gt[wt].fn.call(gt[wt].context,dt,ft);break;case 4:gt[wt].fn.call(gt[wt].context,dt,ft,pt);break;default:if(!vt)for(_t=1,vt=new Array(bt-1);_t<bt;_t++)vt[_t-1]=arguments[_t];gt[wt].fn.apply(gt[wt].context,vt)}}return!0},ct.prototype.on=function(ut,dt,ft){return ot(this,ut,dt,ft,!1)},ct.prototype.once=function(ut,dt,ft){return ot(this,ut,dt,ft,!0)},ct.prototype.removeListener=function(ut,dt,ft,pt){var ht=rt?rt+ut:ut;if(!this._events[ht])return this;if(!dt)return st(this,ht),this;var yt=this._events[ht];if(yt.fn)yt.fn===dt&&(!pt||yt.once)&&(!ft||yt.context===ft)&&st(this,ht);else{for(var mt=0,gt=[],bt=yt.length;mt<bt;mt++)(yt[mt].fn!==dt||pt&&!yt[mt].once||ft&&yt[mt].context!==ft)&&gt.push(yt[mt]);gt.length?this._events[ht]=gt.length===1?gt[0]:gt:st(this,ht)}return this},ct.prototype.removeAllListeners=function(ut){var dt;return ut?(dt=rt?rt+ut:ut,this._events[dt]&&st(this,dt)):(this._events=new at,this._eventsCount=0),this},ct.prototype.off=ct.prototype.removeListener,ct.prototype.addListener=ct.prototype.on,ct.prefixed=rt,ct.EventEmitter=ct,o.exports=ct})(eventemitter3);const EventEmitter$1=eventemitter3.exports;function chainIdToThirdwebRpc(o){return`https://${o}.rpc.thirdweb.com`}const EIP1271_ABI=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],EIP1271_MAGICVALUE="0x1626ba7e";async function checkContractWalletSignature(o,a,rt,at){const it=new JsonRpcProvider(chainIdToThirdwebRpc(at)),ot=new Contract(rt,EIP1271_ABI,it),st=hashMessage(o);try{return await ot.isValidSignature(st,a)===EIP1271_MAGICVALUE}catch{return!1}}class AbstractWallet extends EventEmitter$1{constructor(){super(...arguments),_defineProperty$1(this,"type","evm")}async getAddress(){return(await this.getSigner()).getAddress()}async getChainId(){return(await this.getSigner()).getChainId()}async signMessage(a){return await(await this.getSigner()).signMessage(a)}async verifySignature(a,rt,at,it){try{const ot=hashMessage(a),st=arrayify(ot);if(recoverAddress(st,rt)===at)return!0}catch{}if(it!==void 0)try{return await checkContractWalletSignature(a,rt,at,it||1)}catch{}return!1}}const PREFIX="__TW__";class AsyncLocalStorage{constructor(a){_defineProperty$1(this,"name",void 0),this.name=a}getItem(a){return new Promise(rt=>{rt(localStorage.getItem(`${PREFIX}/${this.name}/${a}`))})}setItem(a,rt){return new Promise((at,it)=>{try{localStorage.setItem(`${PREFIX}/${this.name}/${a}`,rt),at()}catch(ot){it(ot)}})}removeItem(a){return new Promise(rt=>{localStorage.removeItem(`${PREFIX}/${this.name}/${a}`),rt()})}}function createAsyncLocalStorage(o){return new AsyncLocalStorage(o)}const DEFAULT_DAPP_META={name:"thirdweb powered dApp",url:"https://thirdweb.com",description:"thirdweb powered dApp",logoUrl:"https://thirdweb.com/favicon.ico",isDarkMode:!0};var _connectParams=new WeakMap,_connect=new WeakSet,_subscribeToEvents=new WeakSet;class AbstractClientWallet extends AbstractWallet{getMeta(){return this.constructor.meta}constructor(a,rt){super(),_classPrivateMethodInitSpec(this,_subscribeToEvents),_classPrivateMethodInitSpec(this,_connect),_defineProperty$1(this,"walletId",void 0),_defineProperty$1(this,"walletStorage",void 0),_defineProperty$1(this,"chains",void 0),_defineProperty$1(this,"dappMetadata",void 0),_defineProperty$1(this,"options",void 0),_classPrivateFieldInitSpec$1(this,_connectParams,{writable:!0,value:void 0}),this.walletId=a,this.options=rt,this.chains=(rt==null?void 0:rt.chains)||defaultChains,this.dappMetadata=(rt==null?void 0:rt.dappMetadata)||DEFAULT_DAPP_META,this.walletStorage=(rt==null?void 0:rt.walletStorage)||createAsyncLocalStorage(this.walletId)}async autoConnect(a){const rt=a?{...a,chainId:void 0}:void 0;return _classPrivateMethodGet(this,_connect,_connect2).call(this,!0,rt)}async connect(a){_classPrivateFieldSet$1(this,_connectParams,a);const rt=await _classPrivateMethodGet(this,_connect,_connect2).call(this,!1,a);if(!rt)throw new Error("Failed to connect to the wallet.");return rt}getConnectParams(){return _classPrivateFieldGet$1(this,_connectParams)}async getSigner(){const a=await this.getConnector();if(!a)throw new Error("Wallet not connected");return await a.getSigner()}async disconnect(){const a=await this.getConnector();a&&(await a.disconnect(),this.emit("disconnect"),a.removeAllListeners())}async switchChain(a){const rt=await this.getConnector();if(!rt)throw new Error("Wallet not connected");if(!rt.switchChain)throw new Error("Wallet does not support switching chains");return await rt.switchChain(a)}async updateChains(a){this.chains=a,(await this.getConnector()).updateChains(a)}getPersonalWallet(){}}async function _connect2(o,a){const rt=await this.getConnector();if(_classPrivateMethodGet(this,_subscribeToEvents,_subscribeToEvents2).call(this,rt),await rt.isConnected()){const ot=await rt.getAddress();return rt.setupListeners(),a!=null&&a.chainId&&await rt.switchChain(a==null?void 0:a.chainId),this.emit("connect",{address:ot,chainId:await this.getChainId()}),ot}if(o)throw new Error("Failed to auto connect to the wallet.");return await rt.connect(a)}async function _subscribeToEvents2(o){o.on("connect",a=>{var rt;this.emit("connect",{address:a.account,chainId:(rt=a.chain)==null?void 0:rt.id})}),o.on("change",a=>{var rt;this.emit("change",{address:a.account,chainId:(rt=a.chain)==null?void 0:rt.id})}),o.on("message",a=>{this.emit("message",a)}),o.on("disconnect",async()=>{this.emit("disconnect")}),o.on("error",a=>this.emit("error",a))}_defineProperty$1(AbstractClientWallet,"meta",void 0);const walletIds={coinbase:"coinbase",metamask:"metamask",localWallet:"localWallet",smartWallet:"smartWallet",safe:"safe",walletConnectV1:"walletConnectV1",walletConnect:"walletConnect",magicLink:"magicLink",paper:"paper"};var __spreadArray$2=globalThis&&globalThis.__spreadArray||function(o,a,rt){if(rt||arguments.length===2)for(var at=0,it=a.length,ot;at<it;at++)(ot||!(at in a))&&(ot||(ot=Array.prototype.slice.call(a,0,at)),ot[at]=a[at]);return o.concat(ot||Array.prototype.slice.call(a))},BrowserInfo=function(){function o(a,rt,at){this.name=a,this.version=rt,this.os=at,this.type="browser"}return o}(),NodeInfo=function(){function o(a){this.version=a,this.type="node",this.name="node",this.os=browser$1.exports.platform}return o}(),SearchBotDeviceInfo=function(){function o(a,rt,at,it){this.name=a,this.version=rt,this.os=at,this.bot=it,this.type="bot-device"}return o}(),BotInfo=function(){function o(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return o}(),ReactNativeInfo=function(){function o(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return o}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(o){return o?parseUserAgent(o):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(o){return o!==""&&userAgentRules.reduce(function(a,rt){var at=rt[0],it=rt[1];if(a)return a;var ot=it.exec(o);return!!ot&&[at,ot]},!1)}function parseUserAgent(o){var a=matchUserAgent(o);if(!a)return null;var rt=a[0],at=a[1];if(rt==="searchbot")return new BotInfo;var it=at[1]&&at[1].split(".").join("_").split("_").slice(0,3);it?it.length<REQUIRED_VERSION_PARTS&&(it=__spreadArray$2(__spreadArray$2([],it,!0),createVersionParts(REQUIRED_VERSION_PARTS-it.length),!0)):it=[];var ot=it.join("."),st=detectOS$1(o),ct=SEARCHBOT_OS_REGEX.exec(o);return ct&&ct[1]?new SearchBotDeviceInfo(rt,ot,st,ct[1]):new BrowserInfo(rt,ot,st)}function detectOS$1(o){for(var a=0,rt=operatingSystemRules.length;a<rt;a++){var at=operatingSystemRules[a],it=at[0],ot=at[1],st=ot.exec(o);if(st)return it}return null}function getNodeVersion(){var o=typeof browser$1.exports<"u"&&browser$1.exports.version;return o?new NodeInfo(browser$1.exports.version.slice(1)):null}function createVersionParts(o){for(var a=[],rt=0;rt<o;rt++)a.push("0");return a}var util$2;(function(o){o.assertEqual=it=>it;function a(it){}o.assertIs=a;function rt(it){throw new Error}o.assertNever=rt,o.arrayToEnum=it=>{const ot={};for(const st of it)ot[st]=st;return ot},o.getValidEnumValues=it=>{const ot=o.objectKeys(it).filter(ct=>typeof it[it[ct]]!="number"),st={};for(const ct of ot)st[ct]=it[ct];return o.objectValues(st)},o.objectValues=it=>o.objectKeys(it).map(function(ot){return it[ot]}),o.objectKeys=typeof Object.keys=="function"?it=>Object.keys(it):it=>{const ot=[];for(const st in it)Object.prototype.hasOwnProperty.call(it,st)&&ot.push(st);return ot},o.find=(it,ot)=>{for(const st of it)if(ot(st))return st},o.isInteger=typeof Number.isInteger=="function"?it=>Number.isInteger(it):it=>typeof it=="number"&&isFinite(it)&&Math.floor(it)===it;function at(it,ot=" | "){return it.map(st=>typeof st=="string"?`'${st}'`:st).join(ot)}o.joinValues=at,o.jsonStringifyReplacer=(it,ot)=>typeof ot=="bigint"?ot.toString():ot})(util$2||(util$2={}));var objectUtil;(function(o){o.mergeShapes=(a,rt)=>({...a,...rt})})(objectUtil||(objectUtil={}));const ZodParsedType=util$2.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=o=>{switch(typeof o){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(o)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(o)?ZodParsedType.array:o===null?ZodParsedType.null:o.then&&typeof o.then=="function"&&o.catch&&typeof o.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&o instanceof Map?ZodParsedType.map:typeof Set<"u"&&o instanceof Set?ZodParsedType.set:typeof Date<"u"&&o instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$2.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=o=>JSON.stringify(o,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(a){super(),this.issues=[],this.addIssue=at=>{this.issues=[...this.issues,at]},this.addIssues=(at=[])=>{this.issues=[...this.issues,...at]};const rt=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,rt):this.__proto__=rt,this.name="ZodError",this.issues=a}get errors(){return this.issues}format(a){const rt=a||function(ot){return ot.message},at={_errors:[]},it=ot=>{for(const st of ot.issues)if(st.code==="invalid_union")st.unionErrors.map(it);else if(st.code==="invalid_return_type")it(st.returnTypeError);else if(st.code==="invalid_arguments")it(st.argumentsError);else if(st.path.length===0)at._errors.push(rt(st));else{let ct=at,lt=0;for(;lt<st.path.length;){const ut=st.path[lt];lt===st.path.length-1?(ct[ut]=ct[ut]||{_errors:[]},ct[ut]._errors.push(rt(st))):ct[ut]=ct[ut]||{_errors:[]},ct=ct[ut],lt++}}};return it(this),at}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$2.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(a=rt=>rt.message){const rt={},at=[];for(const it of this.issues)it.path.length>0?(rt[it.path[0]]=rt[it.path[0]]||[],rt[it.path[0]].push(a(it))):at.push(a(it));return{formErrors:at,fieldErrors:rt}}get formErrors(){return this.flatten()}}ZodError.create=o=>new ZodError(o);const errorMap=(o,a)=>{let rt;switch(o.code){case ZodIssueCode.invalid_type:o.received===ZodParsedType.undefined?rt="Required":rt=`Expected ${o.expected}, received ${o.received}`;break;case ZodIssueCode.invalid_literal:rt=`Invalid literal value, expected ${JSON.stringify(o.expected,util$2.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:rt=`Unrecognized key(s) in object: ${util$2.joinValues(o.keys,", ")}`;break;case ZodIssueCode.invalid_union:rt="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:rt=`Invalid discriminator value. Expected ${util$2.joinValues(o.options)}`;break;case ZodIssueCode.invalid_enum_value:rt=`Invalid enum value. Expected ${util$2.joinValues(o.options)}, received '${o.received}'`;break;case ZodIssueCode.invalid_arguments:rt="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:rt="Invalid function return type";break;case ZodIssueCode.invalid_date:rt="Invalid date";break;case ZodIssueCode.invalid_string:typeof o.validation=="object"?"includes"in o.validation?(rt=`Invalid input: must include "${o.validation.includes}"`,typeof o.validation.position=="number"&&(rt=`${rt} at one or more positions greater than or equal to ${o.validation.position}`)):"startsWith"in o.validation?rt=`Invalid input: must start with "${o.validation.startsWith}"`:"endsWith"in o.validation?rt=`Invalid input: must end with "${o.validation.endsWith}"`:util$2.assertNever(o.validation):o.validation!=="regex"?rt=`Invalid ${o.validation}`:rt="Invalid";break;case ZodIssueCode.too_small:o.type==="array"?rt=`Array must contain ${o.exact?"exactly":o.inclusive?"at least":"more than"} ${o.minimum} element(s)`:o.type==="string"?rt=`String must contain ${o.exact?"exactly":o.inclusive?"at least":"over"} ${o.minimum} character(s)`:o.type==="number"?rt=`Number must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${o.minimum}`:o.type==="date"?rt=`Date must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(o.minimum))}`:rt="Invalid input";break;case ZodIssueCode.too_big:o.type==="array"?rt=`Array must contain ${o.exact?"exactly":o.inclusive?"at most":"less than"} ${o.maximum} element(s)`:o.type==="string"?rt=`String must contain ${o.exact?"exactly":o.inclusive?"at most":"under"} ${o.maximum} character(s)`:o.type==="number"?rt=`Number must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="bigint"?rt=`BigInt must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="date"?rt=`Date must be ${o.exact?"exactly":o.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(o.maximum))}`:rt="Invalid input";break;case ZodIssueCode.custom:rt="Invalid input";break;case ZodIssueCode.invalid_intersection_types:rt="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:rt=`Number must be a multiple of ${o.multipleOf}`;break;case ZodIssueCode.not_finite:rt="Number must be finite";break;default:rt=a.defaultError,util$2.assertNever(o)}return{message:rt}};let overrideErrorMap=errorMap;function setErrorMap(o){overrideErrorMap=o}function getErrorMap(){return overrideErrorMap}const makeIssue=o=>{const{data:a,path:rt,errorMaps:at,issueData:it}=o,ot=[...rt,...it.path||[]],st={...it,path:ot};let ct="";const lt=at.filter(ut=>!!ut).slice().reverse();for(const ut of lt)ct=ut(st,{data:a,defaultError:ct}).message;return{...it,path:ot,message:it.message||ct}},EMPTY_PATH=[];function addIssueToContext(o,a){const rt=makeIssue({issueData:a,data:o.data,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,getErrorMap(),errorMap].filter(at=>!!at)});o.common.issues.push(rt)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(a,rt){const at=[];for(const it of rt){if(it.status==="aborted")return INVALID;it.status==="dirty"&&a.dirty(),at.push(it.value)}return{status:a.value,value:at}}static async mergeObjectAsync(a,rt){const at=[];for(const it of rt)at.push({key:await it.key,value:await it.value});return ParseStatus.mergeObjectSync(a,at)}static mergeObjectSync(a,rt){const at={};for(const it of rt){const{key:ot,value:st}=it;if(ot.status==="aborted"||st.status==="aborted")return INVALID;ot.status==="dirty"&&a.dirty(),st.status==="dirty"&&a.dirty(),(typeof st.value<"u"||it.alwaysSet)&&(at[ot.value]=st.value)}return{status:a.value,value:at}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=o=>({status:"dirty",value:o}),OK=o=>({status:"valid",value:o}),isAborted=o=>o.status==="aborted",isDirty=o=>o.status==="dirty",isValid=o=>o.status==="valid",isAsync=o=>typeof Promise<"u"&&o instanceof Promise;var errorUtil;(function(o){o.errToObj=a=>typeof a=="string"?{message:a}:a||{},o.toString=a=>typeof a=="string"?a:a==null?void 0:a.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(a,rt,at,it){this._cachedPath=[],this.parent=a,this.data=rt,this._path=at,this._key=it}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(o,a)=>{if(isValid(a))return{success:!0,data:a.value};if(!o.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const rt=new ZodError(o.common.issues);return this._error=rt,this._error}}};function processCreateParams(o){if(!o)return{};const{errorMap:a,invalid_type_error:rt,required_error:at,description:it}=o;if(a&&(rt||at))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return a?{errorMap:a,description:it}:{errorMap:(st,ct)=>st.code!=="invalid_type"?{message:ct.defaultError}:typeof ct.data>"u"?{message:at!=null?at:ct.defaultError}:{message:rt!=null?rt:ct.defaultError},description:it}}class ZodType{constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(a){return getParsedType(a.data)}_getOrReturnCtx(a,rt){return rt||{common:a.parent.common,data:a.data,parsedType:getParsedType(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new ParseStatus,ctx:{common:a.parent.common,data:a.data,parsedType:getParsedType(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){const rt=this._parse(a);if(isAsync(rt))throw new Error("Synchronous parse encountered promise.");return rt}_parseAsync(a){const rt=this._parse(a);return Promise.resolve(rt)}parse(a,rt){const at=this.safeParse(a,rt);if(at.success)return at.data;throw at.error}safeParse(a,rt){var at;const it={common:{issues:[],async:(at=rt==null?void 0:rt.async)!==null&&at!==void 0?at:!1,contextualErrorMap:rt==null?void 0:rt.errorMap},path:(rt==null?void 0:rt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:getParsedType(a)},ot=this._parseSync({data:a,path:it.path,parent:it});return handleResult(it,ot)}async parseAsync(a,rt){const at=await this.safeParseAsync(a,rt);if(at.success)return at.data;throw at.error}async safeParseAsync(a,rt){const at={common:{issues:[],contextualErrorMap:rt==null?void 0:rt.errorMap,async:!0},path:(rt==null?void 0:rt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:getParsedType(a)},it=this._parse({data:a,path:at.path,parent:at}),ot=await(isAsync(it)?it:Promise.resolve(it));return handleResult(at,ot)}refine(a,rt){const at=it=>typeof rt=="string"||typeof rt>"u"?{message:rt}:typeof rt=="function"?rt(it):rt;return this._refinement((it,ot)=>{const st=a(it),ct=()=>ot.addIssue({code:ZodIssueCode.custom,...at(it)});return typeof Promise<"u"&&st instanceof Promise?st.then(lt=>lt?!0:(ct(),!1)):st?!0:(ct(),!1)})}refinement(a,rt){return this._refinement((at,it)=>a(at)?!0:(it.addIssue(typeof rt=="function"?rt(at,it):rt),!1))}_refinement(a){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(a){return ZodUnion.create([this,a],this._def)}and(a){return ZodIntersection.create(this,a,this._def)}transform(a){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:a}})}default(a){const rt=typeof a=="function"?a:()=>a;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:rt,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(a){const rt=typeof a=="function"?a:()=>a;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:rt,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(a){const rt=this.constructor;return new rt({...this._def,description:a})}pipe(a){return ZodPipeline.create(this,a)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=o=>o.precision?o.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${o.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${o.precision}}Z$`):o.precision===0?o.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):o.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(o,a){return!!((a==="v4"||!a)&&ipv4Regex.test(o)||(a==="v6"||!a)&&ipv6Regex.test(o))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(a,rt,at)=>this.refinement(it=>a.test(it),{validation:rt,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(at)}),this.nonempty=a=>this.min(1,errorUtil.errToObj(a)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(a){if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==ZodParsedType.string){const ot=this._getOrReturnCtx(a);return addIssueToContext(ot,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:ot.parsedType}),INVALID}const at=new ParseStatus;let it;for(const ot of this._def.checks)if(ot.kind==="min")a.data.length<ot.value&&(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.too_small,minimum:ot.value,type:"string",inclusive:!0,exact:!1,message:ot.message}),at.dirty());else if(ot.kind==="max")a.data.length>ot.value&&(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.too_big,maximum:ot.value,type:"string",inclusive:!0,exact:!1,message:ot.message}),at.dirty());else if(ot.kind==="length"){const st=a.data.length>ot.value,ct=a.data.length<ot.value;(st||ct)&&(it=this._getOrReturnCtx(a,it),st?addIssueToContext(it,{code:ZodIssueCode.too_big,maximum:ot.value,type:"string",inclusive:!0,exact:!0,message:ot.message}):ct&&addIssueToContext(it,{code:ZodIssueCode.too_small,minimum:ot.value,type:"string",inclusive:!0,exact:!0,message:ot.message}),at.dirty())}else if(ot.kind==="email")emailRegex.test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"email",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty());else if(ot.kind==="emoji")emojiRegex.test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"emoji",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty());else if(ot.kind==="uuid")uuidRegex.test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"uuid",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty());else if(ot.kind==="cuid")cuidRegex.test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"cuid",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty());else if(ot.kind==="cuid2")cuid2Regex.test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty());else if(ot.kind==="ulid")ulidRegex.test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"ulid",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty());else if(ot.kind==="url")try{new URL(a.data)}catch{it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"url",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty()}else ot.kind==="regex"?(ot.regex.lastIndex=0,ot.regex.test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"regex",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty())):ot.kind==="trim"?a.data=a.data.trim():ot.kind==="includes"?a.data.includes(ot.value,ot.position)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.invalid_string,validation:{includes:ot.value,position:ot.position},message:ot.message}),at.dirty()):ot.kind==="toLowerCase"?a.data=a.data.toLowerCase():ot.kind==="toUpperCase"?a.data=a.data.toUpperCase():ot.kind==="startsWith"?a.data.startsWith(ot.value)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.invalid_string,validation:{startsWith:ot.value},message:ot.message}),at.dirty()):ot.kind==="endsWith"?a.data.endsWith(ot.value)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.invalid_string,validation:{endsWith:ot.value},message:ot.message}),at.dirty()):ot.kind==="datetime"?datetimeRegex(ot).test(a.data)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.invalid_string,validation:"datetime",message:ot.message}),at.dirty()):ot.kind==="ip"?isValidIP(a.data,ot.version)||(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{validation:"ip",code:ZodIssueCode.invalid_string,message:ot.message}),at.dirty()):util$2.assertNever(ot);return{status:at.value,value:a.data}}_addCheck(a){return new ZodString({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...errorUtil.errToObj(a)})}url(a){return this._addCheck({kind:"url",...errorUtil.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...errorUtil.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...errorUtil.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...errorUtil.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...errorUtil.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...errorUtil.errToObj(a)})}datetime(a){var rt;return typeof a=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:a}):this._addCheck({kind:"datetime",precision:typeof(a==null?void 0:a.precision)>"u"?null:a==null?void 0:a.precision,offset:(rt=a==null?void 0:a.offset)!==null&&rt!==void 0?rt:!1,...errorUtil.errToObj(a==null?void 0:a.message)})}regex(a,rt){return this._addCheck({kind:"regex",regex:a,...errorUtil.errToObj(rt)})}includes(a,rt){return this._addCheck({kind:"includes",value:a,position:rt==null?void 0:rt.position,...errorUtil.errToObj(rt==null?void 0:rt.message)})}startsWith(a,rt){return this._addCheck({kind:"startsWith",value:a,...errorUtil.errToObj(rt)})}endsWith(a,rt){return this._addCheck({kind:"endsWith",value:a,...errorUtil.errToObj(rt)})}min(a,rt){return this._addCheck({kind:"min",value:a,...errorUtil.errToObj(rt)})}max(a,rt){return this._addCheck({kind:"max",value:a,...errorUtil.errToObj(rt)})}length(a,rt){return this._addCheck({kind:"length",value:a,...errorUtil.errToObj(rt)})}get isDatetime(){return!!this._def.checks.find(a=>a.kind==="datetime")}get isEmail(){return!!this._def.checks.find(a=>a.kind==="email")}get isURL(){return!!this._def.checks.find(a=>a.kind==="url")}get isEmoji(){return!!this._def.checks.find(a=>a.kind==="emoji")}get isUUID(){return!!this._def.checks.find(a=>a.kind==="uuid")}get isCUID(){return!!this._def.checks.find(a=>a.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(a=>a.kind==="cuid2")}get isULID(){return!!this._def.checks.find(a=>a.kind==="ulid")}get isIP(){return!!this._def.checks.find(a=>a.kind==="ip")}get minLength(){let a=null;for(const rt of this._def.checks)rt.kind==="min"&&(a===null||rt.value>a)&&(a=rt.value);return a}get maxLength(){let a=null;for(const rt of this._def.checks)rt.kind==="max"&&(a===null||rt.value<a)&&(a=rt.value);return a}}ZodString.create=o=>{var a;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(a=o==null?void 0:o.coerce)!==null&&a!==void 0?a:!1,...processCreateParams(o)})};function floatSafeRemainder(o,a){const rt=(o.toString().split(".")[1]||"").length,at=(a.toString().split(".")[1]||"").length,it=rt>at?rt:at,ot=parseInt(o.toFixed(it).replace(".","")),st=parseInt(a.toFixed(it).replace(".",""));return ot%st/Math.pow(10,it)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==ZodParsedType.number){const ot=this._getOrReturnCtx(a);return addIssueToContext(ot,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:ot.parsedType}),INVALID}let at;const it=new ParseStatus;for(const ot of this._def.checks)ot.kind==="int"?util$2.isInteger(a.data)||(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:ot.message}),it.dirty()):ot.kind==="min"?(ot.inclusive?a.data<ot.value:a.data<=ot.value)&&(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.too_small,minimum:ot.value,type:"number",inclusive:ot.inclusive,exact:!1,message:ot.message}),it.dirty()):ot.kind==="max"?(ot.inclusive?a.data>ot.value:a.data>=ot.value)&&(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.too_big,maximum:ot.value,type:"number",inclusive:ot.inclusive,exact:!1,message:ot.message}),it.dirty()):ot.kind==="multipleOf"?floatSafeRemainder(a.data,ot.value)!==0&&(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.not_multiple_of,multipleOf:ot.value,message:ot.message}),it.dirty()):ot.kind==="finite"?Number.isFinite(a.data)||(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.not_finite,message:ot.message}),it.dirty()):util$2.assertNever(ot);return{status:it.value,value:a.data}}gte(a,rt){return this.setLimit("min",a,!0,errorUtil.toString(rt))}gt(a,rt){return this.setLimit("min",a,!1,errorUtil.toString(rt))}lte(a,rt){return this.setLimit("max",a,!0,errorUtil.toString(rt))}lt(a,rt){return this.setLimit("max",a,!1,errorUtil.toString(rt))}setLimit(a,rt,at,it){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:a,value:rt,inclusive:at,message:errorUtil.toString(it)}]})}_addCheck(a){return new ZodNumber({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:errorUtil.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(a)})}multipleOf(a,rt){return this._addCheck({kind:"multipleOf",value:a,message:errorUtil.toString(rt)})}finite(a){return this._addCheck({kind:"finite",message:errorUtil.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(a)})}get minValue(){let a=null;for(const rt of this._def.checks)rt.kind==="min"&&(a===null||rt.value>a)&&(a=rt.value);return a}get maxValue(){let a=null;for(const rt of this._def.checks)rt.kind==="max"&&(a===null||rt.value<a)&&(a=rt.value);return a}get isInt(){return!!this._def.checks.find(a=>a.kind==="int"||a.kind==="multipleOf"&&util$2.isInteger(a.value))}get isFinite(){let a=null,rt=null;for(const at of this._def.checks){if(at.kind==="finite"||at.kind==="int"||at.kind==="multipleOf")return!0;at.kind==="min"?(rt===null||at.value>rt)&&(rt=at.value):at.kind==="max"&&(a===null||at.value<a)&&(a=at.value)}return Number.isFinite(rt)&&Number.isFinite(a)}}ZodNumber.create=o=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(o==null?void 0:o.coerce)||!1,...processCreateParams(o)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){if(this._def.coerce&&(a.data=BigInt(a.data)),this._getType(a)!==ZodParsedType.bigint){const ot=this._getOrReturnCtx(a);return addIssueToContext(ot,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:ot.parsedType}),INVALID}let at;const it=new ParseStatus;for(const ot of this._def.checks)ot.kind==="min"?(ot.inclusive?a.data<ot.value:a.data<=ot.value)&&(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.too_small,type:"bigint",minimum:ot.value,inclusive:ot.inclusive,message:ot.message}),it.dirty()):ot.kind==="max"?(ot.inclusive?a.data>ot.value:a.data>=ot.value)&&(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.too_big,type:"bigint",maximum:ot.value,inclusive:ot.inclusive,message:ot.message}),it.dirty()):ot.kind==="multipleOf"?a.data%ot.value!==BigInt(0)&&(at=this._getOrReturnCtx(a,at),addIssueToContext(at,{code:ZodIssueCode.not_multiple_of,multipleOf:ot.value,message:ot.message}),it.dirty()):util$2.assertNever(ot);return{status:it.value,value:a.data}}gte(a,rt){return this.setLimit("min",a,!0,errorUtil.toString(rt))}gt(a,rt){return this.setLimit("min",a,!1,errorUtil.toString(rt))}lte(a,rt){return this.setLimit("max",a,!0,errorUtil.toString(rt))}lt(a,rt){return this.setLimit("max",a,!1,errorUtil.toString(rt))}setLimit(a,rt,at,it){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:a,value:rt,inclusive:at,message:errorUtil.toString(it)}]})}_addCheck(a){return new ZodBigInt({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(a)})}multipleOf(a,rt){return this._addCheck({kind:"multipleOf",value:a,message:errorUtil.toString(rt)})}get minValue(){let a=null;for(const rt of this._def.checks)rt.kind==="min"&&(a===null||rt.value>a)&&(a=rt.value);return a}get maxValue(){let a=null;for(const rt of this._def.checks)rt.kind==="max"&&(a===null||rt.value<a)&&(a=rt.value);return a}}ZodBigInt.create=o=>{var a;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(a=o==null?void 0:o.coerce)!==null&&a!==void 0?a:!1,...processCreateParams(o)})};class ZodBoolean extends ZodType{_parse(a){if(this._def.coerce&&(a.data=Boolean(a.data)),this._getType(a)!==ZodParsedType.boolean){const at=this._getOrReturnCtx(a);return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:at.parsedType}),INVALID}return OK(a.data)}}ZodBoolean.create=o=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(o==null?void 0:o.coerce)||!1,...processCreateParams(o)});class ZodDate extends ZodType{_parse(a){if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==ZodParsedType.date){const ot=this._getOrReturnCtx(a);return addIssueToContext(ot,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:ot.parsedType}),INVALID}if(isNaN(a.data.getTime())){const ot=this._getOrReturnCtx(a);return addIssueToContext(ot,{code:ZodIssueCode.invalid_date}),INVALID}const at=new ParseStatus;let it;for(const ot of this._def.checks)ot.kind==="min"?a.data.getTime()<ot.value&&(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.too_small,message:ot.message,inclusive:!0,exact:!1,minimum:ot.value,type:"date"}),at.dirty()):ot.kind==="max"?a.data.getTime()>ot.value&&(it=this._getOrReturnCtx(a,it),addIssueToContext(it,{code:ZodIssueCode.too_big,message:ot.message,inclusive:!0,exact:!1,maximum:ot.value,type:"date"}),at.dirty()):util$2.assertNever(ot);return{status:at.value,value:new Date(a.data.getTime())}}_addCheck(a){return new ZodDate({...this._def,checks:[...this._def.checks,a]})}min(a,rt){return this._addCheck({kind:"min",value:a.getTime(),message:errorUtil.toString(rt)})}max(a,rt){return this._addCheck({kind:"max",value:a.getTime(),message:errorUtil.toString(rt)})}get minDate(){let a=null;for(const rt of this._def.checks)rt.kind==="min"&&(a===null||rt.value>a)&&(a=rt.value);return a!=null?new Date(a):null}get maxDate(){let a=null;for(const rt of this._def.checks)rt.kind==="max"&&(a===null||rt.value<a)&&(a=rt.value);return a!=null?new Date(a):null}}ZodDate.create=o=>new ZodDate({checks:[],coerce:(o==null?void 0:o.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(o)});class ZodSymbol extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.symbol){const at=this._getOrReturnCtx(a);return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:at.parsedType}),INVALID}return OK(a.data)}}ZodSymbol.create=o=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(o)});class ZodUndefined extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.undefined){const at=this._getOrReturnCtx(a);return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:at.parsedType}),INVALID}return OK(a.data)}}ZodUndefined.create=o=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(o)});class ZodNull extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.null){const at=this._getOrReturnCtx(a);return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:at.parsedType}),INVALID}return OK(a.data)}}ZodNull.create=o=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(o)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(a){return OK(a.data)}}ZodAny.create=o=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(o)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(a){return OK(a.data)}}ZodUnknown.create=o=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(o)});class ZodNever extends ZodType{_parse(a){const rt=this._getOrReturnCtx(a);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:rt.parsedType}),INVALID}}ZodNever.create=o=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(o)});class ZodVoid extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.undefined){const at=this._getOrReturnCtx(a);return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:at.parsedType}),INVALID}return OK(a.data)}}ZodVoid.create=o=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(o)});class ZodArray extends ZodType{_parse(a){const{ctx:rt,status:at}=this._processInputParams(a),it=this._def;if(rt.parsedType!==ZodParsedType.array)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:rt.parsedType}),INVALID;if(it.exactLength!==null){const st=rt.data.length>it.exactLength.value,ct=rt.data.length<it.exactLength.value;(st||ct)&&(addIssueToContext(rt,{code:st?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:ct?it.exactLength.value:void 0,maximum:st?it.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:it.exactLength.message}),at.dirty())}if(it.minLength!==null&&rt.data.length<it.minLength.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:it.minLength.value,type:"array",inclusive:!0,exact:!1,message:it.minLength.message}),at.dirty()),it.maxLength!==null&&rt.data.length>it.maxLength.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:it.maxLength.value,type:"array",inclusive:!0,exact:!1,message:it.maxLength.message}),at.dirty()),rt.common.async)return Promise.all([...rt.data].map((st,ct)=>it.type._parseAsync(new ParseInputLazyPath(rt,st,rt.path,ct)))).then(st=>ParseStatus.mergeArray(at,st));const ot=[...rt.data].map((st,ct)=>it.type._parseSync(new ParseInputLazyPath(rt,st,rt.path,ct)));return ParseStatus.mergeArray(at,ot)}get element(){return this._def.type}min(a,rt){return new ZodArray({...this._def,minLength:{value:a,message:errorUtil.toString(rt)}})}max(a,rt){return new ZodArray({...this._def,maxLength:{value:a,message:errorUtil.toString(rt)}})}length(a,rt){return new ZodArray({...this._def,exactLength:{value:a,message:errorUtil.toString(rt)}})}nonempty(a){return this.min(1,a)}}ZodArray.create=(o,a)=>new ZodArray({type:o,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(a)});function deepPartialify(o){if(o instanceof ZodObject){const a={};for(const rt in o.shape){const at=o.shape[rt];a[rt]=ZodOptional.create(deepPartialify(at))}return new ZodObject({...o._def,shape:()=>a})}else return o instanceof ZodArray?new ZodArray({...o._def,type:deepPartialify(o.element)}):o instanceof ZodOptional?ZodOptional.create(deepPartialify(o.unwrap())):o instanceof ZodNullable?ZodNullable.create(deepPartialify(o.unwrap())):o instanceof ZodTuple?ZodTuple.create(o.items.map(a=>deepPartialify(a))):o}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const a=this._def.shape(),rt=util$2.objectKeys(a);return this._cached={shape:a,keys:rt}}_parse(a){if(this._getType(a)!==ZodParsedType.object){const ut=this._getOrReturnCtx(a);return addIssueToContext(ut,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ut.parsedType}),INVALID}const{status:at,ctx:it}=this._processInputParams(a),{shape:ot,keys:st}=this._getCached(),ct=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ut in it.data)st.includes(ut)||ct.push(ut);const lt=[];for(const ut of st){const dt=ot[ut],ft=it.data[ut];lt.push({key:{status:"valid",value:ut},value:dt._parse(new ParseInputLazyPath(it,ft,it.path,ut)),alwaysSet:ut in it.data})}if(this._def.catchall instanceof ZodNever){const ut=this._def.unknownKeys;if(ut==="passthrough")for(const dt of ct)lt.push({key:{status:"valid",value:dt},value:{status:"valid",value:it.data[dt]}});else if(ut==="strict")ct.length>0&&(addIssueToContext(it,{code:ZodIssueCode.unrecognized_keys,keys:ct}),at.dirty());else if(ut!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ut=this._def.catchall;for(const dt of ct){const ft=it.data[dt];lt.push({key:{status:"valid",value:dt},value:ut._parse(new ParseInputLazyPath(it,ft,it.path,dt)),alwaysSet:dt in it.data})}}return it.common.async?Promise.resolve().then(async()=>{const ut=[];for(const dt of lt){const ft=await dt.key;ut.push({key:ft,value:await dt.value,alwaysSet:dt.alwaysSet})}return ut}).then(ut=>ParseStatus.mergeObjectSync(at,ut)):ParseStatus.mergeObjectSync(at,lt)}get shape(){return this._def.shape()}strict(a){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...a!==void 0?{errorMap:(rt,at)=>{var it,ot,st,ct;const lt=(st=(ot=(it=this._def).errorMap)===null||ot===void 0?void 0:ot.call(it,rt,at).message)!==null&&st!==void 0?st:at.defaultError;return rt.code==="unrecognized_keys"?{message:(ct=errorUtil.errToObj(a).message)!==null&&ct!==void 0?ct:lt}:{message:lt}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(a){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new ZodObject({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(a,rt){return this.augment({[a]:rt})}catchall(a){return new ZodObject({...this._def,catchall:a})}pick(a){const rt={};return util$2.objectKeys(a).forEach(at=>{a[at]&&this.shape[at]&&(rt[at]=this.shape[at])}),new ZodObject({...this._def,shape:()=>rt})}omit(a){const rt={};return util$2.objectKeys(this.shape).forEach(at=>{a[at]||(rt[at]=this.shape[at])}),new ZodObject({...this._def,shape:()=>rt})}deepPartial(){return deepPartialify(this)}partial(a){const rt={};return util$2.objectKeys(this.shape).forEach(at=>{const it=this.shape[at];a&&!a[at]?rt[at]=it:rt[at]=it.optional()}),new ZodObject({...this._def,shape:()=>rt})}required(a){const rt={};return util$2.objectKeys(this.shape).forEach(at=>{if(a&&!a[at])rt[at]=this.shape[at];else{let ot=this.shape[at];for(;ot instanceof ZodOptional;)ot=ot._def.innerType;rt[at]=ot}}),new ZodObject({...this._def,shape:()=>rt})}keyof(){return createZodEnum(util$2.objectKeys(this.shape))}}ZodObject.create=(o,a)=>new ZodObject({shape:()=>o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});ZodObject.strictCreate=(o,a)=>new ZodObject({shape:()=>o,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});ZodObject.lazycreate=(o,a)=>new ZodObject({shape:o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});class ZodUnion extends ZodType{_parse(a){const{ctx:rt}=this._processInputParams(a),at=this._def.options;function it(ot){for(const ct of ot)if(ct.result.status==="valid")return ct.result;for(const ct of ot)if(ct.result.status==="dirty")return rt.common.issues.push(...ct.ctx.common.issues),ct.result;const st=ot.map(ct=>new ZodError(ct.ctx.common.issues));return addIssueToContext(rt,{code:ZodIssueCode.invalid_union,unionErrors:st}),INVALID}if(rt.common.async)return Promise.all(at.map(async ot=>{const st={...rt,common:{...rt.common,issues:[]},parent:null};return{result:await ot._parseAsync({data:rt.data,path:rt.path,parent:st}),ctx:st}})).then(it);{let ot;const st=[];for(const lt of at){const ut={...rt,common:{...rt.common,issues:[]},parent:null},dt=lt._parseSync({data:rt.data,path:rt.path,parent:ut});if(dt.status==="valid")return dt;dt.status==="dirty"&&!ot&&(ot={result:dt,ctx:ut}),ut.common.issues.length&&st.push(ut.common.issues)}if(ot)return rt.common.issues.push(...ot.ctx.common.issues),ot.result;const ct=st.map(lt=>new ZodError(lt));return addIssueToContext(rt,{code:ZodIssueCode.invalid_union,unionErrors:ct}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(o,a)=>new ZodUnion({options:o,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(a)});const getDiscriminator=o=>o instanceof ZodLazy?getDiscriminator(o.schema):o instanceof ZodEffects?getDiscriminator(o.innerType()):o instanceof ZodLiteral?[o.value]:o instanceof ZodEnum?o.options:o instanceof ZodNativeEnum?Object.keys(o.enum):o instanceof ZodDefault?getDiscriminator(o._def.innerType):o instanceof ZodUndefined?[void 0]:o instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(a){const{ctx:rt}=this._processInputParams(a);if(rt.parsedType!==ZodParsedType.object)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:rt.parsedType}),INVALID;const at=this.discriminator,it=rt.data[at],ot=this.optionsMap.get(it);return ot?rt.common.async?ot._parseAsync({data:rt.data,path:rt.path,parent:rt}):ot._parseSync({data:rt.data,path:rt.path,parent:rt}):(addIssueToContext(rt,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[at]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,rt,at){const it=new Map;for(const ot of rt){const st=getDiscriminator(ot.shape[a]);if(!st)throw new Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(const ct of st){if(it.has(ct))throw new Error(`Discriminator property ${String(a)} has duplicate value ${String(ct)}`);it.set(ct,ot)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:a,options:rt,optionsMap:it,...processCreateParams(at)})}}function mergeValues(o,a){const rt=getParsedType(o),at=getParsedType(a);if(o===a)return{valid:!0,data:o};if(rt===ZodParsedType.object&&at===ZodParsedType.object){const it=util$2.objectKeys(a),ot=util$2.objectKeys(o).filter(ct=>it.indexOf(ct)!==-1),st={...o,...a};for(const ct of ot){const lt=mergeValues(o[ct],a[ct]);if(!lt.valid)return{valid:!1};st[ct]=lt.data}return{valid:!0,data:st}}else if(rt===ZodParsedType.array&&at===ZodParsedType.array){if(o.length!==a.length)return{valid:!1};const it=[];for(let ot=0;ot<o.length;ot++){const st=o[ot],ct=a[ot],lt=mergeValues(st,ct);if(!lt.valid)return{valid:!1};it.push(lt.data)}return{valid:!0,data:it}}else return rt===ZodParsedType.date&&at===ZodParsedType.date&&+o==+a?{valid:!0,data:o}:{valid:!1}}class ZodIntersection extends ZodType{_parse(a){const{status:rt,ctx:at}=this._processInputParams(a),it=(ot,st)=>{if(isAborted(ot)||isAborted(st))return INVALID;const ct=mergeValues(ot.value,st.value);return ct.valid?((isDirty(ot)||isDirty(st))&&rt.dirty(),{status:rt.value,value:ct.data}):(addIssueToContext(at,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return at.common.async?Promise.all([this._def.left._parseAsync({data:at.data,path:at.path,parent:at}),this._def.right._parseAsync({data:at.data,path:at.path,parent:at})]).then(([ot,st])=>it(ot,st)):it(this._def.left._parseSync({data:at.data,path:at.path,parent:at}),this._def.right._parseSync({data:at.data,path:at.path,parent:at}))}}ZodIntersection.create=(o,a,rt)=>new ZodIntersection({left:o,right:a,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(rt)});class ZodTuple extends ZodType{_parse(a){const{status:rt,ctx:at}=this._processInputParams(a);if(at.parsedType!==ZodParsedType.array)return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:at.parsedType}),INVALID;if(at.data.length<this._def.items.length)return addIssueToContext(at,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&at.data.length>this._def.items.length&&(addIssueToContext(at,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt.dirty());const ot=[...at.data].map((st,ct)=>{const lt=this._def.items[ct]||this._def.rest;return lt?lt._parse(new ParseInputLazyPath(at,st,at.path,ct)):null}).filter(st=>!!st);return at.common.async?Promise.all(ot).then(st=>ParseStatus.mergeArray(rt,st)):ParseStatus.mergeArray(rt,ot)}get items(){return this._def.items}rest(a){return new ZodTuple({...this._def,rest:a})}}ZodTuple.create=(o,a)=>{if(!Array.isArray(o))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:o,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(a)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:rt,ctx:at}=this._processInputParams(a);if(at.parsedType!==ZodParsedType.object)return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:at.parsedType}),INVALID;const it=[],ot=this._def.keyType,st=this._def.valueType;for(const ct in at.data)it.push({key:ot._parse(new ParseInputLazyPath(at,ct,at.path,ct)),value:st._parse(new ParseInputLazyPath(at,at.data[ct],at.path,ct))});return at.common.async?ParseStatus.mergeObjectAsync(rt,it):ParseStatus.mergeObjectSync(rt,it)}get element(){return this._def.valueType}static create(a,rt,at){return rt instanceof ZodType?new ZodRecord({keyType:a,valueType:rt,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(at)}):new ZodRecord({keyType:ZodString.create(),valueType:a,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(rt)})}}class ZodMap extends ZodType{_parse(a){const{status:rt,ctx:at}=this._processInputParams(a);if(at.parsedType!==ZodParsedType.map)return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:at.parsedType}),INVALID;const it=this._def.keyType,ot=this._def.valueType,st=[...at.data.entries()].map(([ct,lt],ut)=>({key:it._parse(new ParseInputLazyPath(at,ct,at.path,[ut,"key"])),value:ot._parse(new ParseInputLazyPath(at,lt,at.path,[ut,"value"]))}));if(at.common.async){const ct=new Map;return Promise.resolve().then(async()=>{for(const lt of st){const ut=await lt.key,dt=await lt.value;if(ut.status==="aborted"||dt.status==="aborted")return INVALID;(ut.status==="dirty"||dt.status==="dirty")&&rt.dirty(),ct.set(ut.value,dt.value)}return{status:rt.value,value:ct}})}else{const ct=new Map;for(const lt of st){const ut=lt.key,dt=lt.value;if(ut.status==="aborted"||dt.status==="aborted")return INVALID;(ut.status==="dirty"||dt.status==="dirty")&&rt.dirty(),ct.set(ut.value,dt.value)}return{status:rt.value,value:ct}}}}ZodMap.create=(o,a,rt)=>new ZodMap({valueType:a,keyType:o,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(rt)});class ZodSet extends ZodType{_parse(a){const{status:rt,ctx:at}=this._processInputParams(a);if(at.parsedType!==ZodParsedType.set)return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:at.parsedType}),INVALID;const it=this._def;it.minSize!==null&&at.data.size<it.minSize.value&&(addIssueToContext(at,{code:ZodIssueCode.too_small,minimum:it.minSize.value,type:"set",inclusive:!0,exact:!1,message:it.minSize.message}),rt.dirty()),it.maxSize!==null&&at.data.size>it.maxSize.value&&(addIssueToContext(at,{code:ZodIssueCode.too_big,maximum:it.maxSize.value,type:"set",inclusive:!0,exact:!1,message:it.maxSize.message}),rt.dirty());const ot=this._def.valueType;function st(lt){const ut=new Set;for(const dt of lt){if(dt.status==="aborted")return INVALID;dt.status==="dirty"&&rt.dirty(),ut.add(dt.value)}return{status:rt.value,value:ut}}const ct=[...at.data.values()].map((lt,ut)=>ot._parse(new ParseInputLazyPath(at,lt,at.path,ut)));return at.common.async?Promise.all(ct).then(lt=>st(lt)):st(ct)}min(a,rt){return new ZodSet({...this._def,minSize:{value:a,message:errorUtil.toString(rt)}})}max(a,rt){return new ZodSet({...this._def,maxSize:{value:a,message:errorUtil.toString(rt)}})}size(a,rt){return this.min(a,rt).max(a,rt)}nonempty(a){return this.min(1,a)}}ZodSet.create=(o,a)=>new ZodSet({valueType:o,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(a)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(a){const{ctx:rt}=this._processInputParams(a);if(rt.parsedType!==ZodParsedType.function)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:rt.parsedType}),INVALID;function at(ct,lt){return makeIssue({data:ct,path:rt.path,errorMaps:[rt.common.contextualErrorMap,rt.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:lt}})}function it(ct,lt){return makeIssue({data:ct,path:rt.path,errorMaps:[rt.common.contextualErrorMap,rt.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:lt}})}const ot={errorMap:rt.common.contextualErrorMap},st=rt.data;return this._def.returns instanceof ZodPromise?OK(async(...ct)=>{const lt=new ZodError([]),ut=await this._def.args.parseAsync(ct,ot).catch(pt=>{throw lt.addIssue(at(ct,pt)),lt}),dt=await st(...ut);return await this._def.returns._def.type.parseAsync(dt,ot).catch(pt=>{throw lt.addIssue(it(dt,pt)),lt})}):OK((...ct)=>{const lt=this._def.args.safeParse(ct,ot);if(!lt.success)throw new ZodError([at(ct,lt.error)]);const ut=st(...lt.data),dt=this._def.returns.safeParse(ut,ot);if(!dt.success)throw new ZodError([it(ut,dt.error)]);return dt.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new ZodFunction({...this._def,args:ZodTuple.create(a).rest(ZodUnknown.create())})}returns(a){return new ZodFunction({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,rt,at){return new ZodFunction({args:a||ZodTuple.create([]).rest(ZodUnknown.create()),returns:rt||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(at)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(a){const{ctx:rt}=this._processInputParams(a);return this._def.getter()._parse({data:rt.data,path:rt.path,parent:rt})}}ZodLazy.create=(o,a)=>new ZodLazy({getter:o,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(a)});class ZodLiteral extends ZodType{_parse(a){if(a.data!==this._def.value){const rt=this._getOrReturnCtx(a);return addIssueToContext(rt,{received:rt.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:a.data}}get value(){return this._def.value}}ZodLiteral.create=(o,a)=>new ZodLiteral({value:o,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(a)});function createZodEnum(o,a){return new ZodEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(a)})}class ZodEnum extends ZodType{_parse(a){if(typeof a.data!="string"){const rt=this._getOrReturnCtx(a),at=this._def.values;return addIssueToContext(rt,{expected:util$2.joinValues(at),received:rt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(a.data)===-1){const rt=this._getOrReturnCtx(a),at=this._def.values;return addIssueToContext(rt,{received:rt.data,code:ZodIssueCode.invalid_enum_value,options:at}),INVALID}return OK(a.data)}get options(){return this._def.values}get enum(){const a={};for(const rt of this._def.values)a[rt]=rt;return a}get Values(){const a={};for(const rt of this._def.values)a[rt]=rt;return a}get Enum(){const a={};for(const rt of this._def.values)a[rt]=rt;return a}extract(a){return ZodEnum.create(a)}exclude(a){return ZodEnum.create(this.options.filter(rt=>!a.includes(rt)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(a){const rt=util$2.getValidEnumValues(this._def.values),at=this._getOrReturnCtx(a);if(at.parsedType!==ZodParsedType.string&&at.parsedType!==ZodParsedType.number){const it=util$2.objectValues(rt);return addIssueToContext(at,{expected:util$2.joinValues(it),received:at.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(rt.indexOf(a.data)===-1){const it=util$2.objectValues(rt);return addIssueToContext(at,{received:at.data,code:ZodIssueCode.invalid_enum_value,options:it}),INVALID}return OK(a.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(o,a)=>new ZodNativeEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(a)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(a){const{ctx:rt}=this._processInputParams(a);if(rt.parsedType!==ZodParsedType.promise&&rt.common.async===!1)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:rt.parsedType}),INVALID;const at=rt.parsedType===ZodParsedType.promise?rt.data:Promise.resolve(rt.data);return OK(at.then(it=>this._def.type.parseAsync(it,{path:rt.path,errorMap:rt.common.contextualErrorMap})))}}ZodPromise.create=(o,a)=>new ZodPromise({type:o,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(a)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){const{status:rt,ctx:at}=this._processInputParams(a),it=this._def.effect||null;if(it.type==="preprocess"){const st=it.transform(at.data);return at.common.async?Promise.resolve(st).then(ct=>this._def.schema._parseAsync({data:ct,path:at.path,parent:at})):this._def.schema._parseSync({data:st,path:at.path,parent:at})}const ot={addIssue:st=>{addIssueToContext(at,st),st.fatal?rt.abort():rt.dirty()},get path(){return at.path}};if(ot.addIssue=ot.addIssue.bind(ot),it.type==="refinement"){const st=ct=>{const lt=it.refinement(ct,ot);if(at.common.async)return Promise.resolve(lt);if(lt instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ct};if(at.common.async===!1){const ct=this._def.schema._parseSync({data:at.data,path:at.path,parent:at});return ct.status==="aborted"?INVALID:(ct.status==="dirty"&&rt.dirty(),st(ct.value),{status:rt.value,value:ct.value})}else return this._def.schema._parseAsync({data:at.data,path:at.path,parent:at}).then(ct=>ct.status==="aborted"?INVALID:(ct.status==="dirty"&&rt.dirty(),st(ct.value).then(()=>({status:rt.value,value:ct.value}))))}if(it.type==="transform")if(at.common.async===!1){const st=this._def.schema._parseSync({data:at.data,path:at.path,parent:at});if(!isValid(st))return st;const ct=it.transform(st.value,ot);if(ct instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:rt.value,value:ct}}else return this._def.schema._parseAsync({data:at.data,path:at.path,parent:at}).then(st=>isValid(st)?Promise.resolve(it.transform(st.value,ot)).then(ct=>({status:rt.value,value:ct})):st);util$2.assertNever(it)}}ZodEffects.create=(o,a,rt)=>new ZodEffects({schema:o,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:a,...processCreateParams(rt)});ZodEffects.createWithPreprocess=(o,a,rt)=>new ZodEffects({schema:a,effect:{type:"preprocess",transform:o},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(rt)});class ZodOptional extends ZodType{_parse(a){return this._getType(a)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ZodOptional.create=(o,a)=>new ZodOptional({innerType:o,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(a)});class ZodNullable extends ZodType{_parse(a){return this._getType(a)===ZodParsedType.null?OK(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ZodNullable.create=(o,a)=>new ZodNullable({innerType:o,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(a)});class ZodDefault extends ZodType{_parse(a){const{ctx:rt}=this._processInputParams(a);let at=rt.data;return rt.parsedType===ZodParsedType.undefined&&(at=this._def.defaultValue()),this._def.innerType._parse({data:at,path:rt.path,parent:rt})}removeDefault(){return this._def.innerType}}ZodDefault.create=(o,a)=>new ZodDefault({innerType:o,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof a.default=="function"?a.default:()=>a.default,...processCreateParams(a)});class ZodCatch extends ZodType{_parse(a){const{ctx:rt}=this._processInputParams(a),at={...rt,common:{...rt.common,issues:[]}},it=this._def.innerType._parse({data:at.data,path:at.path,parent:{...at}});return isAsync(it)?it.then(ot=>({status:"valid",value:ot.status==="valid"?ot.value:this._def.catchValue({get error(){return new ZodError(at.common.issues)},input:at.data})})):{status:"valid",value:it.status==="valid"?it.value:this._def.catchValue({get error(){return new ZodError(at.common.issues)},input:at.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(o,a)=>new ZodCatch({innerType:o,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof a.catch=="function"?a.catch:()=>a.catch,...processCreateParams(a)});class ZodNaN extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.nan){const at=this._getOrReturnCtx(a);return addIssueToContext(at,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:at.parsedType}),INVALID}return{status:"valid",value:a.data}}}ZodNaN.create=o=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(o)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(a){const{ctx:rt}=this._processInputParams(a),at=rt.data;return this._def.type._parse({data:at,path:rt.path,parent:rt})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(a){const{status:rt,ctx:at}=this._processInputParams(a);if(at.common.async)return(async()=>{const ot=await this._def.in._parseAsync({data:at.data,path:at.path,parent:at});return ot.status==="aborted"?INVALID:ot.status==="dirty"?(rt.dirty(),DIRTY(ot.value)):this._def.out._parseAsync({data:ot.value,path:at.path,parent:at})})();{const it=this._def.in._parseSync({data:at.data,path:at.path,parent:at});return it.status==="aborted"?INVALID:it.status==="dirty"?(rt.dirty(),{status:"dirty",value:it.value}):this._def.out._parseSync({data:it.value,path:at.path,parent:at})}}static create(a,rt){return new ZodPipeline({in:a,out:rt,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}const custom=(o,a={},rt)=>o?ZodAny.create().superRefine((at,it)=>{var ot,st;if(!o(at)){const ct=typeof a=="function"?a(at):typeof a=="string"?{message:a}:a,lt=(st=(ot=ct.fatal)!==null&&ot!==void 0?ot:rt)!==null&&st!==void 0?st:!0,ut=typeof ct=="string"?{message:ct}:ct;it.addIssue({code:"custom",...ut,fatal:lt})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(o){o.ZodString="ZodString",o.ZodNumber="ZodNumber",o.ZodNaN="ZodNaN",o.ZodBigInt="ZodBigInt",o.ZodBoolean="ZodBoolean",o.ZodDate="ZodDate",o.ZodSymbol="ZodSymbol",o.ZodUndefined="ZodUndefined",o.ZodNull="ZodNull",o.ZodAny="ZodAny",o.ZodUnknown="ZodUnknown",o.ZodNever="ZodNever",o.ZodVoid="ZodVoid",o.ZodArray="ZodArray",o.ZodObject="ZodObject",o.ZodUnion="ZodUnion",o.ZodDiscriminatedUnion="ZodDiscriminatedUnion",o.ZodIntersection="ZodIntersection",o.ZodTuple="ZodTuple",o.ZodRecord="ZodRecord",o.ZodMap="ZodMap",o.ZodSet="ZodSet",o.ZodFunction="ZodFunction",o.ZodLazy="ZodLazy",o.ZodLiteral="ZodLiteral",o.ZodEnum="ZodEnum",o.ZodEffects="ZodEffects",o.ZodNativeEnum="ZodNativeEnum",o.ZodOptional="ZodOptional",o.ZodNullable="ZodNullable",o.ZodDefault="ZodDefault",o.ZodCatch="ZodCatch",o.ZodPromise="ZodPromise",o.ZodBranded="ZodBranded",o.ZodPipeline="ZodPipeline"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(o,a={message:`Input not instance of ${o.name}`})=>custom(rt=>rt instanceof o,a),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:o=>ZodString.create({...o,coerce:!0}),number:o=>ZodNumber.create({...o,coerce:!0}),boolean:o=>ZodBoolean.create({...o,coerce:!0}),bigint:o=>ZodBigInt.create({...o,coerce:!0}),date:o=>ZodDate.create({...o,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$2},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const DEFAULT_API_KEY$2="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1",FileOrBufferUnionSchema=z$2.instanceof(File),FileOrBufferSchema=z$2.union([FileOrBufferUnionSchema,z$2.object({data:z$2.union([FileOrBufferUnionSchema,z$2.string()]),name:z$2.string()})]),FileOrBufferOrStringSchema=z$2.union([FileOrBufferSchema,z$2.string()]),MAX_BPS=1e4,BytesLikeSchema=z$2.union([z$2.array(z$2.number()),z$2.string()]),BigNumberSchema$1=z$2.union([z$2.string(),z$2.number(),z$2.bigint(),z$2.custom(o=>BigNumber.isBigNumber(o)),z$2.custom(o=>BN$1.isBN(o))]).transform(o=>{let a=BN$1.isBN(o)?new BN$1(o).toString():BigNumber.from(o).toString();return BigNumber.from(a)});BigNumberSchema$1.transform(o=>o.toString());const BigNumberTransformSchema$1=z$2.union([z$2.bigint(),z$2.custom(o=>BigNumber.isBigNumber(o)),z$2.custom(o=>BN$1.isBN(o))]).transform(o=>BN$1.isBN(o)?new BN$1(o).toString():BigNumber.from(o).toString()),BasisPointsSchema=z$2.number().max(MAX_BPS,"Cannot exceed 100%").min(0,"Cannot be below 0%"),PercentSchema=z$2.number().max(100,"Cannot exceed 100%").min(0,"Cannot be below 0%"),HexColor=z$2.union([z$2.string().regex(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color"),z$2.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color").transform(o=>o.replace("#","")),z$2.string().length(0)]),AmountSchema=z$2.union([z$2.string().regex(/^([0-9]+\.?[0-9]*|\.[0-9]+)$/,"Invalid amount"),z$2.number().min(0,"Amount cannot be negative")]).transform(o=>typeof o=="number"?o.toString():o),QuantitySchema=z$2.union([AmountSchema,z$2.literal("unlimited")]).default("unlimited"),RawDateSchema$1=z$2.date().transform(o=>BigNumber.from(Math.floor(o.getTime()/1e3)));RawDateSchema$1.default(new Date(0));RawDateSchema$1.default(new Date(Date.now()+1e3*60*60*24*365*10));function _toPrimitive(o,a){if(typeof o!="object"||o===null)return o;var rt=o[Symbol.toPrimitive];if(rt!==void 0){var at=rt.call(o,a||"default");if(typeof at!="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function _toPropertyKey(o){var a=_toPrimitive(o,"string");return typeof a=="symbol"?a:String(a)}function _defineProperty(o,a,rt){return a=_toPropertyKey(a),a in o?Object.defineProperty(o,a,{value:rt,enumerable:!0,configurable:!0,writable:!0}):o[a]=rt,o}const PropertiesInput$1=z$2.object({}).catchall(z$2.union([BigNumberTransformSchema$1,z$2.unknown()])),OptionalPropertiesInput=z$2.union([z$2.array(PropertiesInput$1),PropertiesInput$1]).optional().nullable(),CommonNFTInput=z$2.object({name:z$2.union([z$2.string(),z$2.number()]).optional().nullable(),description:z$2.string().nullable().optional().nullable(),image:FileOrBufferOrStringSchema.nullable().optional(),external_url:FileOrBufferOrStringSchema.nullable().optional(),animation_url:FileOrBufferOrStringSchema.optional().nullable(),background_color:HexColor.optional().nullable(),properties:OptionalPropertiesInput,attributes:OptionalPropertiesInput}).catchall(z$2.union([BigNumberTransformSchema$1,z$2.unknown()])),NFTInputOrUriSchema=z$2.union([CommonNFTInput,z$2.string()]),CommonNFTOutput=CommonNFTInput.extend({id:z$2.string(),uri:z$2.string(),image:z$2.string().nullable().optional(),external_url:z$2.string().nullable().optional(),animation_url:z$2.string().nullable().optional()}),DEFAULT_QUERY_ALL_COUNT=100;z$2.object({start:z$2.number().default(0),count:z$2.number().default(DEFAULT_QUERY_ALL_COUNT)}).default({start:0,count:DEFAULT_QUERY_ALL_COUNT});const IBurnableERC20Abi=[{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],IDrop=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC20_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhaseV1=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],ERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"who",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IERC20PermitAbi=[{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"}],IMintableERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],MulticallAbi=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC20.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IBurnableERC721Abi=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC721=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],DelayedRevealAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],DropERC721_V3Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"NFTRevealed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc721EnumerableAbi=[{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Erc721SupplyAbi=[{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ILazyMintAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IMintableERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"mintTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],SignatureMintERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC721.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],SignatureMintERC721_V1Abi=[{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"uint256",name:"tokenIdMinted",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],TieredDropAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"tier",type:"string"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[],name:"getBaseURICount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getBatchIdAtIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMetadataForAllTiers",outputs:[{components:[{internalType:"string",name:"tier",type:"string"},{components:[{internalType:"uint256",name:"startIdInclusive",type:"uint256"},{internalType:"uint256",name:"endIdNonInclusive",type:"uint256"}],internalType:"struct LazyMintWithTier.TokenRange[]",name:"ranges",type:"tuple[]"},{internalType:"string[]",name:"baseURIs",type:"string[]"}],internalType:"struct LazyMintWithTier.TierMetadata[]",name:"metadataForAllTiers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"string",name:"_baseURIForTokens",type:"string"},{internalType:"string",name:"_tier",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IBurnableERC1155Abi=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],IDropMultiPhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC1155_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"saleRecipient",type:"address"}],name:"SaleRecipientForTokenUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IDropSinglePhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase1155_V1=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase1155_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"bool",name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"_ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"_value",type:"string"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155EnumerableAbi=[{inputs:[],name:"nextTokenIdToMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],IMintableERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC1155.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IERC2771ContextAbi=[{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IAppURI=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"AppURIUpdated",type:"event"},{inputs:[],name:"appURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setAppURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IContractMetadataAbi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IDirectListingsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"BuyerApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"}],name:"CancelledListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"uint256",name:"pricePerToken",type:"uint256"}],name:"CurrencyApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"NewListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"NewSale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"UpdatedListing",type:"event"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyer",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveBuyerForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_pricePerTokenInCurrency",type:"uint256"}],name:"approveCurrencyForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyFor",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_expectedTotalPrice",type:"uint256"}],name:"buyFromListing",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"cancelListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"createListing",outputs:[{internalType:"uint256",name:"listingId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"getListing",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalListings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"}],IEnglishAuctionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!0,internalType:"address",name:"closer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!1,internalType:"address",name:"winningBidder",type:"address"}],name:"AuctionClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"}],name:"CancelledAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"bidder",type:"address"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"bidAmount",type:"uint256"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewBid",type:"event"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"bidInAuction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"cancelAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionPayout",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"}],internalType:"struct IEnglishAuctions.AuctionParameters",name:"_params",type:"tuple"}],name:"createAuction",outputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getAuction",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getWinningBid",outputs:[{internalType:"address",name:"bidder",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"bidAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"isAuctionExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"isNewWinningBid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOffersAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"AcceptedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"}],name:"CancelledOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],name:"NewOffer",type:"event"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"acceptOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"cancelOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"getOffer",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"}],internalType:"struct IOffers.OfferParams",name:"_params",type:"tuple"}],name:"makeOffer",outputs:[{internalType:"uint256",name:"offerId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPackVRFAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"totalPacksCreated",type:"uint256"}],name:"PackCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountToOpen",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackOpenRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!1,internalType:"uint256",name:"numOfPacksOpened",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],indexed:!1,internalType:"struct ITokenBundle.Token[]",name:"rewardUnitsDistributed",type:"tuple[]"}],name:"PackOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackRandomnessFulfilled",type:"event"},{inputs:[{internalType:"address",name:"_opener",type:"address"}],name:"canClaimRewards",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRewards",outputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"rewardUnits",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"contents",type:"tuple[]"},{internalType:"uint256[]",name:"numOfRewardUnits",type:"uint256[]"},{internalType:"string",name:"packUri",type:"string"},{internalType:"uint128",name:"openStartTimestamp",type:"uint128"},{internalType:"uint128",name:"amountDistributedPerOpen",type:"uint128"},{internalType:"address",name:"recipient",type:"address"}],name:"createPack",outputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"packTotalSupply",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"amountToOpen",type:"uint256"}],name:"openPack",outputs:[{internalType:"uint256",name:"requestId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_packId",type:"uint256"},{internalType:"uint256",name:"_amountToOpen",type:"uint256"},{internalType:"uint32",name:"_callBackGasLimit",type:"uint32"}],name:"openPackAndClaimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPermissionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IPermissionsEnumerableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPlatformFeeAbi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"platformFeeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"flatFee",type:"uint256"}],name:"FlatPlatformFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"platformFeeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"platformFeeBps",type:"uint256"}],name:"PlatformFeeInfoUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"enum IPlatformFee.PlatformFeeType",name:"feeType",type:"uint8"}],name:"PlatformFeeTypeUpdated",type:"event"},{inputs:[],name:"getPlatformFeeInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_platformFeeRecipient",type:"address"},{internalType:"uint256",name:"_platformFeeBps",type:"uint256"}],name:"setPlatformFeeInfo",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPrimarySaleAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"}],name:"PrimarySaleRecipientUpdated",type:"event"},{inputs:[],name:"primarySaleRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_saleRecipient",type:"address"}],name:"setPrimarySaleRecipient",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebRoyaltyAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRoyaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"newRoyaltyBps",type:"uint256"}],name:"DefaultRoyalty",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"royaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"royaltyBps",type:"uint256"}],name:"RoyaltyForToken",type:"event"},{inputs:[],name:"getDefaultRoyaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRoyaltyInfoForToken",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_royaltyRecipient",type:"address"},{internalType:"uint256",name:"_royaltyBps",type:"uint256"}],name:"setDefaultRoyaltyInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"bps",type:"uint256"}],name:"setRoyaltyInfoForToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOwnableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"prevOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerUpdated",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"}],IAccountFactory=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"accountAdmin",type:"address"}],name:"AccountCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"signer",type:"address"}],name:"SignerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"signer",type:"address"}],name:"SignerRemoved",type:"event"},{inputs:[],name:"accountImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"admin",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"createAccount",outputs:[{internalType:"address",name:"account",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"signer",type:"address"}],name:"getAccountsOfSigner",outputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"adminSigner",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getSignersOfAccount",outputs:[{internalType:"address[]",name:"signers",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"signer",type:"address"}],name:"onSignerAdded",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"signer",type:"address"}],name:"onSignerRemoved",outputs:[],stateMutability:"nonpayable",type:"function"}],IAccount=[{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];var isProduction=!0,prefix$2="Invariant failed";function invariant(o,a){if(!o){if(isProduction)throw new Error(prefix$2);var rt=typeof a=="function"?a():a,at=rt?"".concat(prefix$2,": ").concat(rt):prefix$2;throw new Error(at)}}const ForwarderABI=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"execute",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IThirdwebContractABI=[{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}];var utils={};const require$$0$2=getAugmentedNamespace(lib_esm$b),require$$1$1=getAugmentedNamespace(lib_esm$f),require$$2=getAugmentedNamespace(lib_esm$d),require$$3=getAugmentedNamespace(lib_esm$8),require$$0$1=getAugmentedNamespace(lib_esm$j),require$$5=getAugmentedNamespace(lib_esm$c),require$$6=getAugmentedNamespace(lib_esm$6),require$$7=getAugmentedNamespace(lib_esm$4),require$$8=getAugmentedNamespace(lib_esm$h),require$$9=getAugmentedNamespace(lib_esm$k),require$$10=getAugmentedNamespace(lib_esm$7),require$$1=getAugmentedNamespace(lib_esm$1),require$$12=getAugmentedNamespace(lib_esm$5),require$$0=getAugmentedNamespace(lib_esm$i),require$$14=getAugmentedNamespace(lib_esm$g),require$$15=getAugmentedNamespace(lib_esm$a),require$$16=getAugmentedNamespace(lib_esm$e),require$$17=getAugmentedNamespace(lib_esm$9),require$$18=getAugmentedNamespace(lib_esm),require$$19=getAugmentedNamespace(lib_esm$3),require$$20=getAugmentedNamespace(lib_esm$2);(function(o){var a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ft,Kt,Mt,xt){xt===void 0&&(xt=Mt),Object.defineProperty(Ft,xt,{enumerable:!0,get:function(){return Kt[Mt]}})}:function(Ft,Kt,Mt,xt){xt===void 0&&(xt=Mt),Ft[xt]=Kt[Mt]}),rt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ft,Kt){Object.defineProperty(Ft,"default",{enumerable:!0,value:Kt})}:function(Ft,Kt){Ft.default=Kt}),at=commonjsGlobal&&commonjsGlobal.__importStar||function(Ft){if(Ft&&Ft.__esModule)return Ft;var Kt={};if(Ft!=null)for(var Mt in Ft)Mt!=="default"&&Object.prototype.hasOwnProperty.call(Ft,Mt)&&a(Kt,Ft,Mt);return rt(Kt,Ft),Kt};Object.defineProperty(o,"__esModule",{value:!0}),o.formatBytes32String=o.Utf8ErrorFuncs=o.toUtf8String=o.toUtf8CodePoints=o.toUtf8Bytes=o._toEscapedUtf8String=o.nameprep=o.hexDataSlice=o.hexDataLength=o.hexZeroPad=o.hexValue=o.hexStripZeros=o.hexConcat=o.isHexString=o.hexlify=o.base64=o.base58=o.TransactionDescription=o.LogDescription=o.Interface=o.SigningKey=o.HDNode=o.defaultPath=o.isBytesLike=o.isBytes=o.zeroPad=o.stripZeros=o.concat=o.arrayify=o.shallowCopy=o.resolveProperties=o.getStatic=o.defineReadOnly=o.deepCopy=o.checkProperties=o.poll=o.fetchJson=o._fetchData=o.RLP=o.Logger=o.checkResultErrors=o.FormatTypes=o.ParamType=o.FunctionFragment=o.EventFragment=o.ErrorFragment=o.ConstructorFragment=o.Fragment=o.defaultAbiCoder=o.AbiCoder=void 0,o.Indexed=o.Utf8ErrorReason=o.UnicodeNormalizationForm=o.SupportedAlgorithm=o.mnemonicToSeed=o.isValidMnemonic=o.entropyToMnemonic=o.mnemonicToEntropy=o.getAccountPath=o.verifyTypedData=o.verifyMessage=o.recoverPublicKey=o.computePublicKey=o.recoverAddress=o.computeAddress=o.getJsonWalletAddress=o.TransactionTypes=o.serializeTransaction=o.parseTransaction=o.accessListify=o.joinSignature=o.splitSignature=o.soliditySha256=o.solidityKeccak256=o.solidityPack=o.shuffled=o.randomBytes=o.sha512=o.sha256=o.ripemd160=o.keccak256=o.computeHmac=o.commify=o.parseUnits=o.formatUnits=o.parseEther=o.formatEther=o.isAddress=o.getCreate2Address=o.getContractAddress=o.getIcapAddress=o.getAddress=o._TypedDataEncoder=o.id=o.isValidName=o.namehash=o.hashMessage=o.dnsEncode=o.parseBytes32String=void 0;var it=require$$0$2;Object.defineProperty(o,"AbiCoder",{enumerable:!0,get:function(){return it.AbiCoder}}),Object.defineProperty(o,"checkResultErrors",{enumerable:!0,get:function(){return it.checkResultErrors}}),Object.defineProperty(o,"ConstructorFragment",{enumerable:!0,get:function(){return it.ConstructorFragment}}),Object.defineProperty(o,"defaultAbiCoder",{enumerable:!0,get:function(){return it.defaultAbiCoder}}),Object.defineProperty(o,"ErrorFragment",{enumerable:!0,get:function(){return it.ErrorFragment}}),Object.defineProperty(o,"EventFragment",{enumerable:!0,get:function(){return it.EventFragment}}),Object.defineProperty(o,"FormatTypes",{enumerable:!0,get:function(){return it.FormatTypes}}),Object.defineProperty(o,"Fragment",{enumerable:!0,get:function(){return it.Fragment}}),Object.defineProperty(o,"FunctionFragment",{enumerable:!0,get:function(){return it.FunctionFragment}}),Object.defineProperty(o,"Indexed",{enumerable:!0,get:function(){return it.Indexed}}),Object.defineProperty(o,"Interface",{enumerable:!0,get:function(){return it.Interface}}),Object.defineProperty(o,"LogDescription",{enumerable:!0,get:function(){return it.LogDescription}}),Object.defineProperty(o,"ParamType",{enumerable:!0,get:function(){return it.ParamType}}),Object.defineProperty(o,"TransactionDescription",{enumerable:!0,get:function(){return it.TransactionDescription}});var ot=require$$1$1;Object.defineProperty(o,"getAddress",{enumerable:!0,get:function(){return ot.getAddress}}),Object.defineProperty(o,"getCreate2Address",{enumerable:!0,get:function(){return ot.getCreate2Address}}),Object.defineProperty(o,"getContractAddress",{enumerable:!0,get:function(){return ot.getContractAddress}}),Object.defineProperty(o,"getIcapAddress",{enumerable:!0,get:function(){return ot.getIcapAddress}}),Object.defineProperty(o,"isAddress",{enumerable:!0,get:function(){return ot.isAddress}});var st=at(require$$2);o.base64=st;var ct=require$$3;Object.defineProperty(o,"base58",{enumerable:!0,get:function(){return ct.Base58}});var lt=require$$0$1;Object.defineProperty(o,"arrayify",{enumerable:!0,get:function(){return lt.arrayify}}),Object.defineProperty(o,"concat",{enumerable:!0,get:function(){return lt.concat}}),Object.defineProperty(o,"hexConcat",{enumerable:!0,get:function(){return lt.hexConcat}}),Object.defineProperty(o,"hexDataSlice",{enumerable:!0,get:function(){return lt.hexDataSlice}}),Object.defineProperty(o,"hexDataLength",{enumerable:!0,get:function(){return lt.hexDataLength}}),Object.defineProperty(o,"hexlify",{enumerable:!0,get:function(){return lt.hexlify}}),Object.defineProperty(o,"hexStripZeros",{enumerable:!0,get:function(){return lt.hexStripZeros}}),Object.defineProperty(o,"hexValue",{enumerable:!0,get:function(){return lt.hexValue}}),Object.defineProperty(o,"hexZeroPad",{enumerable:!0,get:function(){return lt.hexZeroPad}}),Object.defineProperty(o,"isBytes",{enumerable:!0,get:function(){return lt.isBytes}}),Object.defineProperty(o,"isBytesLike",{enumerable:!0,get:function(){return lt.isBytesLike}}),Object.defineProperty(o,"isHexString",{enumerable:!0,get:function(){return lt.isHexString}}),Object.defineProperty(o,"joinSignature",{enumerable:!0,get:function(){return lt.joinSignature}}),Object.defineProperty(o,"zeroPad",{enumerable:!0,get:function(){return lt.zeroPad}}),Object.defineProperty(o,"splitSignature",{enumerable:!0,get:function(){return lt.splitSignature}}),Object.defineProperty(o,"stripZeros",{enumerable:!0,get:function(){return lt.stripZeros}});var ut=require$$5;Object.defineProperty(o,"_TypedDataEncoder",{enumerable:!0,get:function(){return ut._TypedDataEncoder}}),Object.defineProperty(o,"dnsEncode",{enumerable:!0,get:function(){return ut.dnsEncode}}),Object.defineProperty(o,"hashMessage",{enumerable:!0,get:function(){return ut.hashMessage}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return ut.id}}),Object.defineProperty(o,"isValidName",{enumerable:!0,get:function(){return ut.isValidName}}),Object.defineProperty(o,"namehash",{enumerable:!0,get:function(){return ut.namehash}});var dt=require$$6;Object.defineProperty(o,"defaultPath",{enumerable:!0,get:function(){return dt.defaultPath}}),Object.defineProperty(o,"entropyToMnemonic",{enumerable:!0,get:function(){return dt.entropyToMnemonic}}),Object.defineProperty(o,"getAccountPath",{enumerable:!0,get:function(){return dt.getAccountPath}}),Object.defineProperty(o,"HDNode",{enumerable:!0,get:function(){return dt.HDNode}}),Object.defineProperty(o,"isValidMnemonic",{enumerable:!0,get:function(){return dt.isValidMnemonic}}),Object.defineProperty(o,"mnemonicToEntropy",{enumerable:!0,get:function(){return dt.mnemonicToEntropy}}),Object.defineProperty(o,"mnemonicToSeed",{enumerable:!0,get:function(){return dt.mnemonicToSeed}});var ft=require$$7;Object.defineProperty(o,"getJsonWalletAddress",{enumerable:!0,get:function(){return ft.getJsonWalletAddress}});var pt=require$$8;Object.defineProperty(o,"keccak256",{enumerable:!0,get:function(){return pt.keccak256}});var ht=require$$9;Object.defineProperty(o,"Logger",{enumerable:!0,get:function(){return ht.Logger}});var yt=require$$10;Object.defineProperty(o,"computeHmac",{enumerable:!0,get:function(){return yt.computeHmac}}),Object.defineProperty(o,"ripemd160",{enumerable:!0,get:function(){return yt.ripemd160}}),Object.defineProperty(o,"sha256",{enumerable:!0,get:function(){return yt.sha256}}),Object.defineProperty(o,"sha512",{enumerable:!0,get:function(){return yt.sha512}});var mt=require$$1;Object.defineProperty(o,"solidityKeccak256",{enumerable:!0,get:function(){return mt.keccak256}}),Object.defineProperty(o,"solidityPack",{enumerable:!0,get:function(){return mt.pack}}),Object.defineProperty(o,"soliditySha256",{enumerable:!0,get:function(){return mt.sha256}});var gt=require$$12;Object.defineProperty(o,"randomBytes",{enumerable:!0,get:function(){return gt.randomBytes}}),Object.defineProperty(o,"shuffled",{enumerable:!0,get:function(){return gt.shuffled}});var bt=require$$0;Object.defineProperty(o,"checkProperties",{enumerable:!0,get:function(){return bt.checkProperties}}),Object.defineProperty(o,"deepCopy",{enumerable:!0,get:function(){return bt.deepCopy}}),Object.defineProperty(o,"defineReadOnly",{enumerable:!0,get:function(){return bt.defineReadOnly}}),Object.defineProperty(o,"getStatic",{enumerable:!0,get:function(){return bt.getStatic}}),Object.defineProperty(o,"resolveProperties",{enumerable:!0,get:function(){return bt.resolveProperties}}),Object.defineProperty(o,"shallowCopy",{enumerable:!0,get:function(){return bt.shallowCopy}});var vt=at(require$$14);o.RLP=vt;var wt=require$$15;Object.defineProperty(o,"computePublicKey",{enumerable:!0,get:function(){return wt.computePublicKey}}),Object.defineProperty(o,"recoverPublicKey",{enumerable:!0,get:function(){return wt.recoverPublicKey}}),Object.defineProperty(o,"SigningKey",{enumerable:!0,get:function(){return wt.SigningKey}});var Tt=require$$16;Object.defineProperty(o,"formatBytes32String",{enumerable:!0,get:function(){return Tt.formatBytes32String}}),Object.defineProperty(o,"nameprep",{enumerable:!0,get:function(){return Tt.nameprep}}),Object.defineProperty(o,"parseBytes32String",{enumerable:!0,get:function(){return Tt.parseBytes32String}}),Object.defineProperty(o,"_toEscapedUtf8String",{enumerable:!0,get:function(){return Tt._toEscapedUtf8String}}),Object.defineProperty(o,"toUtf8Bytes",{enumerable:!0,get:function(){return Tt.toUtf8Bytes}}),Object.defineProperty(o,"toUtf8CodePoints",{enumerable:!0,get:function(){return Tt.toUtf8CodePoints}}),Object.defineProperty(o,"toUtf8String",{enumerable:!0,get:function(){return Tt.toUtf8String}}),Object.defineProperty(o,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Tt.Utf8ErrorFuncs}});var _t=require$$17;Object.defineProperty(o,"accessListify",{enumerable:!0,get:function(){return _t.accessListify}}),Object.defineProperty(o,"computeAddress",{enumerable:!0,get:function(){return _t.computeAddress}}),Object.defineProperty(o,"parseTransaction",{enumerable:!0,get:function(){return _t.parse}}),Object.defineProperty(o,"recoverAddress",{enumerable:!0,get:function(){return _t.recoverAddress}}),Object.defineProperty(o,"serializeTransaction",{enumerable:!0,get:function(){return _t.serialize}}),Object.defineProperty(o,"TransactionTypes",{enumerable:!0,get:function(){return _t.TransactionTypes}});var St=require$$18;Object.defineProperty(o,"commify",{enumerable:!0,get:function(){return St.commify}}),Object.defineProperty(o,"formatEther",{enumerable:!0,get:function(){return St.formatEther}}),Object.defineProperty(o,"parseEther",{enumerable:!0,get:function(){return St.parseEther}}),Object.defineProperty(o,"formatUnits",{enumerable:!0,get:function(){return St.formatUnits}}),Object.defineProperty(o,"parseUnits",{enumerable:!0,get:function(){return St.parseUnits}});var Pt=require$$19;Object.defineProperty(o,"verifyMessage",{enumerable:!0,get:function(){return Pt.verifyMessage}}),Object.defineProperty(o,"verifyTypedData",{enumerable:!0,get:function(){return Pt.verifyTypedData}});var Nt=require$$20;Object.defineProperty(o,"_fetchData",{enumerable:!0,get:function(){return Nt._fetchData}}),Object.defineProperty(o,"fetchJson",{enumerable:!0,get:function(){return Nt.fetchJson}}),Object.defineProperty(o,"poll",{enumerable:!0,get:function(){return Nt.poll}});var jt=require$$10;Object.defineProperty(o,"SupportedAlgorithm",{enumerable:!0,get:function(){return jt.SupportedAlgorithm}});var Ut=require$$16;Object.defineProperty(o,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Ut.UnicodeNormalizationForm}}),Object.defineProperty(o,"Utf8ErrorReason",{enumerable:!0,get:function(){return Ut.Utf8ErrorReason}})})(utils);const ERC20MetadataAbi=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];var dist={},MerkleTree$1={},bufferReverse=function o(a){for(var rt=new buffer.Buffer(a.length),at=0,it=a.length-1;at<=it;++at,--it)rt[at]=a[it],rt[it]=a[at];return rt},sha256={exports:{}},core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(o,a){(function(rt,at){o.exports=at()})(commonjsGlobal,function(){var rt=rt||function(at,it){var ot=Object.create||function(){function gt(){}return function(bt){var vt;return gt.prototype=bt,vt=new gt,gt.prototype=null,vt}}(),st={},ct=st.lib={},lt=ct.Base=function(){return{extend:function(gt){var bt=ot(this);return gt&&bt.mixIn(gt),(!bt.hasOwnProperty("init")||this.init===bt.init)&&(bt.init=function(){bt.$super.init.apply(this,arguments)}),bt.init.prototype=bt,bt.$super=this,bt},create:function(){var gt=this.extend();return gt.init.apply(gt,arguments),gt},init:function(){},mixIn:function(gt){for(var bt in gt)gt.hasOwnProperty(bt)&&(this[bt]=gt[bt]);gt.hasOwnProperty("toString")&&(this.toString=gt.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ut=ct.WordArray=lt.extend({init:function(gt,bt){gt=this.words=gt||[],bt!=it?this.sigBytes=bt:this.sigBytes=gt.length*4},toString:function(gt){return(gt||ft).stringify(this)},concat:function(gt){var bt=this.words,vt=gt.words,wt=this.sigBytes,Tt=gt.sigBytes;if(this.clamp(),wt%4)for(var _t=0;_t<Tt;_t++){var St=vt[_t>>>2]>>>24-_t%4*8&255;bt[wt+_t>>>2]|=St<<24-(wt+_t)%4*8}else for(var _t=0;_t<Tt;_t+=4)bt[wt+_t>>>2]=vt[_t>>>2];return this.sigBytes+=Tt,this},clamp:function(){var gt=this.words,bt=this.sigBytes;gt[bt>>>2]&=4294967295<<32-bt%4*8,gt.length=at.ceil(bt/4)},clone:function(){var gt=lt.clone.call(this);return gt.words=this.words.slice(0),gt},random:function(gt){for(var bt=[],vt=function(Pt){var Pt=Pt,Nt=987654321,jt=4294967295;return function(){Nt=36969*(Nt&65535)+(Nt>>16)&jt,Pt=18e3*(Pt&65535)+(Pt>>16)&jt;var Ut=(Nt<<16)+Pt&jt;return Ut/=4294967296,Ut+=.5,Ut*(at.random()>.5?1:-1)}},wt=0,Tt;wt<gt;wt+=4){var _t=vt((Tt||at.random())*4294967296);Tt=_t()*987654071,bt.push(_t()*4294967296|0)}return new ut.init(bt,gt)}}),dt=st.enc={},ft=dt.Hex={stringify:function(gt){for(var bt=gt.words,vt=gt.sigBytes,wt=[],Tt=0;Tt<vt;Tt++){var _t=bt[Tt>>>2]>>>24-Tt%4*8&255;wt.push((_t>>>4).toString(16)),wt.push((_t&15).toString(16))}return wt.join("")},parse:function(gt){for(var bt=gt.length,vt=[],wt=0;wt<bt;wt+=2)vt[wt>>>3]|=parseInt(gt.substr(wt,2),16)<<24-wt%8*4;return new ut.init(vt,bt/2)}},pt=dt.Latin1={stringify:function(gt){for(var bt=gt.words,vt=gt.sigBytes,wt=[],Tt=0;Tt<vt;Tt++){var _t=bt[Tt>>>2]>>>24-Tt%4*8&255;wt.push(String.fromCharCode(_t))}return wt.join("")},parse:function(gt){for(var bt=gt.length,vt=[],wt=0;wt<bt;wt++)vt[wt>>>2]|=(gt.charCodeAt(wt)&255)<<24-wt%4*8;return new ut.init(vt,bt)}},ht=dt.Utf8={stringify:function(gt){try{return decodeURIComponent(escape(pt.stringify(gt)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(gt){return pt.parse(unescape(encodeURIComponent(gt)))}},yt=ct.BufferedBlockAlgorithm=lt.extend({reset:function(){this._data=new ut.init,this._nDataBytes=0},_append:function(gt){typeof gt=="string"&&(gt=ht.parse(gt)),this._data.concat(gt),this._nDataBytes+=gt.sigBytes},_process:function(gt){var bt=this._data,vt=bt.words,wt=bt.sigBytes,Tt=this.blockSize,_t=Tt*4,St=wt/_t;gt?St=at.ceil(St):St=at.max((St|0)-this._minBufferSize,0);var Pt=St*Tt,Nt=at.min(Pt*4,wt);if(Pt){for(var jt=0;jt<Pt;jt+=Tt)this._doProcessBlock(vt,jt);var Ut=vt.splice(0,Pt);bt.sigBytes-=Nt}return new ut.init(Ut,Nt)},clone:function(){var gt=lt.clone.call(this);return gt._data=this._data.clone(),gt},_minBufferSize:0});ct.Hasher=yt.extend({cfg:lt.extend(),init:function(gt){this.cfg=this.cfg.extend(gt),this.reset()},reset:function(){yt.reset.call(this),this._doReset()},update:function(gt){return this._append(gt),this._process(),this},finalize:function(gt){gt&&this._append(gt);var bt=this._doFinalize();return bt},blockSize:16,_createHelper:function(gt){return function(bt,vt){return new gt.init(vt).finalize(bt)}},_createHmacHelper:function(gt){return function(bt,vt){return new mt.HMAC.init(gt,vt).finalize(bt)}}});var mt=st.algo={};return st}(Math);return rt})}(core)),core.exports}(function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){return function(at){var it=rt,ot=it.lib,st=ot.WordArray,ct=ot.Hasher,lt=it.algo,ut=[],dt=[];(function(){function ht(bt){for(var vt=at.sqrt(bt),wt=2;wt<=vt;wt++)if(!(bt%wt))return!1;return!0}function yt(bt){return(bt-(bt|0))*4294967296|0}for(var mt=2,gt=0;gt<64;)ht(mt)&&(gt<8&&(ut[gt]=yt(at.pow(mt,1/2))),dt[gt]=yt(at.pow(mt,1/3)),gt++),mt++})();var ft=[],pt=lt.SHA256=ct.extend({_doReset:function(){this._hash=new st.init(ut.slice(0))},_doProcessBlock:function(ht,yt){for(var mt=this._hash.words,gt=mt[0],bt=mt[1],vt=mt[2],wt=mt[3],Tt=mt[4],_t=mt[5],St=mt[6],Pt=mt[7],Nt=0;Nt<64;Nt++){if(Nt<16)ft[Nt]=ht[yt+Nt]|0;else{var jt=ft[Nt-15],Ut=(jt<<25|jt>>>7)^(jt<<14|jt>>>18)^jt>>>3,Ft=ft[Nt-2],Kt=(Ft<<15|Ft>>>17)^(Ft<<13|Ft>>>19)^Ft>>>10;ft[Nt]=Ut+ft[Nt-7]+Kt+ft[Nt-16]}var Mt=Tt&_t^~Tt&St,xt=gt&bt^gt&vt^bt&vt,Et=(gt<<30|gt>>>2)^(gt<<19|gt>>>13)^(gt<<10|gt>>>22),Rt=(Tt<<26|Tt>>>6)^(Tt<<21|Tt>>>11)^(Tt<<7|Tt>>>25),Lt=Pt+Rt+Mt+dt[Nt]+ft[Nt],Bt=Et+xt;Pt=St,St=_t,_t=Tt,Tt=wt+Lt|0,wt=vt,vt=bt,bt=gt,gt=Lt+Bt|0}mt[0]=mt[0]+gt|0,mt[1]=mt[1]+bt|0,mt[2]=mt[2]+vt|0,mt[3]=mt[3]+wt|0,mt[4]=mt[4]+Tt|0,mt[5]=mt[5]+_t|0,mt[6]=mt[6]+St|0,mt[7]=mt[7]+Pt|0},_doFinalize:function(){var ht=this._data,yt=ht.words,mt=this._nDataBytes*8,gt=ht.sigBytes*8;return yt[gt>>>5]|=128<<24-gt%32,yt[(gt+64>>>9<<4)+14]=at.floor(mt/4294967296),yt[(gt+64>>>9<<4)+15]=mt,ht.sigBytes=yt.length*4,this._process(),this._hash},clone:function(){var ht=ct.clone.call(this);return ht._hash=this._hash.clone(),ht}});it.SHA256=ct._createHelper(pt),it.HmacSHA256=ct._createHmacHelper(pt)}(Math),rt.SHA256})})(sha256);var treeify={exports:{}};(function(o,a){(function(rt,at){o.exports=at()})(commonjsGlobal,function(){function rt(st,ct){var lt=ct?"\u2514":"\u251C";return st?lt+="\u2500 ":lt+="\u2500\u2500\u2510",lt}function at(st,ct){var lt=[];for(var ut in st)!st.hasOwnProperty(ut)||ct&&typeof st[ut]=="function"||lt.push(ut);return lt}function it(st,ct,lt,ut,dt,ft,pt){var ht="",yt=0,mt,gt,bt=ut.slice(0);if(bt.push([ct,lt])&&ut.length>0&&(ut.forEach(function(wt,Tt){Tt>0&&(ht+=(wt[1]?" ":"\u2502")+"  "),!gt&&wt[0]===ct&&(gt=!0)}),ht+=rt(st,lt)+st,dt&&(typeof ct!="object"||ct instanceof Date)&&(ht+=": "+ct),gt&&(ht+=" (circular ref.)"),pt(ht)),!gt&&typeof ct=="object"){var vt=at(ct,ft);vt.forEach(function(wt){mt=++yt===vt.length,it(wt,ct[wt],mt,bt,dt,ft,pt)})}}var ot={};return ot.asLines=function(st,ct,lt,ut){var dt=typeof lt!="function"?lt:!1;it(".",st,!1,[],ct,dt,ut||lt)},ot.asTree=function(st,ct,lt){var ut="";return it(".",st,!1,[],ct,lt,function(dt){ut+=dt+`
`}),ut},ot})})(treeify);var Base$1={},cryptoJs={exports:{}},x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){return function(at){var it=rt,ot=it.lib,st=ot.Base,ct=ot.WordArray,lt=it.x64={};lt.Word=st.extend({init:function(ut,dt){this.high=ut,this.low=dt}}),lt.WordArray=st.extend({init:function(ut,dt){ut=this.words=ut||[],dt!=at?this.sigBytes=dt:this.sigBytes=ut.length*8},toX32:function(){for(var ut=this.words,dt=ut.length,ft=[],pt=0;pt<dt;pt++){var ht=ut[pt];ft.push(ht.high),ft.push(ht.low)}return ct.create(ft,this.sigBytes)},clone:function(){for(var ut=st.clone.call(this),dt=ut.words=this.words.slice(0),ft=dt.length,pt=0;pt<ft;pt++)dt[pt]=dt[pt].clone();return ut}})}(),rt})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){return function(){if(typeof ArrayBuffer=="function"){var at=rt,it=at.lib,ot=it.WordArray,st=ot.init,ct=ot.init=function(lt){if(lt instanceof ArrayBuffer&&(lt=new Uint8Array(lt)),(lt instanceof Int8Array||typeof Uint8ClampedArray<"u"&&lt instanceof Uint8ClampedArray||lt instanceof Int16Array||lt instanceof Uint16Array||lt instanceof Int32Array||lt instanceof Uint32Array||lt instanceof Float32Array||lt instanceof Float64Array)&&(lt=new Uint8Array(lt.buffer,lt.byteOffset,lt.byteLength)),lt instanceof Uint8Array){for(var ut=lt.byteLength,dt=[],ft=0;ft<ut;ft++)dt[ft>>>2]|=lt[ft]<<24-ft%4*8;st.call(this,dt,ut)}else st.apply(this,arguments)};ct.prototype=ot}}(),rt.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.WordArray,st=at.enc;st.Utf16=st.Utf16BE={stringify:function(lt){for(var ut=lt.words,dt=lt.sigBytes,ft=[],pt=0;pt<dt;pt+=2){var ht=ut[pt>>>2]>>>16-pt%4*8&65535;ft.push(String.fromCharCode(ht))}return ft.join("")},parse:function(lt){for(var ut=lt.length,dt=[],ft=0;ft<ut;ft++)dt[ft>>>1]|=lt.charCodeAt(ft)<<16-ft%2*16;return ot.create(dt,ut*2)}},st.Utf16LE={stringify:function(lt){for(var ut=lt.words,dt=lt.sigBytes,ft=[],pt=0;pt<dt;pt+=2){var ht=ct(ut[pt>>>2]>>>16-pt%4*8&65535);ft.push(String.fromCharCode(ht))}return ft.join("")},parse:function(lt){for(var ut=lt.length,dt=[],ft=0;ft<ut;ft++)dt[ft>>>1]|=ct(lt.charCodeAt(ft)<<16-ft%2*16);return ot.create(dt,ut*2)}};function ct(lt){return lt<<8&4278255360|lt>>>8&16711935}}(),rt.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.WordArray,st=at.enc;st.Base64={stringify:function(lt){var ut=lt.words,dt=lt.sigBytes,ft=this._map;lt.clamp();for(var pt=[],ht=0;ht<dt;ht+=3)for(var yt=ut[ht>>>2]>>>24-ht%4*8&255,mt=ut[ht+1>>>2]>>>24-(ht+1)%4*8&255,gt=ut[ht+2>>>2]>>>24-(ht+2)%4*8&255,bt=yt<<16|mt<<8|gt,vt=0;vt<4&&ht+vt*.75<dt;vt++)pt.push(ft.charAt(bt>>>6*(3-vt)&63));var wt=ft.charAt(64);if(wt)for(;pt.length%4;)pt.push(wt);return pt.join("")},parse:function(lt){var ut=lt.length,dt=this._map,ft=this._reverseMap;if(!ft){ft=this._reverseMap=[];for(var pt=0;pt<dt.length;pt++)ft[dt.charCodeAt(pt)]=pt}var ht=dt.charAt(64);if(ht){var yt=lt.indexOf(ht);yt!==-1&&(ut=yt)}return ct(lt,ut,ft)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function ct(lt,ut,dt){for(var ft=[],pt=0,ht=0;ht<ut;ht++)if(ht%4){var yt=dt[lt.charCodeAt(ht-1)]<<ht%4*2,mt=dt[lt.charCodeAt(ht)]>>>6-ht%4*2;ft[pt>>>2]|=(yt|mt)<<24-pt%4*8,pt++}return ot.create(ft,pt)}}(),rt.enc.Base64})}(encBase64)),encBase64.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){return function(at){var it=rt,ot=it.lib,st=ot.WordArray,ct=ot.Hasher,lt=it.algo,ut=[];(function(){for(var mt=0;mt<64;mt++)ut[mt]=at.abs(at.sin(mt+1))*4294967296|0})();var dt=lt.MD5=ct.extend({_doReset:function(){this._hash=new st.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(mt,gt){for(var bt=0;bt<16;bt++){var vt=gt+bt,wt=mt[vt];mt[vt]=(wt<<8|wt>>>24)&16711935|(wt<<24|wt>>>8)&4278255360}var Tt=this._hash.words,_t=mt[gt+0],St=mt[gt+1],Pt=mt[gt+2],Nt=mt[gt+3],jt=mt[gt+4],Ut=mt[gt+5],Ft=mt[gt+6],Kt=mt[gt+7],Mt=mt[gt+8],xt=mt[gt+9],Et=mt[gt+10],Rt=mt[gt+11],Lt=mt[gt+12],Bt=mt[gt+13],Ot=mt[gt+14],qt=mt[gt+15],At=Tt[0],Ct=Tt[1],Dt=Tt[2],Wt=Tt[3];At=ft(At,Ct,Dt,Wt,_t,7,ut[0]),Wt=ft(Wt,At,Ct,Dt,St,12,ut[1]),Dt=ft(Dt,Wt,At,Ct,Pt,17,ut[2]),Ct=ft(Ct,Dt,Wt,At,Nt,22,ut[3]),At=ft(At,Ct,Dt,Wt,jt,7,ut[4]),Wt=ft(Wt,At,Ct,Dt,Ut,12,ut[5]),Dt=ft(Dt,Wt,At,Ct,Ft,17,ut[6]),Ct=ft(Ct,Dt,Wt,At,Kt,22,ut[7]),At=ft(At,Ct,Dt,Wt,Mt,7,ut[8]),Wt=ft(Wt,At,Ct,Dt,xt,12,ut[9]),Dt=ft(Dt,Wt,At,Ct,Et,17,ut[10]),Ct=ft(Ct,Dt,Wt,At,Rt,22,ut[11]),At=ft(At,Ct,Dt,Wt,Lt,7,ut[12]),Wt=ft(Wt,At,Ct,Dt,Bt,12,ut[13]),Dt=ft(Dt,Wt,At,Ct,Ot,17,ut[14]),Ct=ft(Ct,Dt,Wt,At,qt,22,ut[15]),At=pt(At,Ct,Dt,Wt,St,5,ut[16]),Wt=pt(Wt,At,Ct,Dt,Ft,9,ut[17]),Dt=pt(Dt,Wt,At,Ct,Rt,14,ut[18]),Ct=pt(Ct,Dt,Wt,At,_t,20,ut[19]),At=pt(At,Ct,Dt,Wt,Ut,5,ut[20]),Wt=pt(Wt,At,Ct,Dt,Et,9,ut[21]),Dt=pt(Dt,Wt,At,Ct,qt,14,ut[22]),Ct=pt(Ct,Dt,Wt,At,jt,20,ut[23]),At=pt(At,Ct,Dt,Wt,xt,5,ut[24]),Wt=pt(Wt,At,Ct,Dt,Ot,9,ut[25]),Dt=pt(Dt,Wt,At,Ct,Nt,14,ut[26]),Ct=pt(Ct,Dt,Wt,At,Mt,20,ut[27]),At=pt(At,Ct,Dt,Wt,Bt,5,ut[28]),Wt=pt(Wt,At,Ct,Dt,Pt,9,ut[29]),Dt=pt(Dt,Wt,At,Ct,Kt,14,ut[30]),Ct=pt(Ct,Dt,Wt,At,Lt,20,ut[31]),At=ht(At,Ct,Dt,Wt,Ut,4,ut[32]),Wt=ht(Wt,At,Ct,Dt,Mt,11,ut[33]),Dt=ht(Dt,Wt,At,Ct,Rt,16,ut[34]),Ct=ht(Ct,Dt,Wt,At,Ot,23,ut[35]),At=ht(At,Ct,Dt,Wt,St,4,ut[36]),Wt=ht(Wt,At,Ct,Dt,jt,11,ut[37]),Dt=ht(Dt,Wt,At,Ct,Kt,16,ut[38]),Ct=ht(Ct,Dt,Wt,At,Et,23,ut[39]),At=ht(At,Ct,Dt,Wt,Bt,4,ut[40]),Wt=ht(Wt,At,Ct,Dt,_t,11,ut[41]),Dt=ht(Dt,Wt,At,Ct,Nt,16,ut[42]),Ct=ht(Ct,Dt,Wt,At,Ft,23,ut[43]),At=ht(At,Ct,Dt,Wt,xt,4,ut[44]),Wt=ht(Wt,At,Ct,Dt,Lt,11,ut[45]),Dt=ht(Dt,Wt,At,Ct,qt,16,ut[46]),Ct=ht(Ct,Dt,Wt,At,Pt,23,ut[47]),At=yt(At,Ct,Dt,Wt,_t,6,ut[48]),Wt=yt(Wt,At,Ct,Dt,Kt,10,ut[49]),Dt=yt(Dt,Wt,At,Ct,Ot,15,ut[50]),Ct=yt(Ct,Dt,Wt,At,Ut,21,ut[51]),At=yt(At,Ct,Dt,Wt,Lt,6,ut[52]),Wt=yt(Wt,At,Ct,Dt,Nt,10,ut[53]),Dt=yt(Dt,Wt,At,Ct,Et,15,ut[54]),Ct=yt(Ct,Dt,Wt,At,St,21,ut[55]),At=yt(At,Ct,Dt,Wt,Mt,6,ut[56]),Wt=yt(Wt,At,Ct,Dt,qt,10,ut[57]),Dt=yt(Dt,Wt,At,Ct,Ft,15,ut[58]),Ct=yt(Ct,Dt,Wt,At,Bt,21,ut[59]),At=yt(At,Ct,Dt,Wt,jt,6,ut[60]),Wt=yt(Wt,At,Ct,Dt,Rt,10,ut[61]),Dt=yt(Dt,Wt,At,Ct,Pt,15,ut[62]),Ct=yt(Ct,Dt,Wt,At,xt,21,ut[63]),Tt[0]=Tt[0]+At|0,Tt[1]=Tt[1]+Ct|0,Tt[2]=Tt[2]+Dt|0,Tt[3]=Tt[3]+Wt|0},_doFinalize:function(){var mt=this._data,gt=mt.words,bt=this._nDataBytes*8,vt=mt.sigBytes*8;gt[vt>>>5]|=128<<24-vt%32;var wt=at.floor(bt/4294967296),Tt=bt;gt[(vt+64>>>9<<4)+15]=(wt<<8|wt>>>24)&16711935|(wt<<24|wt>>>8)&4278255360,gt[(vt+64>>>9<<4)+14]=(Tt<<8|Tt>>>24)&16711935|(Tt<<24|Tt>>>8)&4278255360,mt.sigBytes=(gt.length+1)*4,this._process();for(var _t=this._hash,St=_t.words,Pt=0;Pt<4;Pt++){var Nt=St[Pt];St[Pt]=(Nt<<8|Nt>>>24)&16711935|(Nt<<24|Nt>>>8)&4278255360}return _t},clone:function(){var mt=ct.clone.call(this);return mt._hash=this._hash.clone(),mt}});function ft(mt,gt,bt,vt,wt,Tt,_t){var St=mt+(gt&bt|~gt&vt)+wt+_t;return(St<<Tt|St>>>32-Tt)+gt}function pt(mt,gt,bt,vt,wt,Tt,_t){var St=mt+(gt&vt|bt&~vt)+wt+_t;return(St<<Tt|St>>>32-Tt)+gt}function ht(mt,gt,bt,vt,wt,Tt,_t){var St=mt+(gt^bt^vt)+wt+_t;return(St<<Tt|St>>>32-Tt)+gt}function yt(mt,gt,bt,vt,wt,Tt,_t){var St=mt+(bt^(gt|~vt))+wt+_t;return(St<<Tt|St>>>32-Tt)+gt}it.MD5=ct._createHelper(dt),it.HmacMD5=ct._createHmacHelper(dt)}(Math),rt.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.WordArray,st=it.Hasher,ct=at.algo,lt=[],ut=ct.SHA1=st.extend({_doReset:function(){this._hash=new ot.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(dt,ft){for(var pt=this._hash.words,ht=pt[0],yt=pt[1],mt=pt[2],gt=pt[3],bt=pt[4],vt=0;vt<80;vt++){if(vt<16)lt[vt]=dt[ft+vt]|0;else{var wt=lt[vt-3]^lt[vt-8]^lt[vt-14]^lt[vt-16];lt[vt]=wt<<1|wt>>>31}var Tt=(ht<<5|ht>>>27)+bt+lt[vt];vt<20?Tt+=(yt&mt|~yt&gt)+1518500249:vt<40?Tt+=(yt^mt^gt)+1859775393:vt<60?Tt+=(yt&mt|yt&gt|mt&gt)-1894007588:Tt+=(yt^mt^gt)-899497514,bt=gt,gt=mt,mt=yt<<30|yt>>>2,yt=ht,ht=Tt}pt[0]=pt[0]+ht|0,pt[1]=pt[1]+yt|0,pt[2]=pt[2]+mt|0,pt[3]=pt[3]+gt|0,pt[4]=pt[4]+bt|0},_doFinalize:function(){var dt=this._data,ft=dt.words,pt=this._nDataBytes*8,ht=dt.sigBytes*8;return ft[ht>>>5]|=128<<24-ht%32,ft[(ht+64>>>9<<4)+14]=Math.floor(pt/4294967296),ft[(ht+64>>>9<<4)+15]=pt,dt.sigBytes=ft.length*4,this._process(),this._hash},clone:function(){var dt=st.clone.call(this);return dt._hash=this._hash.clone(),dt}});at.SHA1=st._createHelper(ut),at.HmacSHA1=st._createHmacHelper(ut)}(),rt.SHA1})}(sha1)),sha1.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),sha256.exports)})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.WordArray,st=at.algo,ct=st.SHA256,lt=st.SHA224=ct.extend({_doReset:function(){this._hash=new ot.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var ut=ct._doFinalize.call(this);return ut.sigBytes-=4,ut}});at.SHA224=ct._createHelper(lt),at.HmacSHA224=ct._createHmacHelper(lt)}(),rt.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireX64Core())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.Hasher,st=at.x64,ct=st.Word,lt=st.WordArray,ut=at.algo;function dt(){return ct.create.apply(ct,arguments)}var ft=[dt(1116352408,3609767458),dt(1899447441,602891725),dt(3049323471,3964484399),dt(3921009573,2173295548),dt(961987163,4081628472),dt(1508970993,3053834265),dt(2453635748,2937671579),dt(2870763221,3664609560),dt(3624381080,2734883394),dt(310598401,1164996542),dt(607225278,1323610764),dt(1426881987,3590304994),dt(1925078388,4068182383),dt(2162078206,991336113),dt(2614888103,633803317),dt(3248222580,3479774868),dt(3835390401,2666613458),dt(4022224774,944711139),dt(264347078,2341262773),dt(604807628,2007800933),dt(770255983,1495990901),dt(1249150122,1856431235),dt(1555081692,3175218132),dt(1996064986,2198950837),dt(2554220882,3999719339),dt(2821834349,766784016),dt(2952996808,2566594879),dt(3210313671,3203337956),dt(3336571891,1034457026),dt(3584528711,2466948901),dt(113926993,3758326383),dt(338241895,168717936),dt(666307205,1188179964),dt(773529912,1546045734),dt(1294757372,1522805485),dt(1396182291,2643833823),dt(1695183700,2343527390),dt(1986661051,1014477480),dt(2177026350,1206759142),dt(2456956037,344077627),dt(2730485921,1290863460),dt(2820302411,3158454273),dt(3259730800,3505952657),dt(3345764771,106217008),dt(3516065817,3606008344),dt(3600352804,1432725776),dt(4094571909,1467031594),dt(275423344,851169720),dt(430227734,3100823752),dt(506948616,1363258195),dt(659060556,3750685593),dt(883997877,3785050280),dt(958139571,3318307427),dt(1322822218,3812723403),dt(1537002063,2003034995),dt(1747873779,3602036899),dt(1955562222,1575990012),dt(2024104815,1125592928),dt(2227730452,2716904306),dt(2361852424,442776044),dt(2428436474,593698344),dt(2756734187,3733110249),dt(3204031479,2999351573),dt(3329325298,3815920427),dt(3391569614,3928383900),dt(3515267271,566280711),dt(3940187606,3454069534),dt(4118630271,4000239992),dt(116418474,1914138554),dt(174292421,2731055270),dt(289380356,3203993006),dt(460393269,320620315),dt(685471733,587496836),dt(852142971,1086792851),dt(1017036298,365543100),dt(1126000580,2618297676),dt(1288033470,3409855158),dt(1501505948,4234509866),dt(1607167915,987167468),dt(1816402316,1246189591)],pt=[];(function(){for(var yt=0;yt<80;yt++)pt[yt]=dt()})();var ht=ut.SHA512=ot.extend({_doReset:function(){this._hash=new lt.init([new ct.init(1779033703,4089235720),new ct.init(3144134277,2227873595),new ct.init(1013904242,4271175723),new ct.init(2773480762,1595750129),new ct.init(1359893119,2917565137),new ct.init(2600822924,725511199),new ct.init(528734635,4215389547),new ct.init(1541459225,327033209)])},_doProcessBlock:function(yt,mt){for(var gt=this._hash.words,bt=gt[0],vt=gt[1],wt=gt[2],Tt=gt[3],_t=gt[4],St=gt[5],Pt=gt[6],Nt=gt[7],jt=bt.high,Ut=bt.low,Ft=vt.high,Kt=vt.low,Mt=wt.high,xt=wt.low,Et=Tt.high,Rt=Tt.low,Lt=_t.high,Bt=_t.low,Ot=St.high,qt=St.low,At=Pt.high,Ct=Pt.low,Dt=Nt.high,Wt=Nt.low,$t=jt,Vt=Ut,Qt=Ft,Zt=Kt,Yt=Mt,tr=xt,nr=Et,Xt=Rt,ar=Lt,er=Bt,ir=Ot,zt=qt,kt=At,It=Ct,Ht=Dt,Gt=Wt,Jt=0;Jt<80;Jt++){var rr=pt[Jt];if(Jt<16)var sr=rr.high=yt[mt+Jt*2]|0,cr=rr.low=yt[mt+Jt*2+1]|0;else{var dr=pt[Jt-15],ur=dr.high,lr=dr.low,Fr=(ur>>>1|lr<<31)^(ur>>>8|lr<<24)^ur>>>7,pr=(lr>>>1|ur<<31)^(lr>>>8|ur<<24)^(lr>>>7|ur<<25),hr=pt[Jt-2],Or=hr.high,mr=hr.low,wr=(Or>>>19|mr<<13)^(Or<<3|mr>>>29)^Or>>>6,Lr=(mr>>>19|Or<<13)^(mr<<3|Or>>>29)^(mr>>>6|Or<<26),yr=pt[Jt-7],Cr=yr.high,jr=yr.low,gr=pt[Jt-16],Tr=gr.high,Ur=gr.low,cr=pr+jr,sr=Fr+Cr+(cr>>>0<pr>>>0?1:0),cr=cr+Lr,sr=sr+wr+(cr>>>0<Lr>>>0?1:0),cr=cr+Ur,sr=sr+Tr+(cr>>>0<Ur>>>0?1:0);rr.high=sr,rr.low=cr}var Er=ar&ir^~ar&kt,br=er&zt^~er&It,qr=$t&Qt^$t&Yt^Qt&Yt,_r=Vt&Zt^Vt&tr^Zt&tr,Ar=($t>>>28|Vt<<4)^($t<<30|Vt>>>2)^($t<<25|Vt>>>7),Wr=(Vt>>>28|$t<<4)^(Vt<<30|$t>>>2)^(Vt<<25|$t>>>7),$r=(ar>>>14|er<<18)^(ar>>>18|er<<14)^(ar<<23|er>>>9),Sr=(er>>>14|ar<<18)^(er>>>18|ar<<14)^(er<<23|ar>>>9),zr=ft[Jt],kr=zr.high,xr=zr.low,Br=Gt+Sr,fr=Ht+$r+(Br>>>0<Gt>>>0?1:0),Br=Br+br,fr=fr+Er+(Br>>>0<br>>>0?1:0),Br=Br+xr,fr=fr+kr+(Br>>>0<xr>>>0?1:0),Br=Br+cr,fr=fr+sr+(Br>>>0<cr>>>0?1:0),vr=Wr+_r,Hr=Ar+qr+(vr>>>0<Wr>>>0?1:0);Ht=kt,Gt=It,kt=ir,It=zt,ir=ar,zt=er,er=Xt+Br|0,ar=nr+fr+(er>>>0<Xt>>>0?1:0)|0,nr=Yt,Xt=tr,Yt=Qt,tr=Zt,Qt=$t,Zt=Vt,Vt=Br+vr|0,$t=fr+Hr+(Vt>>>0<Br>>>0?1:0)|0}Ut=bt.low=Ut+Vt,bt.high=jt+$t+(Ut>>>0<Vt>>>0?1:0),Kt=vt.low=Kt+Zt,vt.high=Ft+Qt+(Kt>>>0<Zt>>>0?1:0),xt=wt.low=xt+tr,wt.high=Mt+Yt+(xt>>>0<tr>>>0?1:0),Rt=Tt.low=Rt+Xt,Tt.high=Et+nr+(Rt>>>0<Xt>>>0?1:0),Bt=_t.low=Bt+er,_t.high=Lt+ar+(Bt>>>0<er>>>0?1:0),qt=St.low=qt+zt,St.high=Ot+ir+(qt>>>0<zt>>>0?1:0),Ct=Pt.low=Ct+It,Pt.high=At+kt+(Ct>>>0<It>>>0?1:0),Wt=Nt.low=Wt+Gt,Nt.high=Dt+Ht+(Wt>>>0<Gt>>>0?1:0)},_doFinalize:function(){var yt=this._data,mt=yt.words,gt=this._nDataBytes*8,bt=yt.sigBytes*8;mt[bt>>>5]|=128<<24-bt%32,mt[(bt+128>>>10<<5)+30]=Math.floor(gt/4294967296),mt[(bt+128>>>10<<5)+31]=gt,yt.sigBytes=mt.length*4,this._process();var vt=this._hash.toX32();return vt},clone:function(){var yt=ot.clone.call(this);return yt._hash=this._hash.clone(),yt},blockSize:1024/32});at.SHA512=ot._createHelper(ht),at.HmacSHA512=ot._createHmacHelper(ht)}(),rt.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.x64,ot=it.Word,st=it.WordArray,ct=at.algo,lt=ct.SHA512,ut=ct.SHA384=lt.extend({_doReset:function(){this._hash=new st.init([new ot.init(3418070365,3238371032),new ot.init(1654270250,914150663),new ot.init(2438529370,812702999),new ot.init(355462360,4144912697),new ot.init(1731405415,4290775857),new ot.init(2394180231,1750603025),new ot.init(3675008525,1694076839),new ot.init(1203062813,3204075428)])},_doFinalize:function(){var dt=lt._doFinalize.call(this);return dt.sigBytes-=16,dt}});at.SHA384=lt._createHelper(ut),at.HmacSHA384=lt._createHmacHelper(ut)}(),rt.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireX64Core())})(commonjsGlobal,function(rt){return function(at){var it=rt,ot=it.lib,st=ot.WordArray,ct=ot.Hasher,lt=it.x64,ut=lt.Word,dt=it.algo,ft=[],pt=[],ht=[];(function(){for(var gt=1,bt=0,vt=0;vt<24;vt++){ft[gt+5*bt]=(vt+1)*(vt+2)/2%64;var wt=bt%5,Tt=(2*gt+3*bt)%5;gt=wt,bt=Tt}for(var gt=0;gt<5;gt++)for(var bt=0;bt<5;bt++)pt[gt+5*bt]=bt+(2*gt+3*bt)%5*5;for(var _t=1,St=0;St<24;St++){for(var Pt=0,Nt=0,jt=0;jt<7;jt++){if(_t&1){var Ut=(1<<jt)-1;Ut<32?Nt^=1<<Ut:Pt^=1<<Ut-32}_t&128?_t=_t<<1^113:_t<<=1}ht[St]=ut.create(Pt,Nt)}})();var yt=[];(function(){for(var gt=0;gt<25;gt++)yt[gt]=ut.create()})();var mt=dt.SHA3=ct.extend({cfg:ct.cfg.extend({outputLength:512}),_doReset:function(){for(var gt=this._state=[],bt=0;bt<25;bt++)gt[bt]=new ut.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(gt,bt){for(var vt=this._state,wt=this.blockSize/2,Tt=0;Tt<wt;Tt++){var _t=gt[bt+2*Tt],St=gt[bt+2*Tt+1];_t=(_t<<8|_t>>>24)&16711935|(_t<<24|_t>>>8)&4278255360,St=(St<<8|St>>>24)&16711935|(St<<24|St>>>8)&4278255360;var Pt=vt[Tt];Pt.high^=St,Pt.low^=_t}for(var Nt=0;Nt<24;Nt++){for(var jt=0;jt<5;jt++){for(var Ut=0,Ft=0,Kt=0;Kt<5;Kt++){var Pt=vt[jt+5*Kt];Ut^=Pt.high,Ft^=Pt.low}var Mt=yt[jt];Mt.high=Ut,Mt.low=Ft}for(var jt=0;jt<5;jt++)for(var xt=yt[(jt+4)%5],Et=yt[(jt+1)%5],Rt=Et.high,Lt=Et.low,Ut=xt.high^(Rt<<1|Lt>>>31),Ft=xt.low^(Lt<<1|Rt>>>31),Kt=0;Kt<5;Kt++){var Pt=vt[jt+5*Kt];Pt.high^=Ut,Pt.low^=Ft}for(var Bt=1;Bt<25;Bt++){var Pt=vt[Bt],Ot=Pt.high,qt=Pt.low,At=ft[Bt];if(At<32)var Ut=Ot<<At|qt>>>32-At,Ft=qt<<At|Ot>>>32-At;else var Ut=qt<<At-32|Ot>>>64-At,Ft=Ot<<At-32|qt>>>64-At;var Ct=yt[pt[Bt]];Ct.high=Ut,Ct.low=Ft}var Dt=yt[0],Wt=vt[0];Dt.high=Wt.high,Dt.low=Wt.low;for(var jt=0;jt<5;jt++)for(var Kt=0;Kt<5;Kt++){var Bt=jt+5*Kt,Pt=vt[Bt],$t=yt[Bt],Vt=yt[(jt+1)%5+5*Kt],Qt=yt[(jt+2)%5+5*Kt];Pt.high=$t.high^~Vt.high&Qt.high,Pt.low=$t.low^~Vt.low&Qt.low}var Pt=vt[0],Zt=ht[Nt];Pt.high^=Zt.high,Pt.low^=Zt.low}},_doFinalize:function(){var gt=this._data,bt=gt.words;this._nDataBytes*8;var vt=gt.sigBytes*8,wt=this.blockSize*32;bt[vt>>>5]|=1<<24-vt%32,bt[(at.ceil((vt+1)/wt)*wt>>>5)-1]|=128,gt.sigBytes=bt.length*4,this._process();for(var Tt=this._state,_t=this.cfg.outputLength/8,St=_t/8,Pt=[],Nt=0;Nt<St;Nt++){var jt=Tt[Nt],Ut=jt.high,Ft=jt.low;Ut=(Ut<<8|Ut>>>24)&16711935|(Ut<<24|Ut>>>8)&4278255360,Ft=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360,Pt.push(Ft),Pt.push(Ut)}return new st.init(Pt,_t)},clone:function(){for(var gt=ct.clone.call(this),bt=gt._state=this._state.slice(0),vt=0;vt<25;vt++)bt[vt]=bt[vt].clone();return gt}});it.SHA3=ct._createHelper(mt),it.HmacSHA3=ct._createHmacHelper(mt)}(Math),rt.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(at){var it=rt,ot=it.lib,st=ot.WordArray,ct=ot.Hasher,lt=it.algo,ut=st.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),dt=st.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),ft=st.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),pt=st.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),ht=st.create([0,1518500249,1859775393,2400959708,2840853838]),yt=st.create([1352829926,1548603684,1836072691,2053994217,0]),mt=lt.RIPEMD160=ct.extend({_doReset:function(){this._hash=st.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(St,Pt){for(var Nt=0;Nt<16;Nt++){var jt=Pt+Nt,Ut=St[jt];St[jt]=(Ut<<8|Ut>>>24)&16711935|(Ut<<24|Ut>>>8)&4278255360}var Ft=this._hash.words,Kt=ht.words,Mt=yt.words,xt=ut.words,Et=dt.words,Rt=ft.words,Lt=pt.words,Bt,Ot,qt,At,Ct,Dt,Wt,$t,Vt,Qt;Dt=Bt=Ft[0],Wt=Ot=Ft[1],$t=qt=Ft[2],Vt=At=Ft[3],Qt=Ct=Ft[4];for(var Zt,Nt=0;Nt<80;Nt+=1)Zt=Bt+St[Pt+xt[Nt]]|0,Nt<16?Zt+=gt(Ot,qt,At)+Kt[0]:Nt<32?Zt+=bt(Ot,qt,At)+Kt[1]:Nt<48?Zt+=vt(Ot,qt,At)+Kt[2]:Nt<64?Zt+=wt(Ot,qt,At)+Kt[3]:Zt+=Tt(Ot,qt,At)+Kt[4],Zt=Zt|0,Zt=_t(Zt,Rt[Nt]),Zt=Zt+Ct|0,Bt=Ct,Ct=At,At=_t(qt,10),qt=Ot,Ot=Zt,Zt=Dt+St[Pt+Et[Nt]]|0,Nt<16?Zt+=Tt(Wt,$t,Vt)+Mt[0]:Nt<32?Zt+=wt(Wt,$t,Vt)+Mt[1]:Nt<48?Zt+=vt(Wt,$t,Vt)+Mt[2]:Nt<64?Zt+=bt(Wt,$t,Vt)+Mt[3]:Zt+=gt(Wt,$t,Vt)+Mt[4],Zt=Zt|0,Zt=_t(Zt,Lt[Nt]),Zt=Zt+Qt|0,Dt=Qt,Qt=Vt,Vt=_t($t,10),$t=Wt,Wt=Zt;Zt=Ft[1]+qt+Vt|0,Ft[1]=Ft[2]+At+Qt|0,Ft[2]=Ft[3]+Ct+Dt|0,Ft[3]=Ft[4]+Bt+Wt|0,Ft[4]=Ft[0]+Ot+$t|0,Ft[0]=Zt},_doFinalize:function(){var St=this._data,Pt=St.words,Nt=this._nDataBytes*8,jt=St.sigBytes*8;Pt[jt>>>5]|=128<<24-jt%32,Pt[(jt+64>>>9<<4)+14]=(Nt<<8|Nt>>>24)&16711935|(Nt<<24|Nt>>>8)&4278255360,St.sigBytes=(Pt.length+1)*4,this._process();for(var Ut=this._hash,Ft=Ut.words,Kt=0;Kt<5;Kt++){var Mt=Ft[Kt];Ft[Kt]=(Mt<<8|Mt>>>24)&16711935|(Mt<<24|Mt>>>8)&4278255360}return Ut},clone:function(){var St=ct.clone.call(this);return St._hash=this._hash.clone(),St}});function gt(St,Pt,Nt){return St^Pt^Nt}function bt(St,Pt,Nt){return St&Pt|~St&Nt}function vt(St,Pt,Nt){return(St|~Pt)^Nt}function wt(St,Pt,Nt){return St&Nt|Pt&~Nt}function Tt(St,Pt,Nt){return St^(Pt|~Nt)}function _t(St,Pt){return St<<Pt|St>>>32-Pt}it.RIPEMD160=ct._createHelper(mt),it.HmacRIPEMD160=ct._createHmacHelper(mt)}(),rt.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(o,a){(function(rt,at){o.exports=at(requireCore())})(commonjsGlobal,function(rt){(function(){var at=rt,it=at.lib,ot=it.Base,st=at.enc,ct=st.Utf8,lt=at.algo;lt.HMAC=ot.extend({init:function(ut,dt){ut=this._hasher=new ut.init,typeof dt=="string"&&(dt=ct.parse(dt));var ft=ut.blockSize,pt=ft*4;dt.sigBytes>pt&&(dt=ut.finalize(dt)),dt.clamp();for(var ht=this._oKey=dt.clone(),yt=this._iKey=dt.clone(),mt=ht.words,gt=yt.words,bt=0;bt<ft;bt++)mt[bt]^=1549556828,gt[bt]^=909522486;ht.sigBytes=yt.sigBytes=pt,this.reset()},reset:function(){var ut=this._hasher;ut.reset(),ut.update(this._iKey)},update:function(ut){return this._hasher.update(ut),this},finalize:function(ut){var dt=this._hasher,ft=dt.finalize(ut);dt.reset();var pt=dt.finalize(this._oKey.clone().concat(ft));return pt}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.Base,st=it.WordArray,ct=at.algo,lt=ct.SHA1,ut=ct.HMAC,dt=ct.PBKDF2=ot.extend({cfg:ot.extend({keySize:128/32,hasher:lt,iterations:1}),init:function(ft){this.cfg=this.cfg.extend(ft)},compute:function(ft,pt){for(var ht=this.cfg,yt=ut.create(ht.hasher,ft),mt=st.create(),gt=st.create([1]),bt=mt.words,vt=gt.words,wt=ht.keySize,Tt=ht.iterations;bt.length<wt;){var _t=yt.update(pt).finalize(gt);yt.reset();for(var St=_t.words,Pt=St.length,Nt=_t,jt=1;jt<Tt;jt++){Nt=yt.finalize(Nt),yt.reset();for(var Ut=Nt.words,Ft=0;Ft<Pt;Ft++)St[Ft]^=Ut[Ft]}mt.concat(_t),vt[0]++}return mt.sigBytes=wt*4,mt}});at.PBKDF2=function(ft,pt,ht){return dt.create(ht).compute(ft,pt)}}(),rt.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.Base,st=it.WordArray,ct=at.algo,lt=ct.MD5,ut=ct.EvpKDF=ot.extend({cfg:ot.extend({keySize:128/32,hasher:lt,iterations:1}),init:function(dt){this.cfg=this.cfg.extend(dt)},compute:function(dt,ft){for(var pt=this.cfg,ht=pt.hasher.create(),yt=st.create(),mt=yt.words,gt=pt.keySize,bt=pt.iterations;mt.length<gt;){vt&&ht.update(vt);var vt=ht.update(dt).finalize(ft);ht.reset();for(var wt=1;wt<bt;wt++)vt=ht.finalize(vt),ht.reset();yt.concat(vt)}return yt.sigBytes=gt*4,yt}});at.EvpKDF=function(dt,ft,pt){return ut.create(pt).compute(dt,ft)}}(),rt.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireEvpkdf())})(commonjsGlobal,function(rt){rt.lib.Cipher||function(at){var it=rt,ot=it.lib,st=ot.Base,ct=ot.WordArray,lt=ot.BufferedBlockAlgorithm,ut=it.enc;ut.Utf8;var dt=ut.Base64,ft=it.algo,pt=ft.EvpKDF,ht=ot.Cipher=lt.extend({cfg:st.extend(),createEncryptor:function(Ut,Ft){return this.create(this._ENC_XFORM_MODE,Ut,Ft)},createDecryptor:function(Ut,Ft){return this.create(this._DEC_XFORM_MODE,Ut,Ft)},init:function(Ut,Ft,Kt){this.cfg=this.cfg.extend(Kt),this._xformMode=Ut,this._key=Ft,this.reset()},reset:function(){lt.reset.call(this),this._doReset()},process:function(Ut){return this._append(Ut),this._process()},finalize:function(Ut){Ut&&this._append(Ut);var Ft=this._doFinalize();return Ft},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Ut(Ft){return typeof Ft=="string"?jt:St}return function(Ft){return{encrypt:function(Kt,Mt,xt){return Ut(Mt).encrypt(Ft,Kt,Mt,xt)},decrypt:function(Kt,Mt,xt){return Ut(Mt).decrypt(Ft,Kt,Mt,xt)}}}}()});ot.StreamCipher=ht.extend({_doFinalize:function(){var Ut=this._process(!0);return Ut},blockSize:1});var yt=it.mode={},mt=ot.BlockCipherMode=st.extend({createEncryptor:function(Ut,Ft){return this.Encryptor.create(Ut,Ft)},createDecryptor:function(Ut,Ft){return this.Decryptor.create(Ut,Ft)},init:function(Ut,Ft){this._cipher=Ut,this._iv=Ft}}),gt=yt.CBC=function(){var Ut=mt.extend();Ut.Encryptor=Ut.extend({processBlock:function(Kt,Mt){var xt=this._cipher,Et=xt.blockSize;Ft.call(this,Kt,Mt,Et),xt.encryptBlock(Kt,Mt),this._prevBlock=Kt.slice(Mt,Mt+Et)}}),Ut.Decryptor=Ut.extend({processBlock:function(Kt,Mt){var xt=this._cipher,Et=xt.blockSize,Rt=Kt.slice(Mt,Mt+Et);xt.decryptBlock(Kt,Mt),Ft.call(this,Kt,Mt,Et),this._prevBlock=Rt}});function Ft(Kt,Mt,xt){var Et=this._iv;if(Et){var Rt=Et;this._iv=at}else var Rt=this._prevBlock;for(var Lt=0;Lt<xt;Lt++)Kt[Mt+Lt]^=Rt[Lt]}return Ut}(),bt=it.pad={},vt=bt.Pkcs7={pad:function(Ut,Ft){for(var Kt=Ft*4,Mt=Kt-Ut.sigBytes%Kt,xt=Mt<<24|Mt<<16|Mt<<8|Mt,Et=[],Rt=0;Rt<Mt;Rt+=4)Et.push(xt);var Lt=ct.create(Et,Mt);Ut.concat(Lt)},unpad:function(Ut){var Ft=Ut.words[Ut.sigBytes-1>>>2]&255;Ut.sigBytes-=Ft}};ot.BlockCipher=ht.extend({cfg:ht.cfg.extend({mode:gt,padding:vt}),reset:function(){ht.reset.call(this);var Ut=this.cfg,Ft=Ut.iv,Kt=Ut.mode;if(this._xformMode==this._ENC_XFORM_MODE)var Mt=Kt.createEncryptor;else{var Mt=Kt.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==Mt?this._mode.init(this,Ft&&Ft.words):(this._mode=Mt.call(Kt,this,Ft&&Ft.words),this._mode.__creator=Mt)},_doProcessBlock:function(Ut,Ft){this._mode.processBlock(Ut,Ft)},_doFinalize:function(){var Ut=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){Ut.pad(this._data,this.blockSize);var Ft=this._process(!0)}else{var Ft=this._process(!0);Ut.unpad(Ft)}return Ft},blockSize:128/32});var wt=ot.CipherParams=st.extend({init:function(Ut){this.mixIn(Ut)},toString:function(Ut){return(Ut||this.formatter).stringify(this)}}),Tt=it.format={},_t=Tt.OpenSSL={stringify:function(Ut){var Ft=Ut.ciphertext,Kt=Ut.salt;if(Kt)var Mt=ct.create([1398893684,1701076831]).concat(Kt).concat(Ft);else var Mt=Ft;return Mt.toString(dt)},parse:function(Ut){var Ft=dt.parse(Ut),Kt=Ft.words;if(Kt[0]==1398893684&&Kt[1]==1701076831){var Mt=ct.create(Kt.slice(2,4));Kt.splice(0,4),Ft.sigBytes-=16}return wt.create({ciphertext:Ft,salt:Mt})}},St=ot.SerializableCipher=st.extend({cfg:st.extend({format:_t}),encrypt:function(Ut,Ft,Kt,Mt){Mt=this.cfg.extend(Mt);var xt=Ut.createEncryptor(Kt,Mt),Et=xt.finalize(Ft),Rt=xt.cfg;return wt.create({ciphertext:Et,key:Kt,iv:Rt.iv,algorithm:Ut,mode:Rt.mode,padding:Rt.padding,blockSize:Ut.blockSize,formatter:Mt.format})},decrypt:function(Ut,Ft,Kt,Mt){Mt=this.cfg.extend(Mt),Ft=this._parse(Ft,Mt.format);var xt=Ut.createDecryptor(Kt,Mt).finalize(Ft.ciphertext);return xt},_parse:function(Ut,Ft){return typeof Ut=="string"?Ft.parse(Ut,this):Ut}}),Pt=it.kdf={},Nt=Pt.OpenSSL={execute:function(Ut,Ft,Kt,Mt){Mt||(Mt=ct.random(64/8));var xt=pt.create({keySize:Ft+Kt}).compute(Ut,Mt),Et=ct.create(xt.words.slice(Ft),Kt*4);return xt.sigBytes=Ft*4,wt.create({key:xt,iv:Et,salt:Mt})}},jt=ot.PasswordBasedCipher=St.extend({cfg:St.cfg.extend({kdf:Nt}),encrypt:function(Ut,Ft,Kt,Mt){Mt=this.cfg.extend(Mt);var xt=Mt.kdf.execute(Kt,Ut.keySize,Ut.ivSize);Mt.iv=xt.iv;var Et=St.encrypt.call(this,Ut,Ft,xt.key,Mt);return Et.mixIn(xt),Et},decrypt:function(Ut,Ft,Kt,Mt){Mt=this.cfg.extend(Mt),Ft=this._parse(Ft,Mt.format);var xt=Mt.kdf.execute(Kt,Ut.keySize,Ut.ivSize,Ft.salt);Mt.iv=xt.iv;var Et=St.decrypt.call(this,Ut,Ft,xt.key,Mt);return Et}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.mode.CFB=function(){var at=rt.lib.BlockCipherMode.extend();at.Encryptor=at.extend({processBlock:function(ot,st){var ct=this._cipher,lt=ct.blockSize;it.call(this,ot,st,lt,ct),this._prevBlock=ot.slice(st,st+lt)}}),at.Decryptor=at.extend({processBlock:function(ot,st){var ct=this._cipher,lt=ct.blockSize,ut=ot.slice(st,st+lt);it.call(this,ot,st,lt,ct),this._prevBlock=ut}});function it(ot,st,ct,lt){var ut=this._iv;if(ut){var dt=ut.slice(0);this._iv=void 0}else var dt=this._prevBlock;lt.encryptBlock(dt,0);for(var ft=0;ft<ct;ft++)ot[st+ft]^=dt[ft]}return at}(),rt.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.mode.CTR=function(){var at=rt.lib.BlockCipherMode.extend(),it=at.Encryptor=at.extend({processBlock:function(ot,st){var ct=this._cipher,lt=ct.blockSize,ut=this._iv,dt=this._counter;ut&&(dt=this._counter=ut.slice(0),this._iv=void 0);var ft=dt.slice(0);ct.encryptBlock(ft,0),dt[lt-1]=dt[lt-1]+1|0;for(var pt=0;pt<lt;pt++)ot[st+pt]^=ft[pt]}});return at.Decryptor=it,at}(),rt.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return rt.mode.CTRGladman=function(){var at=rt.lib.BlockCipherMode.extend();function it(ct){if((ct>>24&255)===255){var lt=ct>>16&255,ut=ct>>8&255,dt=ct&255;lt===255?(lt=0,ut===255?(ut=0,dt===255?dt=0:++dt):++ut):++lt,ct=0,ct+=lt<<16,ct+=ut<<8,ct+=dt}else ct+=1<<24;return ct}function ot(ct){return(ct[0]=it(ct[0]))===0&&(ct[1]=it(ct[1])),ct}var st=at.Encryptor=at.extend({processBlock:function(ct,lt){var ut=this._cipher,dt=ut.blockSize,ft=this._iv,pt=this._counter;ft&&(pt=this._counter=ft.slice(0),this._iv=void 0),ot(pt);var ht=pt.slice(0);ut.encryptBlock(ht,0);for(var yt=0;yt<dt;yt++)ct[lt+yt]^=ht[yt]}});return at.Decryptor=st,at}(),rt.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.mode.OFB=function(){var at=rt.lib.BlockCipherMode.extend(),it=at.Encryptor=at.extend({processBlock:function(ot,st){var ct=this._cipher,lt=ct.blockSize,ut=this._iv,dt=this._keystream;ut&&(dt=this._keystream=ut.slice(0),this._iv=void 0),ct.encryptBlock(dt,0);for(var ft=0;ft<lt;ft++)ot[st+ft]^=dt[ft]}});return at.Decryptor=it,at}(),rt.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.mode.ECB=function(){var at=rt.lib.BlockCipherMode.extend();return at.Encryptor=at.extend({processBlock:function(it,ot){this._cipher.encryptBlock(it,ot)}}),at.Decryptor=at.extend({processBlock:function(it,ot){this._cipher.decryptBlock(it,ot)}}),at}(),rt.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.pad.AnsiX923={pad:function(at,it){var ot=at.sigBytes,st=it*4,ct=st-ot%st,lt=ot+ct-1;at.clamp(),at.words[lt>>>2]|=ct<<24-lt%4*8,at.sigBytes+=ct},unpad:function(at){var it=at.words[at.sigBytes-1>>>2]&255;at.sigBytes-=it}},rt.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.pad.Iso10126={pad:function(at,it){var ot=it*4,st=ot-at.sigBytes%ot;at.concat(rt.lib.WordArray.random(st-1)).concat(rt.lib.WordArray.create([st<<24],1))},unpad:function(at){var it=at.words[at.sigBytes-1>>>2]&255;at.sigBytes-=it}},rt.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.pad.Iso97971={pad:function(at,it){at.concat(rt.lib.WordArray.create([2147483648],1)),rt.pad.ZeroPadding.pad(at,it)},unpad:function(at){rt.pad.ZeroPadding.unpad(at),at.sigBytes--}},rt.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.pad.ZeroPadding={pad:function(at,it){var ot=it*4;at.clamp(),at.sigBytes+=ot-(at.sigBytes%ot||ot)},unpad:function(at){for(var it=at.words,ot=at.sigBytes-1;!(it[ot>>>2]>>>24-ot%4*8&255);)ot--;at.sigBytes=ot+1}},rt.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return rt.pad.NoPadding={pad:function(){},unpad:function(){}},rt.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireCipherCore())})(commonjsGlobal,function(rt){return function(at){var it=rt,ot=it.lib,st=ot.CipherParams,ct=it.enc,lt=ct.Hex,ut=it.format;ut.Hex={stringify:function(dt){return dt.ciphertext.toString(lt)},parse:function(dt){var ft=lt.parse(dt);return st.create({ciphertext:ft})}}}(),rt.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.BlockCipher,st=at.algo,ct=[],lt=[],ut=[],dt=[],ft=[],pt=[],ht=[],yt=[],mt=[],gt=[];(function(){for(var wt=[],Tt=0;Tt<256;Tt++)Tt<128?wt[Tt]=Tt<<1:wt[Tt]=Tt<<1^283;for(var _t=0,St=0,Tt=0;Tt<256;Tt++){var Pt=St^St<<1^St<<2^St<<3^St<<4;Pt=Pt>>>8^Pt&255^99,ct[_t]=Pt,lt[Pt]=_t;var Nt=wt[_t],jt=wt[Nt],Ut=wt[jt],Ft=wt[Pt]*257^Pt*16843008;ut[_t]=Ft<<24|Ft>>>8,dt[_t]=Ft<<16|Ft>>>16,ft[_t]=Ft<<8|Ft>>>24,pt[_t]=Ft;var Ft=Ut*16843009^jt*65537^Nt*257^_t*16843008;ht[Pt]=Ft<<24|Ft>>>8,yt[Pt]=Ft<<16|Ft>>>16,mt[Pt]=Ft<<8|Ft>>>24,gt[Pt]=Ft,_t?(_t=Nt^wt[wt[wt[Ut^Nt]]],St^=wt[wt[St]]):_t=St=1}})();var bt=[0,1,2,4,8,16,32,64,128,27,54],vt=st.AES=ot.extend({_doReset:function(){if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var wt=this._keyPriorReset=this._key,Tt=wt.words,_t=wt.sigBytes/4,St=this._nRounds=_t+6,Pt=(St+1)*4,Nt=this._keySchedule=[],jt=0;jt<Pt;jt++)if(jt<_t)Nt[jt]=Tt[jt];else{var Ut=Nt[jt-1];jt%_t?_t>6&&jt%_t==4&&(Ut=ct[Ut>>>24]<<24|ct[Ut>>>16&255]<<16|ct[Ut>>>8&255]<<8|ct[Ut&255]):(Ut=Ut<<8|Ut>>>24,Ut=ct[Ut>>>24]<<24|ct[Ut>>>16&255]<<16|ct[Ut>>>8&255]<<8|ct[Ut&255],Ut^=bt[jt/_t|0]<<24),Nt[jt]=Nt[jt-_t]^Ut}for(var Ft=this._invKeySchedule=[],Kt=0;Kt<Pt;Kt++){var jt=Pt-Kt;if(Kt%4)var Ut=Nt[jt];else var Ut=Nt[jt-4];Kt<4||jt<=4?Ft[Kt]=Ut:Ft[Kt]=ht[ct[Ut>>>24]]^yt[ct[Ut>>>16&255]]^mt[ct[Ut>>>8&255]]^gt[ct[Ut&255]]}}},encryptBlock:function(wt,Tt){this._doCryptBlock(wt,Tt,this._keySchedule,ut,dt,ft,pt,ct)},decryptBlock:function(wt,Tt){var _t=wt[Tt+1];wt[Tt+1]=wt[Tt+3],wt[Tt+3]=_t,this._doCryptBlock(wt,Tt,this._invKeySchedule,ht,yt,mt,gt,lt);var _t=wt[Tt+1];wt[Tt+1]=wt[Tt+3],wt[Tt+3]=_t},_doCryptBlock:function(wt,Tt,_t,St,Pt,Nt,jt,Ut){for(var Ft=this._nRounds,Kt=wt[Tt]^_t[0],Mt=wt[Tt+1]^_t[1],xt=wt[Tt+2]^_t[2],Et=wt[Tt+3]^_t[3],Rt=4,Lt=1;Lt<Ft;Lt++){var Bt=St[Kt>>>24]^Pt[Mt>>>16&255]^Nt[xt>>>8&255]^jt[Et&255]^_t[Rt++],Ot=St[Mt>>>24]^Pt[xt>>>16&255]^Nt[Et>>>8&255]^jt[Kt&255]^_t[Rt++],qt=St[xt>>>24]^Pt[Et>>>16&255]^Nt[Kt>>>8&255]^jt[Mt&255]^_t[Rt++],At=St[Et>>>24]^Pt[Kt>>>16&255]^Nt[Mt>>>8&255]^jt[xt&255]^_t[Rt++];Kt=Bt,Mt=Ot,xt=qt,Et=At}var Bt=(Ut[Kt>>>24]<<24|Ut[Mt>>>16&255]<<16|Ut[xt>>>8&255]<<8|Ut[Et&255])^_t[Rt++],Ot=(Ut[Mt>>>24]<<24|Ut[xt>>>16&255]<<16|Ut[Et>>>8&255]<<8|Ut[Kt&255])^_t[Rt++],qt=(Ut[xt>>>24]<<24|Ut[Et>>>16&255]<<16|Ut[Kt>>>8&255]<<8|Ut[Mt&255])^_t[Rt++],At=(Ut[Et>>>24]<<24|Ut[Kt>>>16&255]<<16|Ut[Mt>>>8&255]<<8|Ut[xt&255])^_t[Rt++];wt[Tt]=Bt,wt[Tt+1]=Ot,wt[Tt+2]=qt,wt[Tt+3]=At},keySize:256/32});at.AES=ot._createHelper(vt)}(),rt.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.WordArray,st=it.BlockCipher,ct=at.algo,lt=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],ut=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],dt=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],ft=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],pt=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],ht=ct.DES=st.extend({_doReset:function(){for(var bt=this._key,vt=bt.words,wt=[],Tt=0;Tt<56;Tt++){var _t=lt[Tt]-1;wt[Tt]=vt[_t>>>5]>>>31-_t%32&1}for(var St=this._subKeys=[],Pt=0;Pt<16;Pt++){for(var Nt=St[Pt]=[],jt=dt[Pt],Tt=0;Tt<24;Tt++)Nt[Tt/6|0]|=wt[(ut[Tt]-1+jt)%28]<<31-Tt%6,Nt[4+(Tt/6|0)]|=wt[28+(ut[Tt+24]-1+jt)%28]<<31-Tt%6;Nt[0]=Nt[0]<<1|Nt[0]>>>31;for(var Tt=1;Tt<7;Tt++)Nt[Tt]=Nt[Tt]>>>(Tt-1)*4+3;Nt[7]=Nt[7]<<5|Nt[7]>>>27}for(var Ut=this._invSubKeys=[],Tt=0;Tt<16;Tt++)Ut[Tt]=St[15-Tt]},encryptBlock:function(bt,vt){this._doCryptBlock(bt,vt,this._subKeys)},decryptBlock:function(bt,vt){this._doCryptBlock(bt,vt,this._invSubKeys)},_doCryptBlock:function(bt,vt,wt){this._lBlock=bt[vt],this._rBlock=bt[vt+1],yt.call(this,4,252645135),yt.call(this,16,65535),mt.call(this,2,858993459),mt.call(this,8,16711935),yt.call(this,1,1431655765);for(var Tt=0;Tt<16;Tt++){for(var _t=wt[Tt],St=this._lBlock,Pt=this._rBlock,Nt=0,jt=0;jt<8;jt++)Nt|=ft[jt][((Pt^_t[jt])&pt[jt])>>>0];this._lBlock=Pt,this._rBlock=St^Nt}var Ut=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Ut,yt.call(this,1,1431655765),mt.call(this,8,16711935),mt.call(this,2,858993459),yt.call(this,16,65535),yt.call(this,4,252645135),bt[vt]=this._lBlock,bt[vt+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function yt(bt,vt){var wt=(this._lBlock>>>bt^this._rBlock)&vt;this._rBlock^=wt,this._lBlock^=wt<<bt}function mt(bt,vt){var wt=(this._rBlock>>>bt^this._lBlock)&vt;this._lBlock^=wt,this._rBlock^=wt<<bt}at.DES=st._createHelper(ht);var gt=ct.TripleDES=st.extend({_doReset:function(){var bt=this._key,vt=bt.words;this._des1=ht.createEncryptor(ot.create(vt.slice(0,2))),this._des2=ht.createEncryptor(ot.create(vt.slice(2,4))),this._des3=ht.createEncryptor(ot.create(vt.slice(4,6)))},encryptBlock:function(bt,vt){this._des1.encryptBlock(bt,vt),this._des2.decryptBlock(bt,vt),this._des3.encryptBlock(bt,vt)},decryptBlock:function(bt,vt){this._des3.decryptBlock(bt,vt),this._des2.encryptBlock(bt,vt),this._des1.decryptBlock(bt,vt)},keySize:192/32,ivSize:64/32,blockSize:64/32});at.TripleDES=st._createHelper(gt)}(),rt.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.StreamCipher,st=at.algo,ct=st.RC4=ot.extend({_doReset:function(){for(var dt=this._key,ft=dt.words,pt=dt.sigBytes,ht=this._S=[],yt=0;yt<256;yt++)ht[yt]=yt;for(var yt=0,mt=0;yt<256;yt++){var gt=yt%pt,bt=ft[gt>>>2]>>>24-gt%4*8&255;mt=(mt+ht[yt]+bt)%256;var vt=ht[yt];ht[yt]=ht[mt],ht[mt]=vt}this._i=this._j=0},_doProcessBlock:function(dt,ft){dt[ft]^=lt.call(this)},keySize:256/32,ivSize:0});function lt(){for(var dt=this._S,ft=this._i,pt=this._j,ht=0,yt=0;yt<4;yt++){ft=(ft+1)%256,pt=(pt+dt[ft])%256;var mt=dt[ft];dt[ft]=dt[pt],dt[pt]=mt,ht|=dt[(dt[ft]+dt[pt])%256]<<24-yt*8}return this._i=ft,this._j=pt,ht}at.RC4=ot._createHelper(ct);var ut=st.RC4Drop=ct.extend({cfg:ct.cfg.extend({drop:192}),_doReset:function(){ct._doReset.call(this);for(var dt=this.cfg.drop;dt>0;dt--)lt.call(this)}});at.RC4Drop=ot._createHelper(ut)}(),rt.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.StreamCipher,st=at.algo,ct=[],lt=[],ut=[],dt=st.Rabbit=ot.extend({_doReset:function(){for(var pt=this._key.words,ht=this.cfg.iv,yt=0;yt<4;yt++)pt[yt]=(pt[yt]<<8|pt[yt]>>>24)&16711935|(pt[yt]<<24|pt[yt]>>>8)&4278255360;var mt=this._X=[pt[0],pt[3]<<16|pt[2]>>>16,pt[1],pt[0]<<16|pt[3]>>>16,pt[2],pt[1]<<16|pt[0]>>>16,pt[3],pt[2]<<16|pt[1]>>>16],gt=this._C=[pt[2]<<16|pt[2]>>>16,pt[0]&4294901760|pt[1]&65535,pt[3]<<16|pt[3]>>>16,pt[1]&4294901760|pt[2]&65535,pt[0]<<16|pt[0]>>>16,pt[2]&4294901760|pt[3]&65535,pt[1]<<16|pt[1]>>>16,pt[3]&4294901760|pt[0]&65535];this._b=0;for(var yt=0;yt<4;yt++)ft.call(this);for(var yt=0;yt<8;yt++)gt[yt]^=mt[yt+4&7];if(ht){var bt=ht.words,vt=bt[0],wt=bt[1],Tt=(vt<<8|vt>>>24)&16711935|(vt<<24|vt>>>8)&4278255360,_t=(wt<<8|wt>>>24)&16711935|(wt<<24|wt>>>8)&4278255360,St=Tt>>>16|_t&4294901760,Pt=_t<<16|Tt&65535;gt[0]^=Tt,gt[1]^=St,gt[2]^=_t,gt[3]^=Pt,gt[4]^=Tt,gt[5]^=St,gt[6]^=_t,gt[7]^=Pt;for(var yt=0;yt<4;yt++)ft.call(this)}},_doProcessBlock:function(pt,ht){var yt=this._X;ft.call(this),ct[0]=yt[0]^yt[5]>>>16^yt[3]<<16,ct[1]=yt[2]^yt[7]>>>16^yt[5]<<16,ct[2]=yt[4]^yt[1]>>>16^yt[7]<<16,ct[3]=yt[6]^yt[3]>>>16^yt[1]<<16;for(var mt=0;mt<4;mt++)ct[mt]=(ct[mt]<<8|ct[mt]>>>24)&16711935|(ct[mt]<<24|ct[mt]>>>8)&4278255360,pt[ht+mt]^=ct[mt]},blockSize:128/32,ivSize:64/32});function ft(){for(var pt=this._X,ht=this._C,yt=0;yt<8;yt++)lt[yt]=ht[yt];ht[0]=ht[0]+1295307597+this._b|0,ht[1]=ht[1]+3545052371+(ht[0]>>>0<lt[0]>>>0?1:0)|0,ht[2]=ht[2]+886263092+(ht[1]>>>0<lt[1]>>>0?1:0)|0,ht[3]=ht[3]+1295307597+(ht[2]>>>0<lt[2]>>>0?1:0)|0,ht[4]=ht[4]+3545052371+(ht[3]>>>0<lt[3]>>>0?1:0)|0,ht[5]=ht[5]+886263092+(ht[4]>>>0<lt[4]>>>0?1:0)|0,ht[6]=ht[6]+1295307597+(ht[5]>>>0<lt[5]>>>0?1:0)|0,ht[7]=ht[7]+3545052371+(ht[6]>>>0<lt[6]>>>0?1:0)|0,this._b=ht[7]>>>0<lt[7]>>>0?1:0;for(var yt=0;yt<8;yt++){var mt=pt[yt]+ht[yt],gt=mt&65535,bt=mt>>>16,vt=((gt*gt>>>17)+gt*bt>>>15)+bt*bt,wt=((mt&4294901760)*mt|0)+((mt&65535)*mt|0);ut[yt]=vt^wt}pt[0]=ut[0]+(ut[7]<<16|ut[7]>>>16)+(ut[6]<<16|ut[6]>>>16)|0,pt[1]=ut[1]+(ut[0]<<8|ut[0]>>>24)+ut[7]|0,pt[2]=ut[2]+(ut[1]<<16|ut[1]>>>16)+(ut[0]<<16|ut[0]>>>16)|0,pt[3]=ut[3]+(ut[2]<<8|ut[2]>>>24)+ut[1]|0,pt[4]=ut[4]+(ut[3]<<16|ut[3]>>>16)+(ut[2]<<16|ut[2]>>>16)|0,pt[5]=ut[5]+(ut[4]<<8|ut[4]>>>24)+ut[3]|0,pt[6]=ut[6]+(ut[5]<<16|ut[5]>>>16)+(ut[4]<<16|ut[4]>>>16)|0,pt[7]=ut[7]+(ut[6]<<8|ut[6]>>>24)+ut[5]|0}at.Rabbit=ot._createHelper(dt)}(),rt.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(rt){return function(){var at=rt,it=at.lib,ot=it.StreamCipher,st=at.algo,ct=[],lt=[],ut=[],dt=st.RabbitLegacy=ot.extend({_doReset:function(){var pt=this._key.words,ht=this.cfg.iv,yt=this._X=[pt[0],pt[3]<<16|pt[2]>>>16,pt[1],pt[0]<<16|pt[3]>>>16,pt[2],pt[1]<<16|pt[0]>>>16,pt[3],pt[2]<<16|pt[1]>>>16],mt=this._C=[pt[2]<<16|pt[2]>>>16,pt[0]&4294901760|pt[1]&65535,pt[3]<<16|pt[3]>>>16,pt[1]&4294901760|pt[2]&65535,pt[0]<<16|pt[0]>>>16,pt[2]&4294901760|pt[3]&65535,pt[1]<<16|pt[1]>>>16,pt[3]&4294901760|pt[0]&65535];this._b=0;for(var gt=0;gt<4;gt++)ft.call(this);for(var gt=0;gt<8;gt++)mt[gt]^=yt[gt+4&7];if(ht){var bt=ht.words,vt=bt[0],wt=bt[1],Tt=(vt<<8|vt>>>24)&16711935|(vt<<24|vt>>>8)&4278255360,_t=(wt<<8|wt>>>24)&16711935|(wt<<24|wt>>>8)&4278255360,St=Tt>>>16|_t&4294901760,Pt=_t<<16|Tt&65535;mt[0]^=Tt,mt[1]^=St,mt[2]^=_t,mt[3]^=Pt,mt[4]^=Tt,mt[5]^=St,mt[6]^=_t,mt[7]^=Pt;for(var gt=0;gt<4;gt++)ft.call(this)}},_doProcessBlock:function(pt,ht){var yt=this._X;ft.call(this),ct[0]=yt[0]^yt[5]>>>16^yt[3]<<16,ct[1]=yt[2]^yt[7]>>>16^yt[5]<<16,ct[2]=yt[4]^yt[1]>>>16^yt[7]<<16,ct[3]=yt[6]^yt[3]>>>16^yt[1]<<16;for(var mt=0;mt<4;mt++)ct[mt]=(ct[mt]<<8|ct[mt]>>>24)&16711935|(ct[mt]<<24|ct[mt]>>>8)&4278255360,pt[ht+mt]^=ct[mt]},blockSize:128/32,ivSize:64/32});function ft(){for(var pt=this._X,ht=this._C,yt=0;yt<8;yt++)lt[yt]=ht[yt];ht[0]=ht[0]+1295307597+this._b|0,ht[1]=ht[1]+3545052371+(ht[0]>>>0<lt[0]>>>0?1:0)|0,ht[2]=ht[2]+886263092+(ht[1]>>>0<lt[1]>>>0?1:0)|0,ht[3]=ht[3]+1295307597+(ht[2]>>>0<lt[2]>>>0?1:0)|0,ht[4]=ht[4]+3545052371+(ht[3]>>>0<lt[3]>>>0?1:0)|0,ht[5]=ht[5]+886263092+(ht[4]>>>0<lt[4]>>>0?1:0)|0,ht[6]=ht[6]+1295307597+(ht[5]>>>0<lt[5]>>>0?1:0)|0,ht[7]=ht[7]+3545052371+(ht[6]>>>0<lt[6]>>>0?1:0)|0,this._b=ht[7]>>>0<lt[7]>>>0?1:0;for(var yt=0;yt<8;yt++){var mt=pt[yt]+ht[yt],gt=mt&65535,bt=mt>>>16,vt=((gt*gt>>>17)+gt*bt>>>15)+bt*bt,wt=((mt&4294901760)*mt|0)+((mt&65535)*mt|0);ut[yt]=vt^wt}pt[0]=ut[0]+(ut[7]<<16|ut[7]>>>16)+(ut[6]<<16|ut[6]>>>16)|0,pt[1]=ut[1]+(ut[0]<<8|ut[0]>>>24)+ut[7]|0,pt[2]=ut[2]+(ut[1]<<16|ut[1]>>>16)+(ut[0]<<16|ut[0]>>>16)|0,pt[3]=ut[3]+(ut[2]<<8|ut[2]>>>24)+ut[1]|0,pt[4]=ut[4]+(ut[3]<<16|ut[3]>>>16)+(ut[2]<<16|ut[2]>>>16)|0,pt[5]=ut[5]+(ut[4]<<8|ut[4]>>>24)+ut[3]|0,pt[6]=ut[6]+(ut[5]<<16|ut[5]>>>16)+(ut[4]<<16|ut[4]>>>16)|0,pt[7]=ut[7]+(ut[6]<<8|ut[6]>>>24)+ut[5]|0}at.RabbitLegacy=ot._createHelper(dt)}(),rt.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}(function(o,a){(function(rt,at,it){o.exports=at(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireMd5(),requireSha1(),sha256.exports,requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy())})(commonjsGlobal,function(rt){return rt})})(cryptoJs);var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Base$1,"__esModule",{value:!0});Base$1.Base=void 0;const buffer_1$2=buffer,crypto_js_1=__importDefault$2(cryptoJs.exports);class Base{print(){Base.print(this)}_bufferIndexOf(a,rt){for(let at=0;at<a.length;at++)if(rt.equals(a[at]))return at;return-1}static bufferify(a){if(!buffer_1$2.Buffer.isBuffer(a)){if(typeof a=="object"&&a.words)return buffer_1$2.Buffer.from(a.toString(crypto_js_1.default.enc.Hex),"hex");if(Base.isHexString(a))return buffer_1$2.Buffer.from(a.replace(/^0x/,""),"hex");if(typeof a=="string")return buffer_1$2.Buffer.from(a);if(typeof a=="number"){let rt=a.toString();return rt.length%2&&(rt=`0${rt}`),buffer_1$2.Buffer.from(rt,"hex")}else if(ArrayBuffer.isView(a))return buffer_1$2.Buffer.from(a.buffer,a.byteOffset,a.byteLength)}return a}static isHexString(a){return typeof a=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(a)}static print(a){console.log(a.toString())}bufferToHex(a,rt=!0){return Base.bufferToHex(a,rt)}static bufferToHex(a,rt=!0){return`${rt?"0x":""}${(a||buffer_1$2.Buffer.alloc(0)).toString("hex")}`}bufferify(a){return Base.bufferify(a)}bufferifyFn(a){return rt=>{const at=a(rt);return buffer_1$2.Buffer.isBuffer(at)?at:this._isHexString(at)?buffer_1$2.Buffer.from(at.replace("0x",""),"hex"):typeof at=="string"?buffer_1$2.Buffer.from(at):ArrayBuffer.isView(at)?buffer_1$2.Buffer.from(at.buffer,at.byteOffset,at.byteLength):buffer_1$2.Buffer.from(a(crypto_js_1.default.enc.Hex.parse(rt.toString("hex"))).toString(crypto_js_1.default.enc.Hex),"hex")}}_isHexString(a){return Base.isHexString(a)}_log2(a){return a===1?0:1+this._log2(a/2|0)}_zip(a,rt){return a.map((at,it)=>[at,rt[it]])}}Base$1.Base=Base;Base$1.default=Base;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(MerkleTree$1,"__esModule",{value:!0});MerkleTree$1.MerkleTree=void 0;const buffer_1$1=buffer,buffer_reverse_1=__importDefault$1(bufferReverse),sha256_1$1=__importDefault$1(sha256.exports),treeify_1=__importDefault$1(treeify.exports),Base_1$1=__importDefault$1(Base$1);class MerkleTree extends Base_1$1.default{constructor(a,rt=sha256_1$1.default,at={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.isBitcoinTree=!!at.isBitcoinTree,this.hashLeaves=!!at.hashLeaves,this.sortLeaves=!!at.sortLeaves,this.sortPairs=!!at.sortPairs,at.fillDefaultHash)if(typeof at.fillDefaultHash=="function")this.fillDefaultHash=at.fillDefaultHash;else if(buffer_1$1.Buffer.isBuffer(at.fillDefaultHash)||typeof at.fillDefaultHash=="string")this.fillDefaultHash=(it,ot)=>at.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!at.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!at.duplicateOdd,this.hashFn=this.bufferifyFn(rt),this.processLeaves(a)}processLeaves(a){if(this.hashLeaves&&(a=a.map(this.hashFn)),this.leaves=a.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(buffer_1$1.Buffer.compare)),this.fillDefaultHash)for(let rt=0;rt<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));rt++)rt>=this.leaves.length&&this.leaves.push(this.bufferify(this.fillDefaultHash(rt,this.hashFn)));this.layers=[this.leaves],this._createHashes(this.leaves)}_createHashes(a){for(;a.length>1;){const rt=this.layers.length;this.layers.push([]);for(let at=0;at<a.length;at+=2){if(at+1===a.length&&a.length%2===1){let ut=a[a.length-1],dt=ut;if(this.isBitcoinTree){ut=buffer_1$1.Buffer.concat([buffer_reverse_1.default(ut),buffer_reverse_1.default(ut)]),dt=this.hashFn(ut),dt=buffer_reverse_1.default(this.hashFn(dt)),this.layers[rt].push(dt);continue}else if(!this.duplicateOdd){this.layers[rt].push(a[at]);continue}}const it=a[at],ot=at+1===a.length?it:a[at+1];let st=null,ct=null;this.isBitcoinTree?ct=[buffer_reverse_1.default(it),buffer_reverse_1.default(ot)]:ct=[it,ot],this.sortPairs&&ct.sort(buffer_1$1.Buffer.compare),st=buffer_1$1.Buffer.concat(ct);let lt=this.hashFn(st);this.isBitcoinTree&&(lt=buffer_reverse_1.default(this.hashFn(lt))),this.layers[rt].push(lt)}a=this.layers[rt]}}addLeaf(a,rt=!1){rt&&(a=this.hashFn(a)),this.processLeaves(this.leaves.concat(a))}addLeaves(a,rt=!1){rt&&(a=a.map(this.hashFn)),this.processLeaves(this.leaves.concat(a))}getLeaves(a){return Array.isArray(a)?(this.hashLeaves&&(a=a.map(this.hashFn),this.sortLeaves&&(a=a.sort(buffer_1$1.Buffer.compare))),this.leaves.filter(rt=>this._bufferIndexOf(a,rt)!==-1)):this.leaves}getLeaf(a){return a<0||a>this.leaves.length-1?buffer_1$1.Buffer.from([]):this.leaves[a]}getLeafIndex(a){a=this.bufferify(a);const rt=this.getLeaves();for(let at=0;at<rt.length;at++)if(rt[at].equals(a))return at;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(a=>this.bufferToHex(a))}static marshalLeaves(a){return JSON.stringify(a.map(rt=>MerkleTree.bufferToHex(rt)),null,2)}static unmarshalLeaves(a){let rt=null;if(typeof a=="string")rt=JSON.parse(a);else if(a instanceof Object)rt=a;else throw new Error("Expected type of string or object");if(!rt)return[];if(!Array.isArray(rt))throw new Error("Expected JSON string to be array");return rt.map(MerkleTree.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((a,rt)=>(Array.isArray(rt)?a.push(rt.map(at=>this.bufferToHex(at))):a.push(rt),a),[])}getLayersFlat(){const a=this.layers.reduce((rt,at)=>(Array.isArray(at)?rt.unshift(...at):rt.unshift(at),rt),[]);return a.unshift(buffer_1$1.Buffer.from([0])),a}getHexLayersFlat(){return this.getLayersFlat().map(a=>this.bufferToHex(a))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?buffer_1$1.Buffer.from([]):this.layers[this.layers.length-1][0]||buffer_1$1.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(a,rt){if(typeof a>"u")throw new Error("leaf is required");a=this.bufferify(a);const at=[];if(!Number.isInteger(rt)){rt=-1;for(let it=0;it<this.leaves.length;it++)buffer_1$1.Buffer.compare(a,this.leaves[it])===0&&(rt=it)}if(rt<=-1)return[];for(let it=0;it<this.layers.length;it++){const ot=this.layers[it],st=rt%2,ct=st?rt-1:this.isBitcoinTree&&rt===ot.length-1&&it<this.layers.length-1?rt:rt+1;ct<ot.length&&at.push({position:st?"left":"right",data:ot[ct]}),rt=rt/2|0}return at}getHexProof(a,rt){return this.getProof(a,rt).map(at=>this.bufferToHex(at.data))}getPositionalHexProof(a,rt){return this.getProof(a,rt).map(at=>[at.position==="left"?0:1,this.bufferToHex(at.data)])}static marshalProof(a){const rt=a.map(at=>typeof at=="string"?at:buffer_1$1.Buffer.isBuffer(at)?MerkleTree.bufferToHex(at):{position:at.position,data:MerkleTree.bufferToHex(at.data)});return JSON.stringify(rt,null,2)}static unmarshalProof(a){let rt=null;if(typeof a=="string")rt=JSON.parse(a);else if(a instanceof Object)rt=a;else throw new Error("Expected type of string or object");if(!rt)return[];if(!Array.isArray(rt))throw new Error("Expected JSON string to be array");return rt.map(at=>{if(typeof at=="string")return MerkleTree.bufferify(at);if(at instanceof Object)return{position:at.position,data:MerkleTree.bufferify(at.data)};throw new Error("Expected item to be of type string or object")})}getProofIndices(a,rt){const at=Math.pow(2,rt);let it=new Set;for(const ut of a){let dt=at+ut;for(;dt>1;)it.add(dt^1),dt=dt/2|0}const ot=a.map(ut=>at+ut),st=Array.from(it).sort((ut,dt)=>ut-dt).reverse();it=ot.concat(st);const ct=new Set,lt=[];for(let ut of it)if(!ct.has(ut))for(lt.push(ut);ut>1&&(ct.add(ut),!!ct.has(ut^1));)ut=ut/2|0;return lt.filter(ut=>!a.includes(ut-at))}getProofIndicesForUnevenTree(a,rt){const at=Math.ceil(Math.log2(rt)),it=[];for(let ct=0;ct<at;ct++)rt%2!==0&&it.push({index:ct,leavesCount:rt}),rt=Math.ceil(rt/2);const ot=[];let st=a;for(let ct=0;ct<at;ct++){let ut=st.map(ft=>ft%2===0?ft+1:ft-1).filter(ft=>!st.includes(ft));const dt=it.find(({index:ft})=>ft===ct);dt&&st.includes(dt.leavesCount-1)&&(ut=ut.slice(0,-1)),ot.push(ut),st=[...new Set(st.map(ft=>ft%2===0?ft/2:ft%2===0?(ft+1)/2:(ft-1)/2))]}return ot}getMultiProof(a,rt){if(rt||(rt=a,a=this.getLayersFlat()),this.isUnevenTree()&&rt.every(Number.isInteger))return this.getMultiProofForUnevenTree(rt);if(!rt.every(Number.isInteger)){let it=rt;this.sortPairs&&(it=it.sort(buffer_1$1.Buffer.compare));let ot=it.map(ut=>this._bufferIndexOf(this.leaves,ut)).sort((ut,dt)=>ut===dt?0:ut>dt?1:-1);if(!ot.every(ut=>ut!==-1))throw new Error("Element does not exist in Merkle tree");const st=[],ct=[];let lt=[];for(let ut=0;ut<this.layers.length;ut++){const dt=this.layers[ut];for(let ft=0;ft<ot.length;ft++){const pt=ot[ft],ht=this._getPairNode(dt,pt);st.push(dt[pt]),ht&&ct.push(ht),lt.push(pt/2|0)}ot=lt.filter((ft,pt,ht)=>ht.indexOf(ft)===pt),lt=[]}return ct.filter(ut=>!st.includes(ut))}return this.getProofIndices(rt,this._log2(a.length/2|0)).map(it=>a[it])}getMultiProofForUnevenTree(a,rt){rt||(rt=a,a=this.getLayers());let at=[],it=rt;for(const ot of a){const st=[];for(const lt of it){if(lt%2===0){const dt=lt+1;if(!it.includes(dt)&&ot[dt]){st.push(ot[dt]);continue}}const ut=lt-1;if(!it.includes(ut)&&ot[ut]){st.push(ot[ut]);continue}}at=at.concat(st);const ct=new Set;for(const lt of it){if(lt%2===0){ct.add(lt/2);continue}if(lt%2===0){ct.add((lt+1)/2);continue}ct.add((lt-1)/2)}it=Array.from(ct)}return at}getHexMultiProof(a,rt){return this.getMultiProof(a,rt).map(at=>this.bufferToHex(at))}getProofFlags(a,rt){if(!Array.isArray(a)||a.length<=0)throw new Error("Invalid Inputs!");let at;if(a.every(Number.isInteger)?at=a.sort((ct,lt)=>ct===lt?0:ct>lt?1:-1):at=a.map(ct=>this._bufferIndexOf(this.leaves,ct)).sort((ct,lt)=>ct===lt?0:ct>lt?1:-1),!at.every(ct=>ct!==-1))throw new Error("Element does not exist in Merkle tree");const it=rt.map(ct=>this.bufferify(ct)),ot=[],st=[];for(let ct=0;ct<this.layers.length;ct++){const lt=this.layers[ct];at=at.reduce((ut,dt)=>{if(!ot.includes(lt[dt])){const pt=this._getPairNode(lt,dt),ht=it.includes(lt[dt])||it.includes(pt);pt&&st.push(!ht),ot.push(lt[dt]),ot.push(pt)}return ut.push(dt/2|0),ut},[])}return st}verify(a,rt,at){let it=this.bufferify(rt);if(at=this.bufferify(at),!Array.isArray(a)||!rt||!at)return!1;for(let ot=0;ot<a.length;ot++){const st=a[ot];let ct=null,lt=null;if(typeof st=="string")ct=this.bufferify(st),lt=!0;else if(Array.isArray(st))lt=st[0]===0,ct=this.bufferify(st[1]);else if(buffer_1$1.Buffer.isBuffer(st))ct=st,lt=!0;else if(st instanceof Object)ct=this.bufferify(st.data),lt=st.position==="left";else throw new Error("Expected node to be of type string or object");const ut=[];this.isBitcoinTree?(ut.push(buffer_reverse_1.default(it)),ut[lt?"unshift":"push"](buffer_reverse_1.default(ct)),it=this.hashFn(buffer_1$1.Buffer.concat(ut)),it=buffer_reverse_1.default(this.hashFn(it))):this.sortPairs?buffer_1$1.Buffer.compare(it,ct)===-1?(ut.push(it,ct),it=this.hashFn(buffer_1$1.Buffer.concat(ut))):(ut.push(ct,it),it=this.hashFn(buffer_1$1.Buffer.concat(ut))):(ut.push(it),ut[lt?"unshift":"push"](ct),it=this.hashFn(buffer_1$1.Buffer.concat(ut)))}return buffer_1$1.Buffer.compare(it,at)===0}verifyMultiProof(a,rt,at,it,ot){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(a,rt,at,it,ot);const ct=Math.ceil(Math.log2(it));a=this.bufferify(a),at=at.map(ft=>this.bufferify(ft)),ot=ot.map(ft=>this.bufferify(ft));const lt={};for(const[ft,pt]of this._zip(rt,at))lt[Math.pow(2,ct)+ft]=pt;for(const[ft,pt]of this._zip(this.getProofIndices(rt,ct),ot))lt[ft]=pt;let ut=Object.keys(lt).map(ft=>+ft).sort((ft,pt)=>ft-pt);ut=ut.slice(0,ut.length-1);let dt=0;for(;dt<ut.length;){const ft=ut[dt];if(ft>=2&&{}.hasOwnProperty.call(lt,ft^1)){let pt=[lt[ft-ft%2],lt[ft-ft%2+1]];this.sortPairs&&(pt=pt.sort(buffer_1$1.Buffer.compare));const ht=pt[1]?this.hashFn(buffer_1$1.Buffer.concat(pt)):pt[0];lt[ft/2|0]=ht,ut.push(ft/2|0)}dt+=1}return!rt.length||{}.hasOwnProperty.call(lt,1)&&lt[1].equals(a)}verifyMultiProofWithFlags(a,rt,at,it){a=this.bufferify(a),rt=rt.map(this.bufferify),at=at.map(this.bufferify);const ot=rt.length,st=it.length,ct=[];let lt=0,ut=0,dt=0;for(let ft=0;ft<st;ft++){const pt=it[ft]?lt<ot?rt[lt++]:ct[ut++]:at[dt++],ht=lt<ot?rt[lt++]:ct[ut++],yt=[pt,ht].sort(buffer_1$1.Buffer.compare);ct[ft]=this.hashFn(buffer_1$1.Buffer.concat(yt))}return buffer_1$1.Buffer.compare(ct[st-1],a)===0}verifyMultiProofForUnevenTree(a,rt,at,it,ot){a=this.bufferify(a),at=at.map(ct=>this.bufferify(ct)),ot=ot.map(ct=>this.bufferify(ct));const st=this.calculateRootForUnevenTree(rt,at,it,ot);return a.equals(st)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const a=this.getLayers().map(at=>at.map(it=>this.bufferToHex(it,!1))),rt=[];for(let at=0;at<a.length;at++){const it=[];for(let ot=0;ot<a[at].length;ot++){const st={[a[at][ot]]:null};if(rt.length){st[a[at][ot]]={};const ct=rt.shift(),lt=Object.keys(ct)[0];if(st[a[at][ot]][lt]=ct[lt],rt.length){const ut=rt.shift(),dt=Object.keys(ut)[0];st[a[at][ot]][dt]=ut[dt]}}it.push(st)}rt.push(...it)}return rt[0]}static verify(a,rt,at,it=sha256_1$1.default,ot={}){return new MerkleTree([],it,ot).verify(a,rt,at)}static getMultiProof(a,rt){return new MerkleTree([]).getMultiProof(a,rt)}resetTree(){this.leaves=[],this.layers=[]}_getPairNode(a,rt){const at=rt%2===0?rt+1:rt-1;return at<a.length?a[at]:null}_toTreeString(){const a=this.getLayersAsObject();return treeify_1.default.asTree(a,!0)}toString(){return this._toTreeString()}isUnevenTree(a){const rt=(a==null?void 0:a.length)||this.getDepth();return!this.isPowOf2(rt)}isPowOf2(a){return a&&!(a&a-1)}calculateRootForUnevenTree(a,rt,at,it){const ot=this._zip(a,rt).sort(([ft],[pt])=>ft-pt),st=ot.map(([ft])=>ft),ct=this.getProofIndicesForUnevenTree(st,at);let lt=0;const ut=[];for(let ft=0;ft<ct.length;ft++){const pt=ct[ft],ht=lt;lt+=pt.length,ut[ft]=this._zip(pt,it.slice(ht,lt))}const dt=[ot];for(let ft=0;ft<ut.length;ft++){const pt=ut[ft].concat(dt[ft]).sort(([gt],[bt])=>gt-bt).map(([,gt])=>gt),ht=dt[ft].map(([gt])=>gt),yt=[...new Set(ht.map(gt=>gt%2===0?gt/2:gt%2===0?(gt+1)/2:(gt-1)/2))],mt=[];for(let gt=0;gt<yt.length;gt++){const bt=yt[gt],vt=pt[gt*2],wt=pt[gt*2+1],Tt=wt?this.hashFn(buffer_1$1.Buffer.concat([vt,wt])):vt;mt.push([bt,Tt])}dt.push(mt)}return dt[dt.length-1][0][1]}}MerkleTree$1.MerkleTree=MerkleTree;typeof window<"u"&&(window.MerkleTree=MerkleTree);MerkleTree$1.default=MerkleTree;var MerkleMountainRange$1={},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(MerkleMountainRange$1,"__esModule",{value:!0});MerkleMountainRange$1.MerkleMountainRange=void 0;const buffer_1=buffer,sha256_1=__importDefault(sha256.exports),Base_1=__importDefault(Base$1);class MerkleMountainRange extends Base_1.default{constructor(a=sha256_1.default,rt=[],at,it,ot){super(),this.root=buffer_1.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},rt=rt.map(this.bufferify),this.hashFn=this.bufferifyFn(a),this.hashLeafFn=at,this.peakBaggingFn=it,this.hashBranchFn=ot;for(const st of rt)this.append(st)}append(a){a=this.bufferify(a);const rt=this.hashFn(a),at=this.bufferToHex(rt);(!this.data[at]||this.bufferToHex(this.hashFn(this.data[at]))!==at)&&(this.data[at]=a);const it=this.hashLeaf(this.size+1,rt);this.hashes[this.size+1]=it,this.width+=1;const ot=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const st=[];for(let ct=0;ct<ot.length;ct++)st[ct]=this._getOrCreateNode(ot[ct]);this.root=this.peakBagging(this.width,st)}hashLeaf(a,rt){return rt=this.bufferify(rt),this.hashLeafFn?this.bufferify(this.hashLeafFn(a,rt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(a),rt]))}hashBranch(a,rt,at){return this.hashBranchFn?this.bufferify(this.hashBranchFn(a,rt,at)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(a),this.bufferify(rt),this.bufferify(at)]))}getPeaks(){const a=this.getPeakIndexes(this.width),rt=[];for(let at=0;at<a.length;at++)rt[at]=this.hashes[a[at]];return rt}getLeafIndex(a){return a%2===1?this.getSize(a):this.getSize(a-1)+1}getPeakIndexes(a){const rt=this.numOfPeaks(a),at=[];let it=0,ot=0;for(let st=255;st>0&&!((a&1<<st-1)!==0&&(ot=ot+(1<<st)-1,at[it++]=ot,at.length>=rt));st--);if(it!==at.length)throw new Error("invalid bit calculation");return at}numOfPeaks(a){let rt=a,at=0;for(;rt>0;)rt%2===1&&at++,rt=rt>>1;return at}peakBagging(a,rt){const at=this.getSize(a);if(this.numOfPeaks(a)!==rt.length)throw new Error("received invalid number of peaks");return a===0&&!rt.length?buffer_1.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(at,rt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(at),...rt.map(this.bufferify)]))}getSize(a){return(a<<1)-this.numOfPeaks(a)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(a){return this.hashes[a]}mountainHeight(a){let rt=1;for(;1<<rt<=a+rt;)rt++;return rt-1}heightAt(a){let rt=a,at=0,it=0;for(;rt>at;)rt-=(1<<it)-1,it=this.mountainHeight(rt),at=(1<<it)-1;return it-(at-rt)}isLeaf(a){return this.heightAt(a)===1}getChildren(a){const rt=a-(1<<this.heightAt(a)-1),at=a-1;if(rt===at)throw new Error("not a parent");return[rt,at]}getMerkleProof(a){if(a>this.size)throw new Error("out of range");if(!this.isLeaf(a))throw new Error("not a leaf");const rt=this.root,at=this.width,it=this.getPeakIndexes(this.width),ot=[];let st=0;for(let ft=0;ft<it.length;ft++)ot[ft]=this.hashes[it[ft]],it[ft]>=a&&st===0&&(st=it[ft]);let ct=0,lt=0,ut=this.heightAt(st);const dt=[];for(;st!==a;)ut--,[ct,lt]=this.getChildren(st),st=a<=ct?ct:lt,dt[ut-1]=this.hashes[a<=ct?lt:ct];return{root:rt,width:at,peakBagging:ot,siblings:dt}}verify(a,rt,at,it,ot,st){if(it=this.bufferify(it),this.getSize(rt)<at)throw new Error("index is out of range");if(!a.equals(this.peakBagging(rt,ot)))throw new Error("invalid root hash from the peaks");let lt=0,ut;const dt=this.getPeakIndexes(rt);for(let gt=0;gt<dt.length;gt++)if(dt[gt]>=at){ut=ot[gt],lt=dt[gt];break}if(!ut)throw new Error("target not found");let ft=st.length+1;const pt=new Array(ft);let ht=0,yt=0;for(;ft>0&&(pt[--ft]=lt,lt!==at);)[ht,yt]=this.getChildren(lt),lt=at>ht?yt:ht;let mt;for(;ft<pt.length;)lt=pt[ft],ft===0?mt=this.hashLeaf(lt,this.hashFn(it)):lt-1===pt[ft-1]?mt=this.hashBranch(lt,st[ft-1],mt):mt=this.hashBranch(lt,mt,st[ft-1]),ft++;if(!mt.equals(ut))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(a,rt){const at={};let it=0,ot=0,st=rt.length;for(let ct=1;ct<=32;ct++)it=32-ct,ot=1<<ct-1,(a&ot)!==0?at[it]=rt[--st]:at[it]=0;if(st!==0)throw new Error("invalid number of peaks");return at}peakMapToPeaks(a,rt){const at=this.numOfPeaks(a),it=new Array(at);let ot=0;for(let st=0;st<32;st++)rt[st]!==0&&(it[ot++]=rt[st]);if(ot!==at)throw new Error("invalid number of peaks");return it}peakUpdate(a,rt,at){const it={},ot=a+1;let st=this.getLeafIndex(ot),ct=this.hashLeaf(st,at),lt=0,ut=0,dt=!1,ft=!1,pt=!1;for(let ht=1;ht<=32;ht++)lt=32-ht,pt?it[lt]=rt[lt]:(ut=1<<ht-1,dt=(a&ut)!==0,ft=(ot&ut)!==0,st++,dt&&(ct=this.hashBranch(st,rt[lt],ct)),ft?(dt?it[lt]=rt[lt]:it[lt]=ct,pt=!0):it[lt]=0);return it}rollUp(a,rt,at,it){if(!a.equals(this.peakBagging(rt,at)))throw new Error("invalid root hash from the peaks");let ot=rt,st=this.peaksToPeakMap(rt,at);for(let ct=0;ct<it.length;ct++)st=this.peakUpdate(ot,st,it[ct]),ot++;return this.peakBagging(ot,this.peakMapToPeaks(ot,st))}_getOrCreateNode(a){if(a>this.size)throw new Error("out of range");if(!this.hashes[a]){const[rt,at]=this.getChildren(a),it=this._getOrCreateNode(rt),ot=this._getOrCreateNode(at);this.hashes[a]=this.hashBranch(a,it,ot)}return this.hashes[a]}}MerkleMountainRange$1.MerkleMountainRange=MerkleMountainRange;MerkleMountainRange$1.default=MerkleMountainRange;(function(o){var a=commonjsGlobal&&commonjsGlobal.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(o,"__esModule",{value:!0}),o.MerkleTree=void 0;const rt=a(MerkleTree$1);o.MerkleTree=rt.default;var at=MerkleMountainRange$1;Object.defineProperty(o,"MerkleMountainRange",{enumerable:!0,get:function(){return at.MerkleMountainRange}}),o.default=rt.default})(dist);var fastDeepEqual=function o(a,rt){if(a===rt)return!0;if(a&&rt&&typeof a=="object"&&typeof rt=="object"){if(a.constructor!==rt.constructor)return!1;var at,it,ot;if(Array.isArray(a)){if(at=a.length,at!=rt.length)return!1;for(it=at;it--!==0;)if(!o(a[it],rt[it]))return!1;return!0}if(a.constructor===RegExp)return a.source===rt.source&&a.flags===rt.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===rt.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===rt.toString();if(ot=Object.keys(a),at=ot.length,at!==Object.keys(rt).length)return!1;for(it=at;it--!==0;)if(!Object.prototype.hasOwnProperty.call(rt,ot[it]))return!1;for(it=at;it--!==0;){var st=ot[it];if(!o(a[st],rt[st]))return!1}return!0}return a!==a&&rt!==rt};const ERC165Abi=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],ERC721MetadataAbi=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ERC1155MetadataAbi=[{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DeprecatedAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"}],name:"encryptedBaseURI",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}];function base(o){if(o.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),rt=0;rt<a.length;rt++)a[rt]=255;for(var at=0;at<o.length;at++){var it=o.charAt(at),ot=it.charCodeAt(0);if(a[ot]!==255)throw new TypeError(it+" is ambiguous");a[ot]=at}var st=o.length,ct=o.charAt(0),lt=Math.log(st)/Math.log(256),ut=Math.log(256)/Math.log(st);function dt(ht){if(ht instanceof Uint8Array||(ArrayBuffer.isView(ht)?ht=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):Array.isArray(ht)&&(ht=Uint8Array.from(ht))),!(ht instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ht.length===0)return"";for(var yt=0,mt=0,gt=0,bt=ht.length;gt!==bt&&ht[gt]===0;)gt++,yt++;for(var vt=(bt-gt)*ut+1>>>0,wt=new Uint8Array(vt);gt!==bt;){for(var Tt=ht[gt],_t=0,St=vt-1;(Tt!==0||_t<mt)&&St!==-1;St--,_t++)Tt+=256*wt[St]>>>0,wt[St]=Tt%st>>>0,Tt=Tt/st>>>0;if(Tt!==0)throw new Error("Non-zero carry");mt=_t,gt++}for(var Pt=vt-mt;Pt!==vt&&wt[Pt]===0;)Pt++;for(var Nt=ct.repeat(yt);Pt<vt;++Pt)Nt+=o.charAt(wt[Pt]);return Nt}function ft(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return new Uint8Array;for(var yt=0,mt=0,gt=0;ht[yt]===ct;)mt++,yt++;for(var bt=(ht.length-yt)*lt+1>>>0,vt=new Uint8Array(bt);ht[yt];){var wt=a[ht.charCodeAt(yt)];if(wt===255)return;for(var Tt=0,_t=bt-1;(wt!==0||Tt<gt)&&_t!==-1;_t--,Tt++)wt+=st*vt[_t]>>>0,vt[_t]=wt%256>>>0,wt=wt/256>>>0;if(wt!==0)throw new Error("Non-zero carry");gt=Tt,yt++}for(var St=bt-gt;St!==bt&&vt[St]===0;)St++;for(var Pt=new Uint8Array(mt+(bt-St)),Nt=mt;St!==bt;)Pt[Nt++]=vt[St++];return Pt}function pt(ht){var yt=ft(ht);if(yt)return yt;throw new Error("Non-base"+st+" character")}return{encode:dt,decodeUnsafe:ft,decode:pt}}var src$1=base;const basex=src$1,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET);const ContractPublisherAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"contract IContractPublisher",name:"_prevPublisher",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],indexed:!1,internalType:"struct IContractPublisher.CustomContractInstance",name:"publishedContract",type:"tuple"}],name:"ContractPublished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!0,internalType:"string",name:"contractId",type:"string"}],name:"ContractUnpublished",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"PublisherProfileUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"}],name:"getAllPublishedContracts",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContract",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance",name:"published",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContractVersions",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"compilerMetadataUri",type:"string"}],name:"getPublishedUriFromCompilerUri",outputs:[{internalType:"string[]",name:"publishedMetadataUris",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"}],name:"getPublisherProfileUri",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"prevPublisher",outputs:[{internalType:"contract IContractPublisher",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"},{internalType:"string",name:"_publishMetadataUri",type:"string"},{internalType:"string",name:"_compilerMetadataUri",type:"string"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"address",name:"_implementation",type:"address"}],name:"publishContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"setPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"setPublisherProfileUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"unpublishContract",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataUri",type:"string"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"}],name:"Deleted",type:"event"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgSender",outputs:[{internalType:"address",name:"sender",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"string",name:"metadataUri",type:"string"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"deploymentCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{components:[{internalType:"address",name:"deploymentAddress",type:"address"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"}],internalType:"struct ITWMultichainRegistry.Deployment[]",name:"allDeployments",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"address",name:"_deployment",type:"address"}],name:"getMetadataUri",outputs:[{internalType:"string",name:"metadataUri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryRouterABI=[{inputs:[{internalType:"address",name:"_pluginMap",type:"address"},{internalType:"address[]",name:"_trustedForwarders",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"_getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"registered",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"member",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRoleWithSwitch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pluginMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],GENERATED_ABI={},TWFactoryAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"address",name:"_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!0,internalType:"bytes32",name:"contractType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"version",type:"uint256"}],name:"ImplementationAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"bool",name:"isApproved",type:"bool"}],name:"ImplementationApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"address",name:"proxy",type:"address"},{indexed:!0,internalType:"address",name:"deployer",type:"address"}],name:"ProxyDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FACTORY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"}],name:"addImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"approval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"currentVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"deployProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyByImplementation",outputs:[{internalType:"address",name:"deployedProxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyDeterministic",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"uint256",name:"_version",type:"uint256"}],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"}],name:"getLatestImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract TWRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],TWRegistryABI$1=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Deleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],MAX_LENGTH=256,NUMERIC_IDENTIFIER="0|[1-9]\\d*",MAIN_VERSION_IDENTIFIER=`(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})`,REGEX_MAIN_VERSION=new RegExp(MAIN_VERSION_IDENTIFIER);function toSemver(o){if(o.length>MAX_LENGTH)throw new Error(`version is longer than ${MAX_LENGTH} characters`);const a=o.trim().match(REGEX_MAIN_VERSION);if(!a||(a==null?void 0:a.length)!==4)throw new Error(`${o} is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`);const rt=Number(a[1]),at=Number(a[2]),it=Number(a[3]),ot=[rt,at,it].join(".");return{major:rt,minor:at,patch:it,versionString:ot}}function isIncrementalVersion(o,a){const rt=toSemver(o),at=toSemver(a);if(at.major>rt.major)return!0;const it=at.major===rt.major;if(it&&at.minor>rt.minor)return!0;const ot=at.minor===rt.minor;return it&&ot&&at.patch>rt.patch}const BigNumberSchema=z$2.union([z$2.string(),z$2.number(),z$2.bigint(),z$2.custom(o=>BigNumber.isBigNumber(o))]).transform(o=>BigNumber.from(o)),BigNumberishSchema=BigNumberSchema.transform(o=>o.toString()),BigNumberTransformSchema=z$2.union([z$2.bigint(),z$2.custom(o=>BigNumber.isBigNumber(o))]).transform(o=>BigNumber.from(o).toString());function isSigner(o){return!!(o&&o._isSigner)}function isProvider(o){return!!(o&&o._isProvider)}const DEFAULT_BATCH_TIME_LIMIT_MS=50,DEFAULT_BATCH_SIZE_LIMIT=250,DEFAULT_BATCH_OPTIONS={timeLimitMs:DEFAULT_BATCH_TIME_LIMIT_MS,sizeLimit:DEFAULT_BATCH_SIZE_LIMIT};class StaticJsonRpcBatchProvider extends StaticJsonRpcProvider{constructor(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DEFAULT_BATCH_OPTIONS;super(a,rt),_defineProperty(this,"_timeLimitMs",void 0),_defineProperty(this,"_sizeLimit",void 0),_defineProperty(this,"_pendingBatchAggregator",void 0),_defineProperty(this,"_pendingBatch",void 0),this._timeLimitMs=at.timeLimitMs||DEFAULT_BATCH_SIZE_LIMIT,this._sizeLimit=at.sizeLimit||DEFAULT_BATCH_TIME_LIMIT_MS,this._pendingBatchAggregator=null,this._pendingBatch=null}sendCurrentBatch(a){this._pendingBatchAggregator&&clearTimeout(this._pendingBatchAggregator);const rt=this._pendingBatch||[];this._pendingBatch=null,this._pendingBatchAggregator=null;const at=rt.map(it=>it.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(a),provider:this}),fetchJson(this.connection,JSON.stringify(at)).then(it=>{this.emit("debug",{action:"response",request:at,response:it,provider:this}),rt.forEach((ot,st)=>{const ct=it[st];if(ct)if(ct.error){const lt=new Error(ct.error.message);lt.code=ct.error.code,lt.data=ct.error.data,ot.reject(lt)}else ot.resolve(ct.result);else ot.reject(new Error("No response for request"))})},it=>{this.emit("debug",{action:"response",error:it,request:at,provider:this}),rt.forEach(ot=>{ot.reject(it)})})}send(a,rt){const at={method:a,params:rt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch===null&&(this._pendingBatch=[]);const it={request:at,resolve:null,reject:null},ot=new Promise((st,ct)=>{it.resolve=st,it.reject=ct});return this._pendingBatch.push(it),this._pendingBatch.length===this._sizeLimit&&this.sendCurrentBatch(at),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{this.sendCurrentBatch(at)},this._timeLimitMs)),ot}}const ChainInfoInputSchema=z$2.object({rpc:z$2.array(z$2.string().url()),chainId:z$2.number(),nativeCurrency:z$2.object({name:z$2.string(),symbol:z$2.string(),decimals:z$2.number()}),slug:z$2.string()}),SDKOptionsSchema=z$2.object({supportedChains:z$2.array(ChainInfoInputSchema).default(defaultChains),thirdwebApiKey:z$2.string().default(DEFAULT_API_KEY$2),alchemyApiKey:z$2.string().optional(),infuraApiKey:z$2.string().optional(),readonlySettings:z$2.object({rpcUrl:z$2.string().url(),chainId:z$2.number().optional()}).optional(),gasSettings:z$2.object({maxPriceInGwei:z$2.number().min(1,"gas price cannot be less than 1").default(300),speed:z$2.enum(["standard","fast","fastest"]).default("fastest")}).default({maxPriceInGwei:300,speed:"fastest"}),gasless:z$2.union([z$2.object({openzeppelin:z$2.object({relayerUrl:z$2.string().url(),relayerForwarderAddress:z$2.string().optional(),useEOAForwarder:z$2.boolean().default(!1),domainName:z$2.string().default("GSNv2 Forwarder"),domainVersion:z$2.string().default("0.0.1")}),experimentalChainlessSupport:z$2.boolean().default(!1)}),z$2.object({biconomy:z$2.object({apiId:z$2.string(),apiKey:z$2.string(),deadlineSeconds:z$2.number().min(1,"deadlineSeconds cannot be les than 1").default(3600)})})]).optional(),gatewayUrls:z$2.array(z$2.string()).optional()}).default({gasSettings:{maxPriceInGwei:300,speed:"fastest"}});function buildDefaultMap(o){return o.supportedChains.reduce((a,rt)=>(a[rt.chainId]=rt,a),{})}function getChainProvider(o,a){if(typeof o=="string"&&isRpcUrl(o))return getProviderFromRpcUrl(o);const rt=SDKOptionsSchema.parse(a);isChainConfig(o)&&(rt.supportedChains=[o,...rt.supportedChains]);const at=buildDefaultMap(rt);let it="",ot;try{ot=getChainIdFromNetwork(o,rt),it=getChainRPC(at[ot],{thirdwebApiKey:rt.thirdwebApiKey||DEFAULT_API_KEY$2,infuraApiKey:rt.infuraApiKey,alchemyApiKey:rt.alchemyApiKey})}catch{}if(it||(it=`https://${ot||o}.rpc.thirdweb.com/${rt.thirdwebApiKey||DEFAULT_API_KEY$2}`),!it)throw new Error(`No rpc url found for chain ${o}. Please provide a valid rpc url via the 'supportedChains' property of the sdk options.`);return getProviderFromRpcUrl(it,ot)}function getChainIdFromNetwork(o,a){if(isChainConfig(o))return o.chainId;if(typeof o=="number")return o;{const rt=a.supportedChains.reduce((at,it)=>(at[it.slug]=it.chainId,at),{});if(o in rt)return rt[o]}throw new Error(`Cannot resolve chainId from: ${o} - please pass the chainId instead and specify it in the 'supportedChains' property of the SDK options.`)}function isChainConfig(o){return typeof o!="string"&&typeof o!="number"&&!isSigner(o)&&!isProvider(o)}function isRpcUrl(o){const a=o.match(/^(ws|http)s?:/i);if(a)switch(a[1].toLowerCase()){case"http":case"https":case"ws":case"wss":return!0}return!1}const RPC_PROVIDER_MAP=new Map;function getProviderFromRpcUrl(o,a){try{const rt=o.match(/^(ws|http)s?:/i);if(rt)switch(rt[1].toLowerCase()){case"http":case"https":const at=`${o}-${a||-1}`,it=RPC_PROVIDER_MAP.get(at);if(it)return it;const ot=a?new StaticJsonRpcBatchProvider(o,a):new JsonRpcBatchProvider(o);return RPC_PROVIDER_MAP.set(at,ot),ot;case"ws":case"wss":return new WebSocketProvider(o,a)}}catch{}return getDefaultProvider(o)}function getSignerAndProvider(o,a){let rt,at;if(isSigner(o)?(rt=o,o.provider&&(at=o.provider)):isProvider(o)?at=o:at=getChainProvider(o,a),a!=null&&a.readonlySettings&&(at=getProviderFromRpcUrl(a.readonlySettings.rpcUrl,a.readonlySettings.chainId)),!at)throw rt?new Error("No provider passed to the SDK! Please make sure that your signer is connected to a provider!"):new Error("No provider found! Make sure to specify which network to connect to, or pass a signer or provider to the SDK!");return[rt,at]}let provider;const ENS_CACHE=new Map;async function resolveEns(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;provider||(provider=getSignerAndProvider("ethereum")[1]);let rt;ENS_CACHE.has(o)?rt=ENS_CACHE.get(o):rt=provider.resolveName(o).then(it=>it?{address:it,expirationTime:new Date(Date.now()+1e3*60*5)}:{address:null,expirationTime:new Date(Date.now()+1e3*30)});const at=await rt;return at.expirationTime<new Date&&(ENS_CACHE.delete(o),a===0&&resolveEns(o,a+1)),at.address}const EnsSchema=z$2.custom(o=>typeof o=="string"&&(o.endsWith(".eth")||o.endsWith(".cb.id"))).transform(async o=>resolveEns(o)).refine(o=>!!o&&isAddress(o),{message:"Provided value was not a valid ENS name"}),AddressSchema=z$2.custom(o=>typeof o=="string"&&isAddress(o),o=>({message:`${o} is not a valid address`})),AddressOrEnsSchema=z$2.union([AddressSchema,EnsSchema],{invalid_type_error:"Provided value was not a valid address or ENS name"});let ChainId=function(o){return o[o.Mainnet=1]="Mainnet",o[o.Goerli=5]="Goerli",o[o.Polygon=137]="Polygon",o[o.Mumbai=80001]="Mumbai",o[o.Localhost=1337]="Localhost",o[o.Hardhat=31337]="Hardhat",o[o.Fantom=250]="Fantom",o[o.FantomTestnet=4002]="FantomTestnet",o[o.Avalanche=43114]="Avalanche",o[o.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",o[o.Optimism=10]="Optimism",o[o.OptimismGoerli=420]="OptimismGoerli",o[o.Arbitrum=42161]="Arbitrum",o[o.ArbitrumGoerli=421613]="ArbitrumGoerli",o[o.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",o[o.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet",o}({}),supportedChains=defaultChains;function setSupportedChains(o){o&&o.length>0?supportedChains=o:supportedChains=defaultChains}function getSupportedChains(){return supportedChains}const NATIVE_TOKEN_ADDRESS="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",NATIVE_TOKENS={[ChainId.Mainnet]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Goerli]:{name:"G\xF6rli Ether",symbol:"GOR",decimals:18,wrapped:{address:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",name:"Wrapped Ether",symbol:"WETH"}},11155111:{name:"Sepolia Ether",symbol:"SEP",decimals:18,wrapped:{address:"0x7b79995e5f793A07Bc00c21412e50Ecae098E7f9",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Polygon]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId.Mumbai]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId.Avalanche]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId.AvalancheFujiTestnet]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId.Fantom]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId.FantomTestnet]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0xf1277d1Ed8AD466beddF92ef448A132661956621",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId.Arbitrum]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.ArbitrumGoerli]:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18,wrapped:{address:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Optimism]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.OptimismGoerli]:{name:"Goerli Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.BinanceSmartChainMainnet]:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18,wrapped:{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",name:"Wrapped Binance Chain Token",symbol:"WBNB"}},[ChainId.BinanceSmartChainTestnet]:{name:"Binance Chain Native Token",symbol:"TBNB",decimals:18,wrapped:{address:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd",name:"Wrapped Binance Chain Testnet Token",symbol:"WBNB"}},[ChainId.Hardhat]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId.Localhost]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},84531:{name:"Base Goerli Testnet",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[280]:{name:"zkSync Era Testnet",symbol:"ETH",decimals:18,wrapped:{address:"0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91",name:"Wrapped Ether",symbol:"WETH"}}};function getNativeTokenByChainId(o){const a=getSupportedChains().find(rt=>rt.chainId===o);return a&&a.nativeCurrency?{name:a.nativeCurrency.name,symbol:a.nativeCurrency.symbol,decimals:18,wrapped:{address:AddressZero$1,name:`Wrapped ${a.nativeCurrency.name}`,symbol:`W${a.nativeCurrency.symbol}`}}:NATIVE_TOKENS[o]||{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:AddressZero$1,name:"Wrapped Ether",symbol:"WETH"}}}const LINK_TOKEN_ADDRESS={[ChainId.Mainnet]:"0x514910771AF9Ca656af840dff83E8264EcF986CA",[ChainId.Goerli]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId.BinanceSmartChainMainnet]:"0x404460C6A5EdE2D891e8297795264fDe62ADBB75",[ChainId.Polygon]:"0xb0897686c545045aFc77CF20eC7A532E3120E0F1",[ChainId.Mumbai]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId.Avalanche]:"0x5947BB275c521040051D82396192181b413227A3",[ChainId.AvalancheFujiTestnet]:"0x0b9d5D9136855f6FEc3c0993feE6E9CE8a297846",[ChainId.Fantom]:"0x6F43FF82CCA38001B6699a8AC47A2d0E66939407",[ChainId.FantomTestnet]:"0xfaFedb041c0DD4fA2Dc0d87a6B0979Ee6FA7af5F"},RawDateSchema=z$2.union([z$2.date().transform(o=>BigNumber.from(Math.floor(o.getTime()/1e3))),z$2.number().transform(o=>BigNumber.from(o))]),StartDateSchema=RawDateSchema.default(new Date(0)),EndDateSchema=RawDateSchema.default(new Date(Date.now()+1e3*60*60*24*365*10)),CurrencySchema=z$2.object({name:z$2.string(),symbol:z$2.string(),decimals:z$2.number()}),CurrencyValueSchema=CurrencySchema.extend({value:BigNumberSchema,displayValue:z$2.string()}),MerkleSchema=z$2.object({merkle:z$2.record(z$2.string()).default({})}),SnapshotEntryInput=z$2.object({address:AddressOrEnsSchema,maxClaimable:QuantitySchema.default(0),price:QuantitySchema.optional(),currencyAddress:AddressOrEnsSchema.default(AddressZero$1).optional()}),SnapshotInputSchema=z$2.union([z$2.array(z$2.string()).transform(async o=>await Promise.all(o.map(a=>SnapshotEntryInput.parseAsync({address:a})))),z$2.array(SnapshotEntryInput)]),SnapshotEntryWithProofSchema=SnapshotEntryInput.extend({proof:z$2.array(z$2.string())}),SnapshotSchema=z$2.object({merkleRoot:z$2.string(),claims:z$2.array(SnapshotEntryWithProofSchema)});z$2.object({merkleRoot:z$2.string(),snapshotUri:z$2.string()});const ClaimConditionMetadataSchema=z$2.object({name:z$2.string().optional()}).catchall(z$2.unknown()),ClaimConditionInputSchema=z$2.object({startTime:StartDateSchema,currencyAddress:z$2.string().default(NATIVE_TOKEN_ADDRESS),price:AmountSchema.default(0),maxClaimableSupply:QuantitySchema,maxClaimablePerWallet:QuantitySchema,waitInSeconds:BigNumberishSchema.default(0),merkleRootHash:BytesLikeSchema.default(hexZeroPad([0],32)),snapshot:z$2.optional(SnapshotInputSchema).nullable(),metadata:ClaimConditionMetadataSchema.optional()}),ClaimConditionInputArray=z$2.array(ClaimConditionInputSchema);ClaimConditionInputSchema.partial();const ClaimConditionOutputSchema=ClaimConditionInputSchema.extend({availableSupply:QuantitySchema,currentMintSupply:QuantitySchema,currencyMetadata:CurrencyValueSchema.default({value:BigNumber.from("0"),displayValue:"0",symbol:"",decimals:18,name:""}),price:BigNumberSchema,waitInSeconds:BigNumberSchema,startTime:BigNumberSchema.transform(o=>new Date(o.toNumber()*1e3)),snapshot:SnapshotInputSchema.optional().nullable()});function resolveOrGenerateId(o){if(o===void 0){const a=buffer.Buffer.alloc(16);return v4({},a),hexlify(toUtf8Bytes(a.toString("hex")))}else return hexlify(o)}const BaseSignaturePayloadInput=z$2.object({to:AddressOrEnsSchema.refine(o=>o.toLowerCase()!==AddressZero$1,{message:"Cannot create payload to mint to zero address"}),price:AmountSchema.default(0),currencyAddress:AddressSchema.default(NATIVE_TOKEN_ADDRESS),mintStartTime:StartDateSchema,mintEndTime:EndDateSchema,uid:z$2.string().optional().transform(o=>resolveOrGenerateId(o)),primarySaleRecipient:AddressOrEnsSchema.default(AddressZero$1)}),Signature20PayloadInput=BaseSignaturePayloadInput.extend({quantity:AmountSchema}),Signature20PayloadOutput=Signature20PayloadInput.extend({mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature721PayloadInput=BaseSignaturePayloadInput.extend({metadata:NFTInputOrUriSchema,royaltyRecipient:z$2.string().default(AddressZero$1),royaltyBps:BasisPointsSchema.default(0)}),Signature721PayloadOutput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),uri:z$2.string(),royaltyBps:BigNumberSchema,mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature1155PayloadInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberishSchema}),Signature1155PayloadInputWithTokenId=Signature1155PayloadInput.extend({tokenId:BigNumberishSchema}),Signature1155PayloadOutput=Signature721PayloadOutput.extend({tokenId:BigNumberSchema,quantity:BigNumberSchema}),Signature721WithQuantityInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberSchema.default(1)}),Signature721WithQuantityOutput=Signature721PayloadOutput.extend({quantity:BigNumberSchema.default(1)}),MintRequest20=[{name:"to",type:"address"},{name:"primarySaleRecipient",type:"address"},{name:"quantity",type:"uint256"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest1155=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721withQuantity=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],GenericRequest=[{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"},{name:"data",type:"bytes"}],CommonContractSchema=z$2.object({name:z$2.string(),description:z$2.string().optional(),image:FileOrBufferOrStringSchema.optional(),external_link:z$2.string().optional(),app_uri:z$2.string().optional()}),CommonContractOutputSchema=CommonContractSchema.extend({image:z$2.string().optional()}).catchall(z$2.unknown()),CommonRoyaltySchema=z$2.object({seller_fee_basis_points:BasisPointsSchema.default(0),fee_recipient:AddressOrEnsSchema.default(AddressZero$1)}),CommonPrimarySaleSchema=z$2.object({primary_sale_recipient:AddressOrEnsSchema}),CommonPlatformFeeSchema=z$2.object({platform_fee_basis_points:BasisPointsSchema.default(0),platform_fee_recipient:AddressOrEnsSchema.default(AddressZero$1)}),CommonTrustedForwarderSchema=z$2.object({trusted_forwarders:z$2.array(AddressOrEnsSchema).default([])}),CommonSymbolSchema=z$2.object({symbol:z$2.string().default("")}),BYOCContractMetadataSchema=CommonContractSchema.catchall(z$2.union([BigNumberTransformSchema,z$2.unknown()])),CustomContractInput=BYOCContractMetadataSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractDeploy=CustomContractInput.merge(CommonPlatformFeeSchema.merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema).partial()),CustomContractSchema={deploy:CustomContractDeploy,output:CustomContractOutput,input:CustomContractInput},AbiTypeBaseSchema=z$2.object({type:z$2.string(),name:z$2.string().default("")}).catchall(z$2.any()),AbiTypeSchema=AbiTypeBaseSchema.extend({stateMutability:z$2.string().optional(),components:z$2.array(AbiTypeBaseSchema).optional()}).catchall(z$2.any()),AbiObjectSchema=z$2.object({type:z$2.string(),name:z$2.string().default(""),inputs:z$2.array(AbiTypeSchema).default([]),outputs:z$2.array(AbiTypeSchema).default([])}).catchall(z$2.any()),AbiSchema=z$2.array(AbiObjectSchema),PreDeployMetadata=z$2.object({name:z$2.string(),metadataUri:z$2.string(),bytecodeUri:z$2.string(),analytics:z$2.any().optional()}).catchall(z$2.any()),ChainIdToAddressSchema=z$2.record(z$2.string(),z$2.string()),FactoryDeploymentSchema=z$2.object({implementationAddresses:ChainIdToAddressSchema,implementationInitializerFunction:z$2.string().default("initialize"),factoryAddresses:ChainIdToAddressSchema.optional()}),ExtraPublishMetadataSchemaInput=z$2.object({version:z$2.string().refine(o=>{try{return toSemver(o),!0}catch{return!1}},o=>({message:`'${o}' is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`})),displayName:z$2.string().optional(),description:z$2.string().optional(),readme:z$2.string().optional(),license:z$2.string().optional(),changelog:z$2.string().optional(),tags:z$2.array(z$2.string()).optional(),audit:FileOrBufferOrStringSchema.nullable().optional(),logo:FileOrBufferOrStringSchema.nullable().optional(),isDeployableViaFactory:z$2.boolean().optional(),isDeployableViaProxy:z$2.boolean().optional(),factoryDeploymentData:FactoryDeploymentSchema.optional(),constructorParams:z$2.record(z$2.string(),z$2.object({displayName:z$2.string().optional(),description:z$2.string().optional(),defaultValue:z$2.string().optional()}).catchall(z$2.any())).optional(),compositeAbi:AbiSchema.optional()}).catchall(z$2.any()),ExtraPublishMetadataSchemaOutput=ExtraPublishMetadataSchemaInput.extend({audit:z$2.string().nullable().optional(),logo:z$2.string().nullable().optional()}),FullPublishMetadataSchemaInput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaInput).extend({publisher:AddressOrEnsSchema.optional()}),FullPublishMetadataSchemaOutput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaOutput).extend({publisher:AddressOrEnsSchema.optional()}),ProfileSchemaInput=z$2.object({name:z$2.string().optional(),bio:z$2.string().optional(),avatar:FileOrBufferOrStringSchema.nullable().optional(),website:z$2.string().optional(),twitter:z$2.string().optional(),telegram:z$2.string().optional(),facebook:z$2.string().optional(),github:z$2.string().optional(),medium:z$2.string().optional(),linkedin:z$2.string().optional(),reddit:z$2.string().optional(),discord:z$2.string().optional()}),ProfileSchemaOutput=ProfileSchemaInput.extend({avatar:z$2.string().nullable().optional()}),PublishedContractSchema=z$2.object({id:z$2.string(),timestamp:BigNumberishSchema,metadataUri:z$2.string()}),ContractInfoSchema=z$2.object({title:z$2.string().optional(),author:z$2.string().optional(),details:z$2.string().optional(),notice:z$2.string().optional()}),CompilerMetadataFetchedSchema=z$2.object({name:z$2.string(),abi:AbiSchema,metadata:z$2.record(z$2.string(),z$2.any()),info:ContractInfoSchema,licenses:z$2.array(z$2.string().optional()).default([]).transform(o=>o.filter(a=>a!==void 0))}),PreDeployMetadataFetchedSchema=PreDeployMetadata.merge(CompilerMetadataFetchedSchema).extend({bytecode:z$2.string()}),CallOverrideSchema=z$2.object({gasLimit:BigNumberishSchema.optional(),gasPrice:BigNumberishSchema.optional(),maxFeePerGas:BigNumberishSchema.optional(),maxPriorityFeePerGas:BigNumberishSchema.optional(),nonce:BigNumberishSchema.optional(),value:BigNumberishSchema.optional(),blockTag:z$2.union([z$2.string(),z$2.number()]).optional(),from:AddressOrEnsSchema.optional(),type:z$2.number().optional()}).strict();class ContractEncoder{constructor(a){_defineProperty(this,"contractWrapper",void 0),this.contractWrapper=a}encode(a,rt){return this.contractWrapper.readContract.interface.encodeFunctionData(a,rt)}decode(a,rt){return this.contractWrapper.readContract.interface.decodeFunctionData(a,rt)}}function _checkPrivateRedeclaration(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(o,a,rt){_checkPrivateRedeclaration(o,a),a.set(o,rt)}function _classApplyDescriptorGet(o,a){return a.get?a.get.call(o):a.value}function _classExtractFieldDescriptor(o,a,rt){if(!a.has(o))throw new TypeError("attempted to "+rt+" private field on non-instance");return a.get(o)}function _classPrivateFieldGet(o,a){var rt=_classExtractFieldDescriptor(o,a,"get");return _classApplyDescriptorGet(o,rt)}function _classApplyDescriptorSet(o,a,rt){if(a.set)a.set.call(o,rt);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=rt}}function _classPrivateFieldSet(o,a,rt){var at=_classExtractFieldDescriptor(o,a,"set");return _classApplyDescriptorSet(o,at,rt),rt}class NotFoundError extends Error{constructor(a){super(a?`Object with id ${a} NOT FOUND`:"NOT_FOUND")}}class MissingRoleError extends Error{constructor(a,rt){super(`MISSING ROLE: ${a} does not have the '${rt}' role`)}}class DuplicateLeafsError extends Error{constructor(a){super(`DUPLICATE_LEAFS${a?` : ${a}`:""}`)}}class AuctionAlreadyStartedError extends Error{constructor(a){super(`Auction already started with existing bid${a?`, id: ${a}`:""}`)}}class ListingNotFoundError extends Error{constructor(a,rt){super(`Could not find listing.${a?` marketplace address: ${a}`:""}${rt?` listing id: ${rt}`:""}`)}}class WrongListingTypeError extends Error{constructor(a,rt,at,it){super(`Incorrect listing type. Are you sure you're using the right method?.${a?` marketplace address: ${a}`:""}${rt?` listing id: ${rt}`:""}${it?` expected type: ${it}`:""}${at?` actual type: ${at}`:""}`)}}class AuctionHasNotEndedError extends Error{constructor(a,rt){super(`Auction has not ended yet${a?`, id: ${a}`:""}${rt?`, end time: ${rt.toString()}`:""}`)}}class ExtensionNotImplementedError extends Error{constructor(a){super(`This functionality is not available because the contract does not implement the '${a.docLinks.contracts}' Extension. Learn how to unlock this functionality at https://portal.thirdweb.com/extensions `)}}var _reason=new WeakMap,_info=new WeakMap,_raw=new WeakMap;class TransactionError extends Error{constructor(a,rt){var it;let at=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION ERROR \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`;if(at+=`Reason: ${a.reason}`,at+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION INFORMATION \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`,at+=withSpaces("from",a.from),a.to&&(at+=withSpaces("to",a.contractName?`${a.to} (${a.contractName})`:a.to)),at+=withSpaces("chain",`${a.network.name} (${a.network.chainId})`),a.rpcUrl)try{const ot=new URL(a.rpcUrl);at+=withSpaces("rpc",ot.hostname)}catch{}if(a.hash&&(at+=withSpaces("tx hash",a.hash)),a.value&&a.value.gt(0)&&(at+=withSpaces("value",`${formatEther(a.value)} ${((it=NATIVE_TOKENS[a.network.chainId])==null?void 0:it.symbol)||""}`)),at+=withSpaces("data",`${a.data}`),a.method&&(at+=withSpaces("method",a.method)),a.sources){const ot=a.sources.find(st=>st.source.includes(a.reason));if(ot){const st=ot.source.split(`
`).map((ut,dt)=>`${dt+1}  ${ut}`),ct=st.findIndex(ut=>ut.includes(a.reason));st[ct]+="   <-- REVERT";const lt=st.slice(ct-8,ct+4);at+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 SOLIDITY STACK TRACE \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,at+=`File: ${ot.filename.replace("node_modules/","")}

`,at+=lt.join(`
`)}}at+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 DEBUGGING RESOURCES \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,at+="Need helping debugging? Join our Discord: https://discord.gg/thirdweb",at+=`

`,super(at),_classPrivateFieldInitSpec(this,_reason,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_info,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_raw,{writable:!0,value:void 0}),_classPrivateFieldSet(this,_reason,a.reason),_classPrivateFieldSet(this,_info,a),_classPrivateFieldSet(this,_raw,rt)}get reason(){return _classPrivateFieldGet(this,_reason)}get raw(){return _classPrivateFieldGet(this,_raw)}get info(){return _classPrivateFieldGet(this,_info)}}function parseRevertReason(o){if(o.reason&&!o.reason.includes("cannot estimate gas"))return o.reason;if(o.error)return o.error;let a=o;return typeof o=="object"?a=JSON.stringify(o):typeof o!="string"&&(a=o.toString()),parseMessageParts(/.*?"message":"([^"\\]*).*?/,a)||parseMessageParts(/.*?"reason":"([^"\\]*).*?/,a)||o.message||""}function withSpaces(o,a){if(a==="")return a;const rt=Array(10-o.length).fill(" ").join("");return a.includes(`
`)?a=`

  `+a.split(`
`).join(`
  `):a=`${rt}${a}`,`
${o}:${a}`}function parseMessageParts(o,a){const rt=a.match(o)||[];let at="";return(rt==null?void 0:rt.length)>0&&(at+=rt[1]),at}function includesErrorMessage(o,a){return o?o&&o.toString().includes(a)||o&&o.message&&o.message.toString().includes(a)||o&&o.error&&o.error.toString().includes(a):!1}const FEATURE_TOKEN_CLAIM_CONDITIONS_V1={name:"ERC20ClaimConditionsV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimconditions"},abis:[ERC20Abi,IDropSinglePhaseV1],features:{}},FEATURE_TOKEN_CLAIM_CONDITIONS_V2={name:"ERC20ClaimConditionsV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimconditions"},abis:[ERC20Abi,IDropSinglePhase],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V2={name:"ERC20ClaimPhasesV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimphases"},abis:[ERC20Abi,IDrop],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V1={name:"ERC20ClaimPhasesV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"erc20claimphases"},abis:[DropERC20_V2Abi],features:{}},FEATURE_TOKEN_BURNABLE={name:"ERC20Burnable",namespace:"token.burn",docLinks:{sdk:"sdk.erc20burnable",contracts:"erc20burnable"},abis:[ERC20Abi,IBurnableERC20Abi],features:{}},FEATURE_TOKEN_SIGNATURE_MINTABLE={name:"ERC20SignatureMintable",namespace:"token.signature",docLinks:{sdk:"sdk.erc20signaturemintable",contracts:"erc20signaturemint"},abis:[ERC20Abi,ISignatureMintERC20Abi],features:{}},FEATURE_TOKEN_BATCH_MINTABLE={name:"ERC20BatchMintable",namespace:"token.mint.batch",docLinks:{sdk:"sdk.erc20batchmintable",contracts:"erc20batchmintable"},abis:[ERC20Abi,IMintableERC20Abi,MulticallAbi],features:{}},FEATURE_TOKEN_MINTABLE={name:"ERC20Mintable",namespace:"token.mint",docLinks:{sdk:"sdk.erc20mintable",contracts:"erc20mintable"},abis:[ERC20Abi,IMintableERC20Abi],features:{[FEATURE_TOKEN_BATCH_MINTABLE.name]:FEATURE_TOKEN_BATCH_MINTABLE}},FEATURE_TOKEN_PERMIT={name:"ERC20Permit",namespace:"token.permit",docLinks:{sdk:"sdk.erc20permit",contracts:"erc20permit"},abis:[ERC20Abi,IERC20PermitAbi],features:{}},FEATURE_TOKEN={name:"ERC20",namespace:"token",docLinks:{sdk:"sdk.erc20",contracts:"erc20"},abis:[ERC20Abi],features:{[FEATURE_TOKEN_BURNABLE.name]:FEATURE_TOKEN_BURNABLE,[FEATURE_TOKEN_MINTABLE.name]:FEATURE_TOKEN_MINTABLE,[FEATURE_TOKEN_CLAIM_CONDITIONS_V1.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V1,[FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V2,[FEATURE_TOKEN_CLAIM_PHASES_V1.name]:FEATURE_TOKEN_CLAIM_PHASES_V1,[FEATURE_TOKEN_CLAIM_PHASES_V2.name]:FEATURE_TOKEN_CLAIM_PHASES_V2,[FEATURE_TOKEN_SIGNATURE_MINTABLE.name]:FEATURE_TOKEN_SIGNATURE_MINTABLE,[FEATURE_TOKEN_PERMIT.name]:FEATURE_TOKEN_PERMIT}},FEATURE_NFT_BURNABLE={name:"ERC721Burnable",namespace:"nft.burn",docLinks:{sdk:"sdk.erc721burnable",contracts:"erc721burnable"},abis:[Erc721Abi,IBurnableERC721Abi],features:{}},FEATURE_NFT_REVEALABLE={name:"ERC721Revealable",namespace:"nft.drop.revealer",docLinks:{sdk:"sdk.delayedreveal",contracts:"erc721revealable"},abis:[Erc721Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_NFT_TIERED_DROP={name:"ERC721TieredDrop",namespace:"nft.tieredDrop",docLinks:{sdk:"sdk.erc721tiereddrop",contracts:""},abis:[Erc721Abi,TieredDropAbi],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V1={name:"ERC721ClaimConditionsV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimconditions"},abis:[Erc721Abi,IDropSinglePhaseV1],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V2={name:"ERC721ClaimConditionsV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimconditions"},abis:[Erc721Abi,IDropSinglePhase],features:{}},FEATURE_NFT_CLAIM_PHASES_V1={name:"ERC721ClaimPhasesV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimphases"},abis:[DropERC721_V3Abi],features:{}},FEATURE_NFT_CLAIM_PHASES_V2={name:"ERC721ClaimPhasesV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimphases"},abis:[Erc721Abi,IDrop],features:{}},FEATURE_NFT_CLAIM_CUSTOM={name:"ERC721ClaimCustom",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"erc721claimcustom"},abis:[Erc721Abi,IClaimableERC721],features:{}},FEATURE_NFT_LAZY_MINTABLE={name:"ERC721LazyMintable",namespace:"nft.drop",docLinks:{sdk:"sdk.erc721lazymintable",contracts:"lazymint"},abis:[Erc721Abi,ILazyMintAbi],features:{[FEATURE_NFT_REVEALABLE.name]:FEATURE_NFT_REVEALABLE}},FEATURE_NFT_BATCH_MINTABLE={name:"ERC721BatchMintable",namespace:"nft.mint.batch",docLinks:{sdk:"sdk.erc721batchmintable",contracts:"erc721batchmintable"},abis:[Erc721Abi,IMintableERC721Abi,MulticallAbi],features:{}},FEATURE_NFT_MINTABLE={name:"ERC721Mintable",namespace:"nft.mint",docLinks:{sdk:"sdk.erc721mintable",contracts:"erc721mintable"},abis:[Erc721Abi,IMintableERC721Abi],features:{[FEATURE_NFT_BATCH_MINTABLE.name]:FEATURE_NFT_BATCH_MINTABLE}},FEATURE_NFT_SIGNATURE_MINTABLE_V2={name:"ERC721SignatureMintV2",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"erc721signaturemint"},abis:[Erc721Abi,SignatureMintERC721Abi],features:{}},FEATURE_NFT_SIGNATURE_MINTABLE_V1={name:"ERC721SignatureMintV1",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"erc721signaturemint"},abis:[SignatureMintERC721_V1Abi],features:{}},FEATURE_NFT_ENUMERABLE={name:"ERC721Enumerable",namespace:"nft.query.owned",docLinks:{sdk:"sdk.erc721enumerable",contracts:"erc721enumerable"},abis:[Erc721Abi,Erc721EnumerableAbi],features:{}},FEATURE_NFT_SUPPLY={name:"ERC721Supply",namespace:"nft.query",docLinks:{sdk:"sdk.erc721supply",contracts:"erc721supply"},abis:[Erc721Abi,Erc721SupplyAbi],features:{[FEATURE_NFT_ENUMERABLE.name]:FEATURE_NFT_ENUMERABLE}},FEATURE_NFT={name:"ERC721",namespace:"nft",docLinks:{sdk:"sdk.erc721",contracts:"erc721"},abis:[Erc721Abi],features:{[FEATURE_NFT_BURNABLE.name]:FEATURE_NFT_BURNABLE,[FEATURE_NFT_SUPPLY.name]:FEATURE_NFT_SUPPLY,[FEATURE_NFT_MINTABLE.name]:FEATURE_NFT_MINTABLE,[FEATURE_NFT_LAZY_MINTABLE.name]:FEATURE_NFT_LAZY_MINTABLE,[FEATURE_NFT_SIGNATURE_MINTABLE_V1.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V1,[FEATURE_NFT_SIGNATURE_MINTABLE_V2.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V2,[FEATURE_NFT_TIERED_DROP.name]:FEATURE_NFT_TIERED_DROP,[FEATURE_NFT_CLAIM_CUSTOM.name]:FEATURE_NFT_CLAIM_CUSTOM,[FEATURE_NFT_CLAIM_CONDITIONS_V1.name]:FEATURE_NFT_CLAIM_CONDITIONS_V1,[FEATURE_NFT_CLAIM_CONDITIONS_V2.name]:FEATURE_NFT_CLAIM_CONDITIONS_V2,[FEATURE_NFT_CLAIM_PHASES_V1.name]:FEATURE_NFT_CLAIM_PHASES_V1,[FEATURE_NFT_CLAIM_PHASES_V2.name]:FEATURE_NFT_CLAIM_PHASES_V2}},FEATURE_EDITION_BURNABLE={name:"ERC1155Burnable",namespace:"edition.burn",docLinks:{sdk:"sdk.erc1155burnable",contracts:"erc1155burnable"},abis:[Erc1155Abi,IBurnableERC1155Abi],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V1={name:"ERC1155ClaimConditionsV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155dropsinglephase"},abis:[Erc1155Abi,IDropSinglePhase1155_V1],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V2={name:"ERC1155ClaimConditionsV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimconditions"},abis:[Erc1155Abi,IDropSinglePhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V2={name:"ERC1155ClaimPhasesV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimphases"},abis:[Erc1155Abi,IDropMultiPhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V1={name:"ERC1155ClaimPhasesV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimphases"},abis:[DropERC1155_V2Abi],features:{}},FEATURE_EDITION_CLAIM_CUSTOM={name:"ERC1155ClaimCustom",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"erc1155claimcustom"},abis:[Erc1155Abi,IClaimableERC1155],features:{}},FEATURE_EDITION_REVEALABLE={name:"ERC1155Revealable",namespace:"edition.drop.revealer",docLinks:{sdk:"sdk.drop.delayedreveal",contracts:"erc1155revealable"},abis:[Erc1155Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_EDITION_LAZY_MINTABLE_V2={name:"ERC1155LazyMintableV2",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"lazymint"},abis:[Erc1155Abi,ILazyMintAbi],features:{[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE}},FEATURE_EDITION_LAZY_MINTABLE_V1={name:"ERC1155LazyMintableV1",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"lazymint"},abis:[DropERC1155_V2Abi],features:{[FEATURE_EDITION_CLAIM_PHASES_V1.name]:FEATURE_EDITION_CLAIM_PHASES_V1}},FEATURE_EDITION_SIGNATURE_MINTABLE={name:"ERC1155SignatureMintable",namespace:"edition.signature",docLinks:{sdk:"sdk.erc1155signaturemintable",contracts:"erc1155signaturemint"},abis:[Erc1155Abi,ISignatureMintERC1155Abi],features:{}},FEATURE_EDITION_BATCH_MINTABLE={name:"ERC1155BatchMintable",namespace:"edition.mint.batch",docLinks:{sdk:"sdk.erc1155batchmintable",contracts:"erc1155batchmintable"},abis:[Erc1155Abi,IMintableERC1155Abi,MulticallAbi],features:{}},FEATURE_EDITION_MINTABLE={name:"ERC1155Mintable",namespace:"edition.mint",docLinks:{sdk:"sdk.erc1155mintable",contracts:"erc1155mintable"},abis:[Erc1155Abi,IMintableERC1155Abi],features:{[FEATURE_EDITION_BATCH_MINTABLE.name]:FEATURE_EDITION_BATCH_MINTABLE}},FEATURE_EDITION_ENUMERABLE={name:"ERC1155Enumerable",namespace:"edition.query",docLinks:{sdk:"sdk.erc1155",contracts:"erc1155enumerable"},abis:[Erc1155Abi,Erc1155EnumerableAbi],features:{}},FEATURE_EDITION={name:"ERC1155",namespace:"edition",docLinks:{sdk:"sdk.erc1155enumerable",contracts:"erc1155"},abis:[Erc1155Abi],features:{[FEATURE_EDITION_BURNABLE.name]:FEATURE_EDITION_BURNABLE,[FEATURE_EDITION_ENUMERABLE.name]:FEATURE_EDITION_ENUMERABLE,[FEATURE_EDITION_MINTABLE.name]:FEATURE_EDITION_MINTABLE,[FEATURE_EDITION_LAZY_MINTABLE_V1.name]:FEATURE_EDITION_LAZY_MINTABLE_V1,[FEATURE_EDITION_LAZY_MINTABLE_V2.name]:FEATURE_EDITION_LAZY_MINTABLE_V2,[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_SIGNATURE_MINTABLE.name]:FEATURE_EDITION_SIGNATURE_MINTABLE,[FEATURE_EDITION_CLAIM_CUSTOM.name]:FEATURE_EDITION_CLAIM_CUSTOM,[FEATURE_EDITION_CLAIM_CONDITIONS_V1.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V1,[FEATURE_EDITION_CLAIM_CONDITIONS_V2.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V2,[FEATURE_EDITION_CLAIM_PHASES_V2.name]:FEATURE_EDITION_CLAIM_PHASES_V2}},getAllPluginsAbi=[{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"}],getAllExtensionsAbi=[{inputs:[],name:"getAllExtensions",outputs:[{components:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IExtension.ExtensionMetadata",name:"metadata",type:"tuple"},{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"}],internalType:"struct IExtension.ExtensionFunction[]",name:"functions",type:"tuple[]"}],internalType:"struct IExtension.Extension[]",name:"allExtensions",type:"tuple[]"}],stateMutability:"view",type:"function"}],FEATURE_ROYALTY={name:"Royalty",namespace:"royalty",docLinks:{sdk:"sdk.contractroyalty",contracts:"royalty"},abis:[IThirdwebRoyaltyAbi],features:{}},FEATURE_PRIMARY_SALE={name:"PrimarySale",namespace:"sales",docLinks:{sdk:"sdk.contractprimarysale",contracts:"primarysale"},abis:[IThirdwebPrimarySaleAbi],features:{}},FEATURE_PLATFORM_FEE={name:"PlatformFee",namespace:"platformFee",docLinks:{sdk:"sdk.platformfee",contracts:"platformfee"},abis:[IThirdwebPlatformFeeAbi],features:{}},FEATURE_PERMISSIONS_ENUMERABLE={name:"PermissionsEnumerable",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"permissionsenumerable"},abis:[IPermissionsEnumerableAbi],features:{}},FEATURE_PERMISSIONS={name:"Permissions",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"permissions"},abis:[IPermissionsAbi],features:{[FEATURE_PERMISSIONS_ENUMERABLE.name]:FEATURE_PERMISSIONS_ENUMERABLE}},FEATURE_METADATA={name:"ContractMetadata",namespace:"metadata",docLinks:{sdk:"sdk.contractmetadata",contracts:"contractmetadata"},abis:[IContractMetadataAbi],features:{}},FEATURE_APPURI={name:"AppURI",namespace:"appURI",docLinks:{sdk:"sdk.appURI",contracts:""},abis:[IAppURI],features:{}},FEATURE_OWNER={name:"Ownable",namespace:"owner",docLinks:{sdk:"sdk.owner",contracts:"ownable"},abis:[IOwnableAbi],features:{}},FEATURE_GASLESS={name:"Gasless",namespace:"gasless",docLinks:{sdk:"sdk.gaslesstransaction",contracts:""},abis:[IERC2771ContextAbi],features:{}},FEATURE_PACK_VRF={name:"PackVRF",namespace:"pack.vrf",docLinks:{sdk:"sdk.packvrf",contracts:""},abis:[IPackVRFAbi],features:{}},FEATURE_PLUGIN_ROUTER={name:"PluginRouter",namespace:"plugin.router",docLinks:{sdk:"sdk.pluginrouter",contracts:""},abis:[getAllPluginsAbi],features:{}},FEATURE_EXTENSION_ROUTER={name:"ExtensionRouter",namespace:"extension.router",docLinks:{sdk:"",contracts:""},abis:[getAllExtensionsAbi],features:{}},FEATURE_DIRECT_LISTINGS={name:"DirectListings",namespace:"direct.listings",docLinks:{sdk:"",contracts:""},abis:[IDirectListingsAbi],features:{}},FEATURE_ENGLISH_AUCTIONS={name:"EnglishAuctions",namespace:"english.auctions",docLinks:{sdk:"",contracts:""},abis:[IEnglishAuctionsAbi],features:{}},FEATURE_OFFERS={name:"Offers",namespace:"offers",docLinks:{sdk:"",contracts:""},abis:[IOffersAbi],features:{}},FEATURE_SMART_WALLET_FACTORY={name:"SmartWalletFactory",namespace:"smartwallet.factory",docLinks:{sdk:"sdk.smartWalletFactory",contracts:"smartWalletFactory"},abis:[IAccountFactory],features:{}},FEATURE_SMART_WALLET={name:"SmartWallet",namespace:"smartwallet",docLinks:{sdk:"",contracts:""},abis:[IAccount],features:{}},SUPPORTED_FEATURES={[FEATURE_TOKEN.name]:FEATURE_TOKEN,[FEATURE_NFT.name]:FEATURE_NFT,[FEATURE_EDITION.name]:FEATURE_EDITION,[FEATURE_ROYALTY.name]:FEATURE_ROYALTY,[FEATURE_PLATFORM_FEE.name]:FEATURE_PLATFORM_FEE,[FEATURE_PRIMARY_SALE.name]:FEATURE_PRIMARY_SALE,[FEATURE_PERMISSIONS.name]:FEATURE_PERMISSIONS,[FEATURE_METADATA.name]:FEATURE_METADATA,[FEATURE_APPURI.name]:FEATURE_APPURI,[FEATURE_OWNER.name]:FEATURE_OWNER,[FEATURE_GASLESS.name]:FEATURE_GASLESS,[FEATURE_PACK_VRF.name]:FEATURE_PACK_VRF,[FEATURE_PLUGIN_ROUTER.name]:FEATURE_PLUGIN_ROUTER,[FEATURE_EXTENSION_ROUTER.name]:FEATURE_EXTENSION_ROUTER,[FEATURE_DIRECT_LISTINGS.name]:FEATURE_DIRECT_LISTINGS,[FEATURE_ENGLISH_AUCTIONS.name]:FEATURE_ENGLISH_AUCTIONS,[FEATURE_OFFERS.name]:FEATURE_OFFERS,[FEATURE_SMART_WALLET_FACTORY.name]:FEATURE_SMART_WALLET_FACTORY,[FEATURE_SMART_WALLET.name]:FEATURE_SMART_WALLET};function toJSType(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,at=o.type,it=!1;return at.endsWith("[]")&&(it=!0,at=at.slice(0,-2)),at.startsWith("bytes")&&(at="BytesLike"),(at.startsWith("uint")||at.startsWith("int"))&&(at=a?"BigNumber":"BigNumberish"),at.startsWith("bool")&&(at="boolean"),at==="address"&&(at="string"),at==="tuple"&&o.components&&(at=`{ ${o.components.map(ot=>toJSType(ot,!1,!0)).join(", ")} }`),it&&(at+="[]"),rt&&(at=`${o.name}: ${at}`),at}function extractCommentFromMetadata(o,a,rt){var at,it,ot,st,ct,lt,ut,dt,ft,pt;return((ct=(st=(it=(at=a==null?void 0:a.output)==null?void 0:at.userdoc)==null?void 0:it[rt])==null?void 0:st[Object.keys(((ot=a==null?void 0:a.output)==null?void 0:ot.userdoc[rt])||{}).find(ht=>ht.includes(o||"unknown"))||""])==null?void 0:ct.notice)||((pt=(ft=(ut=(lt=a==null?void 0:a.output)==null?void 0:lt.devdoc)==null?void 0:ut[rt])==null?void 0:ft[Object.keys(((dt=a==null?void 0:a.output)==null?void 0:dt.devdoc[rt])||{}).find(ht=>ht.includes(o||"unknown"))||""])==null?void 0:pt.details)}function extractFunctionsFromAbi(o,a){var it,ot,st,ct;const rt=(o||[]).filter(lt=>lt.type==="function"),at=[];for(const lt of rt){const ut=extractCommentFromMetadata(lt.name,a,"methods"),dt=((ot=(it=lt.inputs)==null?void 0:it.map(mt=>`${mt.name||"key"}: ${toJSType(mt)}`))==null?void 0:ot.join(", "))||"",ft=dt?`, ${dt}`:"",pt=(ct=(st=lt.outputs)==null?void 0:st.map(mt=>toJSType(mt,!0)))==null?void 0:ct.join(", "),ht=pt?`: Promise<${pt}>`:": Promise<TransactionResult>",yt=`contract.call("${lt.name}"${ft})${ht}`;at.push({inputs:lt.inputs||[],outputs:lt.outputs||[],name:lt.name||"unknown",signature:yt,stateMutability:lt.stateMutability||"",comment:ut})}return at}function hasMatchingAbi(o,a){const rt=extractFunctionsFromAbi(o),at=a.flatMap(ot=>extractFunctionsFromAbi(ot));return rt.filter(ot=>at.find(ct=>ct.name===ot.name&&ct.inputs.length===ot.inputs.length&&ct.inputs.every((lt,ut)=>{var dt;return lt.type==="tuple"||lt.type==="tuple[]"?lt.type===ot.inputs[ut].type&&((dt=lt.components)==null?void 0:dt.every((ft,pt)=>{var ht,yt;return ft.type===((yt=(ht=ot.inputs[ut].components)==null?void 0:ht[pt])==null?void 0:yt.type)})):lt.type===ot.inputs[ut].type}))!==void 0).length===at.length}function detectFeatures(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SUPPORTED_FEATURES;const rt={};for(const at in a){const it=a[at],ot=matchesAbiInterface(o,it),st=detectFeatures(o,it.features);rt[at]={...it,features:st,enabled:ot}}return rt}function matchesAbiInterface(o,a){return hasMatchingAbi(o,a.abis)}function isFeatureEnabled(o,a){const rt=detectFeatures(o);return _featureEnabled(rt,a)}function _featureEnabled(o,a){const rt=Object.keys(o);if(!rt.includes(a)){let it=!1;for(const ot of rt){const st=o[ot];if(it=_featureEnabled(st.features,a),it)break}return it}return o[a].enabled}function detectContractFeature(o,a){return isFeatureEnabled(AbiSchema.parse(o.abi),a)}function hasFunction(o,a){return o in a.readContract.functions}function extractFeatures(o,a){if(!!o)for(const rt in o){const at=o[rt];at.enabled&&a.push(at),extractFeatures(at.features,a)}}function getAllDetectedFeatureNames(o){const a=[];return extractFeatures(detectFeatures(o),a),a.map(rt=>rt.name)}async function resolveAddress(o){return AddressOrEnsSchema.parseAsync(o)}const ERROR_SUBSTRINGS=["eip-155","eip155","protected","invalid chain id for signer","chain id none","chain_id mismatch","recovered sender mismatch","transaction hash mismatch","chainid no support"],ERROR_SUBSTRINGS_COMPOSITE=[["account","not found"],["wrong","chainid"]],CUSTOM_GAS_FOR_CHAIN={[5001]:{name:"Mantle Testnet",gasPrice:1},[71402]:{name:"Godwoken Mainnet",gasPrice:4e4*10**9},[1351057110]:{name:"Chaos (SKALE Testnet)",gasPrice:1e5},[361]:{name:"Theta Mainnet",gasPrice:4e3*10**9},[365]:{name:"Theta Testnet",gasPrice:4e3*10**9}};function matchError(o){const a=ERROR_SUBSTRINGS.findIndex(at=>o.includes(at)),rt=ERROR_SUBSTRINGS_COMPOSITE.findIndex(at=>{let it=!0;return at.forEach(ot=>{it&&(it=o.includes(ot))}),it});return a!==-1||rt!==-1}const CREATE2_FACTORY_BYTECODE="0x604580600e600039806000f350fe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe03601600081602082378035828234f58015156039578182fd5b8082525050506014600cf3",SIGNATURE={v:27,r:"0x2222222222222222222222222222222222222222222222222222222222222222",s:"0x2222222222222222222222222222222222222222222222222222222222222222"},COMMON_FACTORY="0x4e59b44847b379578588920cA78FbF26c0B4956C",GAS_LIMIT_FOR_DEPLOYER=5e6,DEPLOYER_BYTECODE="0x60806040526040516107f33803806107f383398101604081905261002291610359565b805160005b818110156100c157828181518110610041576100416104c9565b6020026020010151600001516001600160a01b03163b600014156100af576100ad838281518110610074576100746104c9565b602002602001015160200151848381518110610092576100926104c9565b6020026020010151604001516100c960201b6100091760201c565b505b806100b9816104df565b915050610027565b505050610557565b606061011183836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c6564000081525061011860201b60201c565b9392505050565b6060610127848460008561012f565b949350505050565b6060824710156101955760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084015b60405180910390fd5b6001600160a01b0385163b6101ec5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015260640161018c565b600080866001600160a01b031685876040516102089190610508565b60006040518083038185875af1925050503d8060008114610245576040519150601f19603f3d011682016040523d82523d6000602084013e61024a565b606091505b50909250905061025b828286610266565b979650505050505050565b60608315610275575081610111565b8251156102855782518084602001fd5b8160405162461bcd60e51b815260040161018c9190610524565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b03811182821017156102d7576102d761029f565b60405290565b604051601f8201601f191681016001600160401b03811182821017156103055761030561029f565b604052919050565b80516001600160a01b038116811461032457600080fd5b919050565b60005b8381101561034457818101518382015260200161032c565b83811115610353576000848401525b50505050565b6000602080838503121561036c57600080fd5b82516001600160401b038082111561038357600080fd5b818501915085601f83011261039757600080fd5b8151818111156103a9576103a961029f565b8060051b6103b88582016102dd565b91825283810185019185810190898411156103d257600080fd5b86860192505b838310156104bc578251858111156103f05760008081fd5b86016060601f19828d0381018213156104095760008081fd5b6104116102b5565b61041c8b850161030d565b8152604061042b81860161030d565b828d01529284015192898411156104425760008081fd5b83850194508e603f86011261045957600093508384fd5b8b85015193508984111561046f5761046f61029f565b61047f8c84601f870116016102dd565b92508383528e818587010111156104965760008081fd5b6104a5848d8501838801610329565b8101919091528452505091860191908601906103d8565b9998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b600060001982141561050157634e487b7160e01b600052601160045260246000fd5b5060010190565b6000825161051a818460208701610329565b9190910192915050565b6020815260008251806020840152610543816040850160208701610329565b601f01601f19169190910160400192915050565b61028d806105666000396000f3fe6080604052600080fd5b606061004b83836040518060400160405280601e81526020017f416464726573733a206c6f772d6c6576656c2063616c6c206661696c65640000815250610052565b9392505050565b60606100618484600085610069565b949350505050565b6060824710156100cf5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084015b60405180910390fd5b6001600160a01b0385163b6101265760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016100c6565b600080866001600160a01b031685876040516101429190610208565b60006040518083038185875af1925050503d806000811461017f576040519150601f19603f3d011682016040523d82523d6000602084013e610184565b606091505b509150915061019482828661019f565b979650505050505050565b606083156101ae57508161004b565b8251156101be5782518084602001fd5b8160405162461bcd60e51b81526004016100c69190610224565b60005b838110156101f35781810151838201526020016101db565b83811115610202576000848401525b50505050565b6000825161021a8184602087016101d8565b9190910192915050565b60208152600082518060208401526102438160408501602087016101d8565b601f01601f1916919091016040019291505056fea26469706673582212200b524eb8ceaafe6c603273ee859fddbc2d6f1b7860c3d853dcf6f129f9d9371364736f6c634300080c0033",DEPLOYER_ABI=[{inputs:[{components:[{internalType:"address",name:"predictedAddress",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IDeployer.Transaction[]",name:"transactions",type:"tuple[]"}],stateMutability:"payable",type:"constructor"}];async function isContractDeployed(o,a){const rt=await a.getCode(o);return rt!=="0x"&&rt!=="0x0"}async function isEIP155Enforced(o){try{await o.sendTransaction("0xf8a58085174876e800830186a08080b853604580600e600039806000f350fe7fffffffffffffffafffffffffffffffffffffffffffffffffffffffffffffffe03601600081602082378035828234f58015156039578182fd5b8082525050506014600cf31ba02222222222222222222222222222222222222222222222222222222222222222a02222222222222222222222222222222222222222222222222222222222222222")}catch(a){const rt=a.toString().toLowerCase(),at=JSON.stringify(a).toLowerCase();return!!(matchError(rt)||matchError(at))}return!1}function getKeylessTxn(o,a){const rt=arrayify(keccak256$1(serialize$2(o))),at=recoverAddress(rt,a),it=serialize$2(o,a);return{signer:at,transaction:it}}function getCreate2FactoryDeploymentInfo(o,a){const rt=joinSignature(SIGNATURE),at=getKeylessTxn({gasPrice:a||100*10**9,gasLimit:1e5,nonce:0,data:CREATE2_FACTORY_BYTECODE,chainId:o},rt),it=getContractAddress({from:at.signer,nonce:0});return{...at,deployment:it}}async function getCreate2FactoryAddress(o){if(await isContractDeployed(COMMON_FACTORY,o))return COMMON_FACTORY;const rt=await isEIP155Enforced(o),at=(await o.getNetwork()).chainId,it=rt?at:0;return(CUSTOM_GAS_FOR_CHAIN[at]?getCreate2FactoryDeploymentInfo(it,CUSTOM_GAS_FOR_CHAIN[at].gasPrice):getCreate2FactoryDeploymentInfo(it)).deployment}const bytecode="0x60606040526040805190810160405280600d81526020017f57726170706564204574686572000000000000000000000000000000000000008152506000908051906020019061004f9291906100c8565b506040805190810160405280600481526020017f57455448000000000000000000000000000000000000000000000000000000008152506001908051906020019061009b9291906100c8565b506012600260006101000a81548160ff021916908360ff16021790555034156100c357600080fd5b61016d565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061010957805160ff1916838001178555610137565b82800160010185558215610137579182015b8281111561013657825182559160200191906001019061011b565b5b5090506101449190610148565b5090565b61016a91905b8082111561016657600081600090555060010161014e565b5090565b90565b610c348061017c6000396000f3006060604052600436106100af576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde03146100b9578063095ea7b31461014757806318160ddd146101a157806323b872dd146101ca5780632e1a7d4d14610243578063313ce5671461026657806370a082311461029557806395d89b41146102e2578063a9059cbb14610370578063d0e30db0146103ca578063dd62ed3e146103d4575b6100b7610440565b005b34156100c457600080fd5b6100cc6104dd565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561010c5780820151818401526020810190506100f1565b50505050905090810190601f1680156101395780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561015257600080fd5b610187600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061057b565b604051808215151515815260200191505060405180910390f35b34156101ac57600080fd5b6101b461066d565b6040518082815260200191505060405180910390f35b34156101d557600080fd5b610229600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061068c565b604051808215151515815260200191505060405180910390f35b341561024e57600080fd5b61026460048080359060200190919050506109d9565b005b341561027157600080fd5b610279610b05565b604051808260ff1660ff16815260200191505060405180910390f35b34156102a057600080fd5b6102cc600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610b18565b6040518082815260200191505060405180910390f35b34156102ed57600080fd5b6102f5610b30565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561033557808201518184015260208101905061031a565b50505050905090810190601f1680156103625780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561037b57600080fd5b6103b0600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610bce565b604051808215151515815260200191505060405180910390f35b6103d2610440565b005b34156103df57600080fd5b61042a600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610be3565b6040518082815260200191505060405180910390f35b34600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055503373ffffffffffffffffffffffffffffffffffffffff167fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c346040518082815260200191505060405180910390a2565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105735780601f1061054857610100808354040283529160200191610573565b820191906000526020600020905b81548152906001019060200180831161055657829003601f168201915b505050505081565b600081600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a36001905092915050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b600081600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054101515156106dc57600080fd5b3373ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141580156107b457507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414155b156108cf5781600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015151561084457600080fd5b81600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055505b81600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555081600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190509392505050565b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515610a2757600080fd5b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f193505050501515610ab457600080fd5b3373ffffffffffffffffffffffffffffffffffffffff167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65826040518082815260200191505060405180910390a250565b600260009054906101000a900460ff1681565b60036020528060005260406000206000915090505481565b60018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610bc65780601f10610b9b57610100808354040283529160200191610bc6565b820191906000526020600020905b815481529060010190602001808311610ba957829003601f168201915b505050505081565b6000610bdb33848461068c565b905092915050565b60046020528160005260406000206020528060005260406000206000915091505054815600a165627a7a72305820deb4c2ccab3c2fdca32ab3f46728389c2fe2c165d5fafa07661e4e004f6c344a0029",uriCache={},THIRDWEB_DEPLOYER$1="0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024";async function fetchAndCachePublishedContractURI(o){if(uriCache[o])return uriCache[o];const a=await new ThirdwebSDK("polygon").getPublisher().getVersion(THIRDWEB_DEPLOYER$1,o);if(!a)throw new Error(`No published contract found for ${o} at version by '${THIRDWEB_DEPLOYER$1}'`);const rt=a.metadataUri;return uriCache[o]=rt,rt}async function fetchExtendedReleaseMetadata(o,a){const rt=await(await a.download(o)).text();return FullPublishMetadataSchemaOutput.parse(JSON.parse(rt))}async function fetchRawPredeployMetadata(o,a){return PreDeployMetadata.parse(JSON.parse(await(await a.download(o)).text()))}async function fetchPreDeployMetadata(o,a){const rt=await fetchRawPredeployMetadata(o,a),at=await(await a.download(rt.bytecodeUri)).text(),it=await fetchContractMetadata(rt.metadataUri,a);return PreDeployMetadataFetchedSchema.parse({...rt,...it,bytecode:at})}const deployMetadataCache={};async function fetchAndCacheDeployMetadata(o,a){if(deployMetadataCache[o])return deployMetadataCache[o];const rt=await fetchPreDeployMetadata(o,a);let at;try{at=await fetchExtendedReleaseMetadata(o,a)}catch{}const it={compilerMetadata:rt,extendedMetadata:at};return deployMetadataCache[o]=it,it}function getSaltHash(o){const rt=`tw.${id(o)}`;return id(rt)}function getInitBytecodeWithSalt(o,a){const rt=getSaltHash(o);return pack(["bytes32","bytes","bytes"],[rt,o,a])}function computeDeploymentAddress(o,a,rt){const at=getSaltHash(o),it=pack(["bytes","bytes"],[o,a]),ot=pack(["bytes1","address","bytes32","bytes32"],["0xff",rt,at,keccak256(["bytes"],[it])]);return`0x${keccak256(["bytes"],[ot]).slice(26)}`}function extractConstructorParamsFromAbi(o){const a=AbiSchema.parse(o||[]);for(const rt of a)if(rt.type==="constructor")return rt.inputs||[];return[]}const caches={deploymentPresets:{}};async function computeDeploymentInfo(o,a,rt,at,it){let ot=it&&it.contractName,st=it&&it.metadata;if(invariant(ot||st,"Require contract name or metadata"),ot&&caches.deploymentPresets[ot])return caches.deploymentPresets[ot];if(ot==="WETH9"){const ft=computeDeploymentAddress(bytecode,[],at),pt=await isContractDeployed(ft,a);let ht="";return pt||(ht=getInitBytecodeWithSalt(bytecode,[])),{name:ot,type:o,transaction:{predictedAddress:ft,to:at,data:ht}}}if(!st){invariant(ot,"Require contract name");const ft=await fetchAndCachePublishedContractURI(ot);st=(await fetchAndCacheDeployMetadata(ft,rt)).compilerMetadata}const ct=await encodeConstructorParamsForImplementation(st,a,rt,at,it==null?void 0:it.constructorParams),lt=computeDeploymentAddress(st.bytecode,ct,at),ut=await isContractDeployed(lt,a);let dt="";return ut||(dt=getInitBytecodeWithSalt(st.bytecode,ct)),{name:ot,type:o,transaction:{predictedAddress:lt,to:at,data:dt},encodedArgs:ct}}async function encodeConstructorParamsForImplementation(o,a,rt,at,it){const ot=extractConstructorParamsFromAbi(o.abi);let st=ot.map(ut=>ut.type==="tuple[]"?ParamType.from(ut):ut.type);const ct=await Promise.all(ot.map(async ut=>{if(it&&it[ut.name])return it[ut.name].type&&invariant(it[ut.name].type===ut.type,`Provided type ${it[ut.name].type} doesn't match the actual type ${ut.type} from Abi`),it[ut.name].value;if(ut.name&&ut.name.includes("nativeTokenWrapper")){const dt=(await a.getNetwork()).chainId;let ft=getNativeTokenByChainId(dt).wrapped.address;if(ft===AddressZero$1){const pt=await computeDeploymentInfo("infra",a,rt,at,{contractName:"WETH9"});caches.deploymentPresets.WETH9||(caches.deploymentPresets.WETH9=pt),ft=pt.transaction.predictedAddress}return ft}else if(ut.name&&ut.name.includes("trustedForwarder")){if(o.name==="Pack"){const ft=await computeDeploymentInfo("infra",a,rt,at,{contractName:"ForwarderEOAOnly"});return caches.deploymentPresets.ForwarderEOAOnly||(caches.deploymentPresets.ForwarderEOAOnly=ft),ft.transaction.predictedAddress}const dt=await computeDeploymentInfo("infra",a,rt,at,{contractName:"Forwarder"});return caches.deploymentPresets.Forwarder||(caches.deploymentPresets.Forwarder=dt),dt.transaction.predictedAddress}else throw new Error("Can't resolve constructor arguments")}));return defaultAbiCoder.encode(st,ct)}async function computeEOAForwarderAddress(o,a,rt){return rt||(rt=await getCreate2FactoryAddress(o)),(await computeDeploymentInfo("infra",o,a,rt,{contractName:"ForwarderEOAOnly"})).transaction.predictedAddress}async function computeForwarderAddress(o,a,rt){return rt||(rt=await getCreate2FactoryAddress(o)),(await computeDeploymentInfo("infra",o,a,rt,{contractName:"Forwarder"})).transaction.predictedAddress}const ForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],ChainAwareForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}],BiconomyForwarderAbi=[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],_nonces={},_noncesSyncTimestamp={};async function getAndIncrementNonce(o,a,rt){const at=rt.join("|"),it=_noncesSyncTimestamp[at],ot=Date.now()-it>=2e3;if(!(at in _nonces)||ot){const ct=await o.functions[a](...rt);Array.isArray(ct)&&ct.length>0?_nonces[at]=BigNumber.from(ct[0]):_nonces[at]=BigNumber.from(ct),_noncesSyncTimestamp[at]=Date.now()}const st=_nonces[at];return _nonces[at]=BigNumber.from(_nonces[at]).add(1),st}async function signTypedDataInternal(o,a,rt,at){var lt,ut;const it=o==null?void 0:o.provider;if(!it)throw new Error("missing provider");const ot=TypedDataEncoder.getPayload(a,rt,at);let st="";const ct=(await o.getAddress()).toLowerCase();if((lt=it==null?void 0:it.provider)!=null&&lt.isWalletConnect)st=await it.send("eth_signTypedData",[(await o.getAddress()).toLowerCase(),JSON.stringify(ot)]);else try{st=await o._signTypedData(a,rt,at)}catch(dt){if((ut=dt==null?void 0:dt.message)!=null&&ut.includes("Method eth_signTypedData_v4 not supported"))st=await it.send("eth_signTypedData",[ct,JSON.stringify(ot)]);else try{await it.send("eth_signTypedData_v4",[ct,JSON.stringify(ot)])}catch(ft){throw ft}}return{payload:ot,signature:joinSignature(splitSignature(st))}}const NAME_ABI=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DOMAIN_SEPARATOR_ABI=[{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],NONCES_ABI=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}];async function getSignerNonce(o,a){const rt=new Contract(a,NONCES_ABI,o);try{return await rt.nonces(await o.getAddress())}catch{return await rt.getNonce(await o.getAddress())}}async function getDomainSeperator(o,a){const rt=new Contract(a,DOMAIN_SEPARATOR_ABI,o);try{return await rt.DOMAIN_SEPARATOR()}catch{try{return await rt.getDomainSeperator()}catch(it){console.error("Error getting domain separator",it)}}}async function getTokenName(o,a){return new Contract(a,NAME_ABI,o).name()}async function getChainDomainSeperator(o,a){const rt=await getDomainSeperator(o,a.verifyingContract),at={name:a.name,version:a.version,verifyingContract:a.verifyingContract,salt:hexZeroPad(BigNumber.from(a.chainId).toHexString(),32)};return TypedDataEncoder.hashDomain(at)===rt?at:a}async function signEIP2612Permit(o,a,rt,at,it,ot,st){const ct=await getChainDomainSeperator(o,{name:await getTokenName(o,a),version:"1",chainId:await o.getChainId(),verifyingContract:a});st=st||(await getSignerNonce(o,a)).toString(),ot=ot||MaxUint256$1;const lt={owner:rt,spender:at,value:it,nonce:st,deadline:ot},ut={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},{signature:dt}=await signTypedDataInternal(o,ct,ut,lt);return{message:lt,signature:dt}}const isBrowser$1=()=>!0,isNode$1=()=>!isBrowser$1();function unique(o,a){if(o.length===0||o.length===1||!a)return o;for(let rt=0;rt<o.length;rt++)for(let at=rt+1;at<o.length;at++)a(o[rt],o[at])&&o.splice(at,1);return o}let EventType=function(o){return o.Transaction="transaction",o.Signature="signature",o}({});class RPCConnectionHandler extends EventEmitter$1{constructor(a,rt){super(),_defineProperty(this,"provider",void 0),_defineProperty(this,"signer",void 0),_defineProperty(this,"options",void 0);try{this.options=SDKOptionsSchema.parse(rt)}catch(ot){console.error("invalid sdk options object passed, falling back to default options",ot),this.options=SDKOptionsSchema.parse({})}const[at,it]=getSignerAndProvider(a,this.options);this.signer=at,this.provider=it}updateSignerOrProvider(a){const[rt,at]=getSignerAndProvider(a,this.options);this.signer=rt,this.provider=at}isReadOnly(){return!isSigner(this.signer)}getSigner(){return this.signer}getProvider(){return this.provider}getSignerOrProvider(){return this.getSigner()||this.getProvider()}}const AddressZero="0x0000000000000000000000000000000000000000",TWRegistry_address="0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",TWFactory_address="0x5DBC7B840baa9daBcBe9D2492E45D7244B54A2A0",OZ_DEFENDER_FORWARDER_ADDRESS="0xc82BbE41f2cF04e3a8efA18F7032BDD7f6d98a81",CONTRACT_ADDRESSES={[ChainId.Mainnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x76ce2CB1Ae48Fa067f4fb8c5f803111AE0B24BEA",biconomyForwarder:"0x84a0856b038eaAd1cC7E297cF34A7e72685A8693",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.Goerli]:{openzeppelinForwarder:"0x5001A14CA6163143316a7C614e30e6041033Ac20",openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0xE041608922d06a4F26C0d4c27d8bCD01daf1f792",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0xB1Bd9d7942A250BA2Dce27DD601F2ED4211A60C4"},[ChainId.Polygon]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x308473Be900F4185A56587dE54bDFF5E8f7a6AE7"},[ChainId.Mumbai]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x9399BB24DBB5C4b782C70c2969F58716Ebbd6a3b",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3F17972CB27506eb4a6a3D59659e0B57a43fd16C"},[ChainId.Avalanche]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.AvalancheFujiTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0x6271Ca63D30507f2Dcbf99B52787032506D75BBF",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId.Fantom]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:"0x97EA0Fcc552D5A8Fb5e9101316AAd0D62Ea0876B",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId.FantomTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x42D3048b595B6e1c28a588d70366CcC2AA4dB47b",biconomyForwarder:"0x69FB8Dca8067A5D38703b9e8b39cf2D51473E4b4",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId.Arbitrum]:{openzeppelinForwarder:"0x4a8AC7f22DeD2CF923A51e4A1c67490bd8868add",openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0xfe0fa3C06d03bDC7fb49c892BbB39113B534fB57",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId.ArbitrumGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId.Optimism]:{openzeppelinForwarder:"0xd85da690EF288A6976DE0E85Fb2Aad512eBAfbf7",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0xefba8a2a82ec1fb1273806174f5e28fbb917cf95",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId.OptimismGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId.BinanceSmartChainMainnet]:{openzeppelinForwarder:"0x7C4717039B89d5859c4Fbb85EDB19A6E2ce61171",openzeppelinForwarderEOA:"0xE8dd2Ff0212F86d3197b4AfDC6dAC6ac47eb10aC",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"},[ChainId.BinanceSmartChainTestnet]:{openzeppelinForwarder:"0x44bE9D54B9C8b5e57a3325E8Ec9154640e7c6955",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0x61456BF1715C1415730076BB79ae118E806E74d2",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"},[ChainId.Hardhat]:{openzeppelinForwarder:AddressZero,openzeppelinForwarderEOA:AddressZero,biconomyForwarder:AddressZero,twFactory:AddressZero,twRegistry:AddressZero,twBYOCRegistry:AddressZero},[ChainId.Localhost]:{openzeppelinForwarder:AddressZero,openzeppelinForwarderEOA:AddressZero,biconomyForwarder:AddressZero,twFactory:AddressZero,twRegistry:AddressZero,twBYOCRegistry:AddressZero}};function getContractAddressByChainId(o,a){var rt;return o===ChainId.Hardhat||o===ChainId.Localhost?a==="twFactory"?{}.factoryAddress:a==="twRegistry"?{}.registryAddress:AddressZero:(rt=CONTRACT_ADDRESSES[o])==null?void 0:rt[a]}var _storage=new WeakMap;class ContractWrapper extends RPCConnectionHandler{constructor(a,rt,at,it){super(a,it),_classPrivateFieldInitSpec(this,_storage,{writable:!0,value:void 0}),_defineProperty(this,"isValidContract",!1),_defineProperty(this,"customOverrides",()=>({})),_defineProperty(this,"writeContract",void 0),_defineProperty(this,"readContract",void 0),_defineProperty(this,"abi",void 0),this.abi=at,this.writeContract=new Contract(rt,at,this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider()),_classPrivateFieldSet(this,_storage,new ThirdwebStorage)}updateSignerOrProvider(a){super.updateSignerOrProvider(a),this.writeContract=this.writeContract.connect(this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider())}async getChainID(){const a=this.getProvider(),{chainId:rt}=await a.getNetwork();return rt}async getSignerAddress(){const a=this.getSigner();if(!a)throw new Error("This action requires a connected wallet to sign the transaction. Please pass a valid signer to the SDK.");return await a.getAddress()}callStatic(){return this.writeContract.callStatic}async getCallOverrides(){return{}}getPreferredPriorityFee(a){const rt=this.options.gasSettings.speed,at=this.options.gasSettings.maxPriceInGwei;let it;switch(rt){case"standard":it=BigNumber.from(0);break;case"fast":it=a.div(100).mul(5);break;case"fastest":it=a.div(100).mul(10);break}let ot=a.add(it);const st=parseUnits(at.toString(),"gwei"),ct=parseUnits("2.5","gwei");return ot.gt(st)&&(ot=st),ot.lt(ct)&&(ot=ct),ot}async getPreferredGasPrice(){const a=await this.getProvider().getGasPrice(),rt=this.options.gasSettings.speed,at=this.options.gasSettings.maxPriceInGwei;let it=a,ot;switch(rt){case"standard":ot=BigNumber.from(1);break;case"fast":ot=a.div(100).mul(5);break;case"fastest":ot=a.div(100).mul(10);break}it=it.add(ot);const st=parseUnits(at.toString(),"gwei");return it.gt(st)&&(it=st),it}emitTransactionEvent(a,rt){this.emit(EventType.Transaction,{status:a,transactionHash:rt})}async multiCall(a){return this.sendTransaction("multicall",[a])}async estimateGas(a,rt){return this.writeContract.estimateGas[a](...rt)}withTransactionOverride(a){this.customOverrides=a}async call(a){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],at=arguments.length>2?arguments[2]:void 0,it=at?await CallOverrideSchema.parseAsync(at):void 0;const ot=extractFunctionsFromAbi(AbiSchema.parse(this.abi)).filter(ut=>ut.name===a);if(!ot.length)throw new Error(`Function "${a}" not found in contract. Check your dashboard for the list of functions available`);const st=ot.find(ut=>ut.name===a&&ut.inputs.length===rt.length);if(!st)throw new Error(`Function "${a}" requires ${ot[0].inputs.length} arguments, but ${rt.length} were provided.
Expected function signature: ${ot[0].signature}`);const ct=`${a}(${st.inputs.map(ut=>ut.type).join()})`,lt=ct in this.readContract.functions?ct:a;return st.stateMutability==="view"||st.stateMutability==="pure"?it?this.readContract[lt](...rt,it):this.readContract[lt](...rt):{receipt:await this.sendTransaction(lt,rt,it)}}async sendTransaction(a,rt,at){var it;if(at||(at=await this.getCallOverrides()),at={...at,...this.customOverrides()},this.customOverrides=()=>({}),((it=this.options)==null?void 0:it.gasless)&&("openzeppelin"in this.options.gasless||"biconomy"in this.options.gasless)){if(a==="multicall"&&Array.isArray(rt[0])&&rt[0].length>0){const lt=await this.getSignerAddress();rt[0]=rt[0].map(ut=>pack(["bytes","address"],[ut,lt]))}const ot=this.getProvider(),st=await this.sendGaslessTransaction(a,rt,at);this.emitTransactionEvent("submitted",st);const ct=await ot.waitForTransaction(st);return this.emitTransactionEvent("completed",st),ct}else{if(!this.isValidContract){const ct=await this.getProvider().getCode(this.readContract.address);if(this.isValidContract=ct!=="0x",!this.isValidContract)throw new Error("The address you're trying to send a transaction to is not a smart contract. Make sure you are on the correct network and the contract address is correct")}const ot=await this.sendTransactionByFunction(a,rt,at);this.emitTransactionEvent("submitted",ot.hash);let st;try{st=await ot.wait()}catch(ct){try{await this.writeContract.callStatic[a](...rt,...at.value?[{value:at.value}]:[])}catch(lt){throw await this.formatError(lt,a,rt,at)}throw await this.formatError(ct,a,rt,at)}return this.emitTransactionEvent("completed",ot.hash),st}}async sendTransactionByFunction(a,rt,at){const it=this.writeContract.functions[a];if(!it)throw new Error(`invalid function: "${a.toString()}"`);if(!at.gasLimit)try{at.gasLimit=await this.writeContract.estimateGas[a](...rt,at)}catch{try{await this.writeContract.callStatic[a](...rt,...at.value?[{value:at.value}]:[])}catch(st){throw await this.formatError(st,a,rt,at)}}try{return await it(...rt,at)}catch(ot){const st=await(at.from||this.getSignerAddress()),ct=await(at.value?at.value:0),lt=await this.getProvider().getBalance(st);throw lt.eq(0)||ct&&lt.lt(ct)?await this.formatError(new Error("You have insufficient funds in your account to execute this transaction."),a,rt,at):await this.formatError(ot,a,rt,at)}}async formatError(a,rt,at,it){var Tt,_t,St;const ot=this.getProvider(),st=await ot.getNetwork(),ct=await(it.from||this.getSignerAddress()),lt=this.readContract.address,ut=this.readContract.interface.encodeFunctionData(rt,at),dt=BigNumber.from(it.value||0),ft=(Tt=ot.connection)==null?void 0:Tt.url,pt=this.readContract.interface.getFunction(rt),ht=at.map(Pt=>JSON.stringify(Pt).length<=80?JSON.stringify(Pt):JSON.stringify(Pt,void 0,2)),yt=ht.join(", ").length<=80?ht.join(", "):`
`+ht.map(Pt=>"  "+Pt.split(`
`).join(`
  `)).join(`,
`)+`
`,mt=`${pt.name}(${yt})`,gt=a.transactionHash||((_t=a.transaction)==null?void 0:_t.hash)||((St=a.receipt)==null?void 0:St.transactionHash),bt=parseRevertReason(a);let vt,wt;try{const Pt=await fetchContractMetadataFromAddress(this.readContract.address,this.getProvider(),_classPrivateFieldGet(this,_storage));Pt.name&&(wt=Pt.name),Pt.metadata.sources&&(vt=await fetchSourceFilesFromMetadata(Pt,_classPrivateFieldGet(this,_storage)))}catch{}return new TransactionError({reason:bt,from:ct,to:lt,method:mt,data:ut,network:st,rpcUrl:ft,value:dt,hash:gt,contractName:wt,sources:vt},a)}async sendGaslessTransaction(a){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],at=arguments.length>2?arguments[2]:void 0;const it=this.getSigner();invariant(it,"Cannot execute gasless transaction without valid signer");const ot=await this.getChainID(),st=await this.getSignerAddress(),ct=this.writeContract.address,lt=(at==null?void 0:at.value)||0;if(BigNumber.from(lt).gt(0))throw new Error("Cannot send native token value with gasless transaction");const ut=this.writeContract.interface.encodeFunctionData(a,rt);let dt=BigNumber.from(0);try{dt=(await this.readContract.estimateGas[a](...rt)).mul(2)}catch{}dt.lt(1e5)&&(dt=BigNumber.from(5e5)),at.gasLimit&&BigNumber.from(at.gasLimit).gt(dt)&&(dt=BigNumber.from(at.gasLimit));const ft={from:st,to:ct,data:ut,chainId:ot,gasLimit:dt,functionName:a.toString(),functionArgs:rt,callOverrides:at};return await this.defaultGaslessSendFunction(ft)}async signTypedData(a,rt,at,it){this.emit(EventType.Signature,{status:"submitted",message:it,signature:""});const{signature:ot}=await signTypedDataInternal(a,rt,at,it);return this.emit(EventType.Signature,{status:"completed",message:it,signature:ot}),ot}parseLogs(a,rt){if(!rt||rt.length===0)return[];const at=this.writeContract.interface.getEventTopic(a);return rt.filter(ot=>ot.topics.indexOf(at)>=0).map(ot=>this.writeContract.interface.parseLog(ot))}async defaultGaslessSendFunction(a){return this.options.gasless&&"biconomy"in this.options.gasless?this.biconomySendFunction(a):this.defenderSendFunction(a)}async biconomySendFunction(a){var ft,pt;invariant(this.options.gasless&&"biconomy"in this.options.gasless,"calling biconomySendFunction without biconomy");const rt=this.getSigner(),at=this.getProvider();invariant(rt&&at,"signer and provider must be set");const it=new Contract(getContractAddressByChainId(a.chainId,"biconomyForwarder"),BiconomyForwarderAbi,at),ot=0,st=await getAndIncrementNonce(it,"getNonce",[a.from,ot]),ct={from:a.from,to:a.to,token:AddressZero$1,txGas:a.gasLimit.toNumber(),tokenGasPrice:"0",batchId:ot,batchNonce:st.toNumber(),deadline:Math.floor(Date.now()/1e3+(((ft=this.options)==null?void 0:ft.gasless)&&"biconomy"in this.options.gasless&&((pt=this.options.gasless.biconomy)==null?void 0:pt.deadlineSeconds)||3600)),data:a.data},lt=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[ct.from,ct.to,ct.token,ct.txGas,ct.tokenGasPrice,ct.batchId,ct.batchNonce,ct.deadline,keccak256$1(ct.data)]));this.emit(EventType.Signature,{status:"submitted",message:lt,signature:""});const ut=await rt.signMessage(lt);this.emit(EventType.Signature,{status:"completed",message:lt,signature:ut});const dt=await fetch$1("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:JSON.stringify({from:a.from,apiId:this.options.gasless.biconomy.apiId,params:[ct,ut],to:a.to,gasLimit:a.gasLimit.toHexString()}),headers:{"x-api-key":this.options.gasless.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(dt.ok){const ht=await dt.json();if(!ht.txHash)throw new Error(`relay transaction failed: ${ht.log}`);return ht.txHash}throw new Error(`relay transaction failed with status: ${dt.status} (${dt.statusText})`)}async defenderSendFunction(a){invariant(this.options.gasless&&"openzeppelin"in this.options.gasless,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options");const rt=this.getSigner(),at=this.getProvider();invariant(rt,"provider is not set"),invariant(at,"provider is not set");const it=this.options.gasless.openzeppelin.relayerForwarderAddress||(this.options.gasless.openzeppelin.useEOAForwarder?CONTRACT_ADDRESSES[a.chainId].openzeppelinForwarderEOA||await computeEOAForwarderAddress(this.getProvider(),_classPrivateFieldGet(this,_storage)):CONTRACT_ADDRESSES[a.chainId].openzeppelinForwarder||await computeForwarderAddress(this.getProvider(),_classPrivateFieldGet(this,_storage))),ot=new Contract(it,ForwarderABI,at),st=await getAndIncrementNonce(ot,"getNonce",[a.from]);let ct,lt,ut;this.options.gasless.experimentalChainlessSupport?(ct={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:it},lt={ForwardRequest:ChainAwareForwardRequest},ut={from:a.from,to:a.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(a.gasLimit).toString(),nonce:BigNumber.from(st).toString(),data:a.data,chainid:BigNumber.from(a.chainId).toString()}):(ct={name:this.options.gasless.openzeppelin.domainName,version:this.options.gasless.openzeppelin.domainVersion,chainId:a.chainId,verifyingContract:it},lt={ForwardRequest},ut={from:a.from,to:a.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(a.gasLimit).toString(),nonce:BigNumber.from(st).toString(),data:a.data});let dt;if(this.emit(EventType.Signature,{status:"submitted",message:ut,signature:""}),a.functionName==="approve"&&a.functionArgs.length===2){const yt=a.functionArgs[0],mt=a.functionArgs[1],{message:gt,signature:bt}=await signEIP2612Permit(rt,this.writeContract.address,a.from,yt,mt),{r:vt,s:wt,v:Tt}=splitSignature(bt);ut={to:this.readContract.address,owner:gt.owner,spender:gt.spender,value:BigNumber.from(gt.value).toString(),nonce:BigNumber.from(gt.nonce).toString(),deadline:BigNumber.from(gt.deadline).toString(),r:vt,s:wt,v:Tt},dt=bt}else{const{signature:yt}=await signTypedDataInternal(rt,ct,lt,ut);dt=yt}let ft="forward";ut!=null&&ut.owner&&(ft="permit");const pt=JSON.stringify({request:ut,signature:dt,forwarderAddress:it,type:ft});this.emit(EventType.Signature,{status:"completed",message:ut,signature:dt});const ht=await fetch$1(this.options.gasless.openzeppelin.relayerUrl,{method:"POST",body:pt});if(ht.ok){const yt=await ht.json();if(!yt.result)throw new Error(`Relay transaction failed: ${yt.message}`);return JSON.parse(yt.result).txHash}throw new Error(`relay transaction failed with status: ${ht.status} (${ht.statusText})`)}}function joinABIs(o){const a=o.map(it=>AbiSchema.parse(it)).flat(),at=unique(a,(it,ot)=>it.name===ot.name&&it.type===ot.type&&it.inputs.length===ot.inputs.length).filter(it=>it.type!=="constructor");return AbiSchema.parse(at)}async function getPluginABI(o,a,rt){return(await Promise.all(o.map(at=>fetchContractMetadataFromAddress(at,a,rt).catch(it=>(console.error(`Failed to fetch plug-in for ${at}`,it),{abi:[]}))))).map(at=>at.abi)}async function getCompositePluginABI(o,a,rt,at,it){let ot=[];try{const st=isFeatureEnabled(AbiSchema.parse(a),"PluginRouter");if(isFeatureEnabled(AbiSchema.parse(a),"ExtensionRouter")){const dt=(await new ContractWrapper(rt,o,getAllExtensionsAbi,at).call("getAllExtensions")).map(ft=>ft.metadata.implementation);ot=await getPluginABI(dt,rt,it)}else if(st){const dt=(await new ContractWrapper(rt,o,getAllPluginsAbi,at).call("getAllPlugins")).map(pt=>pt.pluginAddress),ft=Array.from(new Set(dt));ot=await getPluginABI(ft,rt,it)}}catch{}return ot.length>0?joinABIs([a,...ot]):a}function createStorage(o,a){return o||(a!=null&&a.gatewayUrls?new ThirdwebStorage({gatewayUrls:a.gatewayUrls}):new ThirdwebStorage)}async function getPrebuiltInfo(o,a){try{const rt=new Contract(o,IThirdwebContractABI,a),[at,it]=await Promise.all([toUtf8String(await rt.contractType()).replace(/\x00/g,""),await rt.contractVersion()]);return{type:at,version:it}}catch{return}}const roleMap={admin:"",transfer:"TRANSFER_ROLE",minter:"MINTER_ROLE",pauser:"PAUSER_ROLE",lister:"LISTER_ROLE",asset:"ASSET_ROLE",unwrap:"UNWRAP_ROLE",factory:"FACTORY_ROLE",signer:"SIGNER_ROLE"},ALL_ROLES=Object.keys(roleMap);function getRoleHash(o){return o==="admin"?hexZeroPad([0],32):id(roleMap[o])}const DropErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractDeploy=DropErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc1155ContractSchema={deploy:DropErc1155ContractDeploy,output:DropErc1155ContractOutput,input:DropErc1155ContractInput},DropErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractDeploy=DropErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc721ContractSchema={deploy:DropErc721ContractDeploy,output:DropErc721ContractOutput,input:DropErc721ContractInput},MarketplaceContractInput=CommonContractSchema,MarketplaceContractOutput=CommonContractOutputSchema,MarketplaceContractDeploy=MarketplaceContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),MarketplaceContractSchema={deploy:MarketplaceContractDeploy,output:MarketplaceContractOutput,input:MarketplaceContractInput},SplitRecipientInputSchema=z$2.object({address:AddressOrEnsSchema,sharesBps:BasisPointsSchema.gt(0,"Shares must be greater than 0")}),SplitRecipientOuputSchema=SplitRecipientInputSchema.extend({address:AddressOrEnsSchema,sharesBps:BasisPointsSchema}),SplitsContractInput=CommonContractSchema.extend({recipients:z$2.array(SplitRecipientInputSchema).default([]).superRefine((o,a)=>{const rt={};let at=0;for(let it=0;it<o.length;it++){const ot=o[it];rt[ot.address]&&a.addIssue({code:z$2.ZodIssueCode.custom,message:"Duplicate address.",path:[it,"address"]}),rt[ot.address]=!0,at+=ot.sharesBps,at>1e4&&a.addIssue({code:z$2.ZodIssueCode.custom,message:"Total shares cannot go over 100%.",path:[it,"sharesBps"]})}at!==1e4&&a.addIssue({code:z$2.ZodIssueCode.custom,message:`Total shares need to add up to 100%. Total shares are currently ${at/100}%`,path:[]})})}),SplitsContractOutput=CommonContractOutputSchema.extend({recipients:z$2.array(SplitRecipientOuputSchema)}),SplitsContractDeploy=SplitsContractInput.merge(SplitsContractInput).merge(CommonTrustedForwarderSchema),SplitsContractSchema={deploy:SplitsContractDeploy,output:SplitsContractOutput,input:SplitsContractInput},TokenErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractDeploy=TokenErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc1155ContractSchema={deploy:TokenErc1155ContractDeploy,output:TokenErc1155ContractOutput,input:TokenErc1155ContractInput},TokenErc20ContractInput=CommonContractSchema.merge(CommonSymbolSchema),TokenErc20ContractOutput=CommonContractOutputSchema.merge(CommonSymbolSchema),TokenErc20ContractDeploy=TokenErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc20ContractSchema={deploy:TokenErc20ContractDeploy,output:TokenErc20ContractOutput,input:TokenErc20ContractInput},TokenErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractDeploy=TokenErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc721ContractSchema={deploy:TokenErc721ContractDeploy,output:TokenErc721ContractOutput,input:TokenErc721ContractInput},PackContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractDeploy=PackContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),PackContractSchema={deploy:PackContractDeploy,output:PackContractOutput,input:PackContractInput},VoteSettingsInputSchema=z$2.object({voting_delay_in_blocks:z$2.number().min(0).default(0),voting_period_in_blocks:z$2.number().min(1).default(1),voting_token_address:AddressOrEnsSchema,voting_quorum_fraction:PercentSchema.default(0),proposal_token_threshold:BigNumberishSchema.default(1)}),VoteSettingsOuputSchema=VoteSettingsInputSchema.extend({proposal_token_threshold:BigNumberSchema}),VoteContractInput=CommonContractSchema.merge(VoteSettingsInputSchema),VoteContractOutput=CommonContractOutputSchema.merge(VoteSettingsOuputSchema),VoteContractDeploy=VoteContractInput.merge(CommonTrustedForwarderSchema),VoteContractSchema={deploy:VoteContractDeploy,output:VoteContractOutput,input:VoteContractInput};z$2.object({proposalId:BigNumberSchema,proposer:z$2.string(),targets:z$2.array(z$2.string()),values:z$2.array(BigNumberSchema),signatures:z$2.array(z$2.string()),calldatas:z$2.array(z$2.string()),startBlock:BigNumberSchema,endBlock:BigNumberSchema,description:z$2.string()});const DropErc20ContractInput=CommonContractSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractOutput=CommonContractOutputSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractDeploy=DropErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc20ContractSchema={deploy:DropErc20ContractDeploy,output:DropErc20ContractOutput,input:DropErc20ContractInput},MultiwrapContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractDeploy=MultiwrapContractInput.merge(CommonTrustedForwarderSchema),MultiwrapContractSchema={deploy:MultiwrapContractDeploy,output:MultiwrapContractOutput,input:MultiwrapContractInput};async function getCompositeABIfromRelease(o,a){const{extendedMetadata:rt}=await fetchAndCacheDeployMetadata(o,a);return(rt==null?void 0:rt.compositeAbi)||[]}const EditionDropInitializer={name:"DropERC1155",contractType:"edition-drop",schema:DropErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([await EditionDropInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./edition-drop-c5e79ce7.browser.esm.bc87a6ab.js"),["assets/edition-drop-c5e79ce7.browser.esm.bc87a6ab.js","assets/erc-1155-standard-85d4d9fe.browser.esm.0801683a.js","assets/thirdweb-checkout-ca72f3b5.browser.esm.abac1f8f.js"]),ct.getNetwork()]);return new ut.EditionDrop(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);if(at)return at;const it=await getContractInfo(o,a);return!it||it.version>2?(await __vitePreload(()=>import("./DropERC1155.c28d70de.js"),[])).default:(await __vitePreload(()=>import("./DropERC1155_V2.047a97c5.js"),[])).default}},EditionInitializer={name:"TokenERC1155",contractType:"edition",schema:TokenErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([EditionInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./edition-eba0528f.browser.esm.5817bc5a.js"),["assets/edition-eba0528f.browser.esm.5817bc5a.js","assets/erc-1155-standard-85d4d9fe.browser.esm.0801683a.js"]),ct.getNetwork()]);return new ut.Edition(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||(await __vitePreload(()=>import("./TokenERC1155.ecae31fd.js"),[])).default}},MarketplaceInitializer={name:"Marketplace",contractType:"marketplace",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([MarketplaceInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./marketplace-3b41d149.browser.esm.1f3d0af8.js"),[]),ct.getNetwork()]);return new ut.Marketplace(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||(await __vitePreload(()=>import("./Marketplace.dafce7be.js"),[])).default}},MarketplaceV3Initializer={name:"MarketplaceV3",contractType:"marketplace-v3",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([MarketplaceV3Initializer.getAbi(it,ct,ot),__vitePreload(()=>import("./marketplacev3-9d91b7ef.browser.esm.b388321f.js"),[]),ct.getNetwork()]);return new ut.MarketplaceV3(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=(await a.getNetwork()).chainId;if(at===280||at===324){const ct=await fetchAndCachePublishedContractURI("MarketplaceV3");return await getCompositeABIfromRelease(ct,rt)}const ot=await fetchAbiFromAddress(o,a,rt);if(ot)return await getCompositePluginABI(o,ot,a,{},rt);const st=(await __vitePreload(()=>import("./MarketplaceV3.eb43e96f.js"),[])).default;return await getCompositePluginABI(o,AbiSchema.parse(st||[]),a,{},rt)}},MultiwrapInitializer={name:"Multiwrap",contractType:"multiwrap",schema:MultiwrapContractSchema,roles:["admin","transfer","minter","unwrap","asset"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([MultiwrapInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./multiwrap-b77a4557.browser.esm.517a8ba2.js"),["assets/multiwrap-b77a4557.browser.esm.517a8ba2.js","assets/erc-721-standard-352f7788.browser.esm.0f27799d.js","assets/hasERC20Allowance-5ea9afab.browser.esm.28f3df47.js"]),ct.getNetwork()]);return new ut.Multiwrap(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||(await __vitePreload(()=>import("./Multiwrap.08c3df31.js"),[])).default}},NFTCollectionInitializer={name:"TokenERC721",contractType:"nft-collection",schema:TokenErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([NFTCollectionInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./nft-collection-dc734d25.browser.esm.39137666.js"),["assets/nft-collection-dc734d25.browser.esm.39137666.js","assets/erc-721-standard-352f7788.browser.esm.0f27799d.js"]),ct.getNetwork()]);return new ut.NFTCollection(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||(await __vitePreload(()=>import("./TokenERC721.86ce55a8.js"),[])).default}},NFTDropInitializer={name:"DropERC721",contractType:"nft-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([NFTDropInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./nft-drop-c78cde0b.browser.esm.835795b1.js"),["assets/nft-drop-c78cde0b.browser.esm.835795b1.js","assets/erc-721-standard-352f7788.browser.esm.0f27799d.js","assets/thirdweb-checkout-ca72f3b5.browser.esm.abac1f8f.js"]),ct.getNetwork()]);return new ut.NFTDrop(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);if(at)return at;const it=await getContractInfo(o,a);return!it||it.version>3?(await __vitePreload(()=>import("./DropERC721.e0b8db12.js"),[])).default:(await __vitePreload(()=>import("./DropERC721_V3.6ca0a375.js"),[])).default}},PackInitializer={name:"Pack",contractType:"pack",schema:PackContractSchema,roles:["admin","minter","asset","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([PackInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./pack-205380ad.browser.esm.b5979452.js"),["assets/pack-205380ad.browser.esm.b5979452.js","assets/erc-1155-standard-85d4d9fe.browser.esm.0801683a.js","assets/hasERC20Allowance-5ea9afab.browser.esm.28f3df47.js"]),ct.getNetwork()]);return new ut.Pack(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||AbiSchema.parse((await __vitePreload(()=>import("./Pack.f42377f3.js"),[])).default||[])}},SignatureDropInitializer={name:"SignatureDrop",contractType:"signature-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([SignatureDropInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./signature-drop-95946ab0.browser.esm.e4e9d41f.js"),["assets/signature-drop-95946ab0.browser.esm.e4e9d41f.js","assets/erc-721-standard-352f7788.browser.esm.0f27799d.js","assets/thirdweb-checkout-ca72f3b5.browser.esm.abac1f8f.js"]),ct.getNetwork()]);return new ut.SignatureDrop(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);if(at)return at;const it=await getContractInfo(o,a);return!it||it.version>4?(await __vitePreload(()=>import("./SignatureDrop.eaeb76cf.js"),[])).default:(await __vitePreload(()=>import("./SignatureDrop_V4.d8da2cb7.js"),[])).default}},SplitInitializer={name:"Split",contractType:"split",schema:SplitsContractSchema,roles:["admin"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([SplitInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./split-fc417498.browser.esm.27bf966f.js"),[]),ct.getNetwork()]);return new ut.Split(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||(await __vitePreload(()=>import("./Split.77087d36.js"),[])).default}},TokenDropInitializer={name:"DropERC20",contractType:"token-drop",schema:DropErc20ContractSchema,roles:["admin","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([TokenDropInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./token-drop-e12bba74.browser.esm.0680b33f.js"),["assets/token-drop-e12bba74.browser.esm.0680b33f.js","assets/erc-20-standard-381c7dc4.browser.esm.c31ecf16.js"]),ct.getNetwork()]);return new ut.TokenDrop(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);if(at)return at;const it=await getContractInfo(o,a);return!it||it.version>2?(await __vitePreload(()=>import("./DropERC20.6645020d.js"),[])).default:(await __vitePreload(()=>import("./DropERC20_V2.d9ef0def.js"),[])).default}},TokenInitializer={name:"TokenERC20",contractType:"token",schema:TokenErc20ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([TokenInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./token-725f2320.browser.esm.ed17e4c7.js"),["assets/token-725f2320.browser.esm.ed17e4c7.js","assets/erc-20-standard-381c7dc4.browser.esm.c31ecf16.js"]),ct.getNetwork()]);return new ut.Token(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||(await __vitePreload(()=>import("./TokenERC20.e12522b4.js"),[])).default}},VoteInitializer={name:"VoteERC20",contractType:"vote",schema:VoteContractSchema,roles:[],initialize:async function(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];let[at,it,ot,st]=a;const[,ct]=getSignerAndProvider(at,st),[lt,ut,dt]=await Promise.all([VoteInitializer.getAbi(it,ct,ot),__vitePreload(()=>import("./vote-37020a5b.browser.esm.1c2b71d2.js"),[]),ct.getNetwork()]);return new ut.Vote(at,it,ot,st,lt,dt.chainId)},getAbi:async(o,a,rt)=>{const at=await fetchAbiFromAddress(o,a,rt);return at||(await __vitePreload(()=>import("./VoteERC20.db780dba.js"),[])).default}};async function getContractInfo(o,a){try{return await getPrebuiltInfo(o,a)}catch{return}}const PREBUILT_CONTRACTS_MAP={[EditionDropInitializer.contractType]:EditionDropInitializer,[EditionInitializer.contractType]:EditionInitializer,[MarketplaceInitializer.contractType]:MarketplaceInitializer,[MarketplaceV3Initializer.contractType]:MarketplaceV3Initializer,[MultiwrapInitializer.contractType]:MultiwrapInitializer,[NFTCollectionInitializer.contractType]:NFTCollectionInitializer,[NFTDropInitializer.contractType]:NFTDropInitializer,[PackInitializer.contractType]:PackInitializer,[SignatureDropInitializer.contractType]:SignatureDropInitializer,[SplitInitializer.contractType]:SplitInitializer,[TokenDropInitializer.contractType]:TokenDropInitializer,[TokenInitializer.contractType]:TokenInitializer,[VoteInitializer.contractType]:VoteInitializer},PREBUILT_CONTRACTS_APPURI_MAP={[EditionDropInitializer.contractType]:"ipfs://QmNm3wRzpKYWo1SRtJfgfxtvudp5p2nXD6EttcsQJHwTmk",[EditionInitializer.contractType]:"",[MarketplaceInitializer.contractType]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/marketplace.html",[MarketplaceV3Initializer.contractType]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/marketplace-v3.html",[MultiwrapInitializer.contractType]:"",[NFTCollectionInitializer.contractType]:"",[NFTDropInitializer.contractType]:"ipfs://QmZptmVipc6SGFbKAyXcxGgohzTwYRXZ9LauRX5ite1xDK",[PackInitializer.contractType]:"",[SignatureDropInitializer.contractType]:"ipfs://QmZptmVipc6SGFbKAyXcxGgohzTwYRXZ9LauRX5ite1xDK",[SplitInitializer.contractType]:"",[TokenDropInitializer.contractType]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/erc20.html",[TokenInitializer.contractType]:"",[VoteInitializer.contractType]:""},SmartContract$1={name:"SmartContract",contractType:"custom",schema:{},roles:ALL_ROLES},CONTRACTS_MAP={...PREBUILT_CONTRACTS_MAP,[SmartContract$1.contractType]:SmartContract$1};function getContractTypeForRemoteName(o){var a;return((a=Object.values(CONTRACTS_MAP).find(rt=>rt.name===o))==null?void 0:a.contractType)||"custom"}function getContractName(o){var a;return(a=Object.values(CONTRACTS_MAP).find(rt=>rt.contractType===o))==null?void 0:a.name}function assertEnabled(o,a){if(!o)throw new ExtensionNotImplementedError(a);return o}function isRouterContract(o){const a=isFeatureEnabled(AbiSchema.parse(o),"PluginRouter");return isFeatureEnabled(AbiSchema.parse(o),"ExtensionRouter")||a}class TransactionContext{constructor(a){_defineProperty(this,"args",void 0),_defineProperty(this,"overrides",void 0),_defineProperty(this,"provider",void 0),_defineProperty(this,"signer",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"gasMultiple",void 0),this.args=a.args,this.overrides=a.overrides||{},this.provider=a.provider,this.signer=a.signer,this.storage=a.storage||new ThirdwebStorage,this.signer.provider||(this.signer=this.signer.connect(this.provider))}getArgs(){return this.args}getOverrides(){return this.overrides}getValue(){return this.overrides.value||0}setArgs(a){return this.args=a,this}setOverrides(a){return this.overrides=a,this}updateOverrides(a){return this.overrides={...this.overrides,...a},this}setValue(a){return this.updateOverrides({value:a}),this}setGasLimit(a){return this.updateOverrides({gasLimit:a}),this}setGasPrice(a){return this.updateOverrides({gasPrice:a}),this}setNonce(a){return this.updateOverrides({nonce:a}),this}setMaxFeePerGas(a){return this.updateOverrides({maxFeePerGas:a}),this}setMaxPriorityFeePerGas(a){return this.updateOverrides({maxPriorityFeePerGas:a}),this}setType(a){return this.updateOverrides({type:a}),this}setAccessList(a){return this.updateOverrides({accessList:a}),this}setCustomData(a){return this.updateOverrides({customData:a}),this}setCcipReadEnabled(a){return this.updateOverrides({ccipReadEnabled:a}),this}setGasLimitMultiple(a){BigNumber.isBigNumber(this.overrides.gasLimit)?this.overrides.gasLimit=BigNumber.from(Math.floor(BigNumber.from(this.overrides.gasLimit).toNumber()*a)):this.gasMultiple=a}async estimateGasCost(){const a=await this.estimateGasLimit(),rt=await this.getGasPrice(),at=a.mul(rt);return{ether:formatEther(at),wei:at}}async getGasPrice(){const a=await this.provider.getGasPrice(),rt=parseUnits("300","gwei"),at=a.div(100).mul(10),it=a.add(at);return it.gt(rt)?rt:it}async getSignerAddress(){return this.signer.getAddress()}async getGasOverrides(){return{}}getPreferredPriorityFee(a){const rt=a.div(100).mul(10),at=a.add(rt),it=parseUnits("300","gwei"),ot=parseUnits("2.5","gwei");return at.gt(it)?it:at.lt(ot)?ot:at}}class Transaction extends TransactionContext{static fromContractWrapper(a){const rt=a.contractWrapper.getSigner();if(!rt)throw new Error("Cannot create a transaction without a signer. Please ensure that you have a connected signer.");const at={...a,contract:a.contractWrapper.writeContract,provider:a.contractWrapper.getProvider(),signer:rt,gasless:a.contractWrapper.options.gasless};return new Transaction(at)}static async fromContractInfo(a){const rt=a.storage||new ThirdwebStorage;let at=a.contractAbi;if(!at)try{at=(await fetchContractMetadataFromAddress(a.contractAddress,a.provider,rt)).abi}catch{throw new Error(`Could resolve contract metadata for address ${a.contractAddress}. Please pass the contract ABI manually with the 'contractAbi' option.`)}const it=new Contract(a.contractAddress,at,a.provider),ot={...a,storage:rt,contract:it};return new Transaction(ot)}constructor(a){super({args:a.args,overrides:a.overrides,provider:a.provider,signer:a.signer,storage:a.storage}),_defineProperty(this,"method",void 0),_defineProperty(this,"contract",void 0),_defineProperty(this,"gaslessOptions",void 0),_defineProperty(this,"parse",void 0),this.method=a.method,this.gaslessOptions=a.gasless,this.parse=a.parse,this.contract=a.contract.connect(this.signer),this.storage=a.storage||new ThirdwebStorage}getTarget(){return this.contract.address}getMethod(){return this.method}getGaslessOptions(){return this.gaslessOptions}setGaslessOptions(a){return this.gaslessOptions=a,this}setParse(a){return this.parse=a,this}encode(){return this.contract.interface.encodeFunctionData(this.method,this.args)}async sign(){const rt={...await this.getGasOverrides(),...this.overrides};rt.gasLimit||(rt.gasLimit=await this.estimateGasLimit());const at=await this.contract.populateTransaction[this.method](...this.args,rt),it=await this.contract.signer.populateTransaction(at);return await this.contract.signer.signTransaction(it)}async simulate(){if(!this.contract.callStatic[this.method])throw this.functionError();try{return await this.contract.callStatic[this.method](...this.args,...this.overrides.value?[{value:this.overrides.value}]:[])}catch(a){throw await this.transactionError(a)}}async estimateGasLimit(){if(!this.contract.estimateGas[this.method])throw this.functionError();try{const a=await this.contract.estimateGas[this.method](...this.args,this.overrides);return this.gasMultiple?BigNumber.from(Math.floor(BigNumber.from(a).toNumber()*this.gasMultiple)):a}catch(a){throw await this.simulate(),await this.transactionError(a)}}async send(){if(!this.contract.functions[this.method])throw this.functionError();if(this.gaslessOptions&&("openzeppelin"in this.gaslessOptions||"biconomy"in this.gaslessOptions))return this.sendGasless();const rt={...await this.getGasOverrides(),...this.overrides};if(!rt.gasLimit){rt.gasLimit=await this.estimateGasLimit();try{const at=JSON.parse(this.contract.interface.format(utils.FormatTypes.json));isRouterContract(at)&&(rt.gasLimit=rt.gasLimit.mul(110).div(100))}catch(at){console.warn("Error raising gas limit",at)}}try{return await this.contract.functions[this.method](...this.args,rt)}catch(at){throw await this.transactionError(at)}}async execute(){const a=await this.send();let rt;try{rt=await a.wait()}catch(at){throw await this.simulate(),await this.transactionError(at)}return this.parse?this.parse(rt):{receipt:rt}}async sendGasless(){const a=await this.prepareGasless(),rt=await defaultGaslessSendFunction(a,this.signer,this.provider,this.storage,this.gaslessOptions);let at,it=1;for(;!at;)if(at=await this.provider.getTransaction(rt),at||(await new Promise(ot=>setTimeout(ot,Math.min(it*1e3,1e4))),it++),it>20)throw new Error(`Unable to retrieve transaction with hash ${rt}`);return at}async prepareGasless(){var lt;invariant(this.gaslessOptions&&("openzeppelin"in this.gaslessOptions||"biconomy"in this.gaslessOptions),"No gasless options set on this transaction!");const a=[...this.args];if(this.method==="multicall"&&Array.isArray(this.args[0])&&a[0].length>0){const ut=await this.getSignerAddress();a[0]=a[0].map(dt=>pack(["bytes","address"],[dt,ut]))}invariant(this.signer,"Cannot execute gasless transaction without valid signer");const rt=(await this.provider.getNetwork()).chainId,at=await(this.overrides.from||this.getSignerAddress()),it=this.contract.address,ot=((lt=this.overrides)==null?void 0:lt.value)||0;if(BigNumber.from(ot).gt(0))throw new Error("Cannot send native token value with gasless transaction");const st=this.contract.interface.encodeFunctionData(this.method,a);let ct=BigNumber.from(0);try{ct=(await this.contract.estimateGas[this.method](...a)).mul(2)}catch{}return ct.lt(1e5)&&(ct=BigNumber.from(5e5)),this.overrides.gasLimit&&BigNumber.from(this.overrides.gasLimit).gt(ct)&&(ct=BigNumber.from(this.overrides.gasLimit)),{from:at,to:it,data:st,chainId:rt,gasLimit:ct,functionName:this.method,functionArgs:a,callOverrides:this.overrides}}functionError(){return new Error(`Contract "${this.contract.address}" does not have function "${this.method}"`)}async transactionError(a){var bt,vt,wt;const rt=this.provider,at=await rt.getNetwork(),it=await(this.overrides.from||this.getSignerAddress()),ot=this.contract.address,st=this.encode(),ct=BigNumber.from(this.overrides.value||0),lt=(bt=rt.connection)==null?void 0:bt.url,ut=this.contract.interface.getFunction(this.method),dt=this.args.map(Tt=>JSON.stringify(Tt).length<=80?JSON.stringify(Tt):JSON.stringify(Tt,void 0,2)),ft=dt.join(", ").length<=80?dt.join(", "):`
`+dt.map(Tt=>"  "+Tt.split(`
`).join(`
  `)).join(`,
`)+`
`,pt=`${ut.name}(${ft})`,ht=a.transactionHash||((vt=a.transaction)==null?void 0:vt.hash)||((wt=a.receipt)==null?void 0:wt.transactionHash),yt=parseRevertReason(a);let mt,gt;try{const Tt=await fetchContractMetadataFromAddress(this.contract.address,this.provider,this.storage);Tt.name&&(gt=Tt.name),Tt.metadata.sources&&(mt=await fetchSourceFilesFromMetadata(Tt,this.storage))}catch{}return new TransactionError({reason:yt,from:it,to:ot,method:pt,data:st,network:at,rpcUrl:lt,value:ct,hash:ht,contractName:gt,sources:mt},a)}}class DeployTransaction extends TransactionContext{constructor(a){super(a),_defineProperty(this,"factory",void 0),_defineProperty(this,"events",void 0),this.factory=a.factory,this.events=a.events}encode(){return hexlify(concat([this.factory.bytecode,this.factory.interface.encodeDeploy(this.args)]))}getTarget(){return AddressZero$1}getMethod(){return"deploy"}async sign(){const a=await this.populateTransaction();return this.signer.signTransaction(a)}async simulate(){const a=await this.populateTransaction();return this.signer.call(a)}async estimateGasLimit(){try{const rt={...await this.getGasOverrides(),...this.overrides},at=this.factory.getDeployTransaction(...this.args,rt);return this.signer.estimateGas(at)}catch(a){throw await this.deployError(a)}}async send(){try{const a=await this.populateTransaction();return await this.signer.sendTransaction(a)}catch(a){throw await this.deployError(a)}}async execute(){const a=await this.send();try{await a.wait()}catch(at){throw await this.simulate(),await this.deployError(at)}const rt=getContractAddress({from:a.from,nonce:a.nonce});return this.events&&this.events.emit("contractDeployed",{status:"completed",contractAddress:rt,transactionHash:a.hash}),rt}async populateTransaction(){const rt={...await this.getGasOverrides(),...this.overrides};return rt.gasLimit||(rt.gasLimit=await this.estimateGasLimit()),this.factory.getDeployTransaction(...this.args,rt)}async deployError(a){var ht,yt,mt;const rt=this.provider,at=await rt.getNetwork(),it=await(this.overrides.from||this.getSignerAddress()),ot=this.encode(),st=BigNumber.from(this.overrides.value||0),ct=(ht=rt.connection)==null?void 0:ht.url,lt=this.args.map(gt=>JSON.stringify(gt).length<=80?JSON.stringify(gt):JSON.stringify(gt,void 0,2)),dt=`deployContract(${lt.join(", ").length<=80?lt.join(", "):`
`+lt.map(gt=>"  "+gt.split(`
`).join(`
  `)).join(`,
`)+`
`})`,ft=a.transactionHash||((yt=a.transaction)==null?void 0:yt.hash)||((mt=a.receipt)==null?void 0:mt.transactionHash),pt=parseRevertReason(a);return new TransactionError({reason:pt,from:it,method:dt,data:ot,network:at,rpcUrl:ct,value:st,hash:ft},a)}}async function defaultGaslessSendFunction(o,a,rt,at,it){return it&&"biconomy"in it?biconomySendFunction(o,a,rt,it):defenderSendFunction(o,a,rt,at,it)}async function biconomySendFunction(o,a,rt,at){const it=await biconomyPrepareRequest(o,a,rt,at),ot=await fetch$1("https://api.biconomy.io/api/v2/meta-tx/native",it);if(ot.ok){const st=await ot.json();if(!st.txHash)throw new Error(`relay transaction failed: ${st.log}`);return st.txHash}throw new Error(`relay transaction failed with status: ${ot.status} (${ot.statusText})`)}async function defenderSendFunction(o,a,rt,at,it){invariant(it&&"openzeppelin"in it,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options");const ot=await defenderPrepareRequest(o,a,rt,at,it),st=await fetch$1(it.openzeppelin.relayerUrl,ot);if(st.ok){const ct=await st.json();if(!ct.result)throw new Error(`Relay transaction failed: ${ct.message}`);return JSON.parse(ct.result).txHash}throw new Error(`relay transaction failed with status: ${st.status} (${st.statusText})`)}async function defenderPrepareRequest(o,a,rt,at,it){invariant(it&&"openzeppelin"in it,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options"),invariant(a,"provider is not set"),invariant(rt,"provider is not set");const ot=it.openzeppelin.relayerForwarderAddress||(it.openzeppelin.useEOAForwarder?CONTRACT_ADDRESSES[o.chainId].openzeppelinForwarderEOA||await computeEOAForwarderAddress(rt,at):CONTRACT_ADDRESSES[o.chainId].openzeppelinForwarder||await computeForwarderAddress(rt,at)),st=new Contract(ot,ForwarderABI,rt),ct=await getAndIncrementNonce(st,"getNonce",[o.from]);let lt,ut,dt;it.experimentalChainlessSupport?(lt={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:ot},ut={ForwardRequest:ChainAwareForwardRequest},dt={from:o.from,to:o.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(o.gasLimit).toString(),nonce:BigNumber.from(ct).toString(),data:o.data,chainid:BigNumber.from(o.chainId).toString()}):(lt={name:it.openzeppelin.domainName,version:it.openzeppelin.domainVersion,chainId:o.chainId,verifyingContract:ot},ut={ForwardRequest},dt={from:o.from,to:o.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(o.gasLimit).toString(),nonce:BigNumber.from(ct).toString(),data:o.data});let ft;if(o.functionName==="approve"&&o.functionArgs.length===2){const ht=o.functionArgs[0],yt=o.functionArgs[1],{message:mt,signature:gt}=await signEIP2612Permit(a,o.to,o.from,ht,yt),{r:bt,s:vt,v:wt}=splitSignature(gt);dt={to:o.to,owner:mt.owner,spender:mt.spender,value:BigNumber.from(mt.value).toString(),nonce:BigNumber.from(mt.nonce).toString(),deadline:BigNumber.from(mt.deadline).toString(),r:bt,s:vt,v:wt},ft=gt}else{const{signature:ht}=await signTypedDataInternal(a,lt,ut,dt);ft=ht}let pt="forward";return dt!=null&&dt.owner&&(pt="permit"),{method:"POST",body:JSON.stringify({request:dt,signature:ft,forwarderAddress:ot,type:pt})}}async function biconomyPrepareRequest(o,a,rt,at){var dt;invariant(at&&"biconomy"in at,"calling biconomySendFunction without biconomy"),invariant(a&&rt,"signer and provider must be set");const it=new Contract(getContractAddressByChainId(o.chainId,"biconomyForwarder"),BiconomyForwarderAbi,rt),ot=0,st=await getAndIncrementNonce(it,"getNonce",[o.from,ot]),ct={from:o.from,to:o.to,token:AddressZero$1,txGas:o.gasLimit.toNumber(),tokenGasPrice:"0",batchId:ot,batchNonce:st.toNumber(),deadline:Math.floor(Date.now()/1e3+(at&&"biconomy"in at&&((dt=at.biconomy)==null?void 0:dt.deadlineSeconds)||3600)),data:o.data},lt=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[ct.from,ct.to,ct.token,ct.txGas,ct.tokenGasPrice,ct.batchId,ct.batchNonce,ct.deadline,keccak256$1(ct.data)])),ut=await a.signMessage(lt);return{method:"POST",body:JSON.stringify({from:o.from,apiId:at.biconomy.apiId,params:[ct,ut],to:o.to,gasLimit:o.gasLimit.toHexString()}),headers:{"x-api-key":at.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}}}function buildDeployTransactionFunction(o){async function a(){return(await o(...arguments)).execute()}return a.prepare=o,a}function buildTransactionFunction(o){async function a(){return(await o(...arguments)).execute()}return a.prepare=o,a}class ContractAppURI{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_APPURI.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"metadata",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"set",buildTransactionFunction(async it=>detectContractFeature(this.contractWrapper,"AppURI")?Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setAppURI",args:[it]}):await this.metadata.update.prepare({app_uri:it}))),this.contractWrapper=a,this.metadata=rt,this.storage=at}async get(){return detectContractFeature(this.contractWrapper,"AppURI")?await this.contractWrapper.readContract.appURI():replaceGatewayUrlWithScheme((await this.metadata.get()).app_uri||"",this.storage.gatewayUrls)}}class ContractEvents{constructor(a){_defineProperty(this,"contractWrapper",void 0),this.contractWrapper=a}addTransactionListener(a){this.contractWrapper.addListener(EventType.Transaction,a)}removeTransactionListener(a){this.contractWrapper.off(EventType.Transaction,a)}addEventListener(a,rt){const at=this.contractWrapper.readContract.interface.getEvent(a),ot={address:this.contractWrapper.readContract.address,topics:[this.contractWrapper.readContract.interface.getEventTopic(at)]},st=ct=>{const lt=this.contractWrapper.readContract.interface.parseLog(ct);rt(this.toContractEvent(lt.eventFragment,lt.args,ct))};return this.contractWrapper.getProvider().on(ot,st),()=>{this.contractWrapper.getProvider().off(ot,st)}}listenToAllEvents(a){const at={address:this.contractWrapper.readContract.address},it=ot=>{try{const st=this.contractWrapper.readContract.interface.parseLog(ot);a(this.toContractEvent(st.eventFragment,st.args,ot))}catch(st){console.error("Could not parse event:",ot,st)}};return this.contractWrapper.getProvider().on(at,it),()=>{this.contractWrapper.getProvider().off(at,it)}}removeEventListener(a,rt){const at=this.contractWrapper.readContract.interface.getEvent(a);this.contractWrapper.readContract.off(at.name,rt)}removeAllListeners(){this.contractWrapper.readContract.removeAllListeners();const rt={address:this.contractWrapper.readContract.address};this.contractWrapper.getProvider().removeAllListeners(rt)}async getAllEvents(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fromBlock:0,toBlock:"latest",order:"desc"};const at=(await this.contractWrapper.readContract.queryFilter({},a.fromBlock,a.toBlock)).sort((it,ot)=>a.order==="desc"?ot.blockNumber-it.blockNumber:it.blockNumber-ot.blockNumber);return this.parseEvents(at)}async getEvents(a){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromBlock:0,toBlock:"latest",order:"desc"};const at=this.contractWrapper.readContract.interface.getEvent(a),it=this.contractWrapper.readContract.interface.getEvent(a),ot=rt.filters?it.inputs.map(ut=>rt.filters[ut.name]):[],st=this.contractWrapper.readContract.filters[at.name](...ot),lt=(await this.contractWrapper.readContract.queryFilter(st,rt.fromBlock,rt.toBlock)).sort((ut,dt)=>rt.order==="desc"?dt.blockNumber-ut.blockNumber:ut.blockNumber-dt.blockNumber);return this.parseEvents(lt)}parseEvents(a){return a.map(rt=>{const at=Object.fromEntries(Object.entries(rt).filter(it=>typeof it[1]!="function"&&it[0]!=="args"));if(rt.args){const it=Object.entries(rt.args),ot=it.slice(it.length/2,it.length),st={};for(const[ct,lt]of ot)st[ct]=lt;return{eventName:rt.event||"",data:st,transaction:at}}return{eventName:rt.event||"",data:{},transaction:at}})}toContractEvent(a,rt,at){const it=Object.fromEntries(Object.entries(at).filter(st=>typeof st[1]!="function"&&st[0]!=="args")),ot={};return a.inputs.forEach((st,ct)=>{if(Array.isArray(rt[ct])){const lt=st.components;if(lt){const ut=rt[ct];if(st.type==="tuple[]"){const dt=[];for(let ft=0;ft<ut.length;ft++){const pt=ut[ft],ht={};for(let yt=0;yt<lt.length;yt++){const mt=lt[yt].name;ht[mt]=pt[yt]}dt.push(ht)}ot[st.name]=dt}else{const dt={};for(let ft=0;ft<lt.length;ft++){const pt=lt[ft].name;dt[pt]=ut[ft]}ot[st.name]=dt}}}else ot[st.name]=rt[ct]}),{eventName:a.name,data:ot,transaction:it}}}class ContractInterceptor{constructor(a){_defineProperty(this,"contractWrapper",void 0),this.contractWrapper=a}overrideNextTransaction(a){this.contractWrapper.withTransactionOverride(a)}}class ContractPlatformFee{constructor(a){_defineProperty(this,"featureName",FEATURE_PLATFORM_FEE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"set",buildTransactionFunction(async rt=>{const at=await CommonPlatformFeeSchema.parseAsync(rt);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPlatformFeeInfo",args:[at.platform_fee_recipient,at.platform_fee_basis_points]})})),this.contractWrapper=a}async get(){const[a,rt]=await this.contractWrapper.readContract.getPlatformFeeInfo();return CommonPlatformFeeSchema.parseAsync({platform_fee_recipient:a,platform_fee_basis_points:rt})}}function extractEventsFromAbi(o,a){const at=AbiSchema.parse(o||[]).filter(ot=>ot.type==="event"),it=[];for(const ot of at){const st=extractCommentFromMetadata(ot.name,a,"events");it.push({inputs:ot.inputs||[],outputs:ot.outputs||[],name:ot.name||"unknown",comment:st})}return it}class ContractPublishedMetadata{constructor(a,rt){_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"_cachedMetadata",void 0),this.contractWrapper=a,this.storage=rt}async get(){return this._cachedMetadata?this._cachedMetadata:(this._cachedMetadata=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage),this._cachedMetadata)}async extractFunctions(){let a;try{a=await this.get()}catch{}return extractFunctionsFromAbi(AbiSchema.parse(this.contractWrapper.abi),a==null?void 0:a.metadata)}async extractEvents(){let a;try{a=await this.get()}catch{}return extractEventsFromAbi(AbiSchema.parse(this.contractWrapper.abi),a==null?void 0:a.metadata)}}class ContractRoles{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_PERMISSIONS.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"roles",void 0),_defineProperty(this,"setAll",buildTransactionFunction(async at=>{var lt,ut;const it=Object.keys(at);invariant(it.length,"you must provide at least one role to set"),invariant(it.every(dt=>this.roles.includes(dt)),"this contract does not support the given role");const ot=await this.getAll(),st=[],ct=it.sort(dt=>dt==="admin"?1:-1);for(let dt=0;dt<ct.length;dt++){const ft=ct[dt],pt=await Promise.all(((lt=at[ft])==null?void 0:lt.map(async gt=>await resolveAddress(gt)))||[]),ht=await Promise.all(((ut=ot[ft])==null?void 0:ut.map(async gt=>await resolveAddress(gt)))||[]),yt=pt.filter(gt=>!ht.includes(gt)),mt=ht.filter(gt=>!pt.includes(gt));if(yt.length&&yt.forEach(gt=>{st.push(this.contractWrapper.readContract.interface.encodeFunctionData("grantRole",[getRoleHash(ft),gt]))}),mt.length)for(let gt=0;gt<mt.length;gt++){const bt=mt[gt],vt=await this.getRevokeRoleFunctionName(bt);st.push(this.contractWrapper.readContract.interface.encodeFunctionData(vt,[getRoleHash(ft),bt]))}}return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[st]})})),_defineProperty(this,"grant",buildTransactionFunction(async(at,it)=>{invariant(this.roles.includes(at),`this contract does not support the "${at}" role`);const ot=await resolveAddress(it);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"grantRole",args:[getRoleHash(at),ot]})})),_defineProperty(this,"revoke",buildTransactionFunction(async(at,it)=>{invariant(this.roles.includes(at),`this contract does not support the "${at}" role`);const ot=await resolveAddress(it),st=await this.getRevokeRoleFunctionName(ot);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:st,args:[getRoleHash(at),ot]})})),this.contractWrapper=a,this.roles=rt}async getAll(){invariant(this.roles.length,"this contract has no support for roles");const a={};for(const rt of this.roles)a[rt]=await this.get(rt);return a}async get(a){invariant(this.roles.includes(a),`this contract does not support the "${a}" role`);const rt=this.contractWrapper;if(hasFunction("getRoleMemberCount",rt)&&hasFunction("getRoleMember",rt)){const at=getRoleHash(a),it=(await rt.readContract.getRoleMemberCount(at)).toNumber();return await Promise.all(Array.from(Array(it).keys()).map(ot=>rt.readContract.getRoleMember(at,ot)))}throw new Error("Contract does not support enumerating roles. Please implement IPermissionsEnumerable to unlock this functionality.")}async verify(a,rt){await Promise.all(a.map(async at=>{const it=await this.get(at),ot=await resolveAddress(rt);if(!it.map(st=>st.toLowerCase()).includes(ot.toLowerCase()))throw new MissingRoleError(ot,at)}))}async getRevokeRoleFunctionName(a){const rt=await resolveAddress(a);return(await this.contractWrapper.getSignerAddress()).toLowerCase()===rt.toLowerCase()?"renounceRole":"revokeRole"}}class ContractRoyalty{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_ROYALTY.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"metadata",void 0),_defineProperty(this,"setDefaultRoyaltyInfo",buildTransactionFunction(async at=>{const it=await this.metadata.get(),ot=await this.metadata.parseInputMetadata({...it,...at}),st=await this.metadata._parseAndUploadMetadata(ot);if(hasFunction("setContractURI",this.contractWrapper)){const ct=[this.contractWrapper.readContract.interface.encodeFunctionData("setDefaultRoyaltyInfo",[ot.fee_recipient,ot.seller_fee_basis_points]),this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[st])];return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[ct],parse:lt=>({receipt:lt,data:()=>this.getDefaultRoyaltyInfo()})})}else throw new Error("Updating royalties requires implementing ContractMetadata in your contract to support marketplaces like OpenSea.")})),_defineProperty(this,"setTokenRoyaltyInfo",buildTransactionFunction(async(at,it)=>{const ot=CommonRoyaltySchema.parse(it);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setRoyaltyInfoForToken",args:[at,ot.fee_recipient,ot.seller_fee_basis_points],parse:st=>({receipt:st,data:()=>this.getDefaultRoyaltyInfo()})})})),this.contractWrapper=a,this.metadata=rt}async getDefaultRoyaltyInfo(){const[a,rt]=await this.contractWrapper.readContract.getDefaultRoyaltyInfo();return CommonRoyaltySchema.parseAsync({fee_recipient:a,seller_fee_basis_points:rt})}async getTokenRoyaltyInfo(a){const[rt,at]=await this.contractWrapper.readContract.getRoyaltyInfoForToken(a);return CommonRoyaltySchema.parseAsync({fee_recipient:rt,seller_fee_basis_points:at})}}class ContractPrimarySale{constructor(a){_defineProperty(this,"featureName",FEATURE_PRIMARY_SALE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"setRecipient",buildTransactionFunction(async rt=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPrimarySaleRecipient",args:[rt]}))),this.contractWrapper=a}async getRecipient(){return await this.contractWrapper.readContract.primarySaleRecipient()}}function isNativeToken(o){return o.toLowerCase()===NATIVE_TOKEN_ADDRESS||o.toLowerCase()===AddressZero$1}async function fetchCurrencyMetadata(o,a){if(isNativeToken(a)){const rt=await o.getNetwork(),at=getNativeTokenByChainId(rt.chainId);return{name:at.name,symbol:at.symbol,decimals:at.decimals}}else{const rt=new Contract(a,ERC20MetadataAbi,o),[at,it,ot]=await Promise.all([rt.name(),rt.symbol(),rt.decimals()]);return{name:at,symbol:it,decimals:ot}}}async function fetchCurrencyValue(o,a,rt){const at=await fetchCurrencyMetadata(o,a);return{...at,value:BigNumber.from(rt),displayValue:formatUnits(rt,at.decimals)}}async function normalizePriceValue(o,a,rt){const at=await fetchCurrencyMetadata(o,rt);return parseUnits(AmountSchema.parse(a),at.decimals)}async function setErc20Allowance(o,a,rt,at){if(isNativeToken(rt))at.value=a;else{const it=o.getSigner(),ot=o.getProvider(),st=new ContractWrapper(it||ot,rt,ERC20Abi,o.options),ct=await o.getSignerAddress(),lt=o.readContract.address;return(await st.readContract.allowance(ct,lt)).lt(a)&&await st.sendTransaction("approve",[lt,a]),at}}function convertQuantityToBigNumber(o,a){return o==="unlimited"?MaxUint256$1:parseUnits(o,a)}async function parseSnapshotInputs(o){const rt=Array.from({length:Math.ceil(o.length/25e3)},(it,ot)=>o.slice(ot*25e3,ot*25e3+25e3)),at=[];for(const it of rt)at.push(...await SnapshotInputSchema.parseAsync(it));return at}const SHARD_NYBBLES=2;let SnapshotFormatVersion=function(o){return o[o.V1=1]="V1",o[o.V2=2]="V2",o}({});class ShardedMerkleTree{constructor(a,rt,at,it,ot){_defineProperty(this,"shardNybbles",void 0),_defineProperty(this,"shards",void 0),_defineProperty(this,"trees",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"baseUri",void 0),_defineProperty(this,"originalEntriesUri",void 0),_defineProperty(this,"tokenDecimals",void 0),this.storage=a,this.shardNybbles=it,this.baseUri=rt,this.originalEntriesUri=at,this.tokenDecimals=ot,this.shards={},this.trees={}}static async fromUri(a,rt){try{const at=await rt.downloadJSON(a);if(at.isShardedMerkleTree)return ShardedMerkleTree.fromShardedMerkleTreeInfo(at,rt)}catch{return}}static async fromShardedMerkleTreeInfo(a,rt){return new ShardedMerkleTree(rt,a.baseUri,a.originalEntriesUri,a.shardNybbles,a.tokenDecimals)}static hashEntry(a,rt,at,it){switch(it){case SnapshotFormatVersion.V1:return keccak256(["address","uint256"],[a.address,convertQuantityToBigNumber(a.maxClaimable,rt)]);case SnapshotFormatVersion.V2:return keccak256(["address","uint256","uint256","address"],[a.address,convertQuantityToBigNumber(a.maxClaimable,rt),convertQuantityToBigNumber(a.price||"unlimited",at),a.currencyAddress||AddressZero$1])}}static async fetchAndCacheDecimals(a,rt,at){if(!at)return 18;let it=a[at];return it===void 0&&(it=(await fetchCurrencyMetadata(rt,at)).decimals,a[at]=it),it}static async buildAndUpload(a,rt,at,it,ot){let st=arguments.length>5&&arguments[5]!==void 0?arguments[5]:SHARD_NYBBLES;const ct=await parseSnapshotInputs(a),lt={};for(const wt of ct){const Tt=wt.address.slice(2,2+st).toLowerCase();lt[Tt]===void 0&&(lt[Tt]=[]),lt[Tt].push(wt)}const ut={},dt=await Promise.all(Object.entries(lt).map(async wt=>{let[Tt,_t]=wt;return[Tt,new dist.MerkleTree(await Promise.all(_t.map(async St=>{const Pt=await ShardedMerkleTree.fetchAndCacheDecimals(ut,at,St.currencyAddress);return ShardedMerkleTree.hashEntry(St,rt,Pt,ot)})),keccak256$1,{sort:!0}).getHexRoot()]})),ft=Object.fromEntries(dt),pt=new dist.MerkleTree(Object.values(ft),keccak256$1,{sort:!0}),ht=[];for(const[wt,Tt]of Object.entries(lt)){const _t={proofs:pt.getProof(ft[wt]).map(St=>"0x"+St.data.toString("hex")),entries:Tt};ht.push({data:JSON.stringify(_t),name:`${wt}.json`})}const yt=await it.uploadBatch(ht),mt=yt[0].slice(0,yt[0].lastIndexOf("/")),gt=await it.upload(ct),bt={merkleRoot:pt.getHexRoot(),baseUri:mt,originalEntriesUri:gt,shardNybbles:st,tokenDecimals:rt,isShardedMerkleTree:!0},vt=await it.upload(bt);return{shardedMerkleInfo:bt,uri:vt}}async getProof(a,rt,at){const it=a.slice(2,2+this.shardNybbles).toLowerCase();let ot=this.shards[it];const st={};if(ot===void 0)try{ot=this.shards[it]=await this.storage.downloadJSON(`${this.baseUri}/${it}.json`);const ft=await Promise.all(ot.entries.map(async pt=>{const ht=await ShardedMerkleTree.fetchAndCacheDecimals(st,rt,pt.currencyAddress);return ShardedMerkleTree.hashEntry(pt,this.tokenDecimals,ht,at)}));this.trees[it]=new dist.MerkleTree(ft,keccak256$1,{sort:!0})}catch{return null}const ct=ot.entries.find(ft=>ft.address.toLowerCase()===a.toLowerCase());if(!ct)return null;const lt=await ShardedMerkleTree.fetchAndCacheDecimals(st,rt,ct.currencyAddress),ut=ShardedMerkleTree.hashEntry(ct,this.tokenDecimals,lt,at),dt=this.trees[it].getProof(ut).map(ft=>"0x"+ft.data.toString("hex"));return SnapshotEntryWithProofSchema.parseAsync({...ct,proof:dt.concat(ot.proofs)})}async getAllEntries(){try{return await this.storage.downloadJSON(this.originalEntriesUri)}catch(a){return console.warn("Could not fetch original snapshot entries",a),[]}}}let Status=function(o){return o[o.UNSET=0]="UNSET",o[o.Created=1]="Created",o[o.Completed=2]="Completed",o[o.Cancelled=3]="Cancelled",o[o.Active=4]="Active",o[o.Expired=5]="Expired",o}({}),ClaimEligibility=function(o){return o.NotEnoughSupply="There is not enough supply to claim.",o.AddressNotAllowed="This address is not on the allowlist.",o.WaitBeforeNextClaimTransaction="Not enough time since last claim transaction. Please wait.",o.AlreadyClaimed="You have already claimed the token.",o.NotEnoughTokens="There are not enough tokens in the wallet to pay for the claim.",o.NoActiveClaimPhase="There is no active claim phase at the moment. Please check back in later.",o.NoClaimConditionSet="There is no claim condition set.",o.NoWallet="No wallet connected.",o.Unknown="No claim conditions found.",o}({});async function fetchSnapshotEntryForAddress(o,a,rt,at,it,ot){if(!rt)return null;const st=rt[a];if(st){const ct=await it.downloadJSON(st);if(ct.isShardedMerkleTree&&ct.merkleRoot===a)return await(await ShardedMerkleTree.fromShardedMerkleTreeInfo(ct,it)).getProof(o,at,ot);const lt=await SnapshotSchema.parseAsync(ct);if(a===lt.merkleRoot)return lt.claims.find(ut=>ut.address.toLowerCase()===o.toLowerCase())||null}return null}function abstractContractModelToLegacy(o){return{startTimestamp:o.startTimestamp,maxClaimableSupply:o.maxClaimableSupply,supplyClaimed:o.supplyClaimed,merkleRoot:o.merkleRoot,pricePerToken:o.pricePerToken,currency:o.currency,quantityLimitPerTransaction:o.maxClaimablePerWallet,waitTimeInSecondsBetweenClaims:o.waitTimeInSecondsBetweenClaims||0}}function abstractContractModelToNew(o){return{startTimestamp:o.startTimestamp,maxClaimableSupply:o.maxClaimableSupply,supplyClaimed:o.supplyClaimed,merkleRoot:o.merkleRoot,pricePerToken:o.pricePerToken,currency:o.currency,quantityLimitPerWallet:o.maxClaimablePerWallet,metadata:o.metadata||""}}function legacyContractModelToAbstract(o){return{startTimestamp:o.startTimestamp,maxClaimableSupply:o.maxClaimableSupply,supplyClaimed:o.supplyClaimed,merkleRoot:o.merkleRoot.toString(),pricePerToken:o.pricePerToken,currency:o.currency,maxClaimablePerWallet:o.quantityLimitPerTransaction,waitTimeInSecondsBetweenClaims:o.waitTimeInSecondsBetweenClaims}}function newContractModelToAbstract(o){return{startTimestamp:o.startTimestamp,maxClaimableSupply:o.maxClaimableSupply,supplyClaimed:o.supplyClaimed,merkleRoot:o.merkleRoot.toString(),pricePerToken:o.pricePerToken,currency:o.currency,maxClaimablePerWallet:o.quantityLimitPerWallet,waitTimeInSecondsBetweenClaims:0,metadata:o.metadata}}async function approveErc20Allowance(o,a,rt,at,it){const ot=o.getSigner(),st=o.getProvider(),ct=new ContractWrapper(ot||st,a,ERC20Abi,o.options),lt=await o.getSignerAddress(),ut=o.readContract.address,dt=await ct.readContract.allowance(lt,ut),ft=BigNumber.from(rt).mul(BigNumber.from(at)).div(parseUnits("1",it));dt.lt(ft)&&await ct.sendTransaction("approve",[ut,dt.add(ft)])}async function prepareClaim(o,a,rt,at,it,ot,st,ct,lt){let ut=convertQuantityToBigNumber(rt.maxClaimablePerWallet,it),dt=[hexZeroPad([0],32)],ft=rt.price,pt=rt.currencyAddress;try{if(!rt.merkleRootHash.toString().startsWith(AddressZero$1)){const gt=await fetchSnapshotEntryForAddress(o,rt.merkleRootHash.toString(),await at(),ot.getProvider(),st,lt);if(gt)dt=gt.proof,ut=gt.maxClaimable==="unlimited"?MaxUint256$1:parseUnits(gt.maxClaimable,it),ft=gt.price===void 0||gt.price==="unlimited"?MaxUint256$1:await normalizePriceValue(ot.getProvider(),gt.price,gt.currencyAddress||AddressZero$1),pt=gt.currencyAddress||AddressZero$1;else if(lt===SnapshotFormatVersion.V1)throw new Error("No claim found for this address")}}catch(gt){if((gt==null?void 0:gt.message)==="No claim found for this address")throw gt;console.warn("failed to check claim condition merkle root hash, continuing anyways",gt)}const ht=await ot.getCallOverrides()||{},yt=ft.toString()!==MaxUint256$1.toString()?ft:rt.price,mt=pt!==AddressZero$1?pt:rt.currencyAddress;return yt.gt(0)&&(isNativeToken(mt)?ht.value=BigNumber.from(yt).mul(a).div(parseUnits("1",it)):ct&&await approveErc20Allowance(ot,mt,yt,a,it)),{overrides:ht,proofs:dt,maxClaimable:ut,price:yt,currencyAddress:mt,priceInProof:ft,currencyAddressInProof:pt}}async function createSnapshot(o,a,rt,at,it){const ot=await parseSnapshotInputs(o),st=ot.map(ut=>ut.address);if(new Set(st).size<st.length)throw new DuplicateLeafsError;const lt=await ShardedMerkleTree.buildAndUpload(ot,a,rt,at,it);return{merkleRoot:lt.shardedMerkleInfo.merkleRoot,snapshotUri:lt.uri}}function compare(o,a){const rt=BigNumber.from(o),at=BigNumber.from(a);return rt.eq(at)?0:rt.gt(at)?1:-1}async function processSnapshotData(o,a,rt,at,it){const ot=[];return{inputsWithSnapshots:await Promise.all(o.map(async ct=>{if(ct.snapshot&&ct.snapshot.length>0){const lt=await createSnapshot(ct.snapshot,a,rt,at,it);ot.push(lt),ct.merkleRootHash=lt.merkleRoot}else ct.merkleRootHash=hexZeroPad([0],32);return ct})),snapshotInfos:ot}}async function convertToContractModel(o,a,rt,at){const it=o.currencyAddress===AddressZero$1?NATIVE_TOKEN_ADDRESS:o.currencyAddress,ot=convertQuantityToBigNumber(o.maxClaimableSupply,a),st=convertQuantityToBigNumber(o.maxClaimablePerWallet,a);let ct;return o.metadata&&(typeof o.metadata=="string"?ct=o.metadata:ct=await at.upload(o.metadata)),{startTimestamp:o.startTime,maxClaimableSupply:ot,supplyClaimed:0,maxClaimablePerWallet:st,pricePerToken:await normalizePriceValue(rt,o.price,it),currency:it,merkleRoot:o.merkleRootHash.toString(),waitTimeInSecondsBetweenClaims:o.waitInSeconds||0,metadata:ct}}async function processClaimConditionInputs(o,a,rt,at,it){const{inputsWithSnapshots:ot,snapshotInfos:st}=await processSnapshotData(o,a,rt,at,it),ct=await ClaimConditionInputArray.parseAsync(ot),lt=(await Promise.all(ct.map(ut=>convertToContractModel(ut,a,rt,at)))).sort((ut,dt)=>compare(ut.startTimestamp,dt.startTimestamp));return{snapshotInfos:st,sortedConditions:lt}}async function fetchSnapshot(o,a,rt){if(!a)return null;const at=a[o];if(at){const it=await rt.downloadJSON(at);if(it.isShardedMerkleTree&&it.merkleRoot===o){const ot=await ShardedMerkleTree.fromUri(at,rt);return(ot==null?void 0:ot.getAllEntries())||null}else{const ot=await SnapshotSchema.parseAsync(it);if(o===ot.merkleRoot)return ot.claims.map(st=>({address:st.address,maxClaimable:st.maxClaimable,price:st.price,currencyAddress:st.currencyAddress}))}}return null}function convertToReadableQuantity(o,a){return o.toString()===MaxUint256$1.toString()?"unlimited":formatUnits(o,a)}async function transformResultToClaimCondition(o,a,rt,at,it,ot){var pt;const st=await fetchCurrencyValue(rt,o.currency,o.pricePerToken),ct=convertToReadableQuantity(o.maxClaimableSupply,a),lt=convertToReadableQuantity(o.maxClaimablePerWallet,a),ut=convertToReadableQuantity(BigNumber.from(o.maxClaimableSupply).sub(o.supplyClaimed),a),dt=convertToReadableQuantity(o.supplyClaimed,a);let ft;return o.metadata&&(ft=await it.downloadJSON(o.metadata)),ClaimConditionOutputSchema.parseAsync({startTime:o.startTimestamp,maxClaimableSupply:ct,maxClaimablePerWallet:lt,currentMintSupply:dt,availableSupply:ut,waitInSeconds:(pt=o.waitTimeInSecondsBetweenClaims)==null?void 0:pt.toString(),price:BigNumber.from(o.pricePerToken),currency:o.currency,currencyAddress:o.currency,currencyMetadata:st,merkleRootHash:o.merkleRoot,snapshot:ot?await fetchSnapshot(o.merkleRoot,at,it):void 0,metadata:ft})}async function updateExistingClaimConditions(o,a,rt){if(o>=rt.length)throw Error(`Index out of bounds - got index: ${o} with ${rt.length} conditions`);const at=rt[o].currencyMetadata.decimals,it=rt[o].price,ot=formatUnits(it,at),st=await ClaimConditionInputSchema.parseAsync({...rt[o],price:ot,...a}),ct=await ClaimConditionOutputSchema.parseAsync({...st,price:it});return rt.map((lt,ut)=>{let dt;ut===o?dt=ct:dt=lt;const ft=formatUnits(dt.price,at);return{...dt,price:ft}})}class DropClaimConditions{constructor(a,rt,at){var it=this;_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"metadata",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"set",buildTransactionFunction(async function(ot){let st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ct=ot;if(it.isLegacySinglePhaseDrop(it.contractWrapper)||it.isNewSinglePhaseDrop(it.contractWrapper)){if(st=!0,ot.length===0)ct=[{startTime:new Date(0),currencyAddress:AddressZero$1,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(ot.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(it.isNewSinglePhaseDrop(it.contractWrapper)||it.isNewMultiphaseDrop(it.contractWrapper))&&ct.forEach(yt=>{var mt;if(yt.snapshot&&yt.snapshot.length>0&&(yt.maxClaimablePerWallet===void 0||yt.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Example: Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.
contract.claimConditions.set([{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(yt.snapshot&&yt.snapshot.length>0&&((mt=yt.maxClaimablePerWallet)==null?void 0:mt.toString())==="0"&&yt.snapshot.map(gt=>{var bt;return typeof gt=="string"?0:Number(((bt=gt.maxClaimable)==null?void 0:bt.toString())||0)}).reduce((gt,bt)=>gt+bt,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:lt,sortedConditions:ut}=await processClaimConditionInputs(ct,await it.getTokenDecimals(),it.contractWrapper.getProvider(),it.storage,it.getSnapshotFormatVersion()),dt={};lt.forEach(yt=>{dt[yt.merkleRoot]=yt.snapshotUri});const ft=await it.metadata.get(),pt=[];if(!fastDeepEqual(ft.merkle,dt)){const yt=await it.metadata.parseInputMetadata({...ft,merkle:dt}),mt=await it.metadata._parseAndUploadMetadata(yt);if(hasFunction("setContractURI",it.contractWrapper))pt.push(it.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[mt]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}const ht=it.contractWrapper;if(it.isLegacySinglePhaseDrop(ht))pt.push(ht.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToLegacy(ut[0]),st]));else if(it.isLegacyMultiPhaseDrop(ht))pt.push(ht.readContract.interface.encodeFunctionData("setClaimConditions",[ut.map(abstractContractModelToLegacy),st]));else if(it.isNewSinglePhaseDrop(ht))pt.push(ht.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToNew(ut[0]),st]));else if(it.isNewMultiphaseDrop(ht))pt.push(ht.readContract.interface.encodeFunctionData("setClaimConditions",[ut.map(abstractContractModelToNew),st]));else throw new Error("Contract does not support claim conditions");return Transaction.fromContractWrapper({contractWrapper:it.contractWrapper,method:"multicall",args:[pt]})})),_defineProperty(this,"update",buildTransactionFunction(async(ot,st)=>{const ct=await this.getAll(),lt=await updateExistingClaimConditions(ot,st,ct);return await this.set.prepare(lt)})),this.storage=at,this.contractWrapper=a,this.metadata=rt}async getActive(a){const rt=await this.get(),at=await this.metadata.get();return await transformResultToClaimCondition(rt,await this.getTokenDecimals(),this.contractWrapper.getProvider(),at.merkle||{},this.storage,(a==null?void 0:a.withAllowList)||!1)}async get(a){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition();return legacyContractModelToAbstract(rt)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const rt=a!==void 0?a:await this.contractWrapper.readContract.getActiveClaimConditionId(),at=await this.contractWrapper.readContract.getClaimConditionById(rt);return legacyContractModelToAbstract(at)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition();return newContractModelToAbstract(rt)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const rt=a!==void 0?a:await this.contractWrapper.readContract.getActiveClaimConditionId(),at=await this.contractWrapper.readContract.getClaimConditionById(rt);return newContractModelToAbstract(at)}else throw new Error("Contract does not support claim conditions")}async getAll(a){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(),at=rt.currentStartId.toNumber(),it=rt.count.toNumber(),ot=[];for(let lt=at;lt<at+it;lt++)ot.push(await this.get(lt));const st=await this.metadata.get(),ct=await this.getTokenDecimals();return Promise.all(ot.map(lt=>transformResultToClaimCondition(lt,ct,this.contractWrapper.getProvider(),st.merkle,this.storage,(a==null?void 0:a.withAllowList)||!1)))}else return[await this.getActive(a)]}async canClaim(a,rt){return rt&&(rt=await resolveAddress(rt)),(await this.getClaimIneligibilityReasons(a,rt)).length===0}async getClaimIneligibilityReasons(a,rt){const at=[];let it,ot;const st=await this.getTokenDecimals(),ct=parseUnits(AmountSchema.parse(a),st);if(rt===void 0)try{rt=await this.contractWrapper.getSignerAddress()}catch(pt){console.warn("failed to get signer address",pt)}if(!rt)return[ClaimEligibility.NoWallet];const lt=await resolveAddress(rt);try{ot=await this.getActive()}catch(pt){return includesErrorMessage(pt,"!CONDITION")||includesErrorMessage(pt,"no active mint condition")?(at.push(ClaimEligibility.NoClaimConditionSet),at):(console.warn("failed to get active claim condition",pt),at.push(ClaimEligibility.Unknown),at)}ot.availableSupply!=="unlimited"&&parseUnits(ot.availableSupply,st).lt(ct)&&at.push(ClaimEligibility.NotEnoughSupply);const dt=stripZeros(ot.merkleRootHash).length>0;let ft=null;if(dt){if(ft=await this.getClaimerProofs(lt),!ft&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return at.push(ClaimEligibility.AddressNotAllowed),at;if(ft)try{const pt=await this.prepareClaim(a,!1,st,lt);let ht;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(it=await this.contractWrapper.readContract.getActiveClaimConditionId(),[ht]=await this.contractWrapper.readContract.verifyClaimMerkleProof(it,lt,a,pt.proofs,pt.maxClaimable),!ht)return at.push(ClaimEligibility.AddressNotAllowed),at}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([ht]=await this.contractWrapper.readContract.verifyClaimMerkleProof(lt,a,{proof:pt.proofs,maxQuantityInAllowlist:pt.maxClaimable}),!ht)return at.push(ClaimEligibility.AddressNotAllowed),at}else this.isNewSinglePhaseDrop(this.contractWrapper)?await this.contractWrapper.readContract.verifyClaim(lt,a,pt.currencyAddress,pt.price,{proof:pt.proofs,quantityLimitPerWallet:pt.maxClaimable,currency:pt.currencyAddressInProof,pricePerToken:pt.priceInProof}):this.isNewMultiphaseDrop(this.contractWrapper)&&(it=await this.contractWrapper.readContract.getActiveClaimConditionId(),await this.contractWrapper.readContract.verifyClaim(it,lt,a,pt.currencyAddress,pt.price,{proof:pt.proofs,quantityLimitPerWallet:pt.maxClaimable,currency:pt.currencyAddressInProof,pricePerToken:pt.priceInProof}))}catch(pt){return console.warn("Merkle proof verification failed:","reason"in pt?pt.reason:pt),at.push(ClaimEligibility.AddressNotAllowed),at}}if(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const pt=await this.getClaimerProofs(lt);let ht=BigNumber.from(0),yt=convertQuantityToBigNumber(ot.maxClaimablePerWallet,st);if(this.isNewSinglePhaseDrop(this.contractWrapper)&&(ht=await this.contractWrapper.readContract.getSupplyClaimedByWallet(lt)),this.isNewMultiphaseDrop(this.contractWrapper)){const mt=await this.contractWrapper.readContract.getActiveClaimConditionId();ht=await this.contractWrapper.readContract.getSupplyClaimedByWallet(mt,lt)}if(pt&&(yt=convertQuantityToBigNumber(pt.maxClaimable,st)),(!dt||dt&&!ft)&&(yt.lte(ht)||yt.eq(0)))return at.push(ClaimEligibility.AddressNotAllowed),at}if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)){let[pt,ht]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(it=await this.contractWrapper.readContract.getActiveClaimConditionId(),[pt,ht]=await this.contractWrapper.readContract.getClaimTimestamp(it,lt)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([pt,ht]=await this.contractWrapper.readContract.getClaimTimestamp(lt));const yt=BigNumber.from(Date.now()).div(1e3);pt.gt(0)&&yt.lt(ht)&&(ht.eq(MaxUint256$1)?at.push(ClaimEligibility.AlreadyClaimed):at.push(ClaimEligibility.WaitBeforeNextClaimTransaction))}if(ot.price.gt(0)&&isNode$1()){const pt=ot.price.mul(BigNumber.from(a)),ht=this.contractWrapper.getProvider();isNativeToken(ot.currencyAddress)?(await ht.getBalance(lt)).lt(pt)&&at.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper(ht,ot.currencyAddress,ERC20Abi,{}).readContract.balanceOf(lt)).lt(pt)&&at.push(ClaimEligibility.NotEnoughTokens)}return at}async getClaimerProofs(a,rt){const it=(await this.get(rt)).merkleRoot;if(stripZeros(it).length>0){const st=await this.metadata.get(),ct=await resolveAddress(a);return await fetchSnapshotEntryForAddress(ct,it.toString(),st.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async getTokenDecimals(){return detectContractFeature(this.contractWrapper,"ERC20")?this.contractWrapper.readContract.decimals():Promise.resolve(0)}async prepareClaim(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,it=arguments.length>3?arguments[3]:void 0;const ot=it||await this.contractWrapper.getSignerAddress();return prepareClaim(ot,a,await this.getActive(),async()=>(await this.metadata.get()).merkle,at,this.contractWrapper,this.storage,rt,this.getSnapshotFormatVersion())}async getClaimArguments(a,rt,at){const it=await resolveAddress(a);return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[it,rt,at.currencyAddress,at.price,at.proofs,at.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[it,rt,at.currencyAddress,at.price,{proof:at.proofs,maxQuantityInAllowlist:at.maxClaimable},toUtf8Bytes("")]:[it,rt,at.currencyAddress,at.price,{proof:at.proofs,quantityLimitPerWallet:at.maxClaimable,pricePerToken:at.priceInProof,currency:at.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(a,rt,at){if(at!=null&&at.pricePerToken)throw new Error("Price per token is be set via claim conditions by calling `contract.erc721.claimConditions.set()`");const it=await this.prepareClaim(rt,(at==null?void 0:at.checkERC20Allowance)===void 0?!0:at.checkERC20Allowance,await this.getTokenDecimals());return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:await this.getClaimArguments(a,rt,it),overrides:it.overrides})}isNewSinglePhaseDrop(a){return detectContractFeature(a,"ERC721ClaimConditionsV2")||detectContractFeature(a,"ERC20ClaimConditionsV2")}isNewMultiphaseDrop(a){return detectContractFeature(a,"ERC721ClaimPhasesV2")||detectContractFeature(a,"ERC20ClaimPhasesV2")}isLegacySinglePhaseDrop(a){return detectContractFeature(a,"ERC721ClaimConditionsV1")||detectContractFeature(a,"ERC20ClaimConditionsV1")}isLegacyMultiPhaseDrop(a){return detectContractFeature(a,"ERC721ClaimPhasesV1")||detectContractFeature(a,"ERC20ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class Erc20{get chainId(){return this._chainId}constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_TOKEN.name),_defineProperty(this,"mintable",void 0),_defineProperty(this,"burnable",void 0),_defineProperty(this,"droppable",void 0),_defineProperty(this,"signatureMintable",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"_chainId",void 0),_defineProperty(this,"transfer",buildTransactionFunction(async(it,ot)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"transfer",args:[await resolveAddress(it),await this.normalizeAmount(ot)]}))),_defineProperty(this,"transferFrom",buildTransactionFunction(async(it,ot,st)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"transferFrom",args:[await resolveAddress(it),await resolveAddress(ot),await this.normalizeAmount(st)]}))),_defineProperty(this,"setAllowance",buildTransactionFunction(async(it,ot)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approve",args:[await resolveAddress(it),await this.normalizeAmount(ot)]}))),_defineProperty(this,"transferBatch",buildTransactionFunction(async it=>{const ot=await Promise.all(it.map(async st=>{const ct=await this.normalizeAmount(st.amount);return this.contractWrapper.readContract.interface.encodeFunctionData("transfer",[await resolveAddress(st.toAddress),ct])}));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[ot]})})),_defineProperty(this,"mint",buildTransactionFunction(async it=>this.mintTo.prepare(await this.contractWrapper.getSignerAddress(),it))),_defineProperty(this,"mintTo",buildTransactionFunction(async(it,ot)=>assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).to.prepare(it,ot))),_defineProperty(this,"mintBatchTo",buildTransactionFunction(async it=>{var ot;return assertEnabled((ot=this.mintable)==null?void 0:ot.batch,FEATURE_TOKEN_BATCH_MINTABLE).to.prepare(it)})),_defineProperty(this,"burn",buildTransactionFunction(async it=>assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).tokens.prepare(it))),_defineProperty(this,"burnFrom",buildTransactionFunction(async(it,ot)=>assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).from.prepare(it,ot))),_defineProperty(this,"claim",buildTransactionFunction(async(it,ot)=>this.claimTo.prepare(await this.contractWrapper.getSignerAddress(),it,ot))),_defineProperty(this,"claimTo",buildTransactionFunction(async(it,ot,st)=>{var ct;return assertEnabled((ct=this.droppable)==null?void 0:ct.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).to.prepare(it,ot,st)})),this.contractWrapper=a,this.storage=rt,this.mintable=this.detectErc20Mintable(),this.burnable=this.detectErc20Burnable(),this.droppable=this.detectErc20Droppable(),this.signatureMintable=this.detectErc20SignatureMintable(),this._chainId=at}onNetworkUpdated(a){this.contractWrapper.updateSignerOrProvider(a)}getAddress(){return this.contractWrapper.readContract.address}async get(){return await fetchCurrencyMetadata(this.contractWrapper.getProvider(),this.getAddress())}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async balanceOf(a){return this.getValue(await this.contractWrapper.readContract.balanceOf(await resolveAddress(a)))}async totalSupply(){return await this.getValue(await this.contractWrapper.readContract.totalSupply())}async allowance(a){return await this.allowanceOf(await this.contractWrapper.getSignerAddress(),await resolveAddress(a))}async allowanceOf(a,rt){return await this.getValue(await this.contractWrapper.readContract.allowance(await resolveAddress(a),await resolveAddress(rt)))}async getMintTransaction(a,rt){return assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).getMintTransaction(a,rt)}get claimConditions(){var a;return assertEnabled((a=this.droppable)==null?void 0:a.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_TOKEN_SIGNATURE_MINTABLE)}async normalizeAmount(a){const rt=await this.contractWrapper.readContract.decimals();return parseUnits(AmountSchema.parse(a),rt)}async getValue(a){return await fetchCurrencyValue(this.contractWrapper.getProvider(),this.getAddress(),BigNumber.from(a))}detectErc20Mintable(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20Mintable(this,this.contractWrapper)}detectErc20Burnable(){if(detectContractFeature(this.contractWrapper,"ERC20Burnable"))return new Erc20Burnable(this,this.contractWrapper)}detectErc20Droppable(){if(detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV2"))return new Erc20Droppable(this,this.contractWrapper,this.storage)}detectErc20SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC20SignatureMintable"))return new Erc20SignatureMintable(this.contractWrapper)}}class Erc20Burnable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_TOKEN_BURNABLE.name),_defineProperty(this,"erc20",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"tokens",buildTransactionFunction(async at=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burn",args:[await this.erc20.normalizeAmount(at)]}))),_defineProperty(this,"from",buildTransactionFunction(async(at,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burnFrom",args:[await resolveAddress(at),await this.erc20.normalizeAmount(it)]}))),this.erc20=a,this.contractWrapper=rt}}class Erc20Droppable{constructor(a,rt,at){_defineProperty(this,"claim",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc20",void 0),_defineProperty(this,"storage",void 0),this.erc20=a,this.contractWrapper=rt,this.storage=at,this.claim=new Erc20ClaimableWithConditions(this.erc20,this.contractWrapper,this.storage)}}class Erc20Mintable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_TOKEN_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc20",void 0),_defineProperty(this,"batch",void 0),_defineProperty(this,"to",buildTransactionFunction(async(at,it)=>await this.getMintTransaction(at,it))),this.erc20=a,this.contractWrapper=rt,this.batch=this.detectErc20BatchMintable()}async getMintTransaction(a,rt){return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[await resolveAddress(a),await this.erc20.normalizeAmount(rt)]})}detectErc20BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC20BatchMintable"))return new Erc20BatchMintable(this.erc20,this.contractWrapper)}}class Erc20SignatureMintable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_TOKEN_SIGNATURE_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"roles",void 0),_defineProperty(this,"mint",buildTransactionFunction(async at=>{const it=at.payload,ot=at.signature,st=await this.mapPayloadToContractStruct(it),ct=await this.contractWrapper.getCallOverrides();return await setErc20Allowance(this.contractWrapper,BigNumber.from(st.price),it.currencyAddress,ct),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[st,ot],overrides:ct})})),_defineProperty(this,"mintBatch",buildTransactionFunction(async at=>{const ot=(await Promise.all(at.map(async st=>{const ct=await this.mapPayloadToContractStruct(st.payload),lt=st.signature,ut=st.payload.price;if(BigNumber.from(ut).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:ct,signature:lt}}))).map(st=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[st.message,st.signature]));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[ot]})})),this.contractWrapper=a,this.roles=rt}async verify(a){const rt=a.payload,at=a.signature,it=await this.mapPayloadToContractStruct(rt);return(await this.contractWrapper.readContract.verify(it,at))[0]}async generate(a){return(await this.generateBatch([a]))[0]}async generateBatch(a){var st;await((st=this.roles)==null?void 0:st.verify(["minter"],await this.contractWrapper.getSignerAddress()));const rt=await Promise.all(a.map(ct=>Signature20PayloadInput.parseAsync(ct))),at=await this.contractWrapper.getChainID(),it=this.contractWrapper.getSigner();invariant(it,"No signer available");const ot=await this.contractWrapper.readContract.name();return await Promise.all(rt.map(async ct=>{const lt=await Signature20PayloadOutput.parseAsync(ct),ut=await this.contractWrapper.signTypedData(it,{name:ot,version:"1",chainId:at,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest20},await this.mapPayloadToContractStruct(lt));return{payload:lt,signature:ut.toString()}}))}async mapPayloadToContractStruct(a){const rt=await normalizePriceValue(this.contractWrapper.getProvider(),a.price,a.currencyAddress),at=parseUnits(a.quantity,await this.contractWrapper.readContract.decimals());return{to:a.to,primarySaleRecipient:a.primarySaleRecipient,quantity:at,price:rt,currency:a.currencyAddress,validityEndTimestamp:a.mintEndTime,validityStartTimestamp:a.mintStartTime,uid:a.uid}}}class Erc20ClaimableWithConditions{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name),_defineProperty(this,"conditions",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc20",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"to",buildTransactionFunction(async(ot,st,ct)=>{const lt=await this.erc20.normalizeAmount(st);return await this.conditions.getClaimTransaction(ot,lt,ct)})),this.erc20=a,this.contractWrapper=rt,this.storage=at;const it=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,it,this.storage)}}class Erc20BatchMintable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_TOKEN_BATCH_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc20",void 0),_defineProperty(this,"to",buildTransactionFunction(async at=>{const it=[];for(const ot of at)it.push(this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[await resolveAddress(ot.toAddress),await this.erc20.normalizeAmount(ot.amount)]));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[it]})})),this.erc20=a,this.contractWrapper=rt}}const InterfaceId_IERC721=arrayify("0x80ac58cd"),InterfaceId_IERC1155=arrayify("0xd9b67a26"),FALLBACK_METADATA={name:"Failed to load NFT metadata"};async function fetchTokenMetadata(o,a,rt){const at=a.replace("{id}",hexZeroPad(BigNumber.from(o).toHexString(),32).slice(2));let it;try{it=await rt.downloadJSON(at)}catch{const st=a.replace("{id}",BigNumber.from(o).toString());try{it=await rt.downloadJSON(st)}catch{console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:o.toString(),tokenUri:a})} -- falling back to default metadata`),it=FALLBACK_METADATA}}return CommonNFTOutput.parse({...it,id:BigNumber.from(o).toString(),uri:a})}async function fetchTokenMetadataForContract(o,a,rt,at){let it;const ot=new Contract(o,ERC165Abi,a),st=await ot.supportsInterface(InterfaceId_IERC721),ct=await ot.supportsInterface(InterfaceId_IERC1155);if(st)it=await new Contract(o,ERC721MetadataAbi,a).tokenURI(rt);else if(ct)it=await new Contract(o,ERC1155MetadataAbi,a).uri(rt);else throw Error("Contract must implement ERC 1155 or ERC 721.");return it?fetchTokenMetadata(rt,it,at):CommonNFTOutput.parse({...FALLBACK_METADATA,id:BigNumber.from(rt).toString(),uri:""})}async function uploadOrExtractURI(o,a){return typeof o=="string"?o:await a.upload(CommonNFTInput.parse(o))}async function uploadOrExtractURIs(o,a,rt,at){if(isUriList(o))return o;if(isMetadataList(o))return await a.uploadBatch(o.map(ot=>CommonNFTInput.parse(ot)),{rewriteFileNames:{fileStartNumber:rt||0},onProgress:at==null?void 0:at.onProgress});throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function getBaseUriFromBatch(o){const a=o[0].substring(0,o[0].lastIndexOf("/"));for(let rt=0;rt<o.length;rt++){const at=o[rt].substring(0,o[rt].lastIndexOf("/"));if(a!==at)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${a}' but got '${at}'`)}return a.replace(/\/$/,"")+"/"}function isUriList(o){return o.find(a=>typeof a!="string")===void 0}function isMetadataList(o){return o.find(a=>typeof a!="object")===void 0}class Erc721Burnable{constructor(a){_defineProperty(this,"featureName",FEATURE_NFT_BURNABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"token",buildTransactionFunction(async rt=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burn",args:[rt]}))),this.contractWrapper=a}}class Erc721WithQuantitySignatureMintable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_NFT_SIGNATURE_MINTABLE_V2.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"mint",buildTransactionFunction(async at=>{const it=at.payload,ot=at.signature,st=await this.contractWrapper.getCallOverrides(),ct=lt=>{const ut=this.contractWrapper.parseLogs("TokensMintedWithSignature",lt.logs);if(ut.length===0)throw new Error("No MintWithSignature event found");return{id:ut[0].args.tokenIdMinted,receipt:lt}};if(await this.isLegacyNFTContract()){const lt=await this.mapLegacyPayloadToContractStruct(it),ut=lt.price;return await setErc20Allowance(this.contractWrapper,ut,it.currencyAddress,st),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[lt,ot],overrides:st,parse:ct})}else{const lt=await this.mapPayloadToContractStruct(it),ut=lt.pricePerToken.mul(lt.quantity);return await setErc20Allowance(this.contractWrapper,ut,it.currencyAddress,st),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[lt,ot],overrides:st,parse:ct})}})),_defineProperty(this,"mintBatch",buildTransactionFunction(async at=>{const it=await this.isLegacyNFTContract(),st=(await Promise.all(at.map(async ct=>{let lt;it?lt=await this.mapLegacyPayloadToContractStruct(ct.payload):lt=await this.mapPayloadToContractStruct(ct.payload);const ut=ct.signature,dt=ct.payload.price;if(BigNumber.from(dt).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:lt,signature:ut}}))).map(ct=>it?this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[ct.message,ct.signature]):this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[ct.message,ct.signature]));if(hasFunction("multicall",this.contractWrapper))return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[st],parse:ct=>{const lt=this.contractWrapper.parseLogs("TokensMintedWithSignature",ct.logs);if(lt.length===0)throw new Error("No MintWithSignature event found");return lt.map(ut=>({id:ut.args.tokenIdMinted,receipt:ct}))}});throw new Error("Multicall not available on this contract!")})),this.contractWrapper=a,this.storage=rt}async verify(a){const rt=await this.isLegacyNFTContract(),at=a.payload,it=a.signature;let ot,st;if(rt){const ct=this.contractWrapper.readContract;ot=await this.mapLegacyPayloadToContractStruct(at),st=await ct.verify(ot,it)}else{const ct=this.contractWrapper.readContract;ot=await this.mapPayloadToContractStruct(at),st=await ct.verify(ot,it)}return st[0]}async generate(a){return(await this.generateBatch([a]))[0]}async generateBatch(a){const rt=await this.isLegacyNFTContract(),at=await Promise.all(a.map(lt=>Signature721WithQuantityInput.parseAsync(lt))),it=at.map(lt=>lt.metadata),ot=await uploadOrExtractURIs(it,this.storage),st=await this.contractWrapper.getChainID(),ct=this.contractWrapper.getSigner();return invariant(ct,"No signer available"),await Promise.all(at.map(async(lt,ut)=>{const dt=ot[ut],ft=await Signature721WithQuantityOutput.parseAsync({...lt,uri:dt});let pt;return rt?pt=await this.contractWrapper.signTypedData(ct,{name:"TokenERC721",version:"1",chainId:st,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest721},await this.mapLegacyPayloadToContractStruct(ft)):pt=await this.contractWrapper.signTypedData(ct,{name:"SignatureMintERC721",version:"1",chainId:st,verifyingContract:await this.contractWrapper.readContract.address},{MintRequest:MintRequest721withQuantity},await this.mapPayloadToContractStruct(ft)),{payload:ft,signature:pt.toString()}}))}async mapPayloadToContractStruct(a){const rt=await normalizePriceValue(this.contractWrapper.getProvider(),a.price,a.currencyAddress);return{to:a.to,royaltyRecipient:a.royaltyRecipient,royaltyBps:a.royaltyBps,primarySaleRecipient:a.primarySaleRecipient,uri:a.uri,quantity:a.quantity,pricePerToken:rt,currency:a.currencyAddress,validityStartTimestamp:a.mintStartTime,validityEndTimestamp:a.mintEndTime,uid:a.uid}}async mapLegacyPayloadToContractStruct(a){const rt=await normalizePriceValue(this.contractWrapper.getProvider(),a.price,a.currencyAddress);return{to:a.to,price:rt,uri:a.uri,currency:a.currencyAddress,validityEndTimestamp:a.mintEndTime,validityStartTimestamp:a.mintStartTime,uid:a.uid,royaltyRecipient:a.royaltyRecipient,royaltyBps:a.royaltyBps,primarySaleRecipient:a.primarySaleRecipient}}async isLegacyNFTContract(){return detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")}}class DelayedReveal{constructor(a,rt,at,it){_defineProperty(this,"featureName",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"nextTokenIdToMintFn",void 0),_defineProperty(this,"createDelayedRevealBatch",buildTransactionFunction(async(ot,st,ct,lt)=>{if(!ct)throw new Error("Password is required");const ut=await this.storage.uploadBatch([CommonNFTInput.parse(ot)],{rewriteFileNames:{fileStartNumber:0}}),dt=getBaseUriFromBatch(ut),ft=await this.nextTokenIdToMintFn(),pt=await this.storage.uploadBatch(st.map(wt=>CommonNFTInput.parse(wt)),{onProgress:lt==null?void 0:lt.onProgress,rewriteFileNames:{fileStartNumber:ft.toNumber()}}),ht=getBaseUriFromBatch(pt),yt=await this.contractWrapper.readContract.getBaseURICount(),mt=await this.hashDelayRevealPassword(yt,ct),gt=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(ht),mt);let bt;if(await this.isLegacyContract())bt=gt;else{const wt=await this.contractWrapper.getChainID(),Tt=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(ht),mt,wt]);bt=defaultAbiCoder.encode(["bytes","bytes32"],[gt,Tt])}return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[pt.length,dt.endsWith("/")?dt:`${dt}/`,bt],parse:wt=>{const Tt=this.contractWrapper.parseLogs("TokensLazyMinted",wt==null?void 0:wt.logs),_t=Tt[0].args.startTokenId,St=Tt[0].args.endTokenId,Pt=[];for(let Nt=_t;Nt.lte(St);Nt=Nt.add(1))Pt.push({id:Nt,receipt:wt});return Pt}})})),_defineProperty(this,"reveal",buildTransactionFunction(async(ot,st)=>{if(!st)throw new Error("Password is required");const ct=await this.hashDelayRevealPassword(ot,st);try{const lt=await this.contractWrapper.callStatic().reveal(ot,ct);if(!lt.includes("://")||!lt.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"reveal",args:[ot,ct]})})),this.featureName=at,this.nextTokenIdToMintFn=it,this.contractWrapper=a,this.storage=rt}async getBatchesToReveal(){const a=await this.contractWrapper.readContract.getBaseURICount();if(a.isZero())return[];const rt=Array.from(Array(a.toNumber()).keys()),at=await Promise.all(rt.map(ut=>{if(hasFunction("getBatchIdAtIndex",this.contractWrapper))return this.contractWrapper.readContract.getBatchIdAtIndex(ut);if(hasFunction("baseURIIndices",this.contractWrapper))return this.contractWrapper.readContract.baseURIIndices(ut);throw new Error("Contract does not have getBatchIdAtIndex or baseURIIndices.")})),it=at.slice(0,at.length-1),ot=await Promise.all(Array.from([0,...it]).map(ut=>this.getNftMetadata(ut.toString()))),st=await this.isLegacyContract(),lt=(await Promise.all(Array.from([...at]).map(ut=>st?this.getLegacyEncryptedData(ut):this.contractWrapper.readContract.encryptedData(ut)))).map(ut=>hexDataLength(ut)>0?st?ut:defaultAbiCoder.decode(["bytes","bytes32"],ut)[0]:ut);return ot.map((ut,dt)=>({batchId:BigNumber.from(dt),batchUri:ut.uri,placeholderMetadata:ut})).filter((ut,dt)=>hexDataLength(lt[dt])>0)}async hashDelayRevealPassword(a,rt){const at=await this.contractWrapper.getChainID(),it=this.contractWrapper.readContract.address;return keccak256(["string","uint256","uint256","address"],[rt,at,a,it])}async getNftMetadata(a){return fetchTokenMetadataForContract(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),a,this.storage)}async isLegacyContract(){if(hasFunction("contractVersion",this.contractWrapper))try{return await this.contractWrapper.readContract.contractVersion()<=2}catch{return!1}return!1}async getLegacyEncryptedData(a){const at=await new Contract(this.contractWrapper.readContract.address,DeprecatedAbi,this.contractWrapper.getProvider()).functions.encryptedBaseURI(a);return at.length>0?at[0]:"0x"}}const TieredDropPayloadSchema=BaseSignaturePayloadInput.extend({tierPriority:z$2.array(z$2.string()),royaltyRecipient:AddressOrEnsSchema.default(AddressZero$1),royaltyBps:BasisPointsSchema.default(0),quantity:BigNumberSchema.default(1)});async function calculateClaimCost(o,a,rt,at,it){let ot={};const st=at||NATIVE_TOKEN_ADDRESS,lt=(await normalizePriceValue(o.getProvider(),a,st)).mul(rt);return lt.gt(0)&&(st===NATIVE_TOKEN_ADDRESS?ot={value:lt}:st!==NATIVE_TOKEN_ADDRESS&&it&&await approveErc20Allowance(o,st,lt,rt,0)),ot}class Erc721{get chainId(){return this._chainId}constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_NFT.name),_defineProperty(this,"query",void 0),_defineProperty(this,"mintable",void 0),_defineProperty(this,"burnable",void 0),_defineProperty(this,"lazyMintable",void 0),_defineProperty(this,"tieredDropable",void 0),_defineProperty(this,"signatureMintable",void 0),_defineProperty(this,"claimWithConditions",void 0),_defineProperty(this,"claimCustom",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"_chainId",void 0),_defineProperty(this,"transfer",buildTransactionFunction(async(it,ot)=>{const st=await this.contractWrapper.getSignerAddress();return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"transferFrom(address,address,uint256)",args:[st,await resolveAddress(it),ot]})})),_defineProperty(this,"transferFrom",buildTransactionFunction(async(it,ot,st)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"transferFrom(address,address,uint256)",args:[await resolveAddress(it),await resolveAddress(ot),st]}))),_defineProperty(this,"setApprovalForAll",buildTransactionFunction(async(it,ot)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setApprovalForAll",args:[await resolveAddress(it),ot]}))),_defineProperty(this,"setApprovalForToken",buildTransactionFunction(async(it,ot)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approve",args:[await resolveAddress(it),ot]}))),_defineProperty(this,"mint",buildTransactionFunction(async it=>this.mintTo.prepare(await this.contractWrapper.getSignerAddress(),it))),_defineProperty(this,"mintTo",buildTransactionFunction(async(it,ot)=>assertEnabled(this.mintable,FEATURE_NFT_MINTABLE).to.prepare(it,ot))),_defineProperty(this,"mintBatch",buildTransactionFunction(async it=>this.mintBatchTo.prepare(await this.contractWrapper.getSignerAddress(),it))),_defineProperty(this,"mintBatchTo",buildTransactionFunction(async(it,ot)=>{var st;return assertEnabled((st=this.mintable)==null?void 0:st.batch,FEATURE_NFT_BATCH_MINTABLE).to.prepare(it,ot)})),_defineProperty(this,"burn",buildTransactionFunction(async it=>assertEnabled(this.burnable,FEATURE_NFT_BURNABLE).token.prepare(it))),_defineProperty(this,"lazyMint",buildTransactionFunction(async(it,ot)=>assertEnabled(this.lazyMintable,FEATURE_NFT_LAZY_MINTABLE).lazyMint.prepare(it,ot))),_defineProperty(this,"claim",buildTransactionFunction(async(it,ot)=>this.claimTo.prepare(await this.contractWrapper.getSignerAddress(),it,ot))),_defineProperty(this,"claimTo",buildTransactionFunction(async(it,ot,st)=>{const ct=this.claimWithConditions,lt=this.claimCustom;if(ct)return ct.to.prepare(it,ot,st);if(lt)return lt.to.prepare(it,ot,st);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)})),this.contractWrapper=a,this.storage=rt,this.query=this.detectErc721Enumerable(),this.mintable=this.detectErc721Mintable(),this.burnable=this.detectErc721Burnable(),this.lazyMintable=this.detectErc721LazyMintable(),this.tieredDropable=this.detectErc721TieredDrop(),this.signatureMintable=this.detectErc721SignatureMintable(),this.claimWithConditions=this.detectErc721ClaimableWithConditions(),this.claimCustom=this.detectErc721Claimable(),this._chainId=at}onNetworkUpdated(a){this.contractWrapper.updateSignerOrProvider(a)}getAddress(){return this.contractWrapper.readContract.address}async get(a){const[rt,at]=await Promise.all([this.ownerOf(a).catch(()=>AddressZero$1),this.getTokenMetadata(a).catch(()=>({id:a.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:rt,metadata:at,type:"ERC721",supply:"1"}}async ownerOf(a){return await this.contractWrapper.readContract.ownerOf(a)}async balanceOf(a){return await this.contractWrapper.readContract.balanceOf(await resolveAddress(a))}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async isApproved(a,rt){return await this.contractWrapper.readContract.isApprovedForAll(await resolveAddress(a),await resolveAddress(rt))}async getAll(a){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).all(a)}async getAllOwners(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).allOwners()}async totalCount(){return this.nextTokenIdToMint()}async totalCirculatingSupply(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).totalCirculatingSupply()}async getOwned(a){var rt;if(a&&(a=await resolveAddress(a)),(rt=this.query)!=null&&rt.owned)return this.query.owned.all(a);{const at=a||await this.contractWrapper.getSignerAddress(),it=await this.getAllOwners();return Promise.all((it||[]).filter(ot=>{var st;return(at==null?void 0:at.toLowerCase())===((st=ot.owner)==null?void 0:st.toLowerCase())}).map(async ot=>await this.get(ot.tokenId)))}}async getOwnedTokenIds(a){var rt;if(a&&(a=await resolveAddress(a)),(rt=this.query)!=null&&rt.owned)return this.query.owned.tokenIds(a);{const at=a||await this.contractWrapper.getSignerAddress();return(await this.getAllOwners()||[]).filter(ot=>{var st;return(at==null?void 0:at.toLowerCase())===((st=ot.owner)==null?void 0:st.toLowerCase())}).map(ot=>BigNumber.from(ot.tokenId))}}async getMintTransaction(a,rt){return this.mintTo.prepare(a,rt)}async getClaimTransaction(a,rt,at){const it=this.claimWithConditions,ot=this.claimCustom;if(it)return it.conditions.getClaimTransaction(a,rt,at);if(ot)return ot.getClaimTransaction(a,rt,at);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)}async totalClaimedSupply(){const a=this.contractWrapper;if(hasFunction("nextTokenIdToClaim",a))return a.readContract.nextTokenIdToClaim();if(hasFunction("totalMinted",a))return a.readContract.totalMinted();throw new Error("No function found on contract to get total claimed supply")}async totalUnclaimedSupply(){return(await this.nextTokenIdToMint()).sub(await this.totalClaimedSupply())}get claimConditions(){return assertEnabled(this.claimWithConditions,FEATURE_NFT_CLAIM_CONDITIONS_V2).conditions}get tieredDrop(){return assertEnabled(this.tieredDropable,FEATURE_NFT_TIERED_DROP)}get signature(){return assertEnabled(this.signatureMintable,FEATURE_NFT_SIGNATURE_MINTABLE_V2)}get revealer(){var a;return assertEnabled((a=this.lazyMintable)==null?void 0:a.revealer,FEATURE_NFT_REVEALABLE)}async getTokenMetadata(a){const rt=await this.contractWrapper.readContract.tokenURI(a);if(!rt)throw new NotFoundError;return fetchTokenMetadata(a,rt,this.storage)}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();if(hasFunction("totalSupply",this.contractWrapper))return await this.contractWrapper.readContract.totalSupply();throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint")}detectErc721Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC721Supply")||hasFunction("nextTokenIdToMint",this.contractWrapper))return new Erc721Supply(this,this.contractWrapper)}detectErc721Mintable(){if(detectContractFeature(this.contractWrapper,"ERC721Mintable"))return new Erc721Mintable(this,this.contractWrapper,this.storage)}detectErc721Burnable(){if(detectContractFeature(this.contractWrapper,"ERC721Burnable"))return new Erc721Burnable(this.contractWrapper)}detectErc721LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC721LazyMintable"))return new Erc721LazyMintable(this,this.contractWrapper,this.storage)}detectErc721TieredDrop(){if(detectContractFeature(this.contractWrapper,"ERC721TieredDrop"))return new Erc721TieredDrop(this,this.contractWrapper,this.storage)}detectErc721SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")||detectContractFeature(this.contractWrapper,"ERC721SignatureMintV2"))return new Erc721WithQuantitySignatureMintable(this.contractWrapper,this.storage)}detectErc721ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV2"))return new Erc721ClaimableWithConditions(this,this.contractWrapper,this.storage)}detectErc721Claimable(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimCustom"))return new Erc721Claimable(this,this.contractWrapper)}}class Erc721LazyMintable{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_NFT_LAZY_MINTABLE.name),_defineProperty(this,"revealer",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc721",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"lazyMint",buildTransactionFunction(async(it,ot)=>{const st=await this.erc721.nextTokenIdToMint(),ct=await uploadOrExtractURIs(it,this.storage,st.toNumber(),ot),lt=getBaseUriFromBatch(ct);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[ct.length,lt.endsWith("/")?lt:`${lt}/`,toUtf8Bytes("")],parse:ut=>{const dt=this.contractWrapper.parseLogs("TokensLazyMinted",ut==null?void 0:ut.logs),ft=dt[0].args.startTokenId,pt=dt[0].args.endTokenId,ht=[];for(let yt=ft;yt.lte(pt);yt=yt.add(1))ht.push({id:yt,receipt:ut,data:()=>this.erc721.getTokenMetadata(yt)});return ht}})})),this.erc721=a,this.contractWrapper=rt,this.storage=at,this.revealer=this.detectErc721Revealable()}detectErc721Revealable(){if(detectContractFeature(this.contractWrapper,"ERC721Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_NFT_REVEALABLE.name,()=>this.erc721.nextTokenIdToMint())}}class Erc721Mintable{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_NFT_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"erc721",void 0),_defineProperty(this,"batch",void 0),_defineProperty(this,"to",buildTransactionFunction(async(it,ot)=>{const st=await uploadOrExtractURI(ot,this.storage);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[await resolveAddress(it),st],parse:ct=>{const lt=this.contractWrapper.parseLogs("Transfer",ct==null?void 0:ct.logs);if(lt.length===0)throw new Error("TransferEvent event not found");const ut=lt[0].args.tokenId;return{id:ut,receipt:ct,data:()=>this.erc721.get(ut)}}})})),this.erc721=a,this.contractWrapper=rt,this.storage=at,this.batch=this.detectErc721BatchMintable()}async getMintTransaction(a,rt){return this.to.prepare(await resolveAddress(a),rt)}detectErc721BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC721BatchMintable"))return new Erc721BatchMintable(this.erc721,this.contractWrapper,this.storage)}}class Erc721Supply{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_NFT_SUPPLY.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc721",void 0),_defineProperty(this,"owned",void 0),this.erc721=a,this.contractWrapper=rt,this.owned=this.detectErc721Owned()}async all(a){const rt=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),at=BigNumber.from((a==null?void 0:a.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),it=await this.erc721.nextTokenIdToMint(),ot=Math.min(it.toNumber(),rt+at);return await Promise.all([...Array(ot-rt).keys()].map(st=>this.erc721.get((rt+st).toString())))}async allOwners(){return Promise.all([...new Array((await this.totalCount()).toNumber()).keys()].map(async a=>({tokenId:a,owner:await this.erc721.ownerOf(a).catch(()=>AddressZero$1)})))}async totalCount(){return await this.erc721.nextTokenIdToMint()}async totalCirculatingSupply(){return await this.contractWrapper.readContract.totalSupply()}detectErc721Owned(){if(detectContractFeature(this.contractWrapper,"ERC721Enumerable"))return new Erc721Enumerable(this.erc721,this.contractWrapper)}}class Erc721TieredDrop{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_NFT_TIERED_DROP.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc721",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"createBatchWithTier",buildTransactionFunction(async(it,ot,st)=>{const ct=await this.erc721.nextTokenIdToMint(),lt=await uploadOrExtractURIs(it,this.storage,ct.toNumber(),st),ut=getBaseUriFromBatch(lt);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[lt.length,ut.endsWith("/")?ut:`${ut}/`,ot,toUtf8Bytes("")],parse:dt=>{const ft=this.contractWrapper.parseLogs("TokensLazyMinted",dt==null?void 0:dt.logs),pt=ft[0].args[1],ht=ft[0].args[2],yt=[];for(let mt=pt;mt.lte(ht);mt=mt.add(1))yt.push({id:mt,receipt:dt,data:()=>this.erc721.getTokenMetadata(mt)});return yt}})})),_defineProperty(this,"createDelayedRevealBatchWithTier",buildTransactionFunction(async(it,ot,st,ct,lt)=>{if(!st)throw new Error("Password is required");const ut=await this.storage.uploadBatch([CommonNFTInput.parse(it)],{rewriteFileNames:{fileStartNumber:0}}),dt=getBaseUriFromBatch(ut),ft=await this.erc721.nextTokenIdToMint(),pt=await this.storage.uploadBatch(ot.map(Tt=>CommonNFTInput.parse(Tt)),{onProgress:lt==null?void 0:lt.onProgress,rewriteFileNames:{fileStartNumber:ft.toNumber()}}),ht=getBaseUriFromBatch(pt),yt=await this.contractWrapper.readContract.getBaseURICount(),mt=await this.contractWrapper.getChainID(),gt=keccak256(["string","uint256","uint256","address"],[st,mt,yt,this.contractWrapper.readContract.address]),bt=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(ht),gt);let vt;const wt=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(ht),gt,mt]);return vt=defaultAbiCoder.encode(["bytes","bytes32"],[bt,wt]),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[pt.length,dt.endsWith("/")?dt:`${dt}/`,ct,vt],parse:Tt=>{const _t=this.contractWrapper.parseLogs("TokensLazyMinted",Tt==null?void 0:Tt.logs),St=_t[0].args[1],Pt=_t[0].args[2],Nt=[];for(let jt=St;jt.lte(Pt);jt=jt.add(1))Nt.push({id:jt,receipt:Tt,data:()=>this.erc721.getTokenMetadata(jt)});return Nt}})})),_defineProperty(this,"reveal",buildTransactionFunction(async(it,ot)=>{if(!ot)throw new Error("Password is required");const st=await this.contractWrapper.getChainID(),ct=keccak256(["string","uint256","uint256","address"],[ot,st,it,this.contractWrapper.readContract.address]);try{const lt=await this.contractWrapper.callStatic().reveal(it,ct);if(!lt.includes("://")||!lt.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"reveal",args:[it,ct]})})),this.erc721=a,this.contractWrapper=rt,this.storage=at}async getMetadataInTier(a){const at=(await this.contractWrapper.readContract.getMetadataForAllTiers()).find(ot=>ot.tier===a);if(!at)throw new Error("Tier not found in contract.");return await Promise.all(at.ranges.map((ot,st)=>{const ct=[],lt=at.baseURIs[st];for(let ut=ot.startIdInclusive.toNumber();ut<ot.endIdNonInclusive.toNumber();ut++){const dt=`${lt}/${ut}`,ft=this.storage.downloadJSON(dt);ct.push(ft)}return ct}).flat())}async getTokensInTier(a){const rt=await this.contractWrapper.readContract.getTokensInTierLen();if(rt.eq(0))return[];const at=await this.contractWrapper.readContract.getTokensInTier(a,0,rt);return await Promise.all(at.map(ot=>{const st=[];for(let ct=ot.startIdInclusive.toNumber();ct<ot.endIdNonInclusive.toNumber();ct++)st.push(this.erc721.get(ct));return st}).flat())}async generate(a){const[rt]=await this.generateBatch([a]);return rt}async generateBatch(a){const rt=await Promise.all(a.map(ot=>TieredDropPayloadSchema.parseAsync(ot))),at=await this.contractWrapper.getChainID(),it=this.contractWrapper.getSigner();return invariant(it,"No signer available"),await Promise.all(rt.map(async ot=>{const st=await this.contractWrapper.signTypedData(it,{name:"SignatureAction",version:"1",chainId:at,verifyingContract:this.contractWrapper.readContract.address},{GenericRequest},await this.mapPayloadToContractStruct(ot));return{payload:ot,signature:st.toString()}}))}async verify(a){const rt=await this.mapPayloadToContractStruct(a.payload);return(await this.contractWrapper.readContract.verify(rt,a.signature))[0]}async claimWithSignature(a){const rt=await this.mapPayloadToContractStruct(a.payload),at=await normalizePriceValue(this.contractWrapper.getProvider(),a.payload.price,a.payload.currencyAddress),it=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,at,a.payload.currencyAddress,it);const ot=await this.contractWrapper.sendTransaction("claimWithSignature",[rt,a.signature],it),st=this.contractWrapper.parseLogs("TokensClaimed",ot==null?void 0:ot.logs),ct=st[0].args.startTokenId,lt=ct.add(st[0].args.quantityClaimed),ut=[];for(let dt=ct;dt.lt(lt);dt=dt.add(1))ut.push({id:dt,receipt:ot,data:()=>this.erc721.get(dt)});return ut}async mapPayloadToContractStruct(a){const rt=await normalizePriceValue(this.contractWrapper.getProvider(),a.price,a.currencyAddress),at=defaultAbiCoder.encode(["string[]","address","address","uint256","address","uint256","uint256","address"],[a.tierPriority,a.to,a.royaltyRecipient,a.royaltyBps,a.primarySaleRecipient,a.quantity,rt,a.currencyAddress]);return{uid:a.uid,validityStartTimestamp:a.mintStartTime,validityEndTimestamp:a.mintEndTime,data:at}}}class Erc721ClaimableWithConditions{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_NFT_CLAIM_CONDITIONS_V2.name),_defineProperty(this,"conditions",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc721",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"to",buildTransactionFunction(async(ot,st,ct)=>{const lt=await this.conditions.getClaimTransaction(ot,st,ct);return lt.setParse(ut=>{const ft=this.contractWrapper.parseLogs("TokensClaimed",ut==null?void 0:ut.logs)[0].args.startTokenId,pt=ft.add(st),ht=[];for(let yt=ft;yt.lt(pt);yt=yt.add(1))ht.push({id:yt,receipt:ut,data:()=>this.erc721.get(yt)});return ht}),lt})),this.erc721=a,this.contractWrapper=rt,this.storage=at;const it=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,it,this.storage)}}class Erc721Claimable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_NFT_CLAIM_CUSTOM.name),_defineProperty(this,"erc721",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"to",buildTransactionFunction(async(at,it,ot)=>{const st=await this.getClaimTransaction(at,it,ot);return st.setParse(ct=>{const ut=this.contractWrapper.parseLogs("TokensClaimed",ct==null?void 0:ct.logs)[0].args.startTokenId,dt=ut.add(it),ft=[];for(let pt=ut;pt.lt(dt);pt=pt.add(1))ft.push({id:pt,receipt:ct,data:()=>this.erc721.get(pt)});return ft}),st})),this.erc721=a,this.contractWrapper=rt}async getClaimTransaction(a,rt,at){let it={};return at&&at.pricePerToken&&(it=await calculateClaimCost(this.contractWrapper,at.pricePerToken,rt,at.currencyAddress,at.checkERC20Allowance)),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:[a,rt],overrides:it})}}class Erc721BatchMintable{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_NFT_BATCH_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"erc721",void 0),_defineProperty(this,"to",buildTransactionFunction(async(it,ot)=>{const st=await uploadOrExtractURIs(ot,this.storage),ct=await resolveAddress(it),lt=await Promise.all(st.map(async ut=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[ct,ut])));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[lt],parse:ut=>{const dt=this.contractWrapper.parseLogs("TokensMinted",ut.logs);if(dt.length===0||dt.length<ot.length)throw new Error("TokenMinted event not found, minting failed");return dt.map(ft=>{const pt=ft.args.tokenIdMinted;return{id:pt,receipt:ut,data:()=>this.erc721.get(pt)}})}})})),this.erc721=a,this.contractWrapper=rt,this.storage=at}}class Erc721Enumerable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_NFT_ENUMERABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc721",void 0),this.erc721=a,this.contractWrapper=rt}async all(a){const rt=await this.tokenIds(a);return await Promise.all(rt.map(at=>this.erc721.get(at.toString())))}async tokenIds(a){const rt=await resolveAddress(a||await this.contractWrapper.getSignerAddress()),at=await this.contractWrapper.readContract.balanceOf(rt),it=Array.from(Array(at.toNumber()).keys());return await Promise.all(it.map(ot=>this.contractWrapper.readContract.tokenOfOwnerByIndex(rt,ot)))}}const AirdropAddressInput=z$2.object({address:AddressOrEnsSchema,quantity:AmountSchema.default(1)}),AirdropInputSchema=z$2.union([z$2.array(z$2.string()).transform(async o=>await Promise.all(o.map(a=>AirdropAddressInput.parseAsync({address:a})))),z$2.array(AirdropAddressInput)]);class Erc1155SignatureMintable{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_EDITION_SIGNATURE_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"roles",void 0),_defineProperty(this,"mint",buildTransactionFunction(async it=>{const ot=it.payload,st=it.signature,ct=await this.mapPayloadToContractStruct(ot),lt=await this.contractWrapper.getCallOverrides();return await setErc20Allowance(this.contractWrapper,ct.pricePerToken.mul(ct.quantity),ot.currencyAddress,lt),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[ct,st],overrides:lt,parse:ut=>{const dt=this.contractWrapper.parseLogs("TokensMintedWithSignature",ut.logs);if(dt.length===0)throw new Error("No MintWithSignature event found");return{id:dt[0].args.tokenIdMinted,receipt:ut}}})})),_defineProperty(this,"mintBatch",buildTransactionFunction(async it=>{const st=(await Promise.all(it.map(async ct=>{const lt=await this.mapPayloadToContractStruct(ct.payload),ut=ct.signature,dt=ct.payload.price;if(BigNumber.from(dt).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:lt,signature:ut}}))).map(ct=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[ct.message,ct.signature]));if(hasFunction("multicall",this.contractWrapper))return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[st],parse:ct=>{const lt=this.contractWrapper.parseLogs("TokensMintedWithSignature",ct.logs);if(lt.length===0)throw new Error("No MintWithSignature event found");return lt.map(ut=>({id:ut.args.tokenIdMinted,receipt:ct}))}});throw new Error("Multicall not supported on this contract!")})),this.contractWrapper=a,this.storage=rt,this.roles=at}async verify(a){const rt=a.payload,at=a.signature,it=await this.mapPayloadToContractStruct(rt);return(await this.contractWrapper.readContract.verify(it,at))[0]}async generate(a){const rt={...a,tokenId:MaxUint256$1};return this.generateFromTokenId(rt)}async generateFromTokenId(a){return(await this.generateBatchFromTokenIds([a]))[0]}async generateBatch(a){const rt=a.map(at=>({...at,tokenId:MaxUint256$1}));return this.generateBatchFromTokenIds(rt)}async generateBatchFromTokenIds(a){var ut;await((ut=this.roles)==null?void 0:ut.verify(["minter"],await this.contractWrapper.getSignerAddress()));const rt=await Promise.all(a.map(dt=>Signature1155PayloadInputWithTokenId.parseAsync(dt))),at=rt.map(dt=>dt.metadata),it=await uploadOrExtractURIs(at,this.storage),ot=await this.contractWrapper.getChainID(),st=this.contractWrapper.getSigner();invariant(st,"No signer available");const ct=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider()),lt=(ct==null?void 0:ct.type)==="TokenERC1155";return await Promise.all(rt.map(async(dt,ft)=>{const pt=it[ft],ht=await Signature1155PayloadOutput.parseAsync({...dt,uri:pt}),yt=await this.contractWrapper.signTypedData(st,{name:lt?"TokenERC1155":"SignatureMintERC1155",version:"1",chainId:ot,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest1155},await this.mapPayloadToContractStruct(ht));return{payload:ht,signature:yt.toString()}}))}async mapPayloadToContractStruct(a){const rt=await normalizePriceValue(this.contractWrapper.getProvider(),a.price,a.currencyAddress);return{to:a.to,tokenId:a.tokenId,uri:a.uri,quantity:a.quantity,pricePerToken:rt,currency:a.currencyAddress,validityStartTimestamp:a.mintStartTime,validityEndTimestamp:a.mintEndTime,uid:a.uid,royaltyRecipient:a.royaltyRecipient,royaltyBps:a.royaltyBps,primarySaleRecipient:a.primarySaleRecipient}}}class ERC1155Claimable{constructor(a){_defineProperty(this,"featureName",FEATURE_EDITION_CLAIM_CUSTOM.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"to",buildTransactionFunction(async(rt,at,it,ot)=>await this.getClaimTransaction(rt,at,it,ot))),this.contractWrapper=a}async getClaimTransaction(a,rt,at,it){let ot={};return it&&it.pricePerToken&&(ot=await calculateClaimCost(this.contractWrapper,it.pricePerToken,at,it.currencyAddress,it.checkERC20Allowance)),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:[await resolveAddress(a),rt,at],overrides:ot})}}class DropErc1155ClaimConditions{constructor(a,rt,at){var it=this;_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"metadata",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"set",buildTransactionFunction(async function(ot,st){let ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return it.setBatch.prepare([{tokenId:ot,claimConditions:st}],ct)})),_defineProperty(this,"setBatch",buildTransactionFunction(async function(ot){let st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ct={},lt=await Promise.all(ot.map(async ft=>{let{tokenId:pt,claimConditions:ht}=ft,yt=ht;if(it.isLegacySinglePhaseDrop(it.contractWrapper)){if(st=!0,ht.length===0)yt=[{startTime:new Date(0),currencyAddress:AddressZero$1,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(ht.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(it.isNewSinglePhaseDrop(it.contractWrapper)||it.isNewMultiphaseDrop(it.contractWrapper))&&yt.forEach(bt=>{var vt;if(bt.snapshot&&bt.snapshot.length>0&&(bt.maxClaimablePerWallet===void 0||bt.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.

ex:
contract.claimConditions.set(tokenId, [{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(bt.snapshot&&bt.snapshot.length>0&&((vt=bt.maxClaimablePerWallet)==null?void 0:vt.toString())==="0"&&bt.snapshot.map(wt=>{var Tt;return typeof wt=="string"?0:Number(((Tt=wt.maxClaimable)==null?void 0:Tt.toString())||0)}).reduce((wt,Tt)=>wt+Tt,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:mt,sortedConditions:gt}=await processClaimConditionInputs(yt,0,it.contractWrapper.getProvider(),it.storage,it.getSnapshotFormatVersion());return mt.forEach(bt=>{ct[bt.merkleRoot]=bt.snapshotUri}),{tokenId:pt,sortedConditions:gt}})),ut=await it.metadata.get(),dt=[];for(const ft of Object.keys(ut.merkle||{}))ct[ft]=ut.merkle[ft];if(!fastDeepEqual(ut.merkle,ct)){const ft=await it.metadata.parseInputMetadata({...ut,merkle:ct}),pt=await it.metadata._parseAndUploadMetadata(ft);if(hasFunction("setContractURI",it.contractWrapper))dt.push(it.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[pt]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}return lt.forEach(ft=>{let{tokenId:pt,sortedConditions:ht}=ft;if(it.isLegacySinglePhaseDrop(it.contractWrapper))dt.push(it.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[pt,abstractContractModelToLegacy(ht[0]),st]));else if(it.isLegacyMultiPhaseDrop(it.contractWrapper))dt.push(it.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[pt,ht.map(abstractContractModelToLegacy),st]));else if(it.isNewSinglePhaseDrop(it.contractWrapper))dt.push(it.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[pt,abstractContractModelToNew(ht[0]),st]));else if(it.isNewMultiphaseDrop(it.contractWrapper))dt.push(it.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[pt,ht.map(abstractContractModelToNew),st]));else throw new Error("Contract does not support claim conditions")}),Transaction.fromContractWrapper({contractWrapper:it.contractWrapper,method:"multicall",args:[dt]})})),_defineProperty(this,"update",buildTransactionFunction(async(ot,st,ct)=>{const lt=await this.getAll(ot),ut=await updateExistingClaimConditions(st,ct,lt);return await this.set.prepare(ot,ut)})),this.storage=at,this.contractWrapper=a,this.metadata=rt}async getActive(a,rt){const at=await this.get(a),it=await this.metadata.get();return await transformResultToClaimCondition(at,0,this.contractWrapper.getProvider(),it.merkle,this.storage,(rt==null?void 0:rt.withAllowList)||!1)}async get(a,rt){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const at=await this.contractWrapper.readContract.claimCondition(a);return legacyContractModelToAbstract(at)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const at=rt!==void 0?rt:await this.contractWrapper.readContract.getActiveClaimConditionId(a),it=await this.contractWrapper.readContract.getClaimConditionById(a,at);return legacyContractModelToAbstract(it)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const at=await this.contractWrapper.readContract.claimCondition(a);return newContractModelToAbstract(at)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const at=rt!==void 0?rt:await this.contractWrapper.readContract.getActiveClaimConditionId(a),it=await this.contractWrapper.readContract.getClaimConditionById(a,at);return newContractModelToAbstract(it)}else throw new Error("Contract does not support claim conditions")}async getAll(a,rt){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const at=await this.contractWrapper.readContract.claimCondition(a),it=at.currentStartId.toNumber(),ot=at.count.toNumber(),st=[];for(let lt=it;lt<it+ot;lt++)st.push(await this.get(a,lt));const ct=await this.metadata.get();return Promise.all(st.map(lt=>transformResultToClaimCondition(lt,0,this.contractWrapper.getProvider(),ct.merkle,this.storage,(rt==null?void 0:rt.withAllowList)||!1)))}else return[await this.getActive(a,rt)]}async canClaim(a,rt,at){return at&&(at=await resolveAddress(at)),(await this.getClaimIneligibilityReasons(a,rt,at)).length===0}async getClaimIneligibilityReasons(a,rt,at){const it=[];let ot,st;if(at===void 0)try{at=await this.contractWrapper.getSignerAddress()}catch(yt){console.warn("failed to get signer address",yt)}if(!at)return[ClaimEligibility.NoWallet];const ct=await resolveAddress(at);try{st=await this.getActive(a)}catch(yt){return includesErrorMessage(yt,"!CONDITION")||includesErrorMessage(yt,"no active mint condition")?(it.push(ClaimEligibility.NoClaimConditionSet),it):(it.push(ClaimEligibility.Unknown),it)}st.availableSupply!=="unlimited"&&BigNumber.from(st.availableSupply).lt(rt)&&it.push(ClaimEligibility.NotEnoughSupply);const ut=stripZeros(st.merkleRootHash).length>0;let dt=null;if(ut){if(dt=await this.getClaimerProofs(a,ct),!dt&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return it.push(ClaimEligibility.AddressNotAllowed),it;if(dt)try{const yt=await this.prepareClaim(a,rt,!1,ct);let mt;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(ot=await this.contractWrapper.readContract.getActiveClaimConditionId(a),[mt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(ot,ct,a,rt,yt.proofs,yt.maxClaimable),!mt)return it.push(ClaimEligibility.AddressNotAllowed),it}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([mt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(a,ct,rt,{proof:yt.proofs,maxQuantityInAllowlist:yt.maxClaimable}),!mt)return it.push(ClaimEligibility.AddressNotAllowed),it}else this.isNewSinglePhaseDrop(this.contractWrapper)?await this.contractWrapper.readContract.verifyClaim(a,ct,rt,yt.currencyAddress,yt.price,{proof:yt.proofs,quantityLimitPerWallet:yt.maxClaimable,currency:yt.currencyAddressInProof,pricePerToken:yt.priceInProof}):this.isNewMultiphaseDrop(this.contractWrapper)&&(ot=await this.contractWrapper.readContract.getActiveClaimConditionId(a),await this.contractWrapper.readContract.verifyClaim(ot,ct,a,rt,yt.currencyAddress,yt.price,{proof:yt.proofs,quantityLimitPerWallet:yt.maxClaimable,currency:yt.currencyAddressInProof,pricePerToken:yt.priceInProof}))}catch(yt){return console.warn("Merkle proof verification failed:","reason"in yt?yt.reason:yt),it.push(ClaimEligibility.AddressNotAllowed),it}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!ut||ut&&!dt)&&st.maxClaimablePerWallet==="0")return it.push(ClaimEligibility.AddressNotAllowed),it;let[ft,pt]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(ot=await this.contractWrapper.readContract.getActiveClaimConditionId(a),[ft,pt]=await this.contractWrapper.readContract.getClaimTimestamp(a,ot,ct)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([ft,pt]=await this.contractWrapper.readContract.getClaimTimestamp(a,ct));const ht=BigNumber.from(Date.now()).div(1e3);if(ft.gt(0)&&ht.lt(pt)&&(pt.eq(MaxUint256$1)?it.push(ClaimEligibility.AlreadyClaimed):it.push(ClaimEligibility.WaitBeforeNextClaimTransaction)),st.price.gt(0)&&isNode$1()){const yt=st.price.mul(rt),mt=this.contractWrapper.getProvider();isNativeToken(st.currencyAddress)?(await mt.getBalance(ct)).lt(yt)&&it.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper(mt,st.currencyAddress,ERC20Abi,{}).readContract.balanceOf(ct)).lt(yt)&&it.push(ClaimEligibility.NotEnoughTokens)}return it}async getClaimerProofs(a,rt,at){const ot=(await this.get(a,at)).merkleRoot;if(stripZeros(ot).length>0){const ct=await this.metadata.get(),lt=await resolveAddress(rt);return await fetchSnapshotEntryForAddress(lt,ot.toString(),ct.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async prepareClaim(a,rt,at,it){const ot=await resolveAddress(it||await this.contractWrapper.getSignerAddress());return prepareClaim(ot,rt,await this.getActive(a),async()=>(await this.metadata.get()).merkle,0,this.contractWrapper,this.storage,at,this.getSnapshotFormatVersion())}async getClaimArguments(a,rt,at,it){const ot=await resolveAddress(rt);return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[ot,a,at,it.currencyAddress,it.price,it.proofs,it.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[ot,a,at,it.currencyAddress,it.price,{proof:it.proofs,maxQuantityInAllowlist:it.maxClaimable},toUtf8Bytes("")]:[ot,a,at,it.currencyAddress,it.price,{proof:it.proofs,quantityLimitPerWallet:it.maxClaimable,pricePerToken:it.priceInProof,currency:it.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(a,rt,at,it){if(it!=null&&it.pricePerToken)throw new Error("Price per token should be set via claim conditions by calling `contract.erc1155.claimConditions.set()`");const ot=await this.prepareClaim(rt,at,(it==null?void 0:it.checkERC20Allowance)||!0);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:await this.getClaimArguments(rt,a,at,ot),overrides:ot.overrides})}isNewSinglePhaseDrop(a){return detectContractFeature(a,"ERC1155ClaimConditionsV2")}isNewMultiphaseDrop(a){return detectContractFeature(a,"ERC1155ClaimPhasesV2")}isLegacySinglePhaseDrop(a){return detectContractFeature(a,"ERC1155ClaimConditionsV1")}isLegacyMultiPhaseDrop(a){return detectContractFeature(a,"ERC1155ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class Erc1155ClaimableWithConditions{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_EDITION_CLAIM_CONDITIONS_V2.name),_defineProperty(this,"conditions",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"to",buildTransactionFunction(async(it,ot,st,ct)=>await this.conditions.getClaimTransaction(it,ot,st,ct))),this.contractWrapper=a,this.storage=rt;const at=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropErc1155ClaimConditions(a,at,this.storage)}}class Erc1155{get chainId(){return this._chainId}constructor(a,rt,at){var it=this;_defineProperty(this,"featureName",FEATURE_EDITION.name),_defineProperty(this,"query",void 0),_defineProperty(this,"mintable",void 0),_defineProperty(this,"burnable",void 0),_defineProperty(this,"lazyMintable",void 0),_defineProperty(this,"signatureMintable",void 0),_defineProperty(this,"claimWithConditions",void 0),_defineProperty(this,"claimCustom",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"_chainId",void 0),_defineProperty(this,"transfer",buildTransactionFunction(async function(ot,st,ct){let lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];const ut=await it.contractWrapper.getSignerAddress();return Transaction.fromContractWrapper({contractWrapper:it.contractWrapper,method:"safeTransferFrom",args:[ut,await resolveAddress(ot),st,ct,lt]})})),_defineProperty(this,"transferFrom",buildTransactionFunction(async function(ot,st,ct,lt){let ut=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[0];return Transaction.fromContractWrapper({contractWrapper:it.contractWrapper,method:"safeTransferFrom",args:[await resolveAddress(ot),await resolveAddress(st),ct,lt,ut]})})),_defineProperty(this,"setApprovalForAll",buildTransactionFunction(async(ot,st)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setApprovalForAll",args:[ot,st]}))),_defineProperty(this,"airdrop",buildTransactionFunction(async function(ot,st){let ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];const lt=await it.contractWrapper.getSignerAddress(),ut=await it.balanceOf(lt,ot),dt=await AirdropInputSchema.parseAsync(st),ft=dt.reduce((ht,yt)=>BigNumber.from(ht).add(BigNumber.from((yt==null?void 0:yt.quantity)||1)),BigNumber.from(0));if(ut.lt(BigNumber.from(ft)))throw new Error(`The caller owns ${ut.toString()} NFTs, but wants to airdrop ${ft.toString()} NFTs.`);const pt=dt.map(ht=>{let{address:yt,quantity:mt}=ht;return it.contractWrapper.readContract.interface.encodeFunctionData("safeTransferFrom",[lt,yt,ot,mt,ct])});return Transaction.fromContractWrapper({contractWrapper:it.contractWrapper,method:"multicall",args:[pt]})})),_defineProperty(this,"mint",buildTransactionFunction(async ot=>this.mintTo.prepare(await this.contractWrapper.getSignerAddress(),ot))),_defineProperty(this,"mintTo",buildTransactionFunction(async(ot,st)=>assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).to.prepare(ot,st))),_defineProperty(this,"mintAdditionalSupply",buildTransactionFunction(async(ot,st)=>assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo.prepare(await this.contractWrapper.getSignerAddress(),ot,st))),_defineProperty(this,"mintAdditionalSupplyTo",buildTransactionFunction(async(ot,st,ct)=>assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo.prepare(ot,st,ct))),_defineProperty(this,"mintBatch",buildTransactionFunction(async ot=>this.mintBatchTo.prepare(await this.contractWrapper.getSignerAddress(),ot))),_defineProperty(this,"mintBatchTo",buildTransactionFunction(async(ot,st)=>{var ct;return assertEnabled((ct=this.mintable)==null?void 0:ct.batch,FEATURE_EDITION_BATCH_MINTABLE).to.prepare(ot,st)})),_defineProperty(this,"burn",buildTransactionFunction(async(ot,st)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).tokens.prepare(ot,st))),_defineProperty(this,"burnFrom",buildTransactionFunction(async(ot,st,ct)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).from.prepare(ot,st,ct))),_defineProperty(this,"burnBatch",buildTransactionFunction(async(ot,st)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batch.prepare(ot,st))),_defineProperty(this,"burnBatchFrom",buildTransactionFunction(async(ot,st,ct)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batchFrom.prepare(ot,st,ct))),_defineProperty(this,"lazyMint",buildTransactionFunction(async(ot,st)=>assertEnabled(this.lazyMintable,FEATURE_EDITION_LAZY_MINTABLE_V2).lazyMint.prepare(ot,st))),_defineProperty(this,"claim",buildTransactionFunction(async(ot,st,ct)=>this.claimTo.prepare(await this.contractWrapper.getSignerAddress(),ot,st,ct))),_defineProperty(this,"claimTo",buildTransactionFunction(async(ot,st,ct,lt)=>{const ut=this.claimWithConditions,dt=this.claimCustom;if(ut)return ut.to.prepare(ot,st,ct,lt);if(dt)return dt.to.prepare(ot,st,ct,lt);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)})),this.contractWrapper=a,this.storage=rt,this.query=this.detectErc1155Enumerable(),this.mintable=this.detectErc1155Mintable(),this.burnable=this.detectErc1155Burnable(),this.lazyMintable=this.detectErc1155LazyMintable(),this.signatureMintable=this.detectErc1155SignatureMintable(),this.claimCustom=this.detectErc1155Claimable(),this.claimWithConditions=this.detectErc1155ClaimableWithConditions(),this._chainId=at}onNetworkUpdated(a){this.contractWrapper.updateSignerOrProvider(a)}getAddress(){return this.contractWrapper.readContract.address}async get(a){const[rt,at]=await Promise.all([this.contractWrapper.readContract.totalSupply(a).catch(()=>BigNumber.from(0)),this.getTokenMetadata(a).catch(()=>({id:a.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:AddressZero$1,metadata:at,type:"ERC1155",supply:rt.toString()}}async totalSupply(a){return await this.contractWrapper.readContract.totalSupply(a)}async balanceOf(a,rt){return await this.contractWrapper.readContract.balanceOf(await resolveAddress(a),rt)}async balance(a){return await this.balanceOf(await this.contractWrapper.getSignerAddress(),a)}async isApproved(a,rt){return await this.contractWrapper.readContract.isApprovedForAll(await resolveAddress(a),await resolveAddress(rt))}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();throw new Error("Contract requires the `nextTokenIdToMint` function available to determine the next token ID to mint")}async getAll(a){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).all(a)}async totalCount(){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCount()}async totalCirculatingSupply(a){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCirculatingSupply(a)}async getOwned(a){return a&&(a=await resolveAddress(a)),assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).owned(a)}async getMintTransaction(a,rt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).getMintTransaction(a,rt)}async getClaimTransaction(a,rt,at,it){const ot=this.claimWithConditions,st=this.claimCustom;if(ot)return ot.conditions.getClaimTransaction(a,rt,at,it);if(st)return st.getClaimTransaction(a,rt,at,it);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)}get claimConditions(){return assertEnabled(this.claimWithConditions,FEATURE_EDITION_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_EDITION_SIGNATURE_MINTABLE)}get revealer(){var a;return assertEnabled((a=this.lazyMintable)==null?void 0:a.revealer,FEATURE_EDITION_REVEALABLE)}async getTokenMetadata(a){const rt=await this.contractWrapper.readContract.uri(a);if(!rt)throw new NotFoundError;return fetchTokenMetadata(a,rt,this.storage)}detectErc1155Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC1155Enumerable"))return new Erc1155Enumerable(this,this.contractWrapper)}detectErc1155Mintable(){if(detectContractFeature(this.contractWrapper,"ERC1155Mintable"))return new Erc1155Mintable(this,this.contractWrapper,this.storage)}detectErc1155Burnable(){if(detectContractFeature(this.contractWrapper,"ERC1155Burnable"))return new Erc1155Burnable(this.contractWrapper)}detectErc1155LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV1")||detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV2"))return new Erc1155LazyMintable(this,this.contractWrapper,this.storage)}detectErc1155SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155SignatureMintable"))return new Erc1155SignatureMintable(this.contractWrapper,this.storage)}detectErc1155Claimable(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimCustom"))return new ERC1155Claimable(this.contractWrapper)}detectErc1155ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV2"))return new Erc1155ClaimableWithConditions(this.contractWrapper,this.storage)}}class Erc1155Burnable{constructor(a){_defineProperty(this,"featureName",FEATURE_EDITION_BURNABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"tokens",buildTransactionFunction(async(rt,at)=>{const it=await this.contractWrapper.getSignerAddress();return this.from.prepare(it,rt,at)})),_defineProperty(this,"from",buildTransactionFunction(async(rt,at,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burn",args:[await resolveAddress(rt),at,it]}))),_defineProperty(this,"batch",buildTransactionFunction(async(rt,at)=>{const it=await this.contractWrapper.getSignerAddress();return this.batchFrom.prepare(it,rt,at)})),_defineProperty(this,"batchFrom",buildTransactionFunction(async(rt,at,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burnBatch",args:[await resolveAddress(rt),at,it]}))),this.contractWrapper=a}}class Erc1155Enumerable{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_EDITION_ENUMERABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc1155",void 0),this.erc1155=a,this.contractWrapper=rt}async all(a){const rt=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),at=BigNumber.from((a==null?void 0:a.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),it=Math.min((await this.totalCount()).toNumber(),rt+at);return await Promise.all([...Array(it-rt).keys()].map(ot=>this.erc1155.get((rt+ot).toString())))}async totalCount(){return await this.contractWrapper.readContract.nextTokenIdToMint()}async totalCirculatingSupply(a){return await this.contractWrapper.readContract.totalSupply(a)}async owned(a){const rt=await resolveAddress(a||await this.contractWrapper.getSignerAddress()),at=await this.contractWrapper.readContract.nextTokenIdToMint(),ot=(await this.contractWrapper.readContract.balanceOfBatch(Array(at.toNumber()).fill(rt),Array.from(Array(at.toNumber()).keys()))).map((st,ct)=>({tokenId:ct,balance:st})).filter(st=>st.balance.gt(0));return await Promise.all(ot.map(async st=>({...await this.erc1155.get(st.tokenId.toString()),owner:rt,quantityOwned:st.balance.toString()})))}}class Erc1155LazyMintable{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_EDITION_LAZY_MINTABLE_V2.name),_defineProperty(this,"revealer",void 0),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc1155",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"lazyMint",buildTransactionFunction(async(it,ot)=>{const st=await this.erc1155.nextTokenIdToMint(),ct=await uploadOrExtractURIs(it,this.storage,st.toNumber(),ot),lt=ct[0].substring(0,ct[0].lastIndexOf("/"));for(let ft=0;ft<ct.length;ft++){const pt=ct[ft].substring(0,ct[ft].lastIndexOf("/"));if(lt!==pt)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${lt}' but got '${pt}'`)}const ut=ft=>{const pt=this.contractWrapper.parseLogs("TokensLazyMinted",ft==null?void 0:ft.logs),ht=pt[0].args.startTokenId,yt=pt[0].args.endTokenId,mt=[];for(let gt=ht;gt.lte(yt);gt=gt.add(1))mt.push({id:gt,receipt:ft,data:()=>this.erc1155.getTokenMetadata(gt)});return mt},dt=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider());return this.isLegacyEditionDropContract(this.contractWrapper,dt)?Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[ct.length,`${lt.endsWith("/")?lt:`${lt}/`}`],parse:ut}):Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[ct.length,`${lt.endsWith("/")?lt:`${lt}/`}`,toUtf8Bytes("")],parse:ut})})),this.erc1155=a,this.contractWrapper=rt,this.storage=at,this.revealer=this.detectErc1155Revealable()}detectErc1155Revealable(){if(detectContractFeature(this.contractWrapper,"ERC1155Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_EDITION_REVEALABLE.name,()=>this.erc1155.nextTokenIdToMint())}isLegacyEditionDropContract(a,rt){return rt&&rt.type==="DropERC1155"&&rt.version<3||!1}}class Erc1155Mintable{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_EDITION_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc1155",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"batch",void 0),_defineProperty(this,"to",buildTransactionFunction(async(it,ot)=>{const st=await this.getMintTransaction(it,ot);return st.setParse(ct=>{const lt=this.contractWrapper.parseLogs("TransferSingle",ct==null?void 0:ct.logs);if(lt.length===0)throw new Error("TransferSingleEvent event not found");const ut=lt[0].args.id;return{id:ut,receipt:ct,data:()=>this.erc1155.get(ut.toString())}}),st})),_defineProperty(this,"additionalSupplyTo",buildTransactionFunction(async(it,ot,st)=>{const ct=await this.erc1155.getTokenMetadata(ot);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[await resolveAddress(it),ot,ct.uri,st],parse:lt=>({id:BigNumber.from(ot),receipt:lt,data:()=>this.erc1155.get(ot)})})})),this.erc1155=a,this.contractWrapper=rt,this.storage=at,this.batch=this.detectErc1155BatchMintable()}async getMintTransaction(a,rt){const at=await uploadOrExtractURI(rt.metadata,this.storage);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[await resolveAddress(a),MaxUint256$1,at,rt.supply]})}detectErc1155BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155BatchMintable"))return new Erc1155BatchMintable(this.erc1155,this.contractWrapper,this.storage)}}class Erc1155BatchMintable{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_EDITION_BATCH_MINTABLE.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"erc1155",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"to",buildTransactionFunction(async(it,ot)=>{const st=ot.map(ft=>ft.metadata),ct=ot.map(ft=>ft.supply),lt=await uploadOrExtractURIs(st,this.storage),ut=await resolveAddress(it),dt=await Promise.all(lt.map(async(ft,pt)=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[ut,MaxUint256$1,ft,ct[pt]])));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[dt],parse:ft=>{const pt=this.contractWrapper.parseLogs("TokensMinted",ft.logs);if(pt.length===0||pt.length<st.length)throw new Error("TokenMinted event not found, minting failed");return pt.map(ht=>{const yt=ht.args.tokenIdMinted;return{id:yt,receipt:ft,data:()=>this.erc1155.get(yt)}})}})})),this.erc1155=a,this.contractWrapper=rt,this.storage=at}}class GasCostEstimator{constructor(a){_defineProperty(this,"contractWrapper",void 0),this.contractWrapper=a}async gasCostOf(a,rt){const at=await this.contractWrapper.getPreferredGasPrice(),it=await this.contractWrapper.estimateGas(a,rt);return formatEther(it.mul(at))}async gasLimitOf(a,rt){return this.contractWrapper.estimateGas(a,rt)}async currentGasPriceInGwei(){const a=await this.contractWrapper.getProvider().getGasPrice();return formatUnits(a,"gwei")}}class ContractOwner{constructor(a){_defineProperty(this,"featureName",FEATURE_OWNER.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"set",buildTransactionFunction(async rt=>{const at=await resolveAddress(rt);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setOwner",args:[at]})})),this.contractWrapper=a}async get(){return this.contractWrapper.readContract.owner()}}function cleanCurrencyAddress(o){return isNativeToken(o)?NATIVE_TOKEN_ADDRESS:o}async function isTokenApprovedForTransfer(o,a,rt,at,it){try{const ot=new Contract(rt,ERC165Abi,o),st=await ot.supportsInterface(InterfaceId_IERC721),ct=await ot.supportsInterface(InterfaceId_IERC1155);if(st){const lt=new Contract(rt,Erc721Abi,o);if(await lt.isApprovedForAll(it,a))return!0;let dt;try{dt=await lt.getApproved(at)}catch{}return(dt==null?void 0:dt.toLowerCase())===a.toLowerCase()}else return ct?await new Contract(rt,Erc1155Abi,o).isApprovedForAll(it,a):(console.error("Contract does not implement ERC 1155 or ERC 721."),!1)}catch(ot){return console.error("Failed to check if token is approved",ot),!1}}async function handleTokenApproval(o,a,rt,at,it){const ot=new ContractWrapper(o.getSignerOrProvider(),rt,ERC165Abi,o.options),st=await ot.readContract.supportsInterface(InterfaceId_IERC721),ct=await ot.readContract.supportsInterface(InterfaceId_IERC1155);if(st){const lt=new ContractWrapper(o.getSignerOrProvider(),rt,Erc721Abi,o.options);await lt.readContract.isApprovedForAll(it,a)||(await lt.readContract.getApproved(at)).toLowerCase()===a.toLowerCase()||await lt.sendTransaction("setApprovalForAll",[a,!0])}else if(ct){const lt=new ContractWrapper(o.getSignerOrProvider(),rt,Erc1155Abi,o.options);await lt.readContract.isApprovedForAll(it,a)||await lt.sendTransaction("setApprovalForAll",[a,!0])}else throw Error("Contract must implement ERC 1155 or ERC 721.")}function validateNewListingParam(o){switch(invariant(o.assetContractAddress!==void 0&&o.assetContractAddress!==null,"Asset contract address is required"),invariant(o.buyoutPricePerToken!==void 0&&o.buyoutPricePerToken!==null,"Buyout price is required"),invariant(o.listingDurationInSeconds!==void 0&&o.listingDurationInSeconds!==null,"Listing duration is required"),invariant(o.startTimestamp!==void 0&&o.startTimestamp!==null,"Start time is required"),invariant(o.tokenId!==void 0&&o.tokenId!==null,"Token ID is required"),invariant(o.quantity!==void 0&&o.quantity!==null,"Quantity is required"),o.type){case"NewAuctionListing":invariant(o.reservePricePerToken!==void 0&&o.reservePricePerToken!==null,"Reserve price is required")}}async function mapOffer(o,a,rt){return{quantity:rt.quantityDesired,pricePerToken:rt.pricePerToken,currencyContractAddress:rt.currency,buyerAddress:rt.offeror,quantityDesired:rt.quantityWanted,currencyValue:await fetchCurrencyValue(o,rt.currency,rt.quantityWanted.mul(rt.pricePerToken)),listingId:a}}function isWinningBid(o,a,rt){return rt=BigNumber.from(rt),o=BigNumber.from(o),a=BigNumber.from(a),o.eq(BigNumber.from(0))?!1:a.sub(o).mul(MAX_BPS).div(o).gte(rt)}async function getAllInBatches(o,a,rt){let at=[];for(;a-o>DEFAULT_QUERY_ALL_COUNT;)at.push(rt(o,o+DEFAULT_QUERY_ALL_COUNT-1)),o+=DEFAULT_QUERY_ALL_COUNT;return at.push(rt(o,a-1)),await Promise.all(at)}const DirectListingInputParamsSchema=z$2.object({assetContractAddress:AddressOrEnsSchema,tokenId:BigNumberishSchema,quantity:BigNumberishSchema.default(1),currencyContractAddress:AddressOrEnsSchema.default(NATIVE_TOKEN_ADDRESS),pricePerToken:AmountSchema,startTimestamp:RawDateSchema.default(new Date),endTimestamp:EndDateSchema,isReservedListing:z$2.boolean().default(!1)});class MarketplaceV3DirectListings{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_DIRECT_LISTINGS.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"events",void 0),_defineProperty(this,"interceptor",void 0),_defineProperty(this,"encoder",void 0),_defineProperty(this,"estimator",void 0),_defineProperty(this,"createListing",buildTransactionFunction(async at=>{const it=await DirectListingInputParamsSchema.parseAsync(at);await handleTokenApproval(this.contractWrapper,this.getAddress(),it.assetContractAddress,it.tokenId,await this.contractWrapper.getSignerAddress());const ot=await normalizePriceValue(this.contractWrapper.getProvider(),it.pricePerToken,it.currencyContractAddress),ct=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;return it.startTimestamp.lt(ct)&&(it.startTimestamp=BigNumber.from(ct)),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"createListing",args:[{assetContract:it.assetContractAddress,tokenId:it.tokenId,quantity:it.quantity,currency:cleanCurrencyAddress(it.currencyContractAddress),pricePerToken:ot,startTimestamp:it.startTimestamp,endTimestamp:it.endTimestamp,reserved:it.isReservedListing}],parse:lt=>({id:this.contractWrapper.parseLogs("NewListing",lt==null?void 0:lt.logs)[0].args.listingId,receipt:lt})})})),_defineProperty(this,"createListingsBatch",buildTransactionFunction(async at=>{const it=await Promise.all(at.map(async ot=>(await this.createListing.prepare(ot)).encode()));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[it],parse:ot=>this.contractWrapper.parseLogs("NewListing",ot==null?void 0:ot.logs).map(ct=>({id:ct.args.listingId,receipt:ot}))})})),_defineProperty(this,"updateListing",buildTransactionFunction(async(at,it)=>{const ot=await DirectListingInputParamsSchema.parseAsync(it);await handleTokenApproval(this.contractWrapper,this.getAddress(),ot.assetContractAddress,ot.tokenId,await this.contractWrapper.getSignerAddress());const st=await normalizePriceValue(this.contractWrapper.getProvider(),ot.pricePerToken,ot.currencyContractAddress);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"updateListing",args:[at,{assetContract:ot.assetContractAddress,tokenId:ot.tokenId,quantity:ot.quantity,currency:cleanCurrencyAddress(ot.currencyContractAddress),pricePerToken:st,startTimestamp:ot.startTimestamp,endTimestamp:ot.endTimestamp,reserved:ot.isReservedListing}],parse:ct=>({id:this.contractWrapper.parseLogs("UpdatedListing",ct==null?void 0:ct.logs)[0].args.listingId,receipt:ct})})})),_defineProperty(this,"cancelListing",buildTransactionFunction(async at=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"cancelListing",args:[at]}))),_defineProperty(this,"buyFromListing",buildTransactionFunction(async(at,it,ot)=>{ot&&(ot=await resolveAddress(ot));const st=await this.validateListing(BigNumber.from(at)),{valid:ct,error:lt}=await this.isStillValidListing(st,it);if(!ct)throw new Error(`Listing ${at} is no longer valid. ${lt}`);const ut=ot||await this.contractWrapper.getSignerAddress(),dt=BigNumber.from(it),ft=BigNumber.from(st.pricePerToken).mul(dt),pt=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ft,st.currencyContractAddress,pt),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"buyFromListing",args:[at,ut,dt,st.currencyContractAddress,ft],overrides:pt})})),_defineProperty(this,"approveBuyerForReservedListing",buildTransactionFunction(async(at,it)=>{if(await this.isBuyerApprovedForListing(at,it))throw new Error(`Buyer ${it} already approved for listing ${at}.`);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approveBuyerForListing",args:[at,it,!0]})})),_defineProperty(this,"revokeBuyerApprovalForReservedListing",buildTransactionFunction(async(at,it)=>{if(await this.isBuyerApprovedForListing(at,it))return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approveBuyerForListing",args:[at,it,!1]});throw new Error(`Buyer ${it} not approved for listing ${at}.`)})),_defineProperty(this,"approveCurrencyForListing",buildTransactionFunction(async(at,it,ot)=>{const st=await this.validateListing(BigNumber.from(at)),ct=await resolveAddress(it);ct===st.currencyContractAddress&&invariant(ot===st.pricePerToken,"Approving listing currency with a different price.");const lt=await this.contractWrapper.readContract.currencyPriceForListing(at,ct);return invariant(ot===lt,"Currency already approved with this price."),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approveCurrencyForListing",args:[at,ct,ot]})})),_defineProperty(this,"revokeCurrencyApprovalForListing",buildTransactionFunction(async(at,it)=>{const ot=await this.validateListing(BigNumber.from(at)),st=await resolveAddress(it);if(st===ot.currencyContractAddress)throw new Error("Can't revoke approval for main listing currency.");const ct=await this.contractWrapper.readContract.currencyPriceForListing(at,st);return invariant(!ct.isZero(),"Currency not approved."),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approveCurrencyForListing",args:[at,st,BigNumber.from(0)]})})),this.contractWrapper=a,this.storage=rt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}getAddress(){return this.contractWrapper.readContract.address}async getTotalCount(){return await this.contractWrapper.readContract.totalListings()}async getAll(a){const rt=await this.getTotalCount();let at=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),it=rt.toNumber();if(it===0)throw new Error("No listings exist on the contract.");let ot=[];ot=(await getAllInBatches(at,it,this.contractWrapper.readContract.getAllListings)).flat();const ct=await this.applyFilter(ot,a);return await Promise.all(ct.map(lt=>this.mapListing(lt)))}async getAllValid(a){const rt=await this.getTotalCount();let at=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),it=rt.toNumber();if(it===0)throw new Error("No listings exist on the contract.");let ot=[];ot=(await getAllInBatches(at,it,this.contractWrapper.readContract.getAllValidListings)).flat();const ct=await this.applyFilter(ot,a);return await Promise.all(ct.map(lt=>this.mapListing(lt)))}async getListing(a){const rt=await this.contractWrapper.readContract.getListing(a);return await this.mapListing(rt)}async isBuyerApprovedForListing(a,rt){if(!(await this.validateListing(BigNumber.from(a))).isReservedListing)throw new Error(`Listing ${a} is not a reserved listing.`);return await this.contractWrapper.readContract.isBuyerApprovedForListing(a,await resolveAddress(rt))}async isCurrencyApprovedForListing(a,rt){return await this.validateListing(BigNumber.from(a)),await this.contractWrapper.readContract.isCurrencyApprovedForListing(a,await resolveAddress(rt))}async currencyPriceForListing(a,rt){const at=await this.validateListing(BigNumber.from(a)),it=await resolveAddress(rt);if(it===at.currencyContractAddress)return at.pricePerToken;if(!await this.isCurrencyApprovedForListing(a,it))throw new Error(`Currency ${it} is not approved for Listing ${a}.`);return await this.contractWrapper.readContract.currencyPriceForListing(a,it)}async validateListing(a){try{return await this.getListing(a)}catch(rt){throw console.error(`Error getting the listing with id ${a}`),rt}}async mapListing(a){let rt=Status.UNSET;const it=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;switch(a.status){case 1:rt=BigNumber.from(a.startTimestamp).gt(it)?Status.Created:BigNumber.from(a.endTimestamp).lt(it)?Status.Expired:Status.Active;break;case 2:rt=Status.Completed;break;case 3:rt=Status.Cancelled;break}return{assetContractAddress:a.assetContract,currencyContractAddress:a.currency,pricePerToken:a.pricePerToken.toString(),currencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),a.currency,a.pricePerToken),id:a.listingId.toString(),tokenId:a.tokenId.toString(),quantity:a.quantity.toString(),startTimeInSeconds:BigNumber.from(a.startTimestamp).toNumber(),asset:await fetchTokenMetadataForContract(a.assetContract,this.contractWrapper.getProvider(),a.tokenId,this.storage),endTimeInSeconds:BigNumber.from(a.endTimestamp).toNumber(),creatorAddress:a.listingCreator,isReservedListing:a.reserved,status:rt}}async isStillValidListing(a,rt){if(!await isTokenApprovedForTransfer(this.contractWrapper.getProvider(),this.getAddress(),a.assetContractAddress,a.tokenId,a.creatorAddress))return{valid:!1,error:`Token '${a.tokenId}' from contract '${a.assetContractAddress}' is not approved for transfer`};const it=this.contractWrapper.getProvider(),ot=new Contract(a.assetContractAddress,ERC165Abi,it),st=await ot.supportsInterface(InterfaceId_IERC721),ct=await ot.supportsInterface(InterfaceId_IERC1155);if(st){const lt=new Contract(a.assetContractAddress,Erc721Abi,it);let ut;try{ut=await lt.ownerOf(a.tokenId)}catch{}const dt=(ut==null?void 0:ut.toLowerCase())===a.creatorAddress.toLowerCase();return{valid:dt,error:dt?void 0:`Seller is not the owner of Token '${a.tokenId}' from contract '${a.assetContractAddress} anymore'`}}else if(ct){const dt=(await new Contract(a.assetContractAddress,Erc1155Abi,it).balanceOf(a.creatorAddress,a.tokenId)).gte(rt||a.quantity);return{valid:dt,error:dt?void 0:`Seller does not have enough balance of Token '${a.tokenId}' from contract '${a.assetContractAddress} to fulfill the listing`}}else return{valid:!1,error:"Contract does not implement ERC 1155 or ERC 721."}}async applyFilter(a,rt){let at=[...a];if(rt){if(rt.seller){const it=await resolveAddress(rt.seller);at=at.filter(ot=>ot.listingCreator.toString().toLowerCase()===(it==null?void 0:it.toString().toLowerCase()))}if(rt.tokenContract){const it=await resolveAddress(rt.tokenContract);at=at.filter(ot=>ot.assetContract.toString().toLowerCase()===(it==null?void 0:it.toString().toLowerCase()))}rt.tokenId!==void 0&&(at=at.filter(it=>{var ot;return it.tokenId.toString()===((ot=rt==null?void 0:rt.tokenId)==null?void 0:ot.toString())}))}return(rt==null?void 0:rt.count)&&rt.count<at.length?at.slice(0,rt.count):at}}const EnglishAuctionInputParamsSchema=z$2.object({assetContractAddress:AddressOrEnsSchema,tokenId:BigNumberishSchema,quantity:BigNumberishSchema.default(1),currencyContractAddress:AddressOrEnsSchema.default(NATIVE_TOKEN_ADDRESS),minimumBidAmount:AmountSchema,buyoutBidAmount:AmountSchema,timeBufferInSeconds:BigNumberishSchema.default(900),bidBufferBps:BigNumberishSchema.default(500),startTimestamp:RawDateSchema.default(new Date),endTimestamp:EndDateSchema});class MarketplaceV3EnglishAuctions{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_ENGLISH_AUCTIONS.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"events",void 0),_defineProperty(this,"interceptor",void 0),_defineProperty(this,"encoder",void 0),_defineProperty(this,"estimator",void 0),_defineProperty(this,"createAuction",buildTransactionFunction(async at=>{const it=EnglishAuctionInputParamsSchema.parse(at);await handleTokenApproval(this.contractWrapper,this.getAddress(),it.assetContractAddress,it.tokenId,await this.contractWrapper.getSignerAddress());const ot=await normalizePriceValue(this.contractWrapper.getProvider(),it.buyoutBidAmount,it.currencyContractAddress),st=await normalizePriceValue(this.contractWrapper.getProvider(),it.minimumBidAmount,it.currencyContractAddress),lt=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;return it.startTimestamp.lt(lt)&&(it.startTimestamp=BigNumber.from(lt)),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"createAuction",args:[{assetContract:it.assetContractAddress,tokenId:it.tokenId,quantity:it.quantity,currency:cleanCurrencyAddress(it.currencyContractAddress),minimumBidAmount:st,buyoutBidAmount:ot,timeBufferInSeconds:it.timeBufferInSeconds,bidBufferBps:it.bidBufferBps,startTimestamp:it.startTimestamp,endTimestamp:it.endTimestamp}],parse:ut=>({id:this.contractWrapper.parseLogs("NewAuction",ut.logs)[0].args.auctionId,receipt:ut})})})),_defineProperty(this,"createAuctionsBatch",buildTransactionFunction(async at=>{const it=await Promise.all(at.map(async ot=>(await this.createAuction.prepare(ot)).encode()));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[it],parse:ot=>this.contractWrapper.parseLogs("NewAuction",ot==null?void 0:ot.logs).map(ct=>({id:ct.args.auctionId,receipt:ot}))})})),_defineProperty(this,"buyoutAuction",buildTransactionFunction(async at=>{const it=await this.validateAuction(BigNumber.from(at)),ot=await fetchCurrencyMetadata(this.contractWrapper.getProvider(),it.currencyContractAddress);return this.makeBid.prepare(at,formatUnits(it.buyoutBidAmount,ot.decimals))})),_defineProperty(this,"makeBid",buildTransactionFunction(async(at,it)=>{const ot=await this.validateAuction(BigNumber.from(at)),st=await normalizePriceValue(this.contractWrapper.getProvider(),it,ot.currencyContractAddress);if(st.eq(BigNumber.from(0)))throw new Error("Cannot make a bid with 0 value");if(BigNumber.from(ot.buyoutBidAmount).gt(0)&&st.gt(ot.buyoutBidAmount))throw new Error("Bid amount must be less than or equal to buyoutBidAmount");if(await this.getWinningBid(at)){const ut=await this.isWinningBid(at,st);invariant(ut,"Bid price is too low based on the current winning bid and the bid buffer")}else{const ut=st,dt=BigNumber.from(ot.minimumBidAmount);invariant(ut.gte(dt),"Bid price is too low based on minimum bid amount")}const lt=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,st,ot.currencyContractAddress,lt),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"bidInAuction",args:[at,st],overrides:lt})})),_defineProperty(this,"cancelAuction",buildTransactionFunction(async at=>{if(await this.getWinningBid(at))throw new Error("Bids already made.");return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"cancelAuction",args:[at]})})),_defineProperty(this,"closeAuctionForBidder",buildTransactionFunction(async(at,it)=>{it||(it=await this.contractWrapper.getSignerAddress());const ot=await this.validateAuction(BigNumber.from(at));try{return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"collectAuctionTokens",args:[BigNumber.from(at)]})}catch(st){throw st.message.includes("Marketplace: auction still active.")?new AuctionHasNotEndedError(at.toString(),ot.endTimeInSeconds.toString()):st}})),_defineProperty(this,"closeAuctionForSeller",buildTransactionFunction(async at=>{const it=await this.validateAuction(BigNumber.from(at));try{return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"collectAuctionPayout",args:[BigNumber.from(at)]})}catch(ot){throw ot.message.includes("Marketplace: auction still active.")?new AuctionHasNotEndedError(at.toString(),it.endTimeInSeconds.toString()):ot}})),_defineProperty(this,"executeSale",buildTransactionFunction(async at=>{const it=await this.validateAuction(BigNumber.from(at));try{const ot=await this.getWinningBid(at);invariant(ot,"No winning bid found");const st=this.encoder.encode("collectAuctionPayout",[at]),ct=this.encoder.encode("collectAuctionTokens",[at]);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[[st,ct]]})}catch(ot){throw ot.message.includes("Marketplace: auction still active.")?new AuctionHasNotEndedError(at.toString(),it.endTimeInSeconds.toString()):ot}})),this.contractWrapper=a,this.storage=rt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}getAddress(){return this.contractWrapper.readContract.address}async getTotalCount(){return await this.contractWrapper.readContract.totalAuctions()}async getAll(a){const rt=await this.getTotalCount();let at=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),it=rt.toNumber();if(it===0)throw new Error("No auctions exist on the contract.");let ot=[];ot=(await getAllInBatches(at,it,this.contractWrapper.readContract.getAllAuctions)).flat();const ct=await this.applyFilter(ot,a);return await Promise.all(ct.map(lt=>this.mapAuction(lt)))}async getAllValid(a){const rt=await this.getTotalCount();let at=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),it=rt.toNumber();if(it===0)throw new Error("No auctions exist on the contract.");let ot=[];ot=(await getAllInBatches(at,it,this.contractWrapper.readContract.getAllValidAuctions)).flat();const ct=await this.applyFilter(ot,a);return await Promise.all(ct.map(lt=>this.mapAuction(lt)))}async getAuction(a){const rt=await this.contractWrapper.readContract.getAuction(a);return await this.mapAuction(rt)}async getWinningBid(a){await this.validateAuction(BigNumber.from(a));const rt=await this.contractWrapper.readContract.getWinningBid(a);if(rt._bidder!==AddressZero$1)return await this.mapBid(a.toString(),rt._bidder,rt._currency,rt._bidAmount.toString())}async isWinningBid(a,rt){return await this.contractWrapper.readContract.isNewWinningBid(a,rt)}async getWinner(a){const rt=await this.validateAuction(BigNumber.from(a)),at=await this.contractWrapper.readContract.getWinningBid(a),it=BigNumber.from(Math.floor(Date.now()/1e3)),ot=BigNumber.from(rt.endTimeInSeconds);if(it.gt(ot)&&at._bidder!==AddressZero$1)return at._bidder;const ct=(await this.contractWrapper.readContract.queryFilter(this.contractWrapper.readContract.filters.AuctionClosed())).find(lt=>lt.args.auctionId.eq(BigNumber.from(a)));if(!ct)throw new Error(`Could not find auction with ID ${a} in closed auctions`);return ct.args.winningBidder}async getBidBufferBps(a){return(await this.getAuction(a)).bidBufferBps}async getMinimumNextBid(a){const[rt,at,it]=await Promise.all([this.getBidBufferBps(a),this.getWinningBid(a),await this.validateAuction(BigNumber.from(a))]),ot=at?BigNumber.from(at.bidAmount):BigNumber.from(it.minimumBidAmount),st=ot.add(ot.mul(rt).div(1e4));return fetchCurrencyValue(this.contractWrapper.getProvider(),it.currencyContractAddress,st)}async validateAuction(a){try{return await this.getAuction(a)}catch(rt){throw console.error(`Error getting the auction with id ${a}`),rt}}async mapAuction(a){let rt=Status.UNSET;const it=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;switch(a.status){case 1:rt=BigNumber.from(a.startTimestamp).gt(it)?Status.Created:BigNumber.from(a.endTimestamp).lt(it)?Status.Expired:Status.Active;break;case 2:rt=Status.Completed;break;case 3:rt=Status.Cancelled;break}return{id:a.auctionId.toString(),creatorAddress:a.auctionCreator,assetContractAddress:a.assetContract,tokenId:a.tokenId.toString(),quantity:a.quantity.toString(),currencyContractAddress:a.currency,minimumBidAmount:a.minimumBidAmount.toString(),minimumBidCurrencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),a.currency,a.minimumBidAmount),buyoutBidAmount:a.buyoutBidAmount.toString(),buyoutCurrencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),a.currency,a.buyoutBidAmount),timeBufferInSeconds:BigNumber.from(a.timeBufferInSeconds).toNumber(),bidBufferBps:BigNumber.from(a.bidBufferBps).toNumber(),startTimeInSeconds:BigNumber.from(a.startTimestamp).toNumber(),endTimeInSeconds:BigNumber.from(a.endTimestamp).toNumber(),asset:await fetchTokenMetadataForContract(a.assetContract,this.contractWrapper.getProvider(),a.tokenId,this.storage),status:rt}}async mapBid(a,rt,at,it){const ot=await resolveAddress(rt),st=await resolveAddress(at);return{auctionId:a,bidderAddress:ot,currencyContractAddress:st,bidAmount:it,bidAmountCurrencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),st,it)}}async applyFilter(a,rt){let at=[...a];if(rt){if(rt.seller){const it=await resolveAddress(rt.seller);at=at.filter(ot=>ot.auctionCreator.toString().toLowerCase()===(it==null?void 0:it.toString().toLowerCase()))}if(rt.tokenContract){const it=await resolveAddress(rt.tokenContract);at=at.filter(ot=>ot.assetContract.toString().toLowerCase()===(it==null?void 0:it.toString().toLowerCase()))}rt.tokenId!==void 0&&(at=at.filter(it=>{var ot;return it.tokenId.toString()===((ot=rt==null?void 0:rt.tokenId)==null?void 0:ot.toString())}))}return(rt==null?void 0:rt.count)&&rt.count<at.length?at.slice(0,rt.count):at}}const OfferInputParamsSchema=z$2.object({assetContractAddress:AddressOrEnsSchema,tokenId:BigNumberishSchema,quantity:BigNumberishSchema.default(1),currencyContractAddress:AddressOrEnsSchema.default(NATIVE_TOKEN_ADDRESS),totalPrice:AmountSchema,endTimestamp:EndDateSchema});class MarketplaceV3Offers{constructor(a,rt){_defineProperty(this,"featureName",FEATURE_OFFERS.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"events",void 0),_defineProperty(this,"interceptor",void 0),_defineProperty(this,"encoder",void 0),_defineProperty(this,"estimator",void 0),_defineProperty(this,"makeOffer",buildTransactionFunction(async at=>{const it=await OfferInputParamsSchema.parseAsync(at),ot=await this.contractWrapper.getChainID(),st=isNativeToken(it.currencyContractAddress)?NATIVE_TOKENS[ot].wrapped.address:it.currencyContractAddress,ct=await normalizePriceValue(this.contractWrapper.getProvider(),it.totalPrice,st),lt=await this.contractWrapper.getCallOverrides();return await setErc20Allowance(this.contractWrapper,ct,st,lt),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"makeOffer",args:[{assetContract:it.assetContractAddress,tokenId:it.tokenId,quantity:it.quantity,currency:st,totalPrice:ct,expirationTimestamp:it.endTimestamp}],parse:ut=>({id:this.contractWrapper.parseLogs("NewOffer",ut==null?void 0:ut.logs)[0].args.offerId,receipt:ut})})})),_defineProperty(this,"cancelOffer",buildTransactionFunction(async at=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"cancelOffer",args:[at]}))),_defineProperty(this,"acceptOffer",buildTransactionFunction(async at=>{const it=await this.validateOffer(BigNumber.from(at)),{valid:ot,error:st}=await this.isStillValidOffer(it);if(!ot)throw new Error(`Offer ${at} is no longer valid. ${st}`);const ct=await this.contractWrapper.getCallOverrides()||{};return await handleTokenApproval(this.contractWrapper,this.getAddress(),it.assetContractAddress,it.tokenId,await this.contractWrapper.getSignerAddress()),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"acceptOffer",args:[at],overrides:ct})})),this.contractWrapper=a,this.storage=rt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}getAddress(){return this.contractWrapper.readContract.address}async getTotalCount(){return await this.contractWrapper.readContract.totalOffers()}async getAll(a){const rt=await this.getTotalCount();let at=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),it=rt.toNumber();if(it===0)throw new Error("No offers exist on the contract.");let ot=[];ot=(await getAllInBatches(at,it,this.contractWrapper.readContract.getAllOffers)).flat();const ct=await this.applyFilter(ot,a);return await Promise.all(ct.map(lt=>this.mapOffer(lt)))}async getAllValid(a){const rt=await this.getTotalCount();let at=BigNumber.from((a==null?void 0:a.start)||0).toNumber(),it=rt.toNumber();if(it===0)throw new Error("No offers exist on the contract.");let ot=[];ot=(await getAllInBatches(at,it,this.contractWrapper.readContract.getAllValidOffers)).flat();const ct=await this.applyFilter(ot,a);return await Promise.all(ct.map(lt=>this.mapOffer(lt)))}async getOffer(a){const rt=await this.contractWrapper.readContract.getOffer(a);return await this.mapOffer(rt)}async validateOffer(a){try{return await this.getOffer(a)}catch(rt){throw console.error(`Error getting the offer with id ${a}`),rt}}async mapOffer(a){let rt=Status.UNSET;const it=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;switch(a.status){case 1:rt=BigNumber.from(a.expirationTimestamp).lt(it)?Status.Expired:Status.Active;break;case 2:rt=Status.Completed;break;case 3:rt=Status.Cancelled;break}return{id:a.offerId.toString(),offerorAddress:a.offeror,assetContractAddress:a.assetContract,currencyContractAddress:a.currency,tokenId:a.tokenId.toString(),quantity:a.quantity.toString(),totalPrice:a.totalPrice.toString(),currencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),a.currency,a.totalPrice),asset:await fetchTokenMetadataForContract(a.assetContract,this.contractWrapper.getProvider(),a.tokenId,this.storage),endTimeInSeconds:BigNumber.from(a.expirationTimestamp).toNumber(),status:rt}}async isStillValidOffer(a){if(BigNumber.from(Math.floor(Date.now()/1e3)).gt(a.endTimeInSeconds))return{valid:!1,error:`Offer with ID ${a.id} has expired`};const at=await this.contractWrapper.getChainID(),it=isNativeToken(a.currencyContractAddress)?NATIVE_TOKENS[at].wrapped.address:a.currencyContractAddress,ot=this.contractWrapper.getProvider(),st=new ContractWrapper(ot,it,ERC20Abi,{});return(await st.readContract.balanceOf(a.offerorAddress)).lt(a.totalPrice)?{valid:!1,error:`Offeror ${a.offerorAddress} doesn't have enough balance of token ${it}`}:(await st.readContract.allowance(a.offerorAddress,this.getAddress())).lt(a.totalPrice)?{valid:!1,error:`Offeror ${a.offerorAddress} hasn't approved enough amount of token ${it}`}:{valid:!0,error:""}}async applyFilter(a,rt){let at=[...a];if(rt){if(rt.offeror){const it=await resolveAddress(rt.offeror);at=at.filter(ot=>ot.offeror.toString().toLowerCase()===(it==null?void 0:it.toString().toLowerCase()))}if(rt.tokenContract){const it=await resolveAddress(rt.tokenContract);at=at.filter(ot=>ot.assetContract.toString().toLowerCase()===(it==null?void 0:it.toString().toLowerCase()))}rt.tokenId!==void 0&&(at=at.filter(it=>{var ot;return it.tokenId.toString()===((ot=rt==null?void 0:rt.tokenId)==null?void 0:ot.toString())}))}return(rt==null?void 0:rt.count)&&rt.count<at.length?at.slice(0,rt.count):at}}class SmartWalletFactory{constructor(a){_defineProperty(this,"featureName",FEATURE_SMART_WALLET_FACTORY.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"events",void 0),_defineProperty(this,"createWallet",buildTransactionFunction(async(rt,at)=>{if(await this.isWalletDeployed(rt,at))throw new Error(`Wallet already deployed for admin: ${rt}`);let it=toUtf8Bytes("");return at&&(it=at),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"createAccount",args:[rt,it],parse:ot=>({address:this.contractWrapper.parseLogs("AccountCreated",ot==null?void 0:ot.logs)[0].args.account,receipt:ot})})})),this.contractWrapper=a,this.events=new ContractEvents(this.contractWrapper)}getAddress(){return this.contractWrapper.readContract.address}async predictWalletAddress(a,rt){let at=toUtf8Bytes("");return rt&&(at=rt),this.contractWrapper.readContract.getAddress(a,at)}async getAssociatedSigners(a){return this.contractWrapper.readContract.getSignersOfAccount(a)}async getAssociatedWallets(a){return this.contractWrapper.readContract.getAccountsOfSigner(a)}async getAllWallets(){const a={fromBlock:0,toBlock:"latest"};return(await this.events.getEvents("AccountCreated",a)).map(at=>({account:at.data.account,admin:at.data.accountAdmin}))}async isWalletDeployed(a,rt){const at=await this.predictWalletAddress(a,rt);return isContractDeployed(at,this.contractWrapper.getProvider())}}class SmartContract{get royalties(){return assertEnabled(this.detectRoyalties(),FEATURE_ROYALTY)}get roles(){return assertEnabled(this.detectRoles(),FEATURE_PERMISSIONS)}get sales(){return assertEnabled(this.detectPrimarySales(),FEATURE_PRIMARY_SALE)}get platformFees(){return assertEnabled(this.detectPlatformFees(),FEATURE_PLATFORM_FEE)}get owner(){return assertEnabled(this.detectOwnable(),FEATURE_OWNER)}get erc20(){return assertEnabled(this.detectErc20(),FEATURE_TOKEN)}get erc721(){return assertEnabled(this.detectErc721(),FEATURE_NFT)}get erc1155(){return assertEnabled(this.detectErc1155(),FEATURE_EDITION)}get app(){return assertEnabled(this.detectApp(),FEATURE_APPURI)}get directListings(){return assertEnabled(this.detectDirectListings(),FEATURE_DIRECT_LISTINGS)}get englishAuctions(){return assertEnabled(this.detectEnglishAuctions(),FEATURE_ENGLISH_AUCTIONS)}get offers(){return assertEnabled(this.detectOffers(),FEATURE_OFFERS)}get smartWalletFactory(){return assertEnabled(this.detectSmartWalletFactory(),FEATURE_SMART_WALLET_FACTORY)}get chainId(){return this._chainId}constructor(a,rt,at,it){let ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},st=arguments.length>5?arguments[5]:void 0,ct=arguments.length>6&&arguments[6]!==void 0?arguments[6]:new ContractWrapper(a,rt,at,ot);_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"events",void 0),_defineProperty(this,"interceptor",void 0),_defineProperty(this,"encoder",void 0),_defineProperty(this,"estimator",void 0),_defineProperty(this,"publishedMetadata",void 0),_defineProperty(this,"abi",void 0),_defineProperty(this,"metadata",void 0),_defineProperty(this,"_chainId",void 0),this._chainId=st,this.storage=it,this.contractWrapper=ct,this.abi=AbiSchema.parse(at||[]),this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper),this.publishedMetadata=new ContractPublishedMetadata(this.contractWrapper,this.storage),this.metadata=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage)}onNetworkUpdated(a){this.contractWrapper.updateSignerOrProvider(a)}getAddress(){return this.contractWrapper.readContract.address}prepare(a,rt,at){return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:a,args:rt,overrides:at})}async call(a,rt,at){return this.contractWrapper.call(a,rt,at)}detectRoyalties(){if(detectContractFeature(this.contractWrapper,"Royalty")){const a=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);return new ContractRoyalty(this.contractWrapper,a)}}detectRoles(){if(detectContractFeature(this.contractWrapper,"Permissions"))return new ContractRoles(this.contractWrapper,ALL_ROLES)}detectPrimarySales(){if(detectContractFeature(this.contractWrapper,"PrimarySale"))return new ContractPrimarySale(this.contractWrapper)}detectPlatformFees(){if(detectContractFeature(this.contractWrapper,"PlatformFee"))return new ContractPlatformFee(this.contractWrapper)}detectErc20(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20(this.contractWrapper,this.storage,this.chainId)}detectErc721(){if(detectContractFeature(this.contractWrapper,"ERC721"))return new Erc721(this.contractWrapper,this.storage,this.chainId)}detectErc1155(){if(detectContractFeature(this.contractWrapper,"ERC1155"))return new Erc1155(this.contractWrapper,this.storage,this.chainId)}detectOwnable(){if(detectContractFeature(this.contractWrapper,"Ownable"))return new ContractOwner(this.contractWrapper)}detectApp(){const a=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);if(detectContractFeature(this.contractWrapper,"AppURI"))return new ContractAppURI(this.contractWrapper,a,this.storage);if(detectContractFeature(this.contractWrapper,"ContractMetadata"))return new ContractAppURI(this.contractWrapper,a,this.storage)}detectDirectListings(){if(detectContractFeature(this.contractWrapper,"DirectListings"))return new MarketplaceV3DirectListings(this.contractWrapper,this.storage)}detectEnglishAuctions(){if(detectContractFeature(this.contractWrapper,"EnglishAuctions"))return new MarketplaceV3EnglishAuctions(this.contractWrapper,this.storage)}detectOffers(){if(detectContractFeature(this.contractWrapper,"Offers"))return new MarketplaceV3Offers(this.contractWrapper,this.storage)}detectSmartWalletFactory(){if(detectContractFeature(this.contractWrapper,FEATURE_SMART_WALLET_FACTORY.name))return new SmartWalletFactory(this.contractWrapper)}}async function extractFunctions(o,a){const rt=await fetchPreDeployMetadata(o,a);return extractFunctionsFromAbi(rt.abi,rt.metadata)}async function extractConstructorParams(o,a){const rt=await fetchPreDeployMetadata(o,a);return extractConstructorParamsFromAbi(rt.abi)}let decoder;try{decoder=new TextDecoder}catch(o){}let src,srcEnd,position$1=0;const LEGACY_RECORD_INLINE_ID=105,RECORD_DEFINITIONS_ID=57342,RECORD_INLINE_ID=57343,BUNDLED_STRINGS_ID=57337,PACKED_REFERENCE_TAG_ID=6,STOP_CODE={};let currentDecoder={},currentStructures,srcString,srcStringStart=0,srcStringEnd=0,bundledStrings,referenceMap,currentExtensions=[],currentExtensionRanges=[],packedValues,dataView,restoreMapsAsObject,defaultOptions={useRecords:!1,mapsAsObjects:!0},sequentialMode=!1;class Decoder{constructor(a){if(a&&((a.keyMap||a._keyMap)&&!a.useRecords&&(a.useRecords=!1,a.mapsAsObjects=!0),a.useRecords===!1&&a.mapsAsObjects===void 0&&(a.mapsAsObjects=!0),a.getStructures&&(a.getShared=a.getStructures),a.getShared&&!a.structures&&((a.structures=[]).uninitialized=!0),a.keyMap)){this.mapKey=new Map;for(let[rt,at]of Object.entries(a.keyMap))this.mapKey.set(at,rt)}Object.assign(this,a)}decodeKey(a){return this.keyMap&&this.mapKey.get(a)||a}decode(a,rt){if(src)return saveState(()=>(clearSource(),this?this.decode(a,rt):Decoder.prototype.decode.call(defaultOptions,a,rt)));srcEnd=rt>-1?rt:a.length,position$1=0,srcStringEnd=0,srcString=null,bundledStrings=null,src=a;try{dataView=a.dataView||(a.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength))}catch(at){throw src=null,a instanceof Uint8Array?at:new Error("Source must be a Uint8Array or Buffer but was a "+(a&&typeof a=="object"?a.constructor.name:typeof a))}if(this instanceof Decoder){if(currentDecoder=this,packedValues=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return currentStructures=this.structures,checkedRead();(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentDecoder=defaultOptions,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]),packedValues=null;return checkedRead()}}function checkedRead(){try{let o=read();if(bundledStrings){if(position$1>=bundledStrings.postBundlePosition){let a=new Error("Unexpected bundle position");throw a.incomplete=!0,a}position$1=bundledStrings.postBundlePosition,bundledStrings=null}if(position$1==srcEnd)currentStructures=null,src=null,referenceMap&&(referenceMap=null);else if(position$1>srcEnd){let a=new Error("Unexpected end of CBOR data");throw a.incomplete=!0,a}else if(!sequentialMode)throw new Error("Data read, but end of buffer not reached");return o}catch(o){throw clearSource(),(o instanceof RangeError||o.message.startsWith("Unexpected end of buffer"))&&(o.incomplete=!0),o}}function read(){let o=src[position$1++],a=o>>5;if(o=o&31,o>23)switch(o){case 24:o=src[position$1++];break;case 25:if(a==7)return getFloat16();o=dataView.getUint16(position$1),position$1+=2;break;case 26:if(a==7){let rt=dataView.getFloat32(position$1);if(currentDecoder.useFloat32>2){let at=mult10[(src[position$1]&127)<<1|src[position$1+1]>>7];return position$1+=4,(at*rt+(rt>0?.5:-.5)>>0)/at}return position$1+=4,rt}o=dataView.getUint32(position$1),position$1+=4;break;case 27:if(a==7){let rt=dataView.getFloat64(position$1);return position$1+=8,rt}if(a>1){if(dataView.getUint32(position$1)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");o=dataView.getUint32(position$1+4)}else currentDecoder.int64AsNumber?(o=dataView.getUint32(position$1)*4294967296,o+=dataView.getUint32(position$1+4)):o=dataView.getBigUint64(position$1);position$1+=8;break;case 31:switch(a){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let rt=[],at,it=0;for(;(at=read())!=STOP_CODE;)rt[it++]=at;return a==4?rt:a==3?rt.join(""):buffer.Buffer.concat(rt);case 5:let ot;if(currentDecoder.mapsAsObjects){let st={};if(currentDecoder.keyMap)for(;(ot=read())!=STOP_CODE;)st[safeKey(currentDecoder.decodeKey(ot))]=read();else for(;(ot=read())!=STOP_CODE;)st[safeKey(ot)]=read();return st}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let st=new Map;if(currentDecoder.keyMap)for(;(ot=read())!=STOP_CODE;)st.set(currentDecoder.decodeKey(ot),read());else for(;(ot=read())!=STOP_CODE;)st.set(ot,read());return st}case 7:return STOP_CODE;default:throw new Error("Invalid major type for indefinite length "+a)}default:throw new Error("Unknown token "+o)}switch(a){case 0:return o;case 1:return~o;case 2:return readBin(o);case 3:if(srcStringEnd>=position$1)return srcString.slice(position$1-srcStringStart,(position$1+=o)-srcStringStart);if(srcStringEnd==0&&srcEnd<140&&o<32){let it=o<16?shortStringInJS(o):longStringInJS(o);if(it!=null)return it}return readFixedString(o);case 4:let rt=new Array(o);for(let it=0;it<o;it++)rt[it]=read();return rt;case 5:if(currentDecoder.mapsAsObjects){let it={};if(currentDecoder.keyMap)for(let ot=0;ot<o;ot++)it[safeKey(currentDecoder.decodeKey(read()))]=read();else for(let ot=0;ot<o;ot++)it[safeKey(read())]=read();return it}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let it=new Map;if(currentDecoder.keyMap)for(let ot=0;ot<o;ot++)it.set(currentDecoder.decodeKey(read()),read());else for(let ot=0;ot<o;ot++)it.set(read(),read());return it}case 6:if(o>=BUNDLED_STRINGS_ID){let it=currentStructures[o&8191];if(it)return it.read||(it.read=createStructureReader(it)),it.read();if(o<65536){if(o==RECORD_INLINE_ID)return recordDefinition(read());if(o==RECORD_DEFINITIONS_ID){let ot=readJustLength(),st=read();for(let ct=2;ct<ot;ct++)recordDefinition([st++,read()]);return read()}else if(o==BUNDLED_STRINGS_ID)return readBundleExt();if(currentDecoder.getShared&&(loadShared(),it=currentStructures[o&8191],it))return it.read||(it.read=createStructureReader(it)),it.read()}}let at=currentExtensions[o];if(at)return at.handlesRead?at(read):at(read());{let it=read();for(let ot=0;ot<currentExtensionRanges.length;ot++){let st=currentExtensionRanges[ot](o,it);if(st!==void 0)return st}return new Tag(it,o)}case 7:switch(o){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let it=(packedValues||getPackedValues())[o];if(it!==void 0)return it;throw new Error("Unknown token "+o)}default:if(isNaN(o)){let it=new Error("Unexpected end of CBOR data");throw it.incomplete=!0,it}throw new Error("Unknown CBOR token "+o)}}const validName=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(o){function a(){let rt=src[position$1++];if(rt=rt&31,rt>23)switch(rt){case 24:rt=src[position$1++];break;case 25:rt=dataView.getUint16(position$1),position$1+=2;break;case 26:rt=dataView.getUint32(position$1),position$1+=4;break;default:throw new Error("Expected array header, but got "+src[position$1-1])}let at=this.compiledReader;for(;at;){if(at.propertyCount===rt)return at(read);at=at.next}if(this.slowReads++>=3){let ot=this.length==rt?this:this.slice(0,rt);return at=currentDecoder.keyMap?new Function("r","return {"+ot.map(st=>currentDecoder.decodeKey(st)).map(st=>validName.test(st)?safeKey(st)+":r()":"["+JSON.stringify(st)+"]:r()").join(",")+"}"):new Function("r","return {"+ot.map(st=>validName.test(st)?safeKey(st)+":r()":"["+JSON.stringify(st)+"]:r()").join(",")+"}"),this.compiledReader&&(at.next=this.compiledReader),at.propertyCount=rt,this.compiledReader=at,at(read)}let it={};if(currentDecoder.keyMap)for(let ot=0;ot<rt;ot++)it[safeKey(currentDecoder.decodeKey(this[ot]))]=read();else for(let ot=0;ot<rt;ot++)it[safeKey(this[ot])]=read();return it}return o.slowReads=0,a}function safeKey(o){return o==="__proto__"?"__proto_":o}let readFixedString=readStringJS;function readStringJS(o){let a;if(o<16&&(a=shortStringInJS(o)))return a;if(o>64&&decoder)return decoder.decode(src.subarray(position$1,position$1+=o));const rt=position$1+o,at=[];for(a="";position$1<rt;){const it=src[position$1++];if((it&128)===0)at.push(it);else if((it&224)===192){const ot=src[position$1++]&63;at.push((it&31)<<6|ot)}else if((it&240)===224){const ot=src[position$1++]&63,st=src[position$1++]&63;at.push((it&31)<<12|ot<<6|st)}else if((it&248)===240){const ot=src[position$1++]&63,st=src[position$1++]&63,ct=src[position$1++]&63;let lt=(it&7)<<18|ot<<12|st<<6|ct;lt>65535&&(lt-=65536,at.push(lt>>>10&1023|55296),lt=56320|lt&1023),at.push(lt)}else at.push(it);at.length>=4096&&(a+=fromCharCode.apply(String,at),at.length=0)}return at.length>0&&(a+=fromCharCode.apply(String,at)),a}let fromCharCode=String.fromCharCode;function longStringInJS(o){let a=position$1,rt=new Array(o);for(let at=0;at<o;at++){const it=src[position$1++];if((it&128)>0){position$1=a;return}rt[at]=it}return fromCharCode.apply(String,rt)}function shortStringInJS(o){if(o<4)if(o<2){if(o===0)return"";{let a=src[position$1++];if((a&128)>1){position$1-=1;return}return fromCharCode(a)}}else{let a=src[position$1++],rt=src[position$1++];if((a&128)>0||(rt&128)>0){position$1-=2;return}if(o<3)return fromCharCode(a,rt);let at=src[position$1++];if((at&128)>0){position$1-=3;return}return fromCharCode(a,rt,at)}else{let a=src[position$1++],rt=src[position$1++],at=src[position$1++],it=src[position$1++];if((a&128)>0||(rt&128)>0||(at&128)>0||(it&128)>0){position$1-=4;return}if(o<6){if(o===4)return fromCharCode(a,rt,at,it);{let ot=src[position$1++];if((ot&128)>0){position$1-=5;return}return fromCharCode(a,rt,at,it,ot)}}else if(o<8){let ot=src[position$1++],st=src[position$1++];if((ot&128)>0||(st&128)>0){position$1-=6;return}if(o<7)return fromCharCode(a,rt,at,it,ot,st);let ct=src[position$1++];if((ct&128)>0){position$1-=7;return}return fromCharCode(a,rt,at,it,ot,st,ct)}else{let ot=src[position$1++],st=src[position$1++],ct=src[position$1++],lt=src[position$1++];if((ot&128)>0||(st&128)>0||(ct&128)>0||(lt&128)>0){position$1-=8;return}if(o<10){if(o===8)return fromCharCode(a,rt,at,it,ot,st,ct,lt);{let ut=src[position$1++];if((ut&128)>0){position$1-=9;return}return fromCharCode(a,rt,at,it,ot,st,ct,lt,ut)}}else if(o<12){let ut=src[position$1++],dt=src[position$1++];if((ut&128)>0||(dt&128)>0){position$1-=10;return}if(o<11)return fromCharCode(a,rt,at,it,ot,st,ct,lt,ut,dt);let ft=src[position$1++];if((ft&128)>0){position$1-=11;return}return fromCharCode(a,rt,at,it,ot,st,ct,lt,ut,dt,ft)}else{let ut=src[position$1++],dt=src[position$1++],ft=src[position$1++],pt=src[position$1++];if((ut&128)>0||(dt&128)>0||(ft&128)>0||(pt&128)>0){position$1-=12;return}if(o<14){if(o===12)return fromCharCode(a,rt,at,it,ot,st,ct,lt,ut,dt,ft,pt);{let ht=src[position$1++];if((ht&128)>0){position$1-=13;return}return fromCharCode(a,rt,at,it,ot,st,ct,lt,ut,dt,ft,pt,ht)}}else{let ht=src[position$1++],yt=src[position$1++];if((ht&128)>0||(yt&128)>0){position$1-=14;return}if(o<15)return fromCharCode(a,rt,at,it,ot,st,ct,lt,ut,dt,ft,pt,ht,yt);let mt=src[position$1++];if((mt&128)>0){position$1-=15;return}return fromCharCode(a,rt,at,it,ot,st,ct,lt,ut,dt,ft,pt,ht,yt,mt)}}}}}function readBin(o){return currentDecoder.copyBuffers?Uint8Array.prototype.slice.call(src,position$1,position$1+=o):src.subarray(position$1,position$1+=o)}let f32Array=new Float32Array(1),u8Array=new Uint8Array(f32Array.buffer,0,4);function getFloat16(){let o=src[position$1++],a=src[position$1++],rt=(o&127)>>2;if(rt===31)return a||o&3?NaN:o&128?-1/0:1/0;if(rt===0){let at=((o&3)<<8|a)/16777216;return o&128?-at:at}return u8Array[3]=o&128|(rt>>1)+56,u8Array[2]=(o&7)<<5|a>>3,u8Array[1]=a<<5,u8Array[0]=0,f32Array[0]}class Tag{constructor(a,rt){this.value=a,this.tag=rt}}currentExtensions[0]=o=>new Date(o);currentExtensions[1]=o=>new Date(Math.round(o*1e3));currentExtensions[2]=o=>{let a=BigInt(0);for(let rt=0,at=o.byteLength;rt<at;rt++)a=BigInt(o[rt])+a<<BigInt(8);return a};currentExtensions[3]=o=>BigInt(-1)-currentExtensions[2](o);currentExtensions[4]=o=>Number(o[1]+"e"+o[0]);currentExtensions[5]=o=>o[1]*Math.exp(o[0]*Math.log(2));const recordDefinition=o=>{let a=o[0]-57344,rt=o[1],at=currentStructures[a];at&&at.isShared&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[a]=at),currentStructures[a]=rt,rt.read=createStructureReader(rt);let it={};if(currentDecoder.keyMap)for(let ot=2,st=o.length;ot<st;ot++){let ct=currentDecoder.decodeKey(rt[ot-2]);it[safeKey(ct)]=o[ot]}else for(let ot=2,st=o.length;ot<st;ot++){let ct=rt[ot-2];it[safeKey(ct)]=o[ot]}return it};currentExtensions[LEGACY_RECORD_INLINE_ID]=recordDefinition;currentExtensions[14]=o=>bundledStrings?bundledStrings[0].slice(bundledStrings.position0,bundledStrings.position0+=o):new Tag(o,14);currentExtensions[15]=o=>bundledStrings?bundledStrings[1].slice(bundledStrings.position1,bundledStrings.position1+=o):new Tag(o,15);let glbl={Error,RegExp};currentExtensions[27]=o=>(glbl[o[0]]||Error)(o[1],o[2]);const packedTable=o=>{if(src[position$1++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let a=o();return packedValues=packedValues?a.concat(packedValues.slice(a.length)):a,packedValues.prefixes=o(),packedValues.suffixes=o(),o()};packedTable.handlesRead=!0;currentExtensions[51]=packedTable;currentExtensions[PACKED_REFERENCE_TAG_ID]=o=>{if(!packedValues)if(currentDecoder.getShared)loadShared();else return new Tag(o,PACKED_REFERENCE_TAG_ID);if(typeof o=="number")return packedValues[16+(o>=0?2*o:-2*o-1)];throw new Error("No support for non-integer packed references yet")};currentExtensions[25]=o=>stringRefs[o];currentExtensions[256]=o=>{stringRefs=[];try{return o()}finally{stringRefs=null}};currentExtensions[256].handlesRead=!0;currentExtensions[28]=o=>{referenceMap||(referenceMap=new Map,referenceMap.id=0);let a=referenceMap.id++,rt=src[position$1],at;rt>>5==4?at=[]:at={};let it={target:at};referenceMap.set(a,it);let ot=o();return it.used?Object.assign(at,ot):(it.target=ot,ot)};currentExtensions[28].handlesRead=!0;currentExtensions[29]=o=>{let a=referenceMap.get(o);return a.used=!0,a.target};currentExtensions[258]=o=>new Set(o);(currentExtensions[259]=o=>(currentDecoder.mapsAsObjects&&(currentDecoder.mapsAsObjects=!1,restoreMapsAsObject=!0),o())).handlesRead=!0;function combine$1(o,a){return typeof o=="string"?o+a:o instanceof Array?o.concat(a):Object.assign({},o,a)}function getPackedValues(){if(!packedValues)if(currentDecoder.getShared)loadShared();else throw new Error("No packed values available");return packedValues}const SHARED_DATA_TAG_ID=1399353956;currentExtensionRanges.push((o,a)=>{if(o>=225&&o<=255)return combine$1(getPackedValues().prefixes[o-224],a);if(o>=28704&&o<=32767)return combine$1(getPackedValues().prefixes[o-28672],a);if(o>=1879052288&&o<=2147483647)return combine$1(getPackedValues().prefixes[o-1879048192],a);if(o>=216&&o<=223)return combine$1(a,getPackedValues().suffixes[o-216]);if(o>=27647&&o<=28671)return combine$1(a,getPackedValues().suffixes[o-27639]);if(o>=1811940352&&o<=1879048191)return combine$1(a,getPackedValues().suffixes[o-1811939328]);if(o==SHARED_DATA_TAG_ID)return{packedValues,structures:currentStructures.slice(0),version:a};if(o==55799)return a});const isLittleEndianMachine=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,typedArrays=[Uint8Array],typedArrayTags=[64];for(let o=0;o<typedArrays.length;o++)registerTypedArray(typedArrays[o],typedArrayTags[o]);function registerTypedArray(o,a){let rt="get"+o.name.slice(0,-5);typeof o!="function"&&(o=null);let at=o.BYTES_PER_ELEMENT;for(let it=0;it<2;it++){if(!it&&at==1)continue;let ot=at==2?1:at==4?2:3;currentExtensions[it?a:a-4]=at==1||it==isLittleEndianMachine?st=>{if(!o)throw new Error("Could not find typed array for code "+a);return new o(Uint8Array.prototype.slice.call(st,0).buffer)}:st=>{if(!o)throw new Error("Could not find typed array for code "+a);let ct=new DataView(st.buffer,st.byteOffset,st.byteLength),lt=st.length>>ot,ut=new o(lt),dt=ct[rt];for(let ft=0;ft<lt;ft++)ut[ft]=dt.call(ct,ft<<ot,it);return ut}}}function readBundleExt(){let o=readJustLength(),a=position$1+read();for(let at=2;at<o;at++){let it=readJustLength();position$1+=it}let rt=position$1;return position$1=a,bundledStrings=[readStringJS(readJustLength()),readStringJS(readJustLength())],bundledStrings.position0=0,bundledStrings.position1=0,bundledStrings.postBundlePosition=position$1,position$1=rt,read()}function readJustLength(){let o=src[position$1++]&31;if(o>23)switch(o){case 24:o=src[position$1++];break;case 25:o=dataView.getUint16(position$1),position$1+=2;break;case 26:o=dataView.getUint32(position$1),position$1+=4;break}return o}function loadShared(){if(currentDecoder.getShared){let o=saveState(()=>(src=null,currentDecoder.getShared()))||{},a=o.structures||[];currentDecoder.sharedVersion=o.version,packedValues=currentDecoder.sharedValues=o.packedValues,currentStructures===!0?currentDecoder.structures=currentStructures=a:currentStructures.splice.apply(currentStructures,[0,a.length].concat(a))}}function saveState(o){let a=srcEnd,rt=position$1,at=srcStringStart,it=srcStringEnd,ot=srcString,st=referenceMap,ct=bundledStrings,lt=new Uint8Array(src.slice(0,srcEnd)),ut=currentStructures,dt=currentDecoder,ft=sequentialMode,pt=o();return srcEnd=a,position$1=rt,srcStringStart=at,srcStringEnd=it,srcString=ot,referenceMap=st,bundledStrings=ct,src=lt,sequentialMode=ft,currentStructures=ut,currentDecoder=dt,dataView=new DataView(src.buffer,src.byteOffset,src.byteLength),pt}function clearSource(){src=null,referenceMap=null,currentStructures=null}const mult10=new Array(147);for(let o=0;o<256;o++)mult10[o]=Number("1e"+Math.floor(45.15-o*.30103));const defaultDecoder=new Decoder({useRecords:!1}),decode=defaultDecoder.decode;function hexToBytes(o){if(o=o.toString(16),o.startsWith("0x")||(o=`0x${o}`),!isHexStrict(o))throw new Error(`Given value "${o}" is not a valid hex string.`);o=o.replace(/^0x/i,"");const a=[];for(let rt=0;rt<o.length;rt+=2)a.push(parseInt(o.slice(rt,rt+2),16));return a}function isHexStrict(o){return(typeof o=="string"||typeof o=="number")&&/^(-)?0x[0-9a-f]*$/i.test(o.toString())}function extractIPFSHashFromBytecode(o){const a=hexToBytes(o),rt=a[a.length-2]*256+a[a.length-1],at=Uint8Array.from(a.slice(a.length-2-rt,-2)),it=decode(at);if("ipfs"in it&&it.ipfs)try{return`ipfs://${bs58.encode(it.ipfs)}`}catch(ot){console.warn("feature-detection ipfs cbor failed",ot)}}function extractMinimalProxyImplementationAddress(o){if(o.startsWith("0x363d3d373d3d3d363d73"))return`0x${o.slice(22,62)}`;if(o.startsWith("0x36603057343d5230"))return`0x${o.slice(122,162)}`;if(o.startsWith("0x3d3d3d3d363d3d37363d73"))return`0x${o.slice(24,64)}`;if(o.startsWith("0x366000600037611000600036600073"))return`0x${o.slice(32,72)}`}async function resolveContractUriFromAddress(o,a){let rt;try{rt=await a.getCode(o)}catch(at){throw new Error(`Failed to get bytecode for address ${o}: ${at}`)}if(rt==="0x"){const at=await a.getNetwork();throw new Error(`Contract at ${o} does not exist on chain '${at.name}' (chainId: ${at.chainId})`)}try{const at=extractMinimalProxyImplementationAddress(rt);if(at)return await resolveContractUriFromAddress(at,a)}catch{}try{const it=`0x${(await a.getStorageAt(o,BigNumber.from("0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc"))).slice(-40)}`;if(utils.isAddress(it)&&it!==AddressZero$1)return await resolveContractUriFromAddress(it,a)}catch{}return await extractIPFSHashFromBytecode(rt)}const ContractPublisher_address="0x664244560eBa21Bf82d7150C791bE1AbcD5B4cd7";function getContractPublisherAddress(){return{}.contractPublisherAddress?{}.contractPublisherAddress:ContractPublisher_address}class ContractPublisher extends RPCConnectionHandler{constructor(a,rt,at){super(a,rt),_defineProperty(this,"storage",void 0),_defineProperty(this,"publisher",void 0),_defineProperty(this,"updatePublisherProfile",buildTransactionFunction(async it=>{const ot=this.getSigner();invariant(ot,"A signer is required");const st=await ot.getAddress(),ct=await this.storage.upload(it);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"setPublisherProfileUri",args:[st,ct]})})),_defineProperty(this,"publish",buildTransactionFunction(async(it,ot)=>{var gt;const st=this.getSigner();invariant(st,"A signer is required");const ct=await st.getAddress(),lt=await fetchRawPredeployMetadata(it,this.storage);if((gt=ot.factoryDeploymentData)!=null&&gt.implementationAddresses){const vt=Object.entries(ot.factoryDeploymentData.implementationAddresses).find(_t=>{let[,St]=_t;return St!==""}),[wt,Tt]=vt||[];if(wt&&Tt)try{const _t=await fetchContractMetadata(lt.metadataUri,this.storage),St=await getCompositePluginABI(Tt,_t.abi,getChainProvider(parseInt(wt),{thirdwebApiKey:DEFAULT_API_KEY$2}),{},this.storage);ot.compositeAbi=AbiSchema.parse(St)}catch{}}const ut=await this.getLatest(ct,lt.name);if(ut&&ut.metadataUri){const vt=(await this.fetchPublishedContractInfo(ut)).publishedMetadata.version;if(!isIncrementalVersion(vt,ot.version))throw Error(`Version ${ot.version} is not greater than ${vt}`)}const dt=await(await this.storage.download(lt.bytecodeUri)).text(),ft=dt.startsWith("0x")?dt:`0x${dt}`,pt=keccak256(["bytes"],[ft]),ht=lt.name,yt=FullPublishMetadataSchemaInput.parse({...ot,metadataUri:lt.metadataUri,bytecodeUri:lt.bytecodeUri,name:lt.name,analytics:lt.analytics,publisher:ct}),mt=await this.storage.upload(yt);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"publishContract",args:[ct,ht,mt,lt.metadataUri,pt,AddressZero$1],parse:bt=>{const vt=this.publisher.parseLogs("ContractPublished",bt.logs);if(vt.length<1)throw new Error("No ContractPublished event found");const wt=vt[0].args.publishedContract;return{receipt:bt,data:async()=>this.toPublishedContract(wt)}}})})),_defineProperty(this,"unpublish",buildTransactionFunction(async(it,ot)=>{const st=await resolveAddress(it);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"unpublishContract",args:[st,ot]})})),this.storage=at,this.publisher=new ContractWrapper(a,getContractPublisherAddress(),ContractPublisherAbi,rt)}updateSignerOrProvider(a){super.updateSignerOrProvider(a),this.publisher.updateSignerOrProvider(a)}async extractConstructorParams(a){return extractConstructorParams(a,this.storage)}async extractFunctions(a){return extractFunctions(a,this.storage)}async fetchCompilerMetadataFromPredeployURI(a){return fetchPreDeployMetadata(a,this.storage)}async fetchPrePublishMetadata(a,rt){const at=await fetchPreDeployMetadata(a,this.storage),it=rt?await this.getLatest(rt,at.name):void 0,ot=it?await this.fetchPublishedContractInfo(it):void 0;return{preDeployMetadata:at,latestPublishedContractMetadata:ot}}async fetchCompilerMetadataFromAddress(a){const rt=await resolveAddress(a);return fetchContractMetadataFromAddress(rt,this.getProvider(),this.storage)}async fetchPublishedContractInfo(a){return{name:a.id,publishedTimestamp:a.timestamp,publishedMetadata:await this.fetchFullPublishMetadata(a.metadataUri)}}async fetchFullPublishMetadata(a){return fetchExtendedReleaseMetadata(a,this.storage)}async resolvePublishMetadataFromCompilerMetadata(a){const rt=await this.publisher.readContract.getPublishedUriFromCompilerUri(a);if(rt.length===0)throw Error(`Could not resolve published metadata URI from ${a}`);return await Promise.all(rt.filter(at=>at.length>0).map(at=>this.fetchFullPublishMetadata(at)))}async resolveContractUriFromAddress(a){const rt=await resolveAddress(a),at=await resolveContractUriFromAddress(rt,this.getProvider());return invariant(at,"Could not resolve contract URI from address"),at}async fetchContractSourcesFromAddress(a){const rt=await resolveAddress(a),at=await this.fetchCompilerMetadataFromAddress(rt);return await fetchSourceFilesFromMetadata(at,this.storage)}async getPublisherProfile(a){const rt=await resolveAddress(a),at=await this.publisher.readContract.getPublisherProfileUri(rt);return!at||at.length===0?{}:ProfileSchemaOutput.parse(await this.storage.downloadJSON(at))}async getAll(a){const rt=await resolveAddress(a),it=(await this.publisher.readContract.getAllPublishedContracts(rt)).reduce((ot,st)=>(ot[st.contractId]=st,ot),{});return Object.entries(it).map(ot=>{let[,st]=ot;return this.toPublishedContract(st)})}async getAllVersions(a,rt){const at=await resolveAddress(a),it=await this.publisher.readContract.getPublishedContractVersions(at,rt);if(it.length===0)throw Error("Not found");return it.map(ot=>this.toPublishedContract(ot))}async getVersion(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";const it=await resolveAddress(a);if(at==="latest")return this.getLatest(it,rt);const ot=await this.getAllVersions(it,rt),ct=(await Promise.all(ot.map(lt=>this.fetchPublishedContractInfo(lt)))).find(lt=>lt.publishedMetadata.version===at);return invariant(ct,"Contract version not found"),ot.find(lt=>lt.timestamp===ct.publishedTimestamp)}async getLatest(a,rt){const at=await resolveAddress(a),it=await this.publisher.readContract.getPublishedContract(at,rt);if(it&&it.publishMetadataUri)return this.toPublishedContract(it)}toPublishedContract(a){return PublishedContractSchema.parse({id:a.contractId,timestamp:a.publishTimestamp,metadataUri:a.publishMetadataUri})}}const MultichainRegistry_address="0xcdAD8FA86e18538aC207872E8ff3536501431B73";function getMultichainRegistryAddress(){return{}.multiChainRegistryAddress?{}.multiChainRegistryAddress:MultichainRegistry_address}class MultichainRegistry{constructor(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_defineProperty(this,"registryLogic",void 0),_defineProperty(this,"registryRouter",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"addContract",buildTransactionFunction(async it=>await this.addContracts.prepare([it]))),_defineProperty(this,"addContracts",buildTransactionFunction(async it=>{const ot=await this.registryRouter.getSignerAddress(),st=[];return it.forEach(ct=>{st.push(this.registryLogic.readContract.interface.encodeFunctionData("add",[ot,ct.address,ct.chainId,ct.metadataURI||""]))}),Transaction.fromContractWrapper({contractWrapper:this.registryRouter,method:"multicall",args:[st]})})),_defineProperty(this,"removeContract",buildTransactionFunction(async it=>await this.removeContracts.prepare([it]))),_defineProperty(this,"removeContracts",buildTransactionFunction(async it=>{const ot=await this.registryRouter.getSignerAddress(),st=await Promise.all(it.map(async ct=>this.registryLogic.readContract.interface.encodeFunctionData("remove",[ot,await resolveAddress(ct.address),ct.chainId])));return Transaction.fromContractWrapper({contractWrapper:this.registryRouter,method:"multicall",args:[st]})})),this.storage=rt,this.registryLogic=new ContractWrapper(a,getMultichainRegistryAddress(),TWRegistryABI,at),this.registryRouter=new ContractWrapper(a,getMultichainRegistryAddress(),TWRegistryRouterABI,at)}async updateSigner(a){this.registryLogic.updateSignerOrProvider(a),this.registryRouter.updateSignerOrProvider(a)}async getContractMetadataURI(a,rt){return await this.registryLogic.readContract.getMetadataUri(a,await resolveAddress(rt))}async getContractMetadata(a,rt){const at=await this.getContractMetadataURI(a,rt);if(!at)throw new Error(`No metadata URI found for contract ${rt} on chain ${a}`);return await this.storage.downloadJSON(at)}async getContractAddresses(a){return(await this.registryLogic.readContract.getAll(await resolveAddress(a))).filter(rt=>isAddress(rt.deploymentAddress)&&rt.deploymentAddress.toLowerCase()!==AddressZero$1).map(rt=>({address:rt.deploymentAddress,chainId:rt.chainId.toNumber()}))}}const LOCAL_NODE_PKEY="0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80";class UserWallet{constructor(a,rt){_defineProperty(this,"connection",void 0),_defineProperty(this,"options",void 0),_defineProperty(this,"events",new EventEmitter$1),this.connection=new RPCConnectionHandler(a,rt),this.options=rt,this.events=new EventEmitter$1}connect(a){this.connection.updateSignerOrProvider(a),this.events.emit("signerChanged",this.connection.getSigner())}async transfer(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NATIVE_TOKEN_ADDRESS;const it=await resolveAddress(a),ot=await resolveAddress(at),st=this.requireWallet(),ct=await normalizePriceValue(this.connection.getProvider(),rt,at);if(isNativeToken(ot)){const lt=await st.getAddress();return{receipt:await(await st.sendTransaction({from:lt,to:it,value:ct})).wait()}}else return{receipt:await this.createErc20(ot).sendTransaction("transfer",[it,ct])}}async balance(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NATIVE_TOKEN_ADDRESS;this.requireWallet();const rt=await resolveAddress(a),at=this.connection.getProvider();let it;return isNativeToken(rt)?it=await at.getBalance(await this.getAddress()):it=await this.createErc20(rt).readContract.balanceOf(await this.getAddress()),await fetchCurrencyValue(at,rt,it)}async getAddress(){return await this.requireWallet().getAddress()}async getChainId(){return await this.requireWallet().getChainId()}async getNonce(a){return await this.connection.getProvider().getTransactionCount(await this.getAddress(),a)}isConnected(){try{return this.requireWallet(),!0}catch{return!1}}async sign(a){return await this.requireWallet().signMessage(a)}async signTypedData(a,rt,at){return await signTypedDataInternal(this.requireWallet(),a,rt,at)}recoverAddress(a,rt){const at=hashMessage(a),it=arrayify(at);return recoverAddress(it,rt)}async sendRawTransaction(a){return{receipt:await(await this.requireWallet().sendTransaction(a)).wait()}}async requestFunds(a){const rt=await this.getChainId();if(rt===ChainId.Localhost||rt===ChainId.Hardhat)return new UserWallet(new Wallet(LOCAL_NODE_PKEY,getChainProvider(rt,this.options)),this.options).transfer(await this.getAddress(),a);throw new Error(`Requesting funds is not supported on chain: '${rt}'.`)}requireWallet(){const a=this.connection.getSigner();return invariant(a,"This action requires a connected wallet. Please pass a valid signer to the SDK."),a}createErc20(a){return new ContractWrapper(this.connection.getSignerOrProvider(),a,ERC20Abi,this.options)}}async function getMetadataForPlugins(o,a){var st;let rt=[];const{compilerMetadata:at,extendedMetadata:it}=await fetchAndCacheDeployMetadata(o,a);if(isFeatureEnabled(AbiSchema.parse(at.abi),"PluginRouter")&&it&&((st=it.factoryDeploymentData)==null?void 0:st.implementationAddresses)){const ct=Object.entries(it.factoryDeploymentData.implementationAddresses);try{const lt=ct.find(ft=>{let[,pt]=ft;return pt!==""}),[ut,dt]=lt||[];if(ut&&dt){const ft=getChainProvider(parseInt(ut),{}),yt=(await new ContractWrapper(ft,dt,getAllPluginsAbi,{}).call("getAllPlugins")).map(vt=>vt.pluginAddress),mt=Array.from(new Set(yt)),gt=(await Promise.all(mt.map(async vt=>fetchContractMetadataFromAddress(vt,ft,a)))).map(vt=>vt.name),bt=await Promise.all(gt.map(vt=>fetchAndCachePublishedContractURI(vt)));rt=(await Promise.all(bt.map(async vt=>fetchAndCacheDeployMetadata(vt,a)))).map(vt=>vt.compilerMetadata)}}catch{}}return rt}function getFunctionSignature(o){return"("+o.map(a=>a.type==="tuple"?getFunctionSignature(a.components):a.type).join(",")+")"}function generatePluginFunctions(o,a){const rt=new Interface(a),at=[];for(const it of Object.values(rt.functions)){const ot=rt.getFunction(it.name);ot.name.includes("_")||at.push({functionSelector:rt.getSighash(ot),functionSignature:ot.name+getFunctionSignature(ot.inputs),pluginAddress:o})}return at}async function getDeploymentInfo(o,a,rt,at){caches.deploymentPresets={};const it=at||await getCreate2FactoryAddress(rt),ot={},st=[],{compilerMetadata:ct}=await fetchAndCacheDeployMetadata(o,a),lt=await getMetadataForPlugins(o,a);if(lt.length>0){const ft=await Promise.all(lt.map(async yt=>await computeDeploymentInfo("plugin",rt,a,it,{metadata:yt}))),pt=[];lt.forEach((yt,mt)=>{const gt=generatePluginFunctions(ft[mt].transaction.predictedAddress,yt.abi);pt.push(...gt)});const ht=await computeDeploymentInfo("plugin",rt,a,it,{contractName:"PluginMap",constructorParams:{_pluginsToAdd:{value:pt}}});ot._pluginMap={value:ht.transaction.predictedAddress},st.push(...ft,ht)}const ut=await computeDeploymentInfo("implementation",rt,a,it,{metadata:ct,constructorParams:ot}),dt=await computeDeploymentInfo("infra",rt,a,it,{contractName:"TWCloneFactory"});return st.push(dt),st.push(...Object.values(caches.deploymentPresets)),st.push(ut),st}async function getEncodedConstructorParamsForThirdwebContract(o,a,rt,at){var dt;const it=getChainProvider(a,{thirdwebApiKey:DEFAULT_API_KEY$2}),ot=await fetchAndCachePublishedContractURI(o),st=await fetchAndCacheDeployMetadata(ot,rt),ct=await getCreate2FactoryAddress(it);invariant(ct,"Thirdweb stack not found");const lt=await getMetadataForPlugins(ot,rt);let ut;return lt.length>0?ut=(dt=(await getDeploymentInfo(ot,rt,it,ct)).find(pt=>pt.type==="implementation"))==null?void 0:dt.encodedArgs:ut=await encodeConstructorParamsForImplementation(st.compilerMetadata,it,rt,ct,at),ut}async function predictThirdwebContractAddress(o,a,rt){var lt;const at=getChainProvider(a,{thirdwebApiKey:DEFAULT_API_KEY$2}),it=await fetchAndCachePublishedContractURI(o),ot=await getCreate2FactoryAddress(at);if(invariant(ot,"Thirdweb stack not found"),(await getMetadataForPlugins(it,rt)).length>0){const dt=(lt=(await getDeploymentInfo(it,rt,at,ot)).find(ft=>ft.type==="implementation"))==null?void 0:lt.transaction.predictedAddress;return invariant(dt,"Error computing address for plugin router"),dt}return(await computeDeploymentInfo("implementation",at,rt,ot,{contractName:o})).transaction.predictedAddress}async function getThirdwebContractAddress(o,a,rt){const at=getChainProvider(a,{thirdwebApiKey:DEFAULT_API_KEY$2}),it=await predictThirdwebContractAddress(o,a,rt),ot=await isContractDeployed(it,at);return invariant(ot,"Contract not deployed yet"),it}const VerificationStatus={FAILED:"Fail - Unable to verify",SUCCESS:"Pass - Verified",PENDING:"Pending in queue",ALREADY_VERIFIED:"Contract source code already verified",AUTOMATICALLY_VERIFIED:"Already Verified"},RequestStatus={OK:"1",NOTOK:"0"};async function verifyThirdwebPrebuiltImplementation(o,a,rt,at,it,ot){const st=await getThirdwebContractAddress(o,a,it),ct=await getEncodedConstructorParamsForThirdwebContract(o,a,it,ot);return console.info(`Verifying ${o} at address ${st}`),await verify(st,a,rt,at,it,ct==null?void 0:ct.toString().replace("0x",""))}async function verify(o,a,rt,at,it,ot){try{const st=new ThirdwebSDK(a),ct=await st.getPublisher().fetchCompilerMetadataFromAddress(o),lt=ct.metadata.compiler.version,ut=await fetchSourceFilesFromMetadata(ct,it),dt=ct.metadata.sources,ft={};for(const _t of Object.keys(dt)){const St=ut.find(Pt=>_t===Pt.filename);if(!St)throw new Error(`Could not find source file for ${_t}`);ft[_t]={content:St.source}}const pt={language:"Solidity",sources:ft,settings:{optimizer:ct.metadata.settings.optimizer,evmVersion:ct.metadata.settings.evmVersion,remappings:ct.metadata.settings.remappings,outputSelection:{"*":{"*":["abi","evm.bytecode","evm.deployedBytecode","evm.methodIdentifiers","metadata"],"":["ast"]}}}},ht=ct.metadata.settings.compilationTarget,mt=Object.keys(ht)[0],gt=ot||await fetchConstructorParams(rt,at,o,ct.abi,st.getProvider(),it),bt={apikey:at,module:"contract",action:"verifysourcecode",contractaddress:o,sourceCode:JSON.stringify(pt),codeformat:"solidity-standard-json-input",contractname:`${mt}:${ct.name}`,compilerversion:`v${lt}`,constructorArguements:gt},vt=new URLSearchParams({...bt}),Tt=await(await fetch$1(rt,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:vt.toString()})).json();if(Tt.status===RequestStatus.OK)return Tt.result;throw new Error(`${Tt.result}`)}catch(st){throw new Error(st.toString())}}async function checkVerificationStatus(o,a,rt){const at=`${o}?module=contract&action=checkverifystatus&guid=${rt}&apikey=${a}"`;return new Promise((it,ot)=>{const st=setInterval(async()=>{try{const lt=await(await fetch$1(at,{method:"GET"})).json();(lt==null?void 0:lt.result)!==VerificationStatus.PENDING&&(clearInterval(st),it(lt))}catch(ct){clearInterval(st),ot(ct)}},3e3)})}async function fetchConstructorParams(o,a,rt,at,it,ot){const st=extractConstructorParamsFromAbi(at);if(st.length===0)return"";const ct={apiKey:a,module:"account",action:"txlist",address:rt,page:"1",sort:"asc",offset:"1"},lt=new URLSearchParams({...ct}),dt=await(await fetch$1(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:lt.toString()})).json();if(dt&&dt.status===RequestStatus.OK&&dt.result[0]!==void 0){const ft=new Interface(at),pt=dt.result[0].input;let ht="";if(ft.deploy.inputs.length===0)return"";try{const yt=await fetchDeployBytecodeFromPublishedContractMetadata(rt,it,ot);if(yt){const mt=yt.startsWith("0x")?yt:`0x${yt}`;ht=pt.substring(mt.length)}}catch{}if(!ht){const yt=[...pt.matchAll(/(64736f6c6343[\w]{6}[\w]{4})(?!.*\1)(.*)$/g)];yt.length>0&&(ht=yt[0][2])}if(!ht){const yt=st.length*64;ht=pt.substring(pt.length-yt)}try{defaultAbiCoder.decode(ft.deploy.inputs,`0x${ht}`)}catch{throw new Error("Verifying this contract requires it to be published. Run `npx thirdweb publish` to publish this contract, then try again.")}return ht}else return""}async function fetchDeployBytecodeFromPublishedContractMetadata(o,a,rt){const at=await resolveContractUriFromAddress(o,a);if(at){const it=await new ThirdwebSDK("polygon").getPublisher().resolvePublishMetadataFromCompilerMetadata(at);return it.length>0?await(await rt.download(it[0].bytecodeUri)).text():void 0}}class ContractVerifier extends RPCConnectionHandler{constructor(a,rt,at){super(a,rt),_defineProperty(this,"storage",void 0),this.storage=at}updateSignerOrProvider(a){super.updateSignerOrProvider(a)}async verifyThirdwebContract(a,rt,at,it){const ot=(await this.getProvider().getNetwork()).chainId,st=await verifyThirdwebPrebuiltImplementation(a,ot,rt,at,this.storage,it);console.info("Checking verification status...");const ct=await checkVerificationStatus(rt,at,st);console.info(ct)}async verifyContract(a,rt,at,it){const ot=(await this.getProvider().getNetwork()).chainId;let st;if(it){const ut=Object.values(it).map(ft=>(invariant(ft.type,"Param type is required"),ft.type)),dt=Object.values(it).map(ft=>ft.value);st=defaultAbiCoder.encode(ut,dt)}const ct=await verify(a,ot,rt,at,this.storage,st);console.info("Checking verification status...");const lt=await checkVerificationStatus(rt,at,ct);console.info(lt)}}function extractFunctionParamsFromAbi(o,a){const rt=AbiSchema.parse(o||[]);for(const at of rt)if(at.type==="function"&&at.name===a)return at.inputs||[];return[]}async function computeCloneFactoryAddress(o,a,rt){return rt||(rt=await getCreate2FactoryAddress(o)),(await computeDeploymentInfo("infra",o,a,rt,{contractName:"TWCloneFactory"})).transaction.predictedAddress}function convertParamValues(o,a){if(o.length!==a.length)throw Error(`Passed the wrong number of constructor arguments: ${a.length}, expected ${o.length}`);return o.map((rt,at)=>rt==="tuple"||rt.endsWith("[]")?typeof a[at]=="string"?JSON.parse(a[at]):a[at]:rt==="bytes32"?(invariant(isHexString(a[at]),`Could not parse bytes32 value. Expected valid hex string but got "${a[at]}".`),hexZeroPad(a[at],32)):rt.startsWith("bytes")?(invariant(isHexString(a[at]),`Could not parse bytes value. Expected valid hex string but got "${a[at]}".`),a[at]):rt.startsWith("uint")||rt.startsWith("int")?BigNumber.from(a[at].toString()):a[at])}function estimateGasForDeploy(o){let a=arrayify(o).map(rt=>rt===0?4:16).reduce((rt,at)=>rt+at)+200*o.length/2+6*Math.ceil(o.length/64)+32e3+21e3;return a=Math.floor(a*64/63),a}function createTransactionBatches(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GAS_LIMIT_FOR_DEPLOYER;if(o=o.filter(ot=>ot.data.length>0),o.length===0)return[];let rt=[],at=0,it=[];return o.forEach(ot=>{const st=estimateGasForDeploy(ot.data);at+st>a?it.length===0?rt.push([ot]):(rt.push(it),at=st,it=[ot]):(at+=st,it.push(ot))}),it.length>0&&rt.push(it),rt}async function deployContractDeterministic(o,a,rt){var ot,st;let at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:7e6;if(invariant(o.provider,"Provider required"),!await isContractDeployed(a.predictedAddress,o.provider)){console.debug(`deploying contract via create2 factory at: ${a.predictedAddress}`);let ct={to:a.to,data:a.data};try{await o.estimateGas(ct)}catch(lt){console.debug("error estimating gas while deploying prebuilt: ",lt),ct.gasLimit=BigNumber.from(at)}(ot=rt==null?void 0:rt.notifier)==null||ot.call(rt,"deploying","preset"),await(await o.sendTransaction(ct)).wait(),(st=rt==null?void 0:rt.notifier)==null||st.call(rt,"deployed","preset")}}function toWei(o){return parseEther(AmountSchema.parse(o))}async function deployCreate2Factory(o,a){var lt,ut;if(invariant(o.provider,"No provider"),await isContractDeployed(COMMON_FACTORY,o.provider))return COMMON_FACTORY;const at=await isEIP155Enforced(o.provider),it=(await o.provider.getNetwork()).chainId,ot=at?it:0;console.debug(`ChainId ${it} enforces EIP155: ${at}`);const st=CUSTOM_GAS_FOR_CHAIN[it]?getCreate2FactoryDeploymentInfo(ot,CUSTOM_GAS_FOR_CHAIN[it].gasPrice):getCreate2FactoryDeploymentInfo(ot);if(!await isContractDeployed(st.deployment,o.provider)){const dt=CUSTOM_GAS_FOR_CHAIN[it]?BigNumber.from(CUSTOM_GAS_FOR_CHAIN[it].gasPrice).mul(1e5):toWei("0.01");(await o.provider.getBalance(st.signer)).lt(dt)&&await(await o.sendTransaction({to:st.signer,value:dt})).wait();try{console.debug(`deploying CREATE2 factory at: ${st.deployment}`),(lt=a==null?void 0:a.notifier)==null||lt.call(a,"deploying","create2Factory"),await(await o.provider.sendTransaction(st.transaction)).wait(),(ut=a==null?void 0:a.notifier)==null||ut.call(a,"deployed","create2Factory")}catch(ft){throw new Error(`Couldn't deploy CREATE2 factory: ${JSON.stringify(ft)}`)}}return st.deployment}async function deployWithThrowawayDeployer(o,a,rt){var ot,st;let at=createTransactionBatches(a);if(at.length===0)return;(ot=rt==null?void 0:rt.notifier)==null||ot.call(rt,"deploying","infra");const it=await Promise.all(at.map(ct=>new ContractFactory$1(DEPLOYER_ABI,DEPLOYER_BYTECODE).connect(o).deploy(ct)));await Promise.all(it.map(ct=>ct.deployed())),(st=rt==null?void 0:rt.notifier)==null||st.call(rt,"deployed","infra")}const SUPPORTED_CHAIN_IDS=[ChainId.Mainnet,ChainId.Goerli,ChainId.Polygon,ChainId.Mumbai,ChainId.Fantom,ChainId.FantomTestnet,ChainId.Avalanche,ChainId.AvalancheFujiTestnet,ChainId.Optimism,ChainId.OptimismGoerli,ChainId.Arbitrum,ChainId.ArbitrumGoerli,ChainId.BinanceSmartChainMainnet,ChainId.BinanceSmartChainTestnet,ChainId.Hardhat,ChainId.Localhost];function getDefaultTrustedForwarders(o){const a=SUPPORTED_CHAIN_IDS.find(it=>it===o),rt=a?CONTRACT_ADDRESSES[a].biconomyForwarder:AddressZero;return[a?CONTRACT_ADDRESSES[a].openzeppelinForwarder:AddressZero,rt].filter(it=>it!==AddressZero)}async function getDeployArguments(o,a,rt,at,it){const ot=await at.getChainId(),st=await at.getAddress(),ct=SUPPORTED_CHAIN_IDS.find(ut=>ut===ot);let lt=[];switch(ct?lt=o===PackInitializer.contractType?[]:getDefaultTrustedForwarders(ot):lt=[await computeForwarderAddress(at.provider,it)],a.trusted_forwarders&&a.trusted_forwarders.length>0&&lt.push(...a.trusted_forwarders),o){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const ut=await NFTDropInitializer.schema.deploy.parseAsync(a);return[st,ut.name,ut.symbol,rt,lt,ut.primary_sale_recipient,ut.fee_recipient,ut.seller_fee_basis_points,ut.platform_fee_basis_points,ut.platform_fee_recipient];case SignatureDropInitializer.contractType:const dt=await SignatureDropInitializer.schema.deploy.parseAsync(a);return[st,dt.name,dt.symbol,rt,lt,dt.primary_sale_recipient,dt.fee_recipient,dt.seller_fee_basis_points,dt.platform_fee_basis_points,dt.platform_fee_recipient];case MultiwrapInitializer.contractType:const ft=await MultiwrapInitializer.schema.deploy.parseAsync(a);return[st,ft.name,ft.symbol,rt,lt,ft.fee_recipient,ft.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const pt=await EditionDropInitializer.schema.deploy.parseAsync(a);return[st,pt.name,pt.symbol,rt,lt,pt.primary_sale_recipient,pt.fee_recipient,pt.seller_fee_basis_points,pt.platform_fee_basis_points,pt.platform_fee_recipient];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const ht=await TokenInitializer.schema.deploy.parseAsync(a);return[st,ht.name,ht.symbol,rt,lt,ht.primary_sale_recipient,ht.platform_fee_recipient,ht.platform_fee_basis_points];case VoteInitializer.contractType:const yt=await VoteInitializer.schema.deploy.parseAsync(a);return[yt.name,rt,lt,yt.voting_token_address,yt.voting_delay_in_blocks,yt.voting_period_in_blocks,BigNumber.from(yt.proposal_token_threshold),yt.voting_quorum_fraction];case SplitInitializer.contractType:const mt=await SplitInitializer.schema.deploy.parseAsync(a);return[st,rt,lt,mt.recipients.map(vt=>vt.address),mt.recipients.map(vt=>BigNumber.from(vt.sharesBps))];case MarketplaceInitializer.contractType:case MarketplaceV3Initializer.contractType:const gt=await MarketplaceInitializer.schema.deploy.parseAsync(a);return[st,rt,lt,gt.platform_fee_recipient,gt.platform_fee_basis_points];case PackInitializer.contractType:const bt=await PackInitializer.schema.deploy.parseAsync(a);return[st,bt.name,bt.symbol,rt,lt,bt.fee_recipient,bt.seller_fee_basis_points];default:return[]}}const APPROVED_IMPLEMENTATIONS={[ChainId.Mainnet]:{"nft-drop":"0x60fF9952e0084A6DEac44203838cDC91ABeC8736","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","signature-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A"},[ChainId.Polygon]:{"nft-drop":"0xB96508050Ba0925256184103560EBADA912Fcc69","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","signature-drop":"0xBE2fDc35410E268e41Bec62DBb01AEb43245c7d5"},[ChainId.Fantom]:{"nft-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","edition-drop":"0x06395FCF9AC6ED827f9dD6e776809cEF1Be0d21B","token-drop":"0x0148b28a38efaaC31b6aa0a6D9FEb70FE7C91FFa","signature-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10"},[ChainId.Avalanche]:{"nft-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","edition-drop":"0x135fC9D26E5eC51260ece1DF4ED424E2f55c7766","token-drop":"0xca0B071899E575BA86495D46c5066971b6f3A901","signature-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3"},[ChainId.Optimism]:{"nft-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","edition-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","token-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","signature-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD"},[ChainId.Arbitrum]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId.BinanceSmartChainMainnet]:{"nft-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","edition-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","token-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","signature-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1"},[ChainId.Goerli]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","token-drop":"0x5680933221B752EB443654a014f88B101F868d50","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId.Mumbai]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId.FantomTestnet]:{"nft-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD","edition-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","token-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","signature-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf"},[ChainId.AvalancheFujiTestnet]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","token-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","signature-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F"},[ChainId.OptimismGoerli]:{"nft-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","edition-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","token-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId.ArbitrumGoerli]:{"nft-drop":"0x9CfE807a5b124b962064Fa8F7FD823Cc701255b6","edition-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","token-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3","signature-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728"},[ChainId.BinanceSmartChainTestnet]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""},[ChainId.Hardhat]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""},[ChainId.Localhost]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""}};function getApprovedImplementation(o,a){if(o in APPROVED_IMPLEMENTATIONS){const rt=APPROVED_IMPLEMENTATIONS[o];if(a in rt)return rt[a]}return null}class ContractFactory extends ContractWrapper{constructor(a,rt,at,it){super(rt,a,TWFactoryAbi,it),_defineProperty(this,"storage",void 0),_defineProperty(this,"DEFAULT_VERSION_MAP",{[NFTDropInitializer.contractType]:3,[NFTCollectionInitializer.contractType]:1,[SignatureDropInitializer.contractType]:4,[MultiwrapInitializer.contractType]:1,[EditionDropInitializer.contractType]:2,[EditionInitializer.contractType]:1,[TokenDropInitializer.contractType]:2,[TokenInitializer.contractType]:1,[VoteInitializer.contractType]:1,[SplitInitializer.contractType]:1,[MarketplaceInitializer.contractType]:2,[MarketplaceV3Initializer.contractType]:1,[PackInitializer.contractType]:2}),_defineProperty(this,"deploy",buildTransactionFunction(async(ot,st,ct,lt,ut)=>{const dt=PREBUILT_CONTRACTS_MAP[ot],ft=await dt.schema.deploy.parseAsync(st),pt=await this.storage.upload(ft),ht=await this.getImplementation(dt,lt)||void 0;if(!ht||ht===AddressZero$1)throw new Error(`No implementation found for ${ot}`);const yt=await dt.getAbi(ht,this.getProvider(),this.storage),mt=this.getSigner();invariant(mt,"A signer is required to deploy contracts");const gt=await getDeployArguments(ot,ft,pt,mt,this.storage),bt=Contract.getInterface(yt).encodeFunctionData("initialize",gt),vt=await this.getProvider().getBlockNumber(),wt=formatBytes32String(vt.toString());return Transaction.fromContractWrapper({contractWrapper:this,method:"deployProxyByImplementation",args:[ht,bt,wt],parse:Tt=>{ut&&ut();const _t=this.parseLogs("ProxyDeployed",Tt.logs);if(_t.length<1)throw new Error("No ProxyDeployed event found");const St=_t[0].args.proxy;return ct.emit("contractDeployed",{status:"completed",contractAddress:St,transactionHash:Tt.transactionHash}),St}})})),_defineProperty(this,"deployProxyByImplementation",buildTransactionFunction(async(ot,st,ct,lt,ut,dt)=>{const ft=Contract.getInterface(st).encodeFunctionData(ct,lt),pt=await this.getProvider().getBlockNumber();return Transaction.fromContractWrapper({contractWrapper:this,method:"deployProxyByImplementation",args:[ot,ft,formatBytes32String(pt.toString())],parse:ht=>{dt&&dt();const yt=this.parseLogs("ProxyDeployed",ht.logs);if(yt.length<1)throw new Error("No ProxyDeployed event found");const mt=yt[0].args.proxy;return ut.emit("contractDeployed",{status:"completed",contractAddress:mt,transactionHash:ht.transactionHash}),mt}})})),this.storage=at}async getDeployArguments(a,rt,at){let it=a===PackInitializer.contractType?[]:await this.getDefaultTrustedForwarders();switch(rt.trusted_forwarders&&rt.trusted_forwarders.length>0&&(it=rt.trusted_forwarders),a){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const ot=await NFTDropInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),ot.name,ot.symbol,at,it,ot.primary_sale_recipient,ot.fee_recipient,ot.seller_fee_basis_points,ot.platform_fee_basis_points,ot.platform_fee_recipient];case SignatureDropInitializer.contractType:const st=await SignatureDropInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),st.name,st.symbol,at,it,st.primary_sale_recipient,st.fee_recipient,st.seller_fee_basis_points,st.platform_fee_basis_points,st.platform_fee_recipient];case MultiwrapInitializer.contractType:const ct=await MultiwrapInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),ct.name,ct.symbol,at,it,ct.fee_recipient,ct.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const lt=await EditionDropInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),lt.name,lt.symbol,at,it,lt.primary_sale_recipient,lt.fee_recipient,lt.seller_fee_basis_points,lt.platform_fee_basis_points,lt.platform_fee_recipient];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const ut=await TokenInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),ut.name,ut.symbol,at,it,ut.primary_sale_recipient,ut.platform_fee_recipient,ut.platform_fee_basis_points];case VoteInitializer.contractType:const dt=await VoteInitializer.schema.deploy.parseAsync(rt);return[dt.name,at,it,dt.voting_token_address,dt.voting_delay_in_blocks,dt.voting_period_in_blocks,BigNumber.from(dt.proposal_token_threshold),dt.voting_quorum_fraction];case SplitInitializer.contractType:const ft=await SplitInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),at,it,ft.recipients.map(mt=>mt.address),ft.recipients.map(mt=>BigNumber.from(mt.sharesBps))];case MarketplaceInitializer.contractType:const pt=await MarketplaceInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),at,it,pt.platform_fee_recipient,pt.platform_fee_basis_points];case MarketplaceV3Initializer.contractType:const ht=await MarketplaceV3Initializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),at,it,ht.platform_fee_recipient,ht.platform_fee_basis_points];case PackInitializer.contractType:const yt=await PackInitializer.schema.deploy.parseAsync(rt);return[await this.getSignerAddress(),yt.name,yt.symbol,at,it,yt.fee_recipient,yt.seller_fee_basis_points];default:return[]}}async getDefaultTrustedForwarders(){const a=await this.getChainID();return getDefaultTrustedForwarders(a)}async getImplementation(a,rt){const at=formatBytes32String(a.name),it=await this.getChainID(),ot=getApprovedImplementation(it,a.contractType);return ot&&ot.length>0&&rt===void 0?ot:this.readContract.getImplementation(at,rt!==void 0?rt:this.DEFAULT_VERSION_MAP[a.contractType])}async getLatestVersion(a){const rt=getContractName(a);if(!rt)throw new Error(`Invalid contract type ${a}`);const at=formatBytes32String(rt);return this.readContract.currentVersion(at)}}class ContractRegistry extends ContractWrapper{constructor(a,rt,at){super(rt,a,TWRegistryABI$1,at),_defineProperty(this,"addContract",buildTransactionFunction(async it=>await this.addContracts.prepare([it]))),_defineProperty(this,"addContracts",buildTransactionFunction(async it=>{const ot=await this.getSignerAddress(),st=await Promise.all(it.map(async ct=>this.readContract.interface.encodeFunctionData("add",[ot,await resolveAddress(ct)])));return Transaction.fromContractWrapper({contractWrapper:this,method:"multicall",args:[st]})})),_defineProperty(this,"removeContract",buildTransactionFunction(async it=>await this.removeContracts.prepare([it]))),_defineProperty(this,"removeContracts",buildTransactionFunction(async it=>{const ot=await this.getSignerAddress(),st=await Promise.all(it.map(async ct=>this.readContract.interface.encodeFunctionData("remove",[ot,await resolveAddress(ct)])));return Transaction.fromContractWrapper({contractWrapper:this,method:"multicall",args:[st]})}))}async getContractAddresses(a){return(await this.readContract.getAll(await resolveAddress(a))).filter(rt=>isAddress(rt)&&rt.toLowerCase()!==AddressZero$1)}}class ThirdwebSDK extends RPCConnectionHandler{static async fromWallet(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=arguments.length>3?arguments[3]:void 0;const ot=await a.getSigner();return ThirdwebSDK.fromSigner(ot,rt,at,it)}static fromSigner(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=arguments.length>3?arguments[3]:void 0,ot=a;if(rt&&!a.provider){const ct=getChainProvider(rt,at);ot=a.connect(ct)}const st=new ThirdwebSDK(rt||ot,at,it);return st.updateSignerOrProvider(ot),st}static fromPrivateKey(a,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=arguments.length>3?arguments[3]:void 0;const ot=getChainProvider(rt,at),st=new Wallet(a,ot);return new ThirdwebSDK(st,at,it)}constructor(a){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},at=arguments.length>2?arguments[2]:void 0;isChainConfig(a)&&(rt={...rt,supportedChains:[a,...rt.supportedChains||[]]}),super(a,rt),_defineProperty(this,"contractCache",new Map),_defineProperty(this,"_publisher",void 0),_defineProperty(this,"storageHandler",void 0),_defineProperty(this,"deployer",void 0),_defineProperty(this,"verifier",void 0),_defineProperty(this,"multiChainRegistry",void 0),_defineProperty(this,"wallet",void 0),_defineProperty(this,"storage",void 0),setSupportedChains(rt==null?void 0:rt.supportedChains);const it=createStorage(at,rt);this.storage=it,this.storageHandler=it,this.wallet=new UserWallet(a,rt),this.deployer=new ContractDeployer(a,rt,it),this.verifier=new ContractVerifier(a,rt,it),this.multiChainRegistry=new MultichainRegistry(a,this.storageHandler,this.options),this._publisher=new ContractPublisher(a,this.options,this.storageHandler)}get auth(){throw new Error(`The sdk.auth namespace has been moved to the @thirdweb-dev/auth package and is no longer available after @thirdweb-dev/sdk >= 3.7.0.
      Please visit https://portal.thirdweb.com/auth for instructions on how to switch to using the new auth package (@thirdweb-dev/auth@3.0.0).

      If you still want to use the old @thirdweb-dev/auth@2.0.0 package, you can downgrade the SDK to version 3.6.0.`)}async getNFTDrop(a){return await this.getContract(a,"nft-drop")}async getSignatureDrop(a){return await this.getContract(a,"signature-drop")}async getNFTCollection(a){return await this.getContract(a,"nft-collection")}async getEditionDrop(a){return await this.getContract(a,"edition-drop")}async getEdition(a){return await this.getContract(a,"edition")}async getTokenDrop(a){return await this.getContract(a,"token-drop")}async getToken(a){return await this.getContract(a,"token")}async getVote(a){return await this.getContract(a,"vote")}async getSplit(a){return await this.getContract(a,"split")}async getMarketplace(a){return await this.getContract(a,"marketplace")}async getMarketplaceV3(a){return await this.getContract(a,"marketplace-v3")}async getPack(a){return await this.getContract(a,"pack")}async getMultiwrap(a){return await this.getContract(a,"multiwrap")}async getContract(a,rt){const at=await resolveAddress(a);if(this.contractCache.has(at))return this.contractCache.get(at);if(at in GENERATED_ABI)return await this.getContractFromAbi(at,GENERATED_ABI[at]);let it;if(!rt||rt==="custom")try{const ot=await this.getPublisher().fetchCompilerMetadataFromAddress(at);it=await this.getContractFromAbi(at,ot.abi)}catch{const st=await this.resolveContractType(a);if(st&&st!=="custom"){const ct=await PREBUILT_CONTRACTS_MAP[st].getAbi(a,this.getProvider(),this.storage);it=await this.getContractFromAbi(a,ct)}else{const ct=(await this.getProvider().getNetwork()).chainId;throw new Error(`No ABI found for this contract. Try importing it by visiting: https://thirdweb.com/${ct}/${at}`)}}else typeof rt=="string"&&rt in PREBUILT_CONTRACTS_MAP?it=await PREBUILT_CONTRACTS_MAP[rt].initialize(this.getSignerOrProvider(),at,this.storage,this.options):it=await this.getContractFromAbi(at,rt);return this.contractCache.set(at,it),it}async getBuiltInContract(a,rt){return await this.getContract(a,rt)}async resolveContractType(a){try{const rt=new Contract(await resolveAddress(a),IThirdwebContractABI,this.getProvider()),at=toUtf8String(await rt.contractType()).replace(/\x00/g,"");return getContractTypeForRemoteName(at)}catch{return"custom"}}async getContractList(a){var it;const rt=await((it=await this.deployer.getRegistry())==null?void 0:it.getContractAddresses(await resolveAddress(a)))||[],at=(await this.getProvider().getNetwork()).chainId;return await Promise.all(rt.map(async ot=>({address:ot,chainId:at,contractType:()=>this.resolveContractType(ot),metadata:async()=>(await this.getContract(ot)).metadata.get(),extensions:async()=>getAllDetectedFeatureNames((await this.getContract(ot)).abi)})))}async getMultichainContractList(a){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultChains;const at=await this.multiChainRegistry.getContractAddresses(a),it=rt.reduce((st,ct)=>(st[ct.chainId]=ct,st),{}),ot={};return at.map(st=>{let{address:ct,chainId:lt}=st;if(!it[lt])return{address:ct,chainId:lt,contractType:async()=>"custom",metadata:async()=>({}),extensions:async()=>[]};try{let ut=ot[lt];return ut||(ut=new ThirdwebSDK(lt,{...this.options,readonlySettings:void 0,supportedChains:rt}),ot[lt]=ut),{address:ct,chainId:lt,contractType:()=>ut.resolveContractType(ct),metadata:async()=>(await ut.getContract(ct)).metadata.get(),extensions:async()=>getAllDetectedFeatureNames((await ut.getContract(ct)).abi)}}catch{return{address:ct,chainId:lt,contractType:async()=>"custom",metadata:async()=>({}),extensions:async()=>[]}}})}updateSignerOrProvider(a){super.updateSignerOrProvider(a),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){this.wallet.connect(this.getSignerOrProvider()),this.deployer.updateSignerOrProvider(this.getSignerOrProvider()),this._publisher.updateSignerOrProvider(this.getSignerOrProvider()),this.multiChainRegistry.updateSigner(this.getSignerOrProvider()),this.verifier.updateSignerOrProvider(this.getSignerOrProvider());for(const[,a]of this.contractCache)a.onNetworkUpdated(this.getSignerOrProvider())}async getContractFromAbi(a,rt){const at=await resolveAddress(a);if(this.contractCache.has(at))return this.contractCache.get(at);const[,it]=getSignerAndProvider(this.getSignerOrProvider(),this.options),ot=typeof rt=="string"?JSON.parse(rt):rt,st=new SmartContract(this.getSignerOrProvider(),at,await getCompositePluginABI(at,AbiSchema.parse(ot),it,this.options,this.storage),this.storageHandler,this.options,(await it.getNetwork()).chainId);return this.contractCache.set(at,st),st}async getBalance(a){return fetchCurrencyValue(this.getProvider(),NATIVE_TOKEN_ADDRESS,await this.getProvider().getBalance(await resolveAddress(a)))}getPublisher(){return this._publisher}}const THIRDWEB_DEPLOYER="0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024";class ContractDeployer extends RPCConnectionHandler{constructor(a,rt,at){var it;super(a,rt),it=this,_defineProperty(this,"_factory",void 0),_defineProperty(this,"_registry",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"events",void 0),_defineProperty(this,"transactionListener",ot=>{ot.status==="submitted"&&this.events.emit("contractDeployed",{status:"submitted",transactionHash:ot.transactionHash})}),_defineProperty(this,"deployNFTCollection",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(NFTCollectionInitializer.contractType,ot))),_defineProperty(this,"deployNFTDrop",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(NFTDropInitializer.contractType,ot))),_defineProperty(this,"deploySignatureDrop",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(SignatureDropInitializer.contractType,ot))),_defineProperty(this,"deployMultiwrap",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(MultiwrapInitializer.contractType,ot))),_defineProperty(this,"deployEdition",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(EditionInitializer.contractType,ot))),_defineProperty(this,"deployEditionDrop",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(EditionDropInitializer.contractType,ot))),_defineProperty(this,"deployToken",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(TokenInitializer.contractType,ot))),_defineProperty(this,"deployTokenDrop",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(TokenDropInitializer.contractType,ot))),_defineProperty(this,"deployMarketplace",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(MarketplaceInitializer.contractType,ot))),_defineProperty(this,"deployMarketplaceV3",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(MarketplaceV3Initializer.contractType,ot))),_defineProperty(this,"deployPack",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(PackInitializer.contractType,ot))),_defineProperty(this,"deploySplit",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(SplitInitializer.contractType,ot))),_defineProperty(this,"deployVote",buildDeployTransactionFunction(async ot=>await this.deployBuiltInContract.prepare(VoteInitializer.contractType,ot))),_defineProperty(this,"deployBuiltInContract",buildDeployTransactionFunction(async function(ot,st){let ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";const lt=it.getSigner();invariant(lt,"A signer is required to deploy contracts");const ut={app_uri:PREBUILT_CONTRACTS_APPURI_MAP[ot],...await PREBUILT_CONTRACTS_MAP[ot].schema.deploy.parseAsync(st)};if(it.hasLocalFactory()){let yt;try{yt=parseInt(ct),isNaN(yt)&&(yt=void 0)}catch{yt=void 0}const mt=await it.getFactory();if(!mt)throw new Error("Factory not found");return mt.on(EventType.Transaction,it.transactionListener),mt.deploy.prepare(ot,ut,it.events,yt,()=>{mt.off(EventType.Transaction,it.transactionListener)})}const dt=getContractName(ot);invariant(dt,"Contract name not found");const ft=await it.storage.upload(ut),pt=await getDeployArguments(ot,ut,ft,lt,it.storage),ht=await it.fetchPublishedContractFromPolygon(THIRDWEB_DEPLOYER,dt,ct);return it.deployContractFromUri.prepare(ht.metadataUri,pt)})),_defineProperty(this,"deployReleasedContract",buildDeployTransactionFunction(async function(ot,st,ct){let lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",ut=arguments.length>4?arguments[4]:void 0;const dt=await it.fetchPublishedContractFromPolygon(ot,st,lt);return await it.deployContractFromUri.prepare(dt.metadataUri,ct,ut)})),_defineProperty(this,"deployViaFactory",buildTransactionFunction(async(ot,st,ct,lt,ut)=>{const dt=await resolveAddress(ot),ft=await resolveAddress(st),pt=this.getSigner();invariant(pt,"signer is required");const ht=new ContractFactory(dt,this.getSignerOrProvider(),this.storage,this.options);return ht.on(EventType.Transaction,this.transactionListener),await ht.deployProxyByImplementation.prepare(ft,ct,lt,ut,this.events,()=>{ht.off(EventType.Transaction,this.transactionListener)})})),_defineProperty(this,"deployProxy",buildDeployTransactionFunction(async(ot,st,ct,lt)=>{const ut=await resolveAddress(ot),dt=Contract.getInterface(st).encodeFunctionData(ct,lt),{TWProxy__factory:ft}=await __vitePreload(()=>import("./thirdweb-dev-contracts-js-factories-TWProxy__factory.browser.esm.a9823422.js"),[]);return this.deployContractWithAbi.prepare(ft.abi,ft.bytecode,[ut,dt])})),_defineProperty(this,"deployContractFromUri",buildDeployTransactionFunction(async(ot,st,ct)=>{var mt,gt,bt;const lt=this.getSigner();invariant(lt,"A signer is required");const{compilerMetadata:ut,extendedMetadata:dt}=await fetchAndCacheDeployMetadata(ot,this.storage),ft=(ct==null?void 0:ct.forceDirectDeploy)||!1;if(dt&&dt.factoryDeploymentData&&(dt.isDeployableViaProxy||dt.isDeployableViaFactory)&&!ft){const vt=(await this.getProvider().getNetwork()).chainId;invariant(dt.factoryDeploymentData.implementationInitializerFunction,"implementationInitializerFunction not set'");const wt=extractFunctionParamsFromAbi(ut.abi,dt.factoryDeploymentData.implementationInitializerFunction).map(St=>St.type),Tt=convertParamValues(wt,st);let _t=dt.factoryDeploymentData.implementationAddresses[vt];if(_t){const St=await resolveAddress(_t);if(invariant(St,`implementationAddress not found for chainId '${vt}'`),dt.isDeployableViaFactory){invariant(dt.factoryDeploymentData.factoryAddresses,"isDeployableViaFactory is true so factoryAddresses is required");const Pt=dt.factoryDeploymentData.factoryAddresses[vt];invariant(Pt,`isDeployableViaFactory is true and factoryAddress not found for chainId '${vt}'`);const Nt=await resolveAddress(Pt);return await this.deployViaFactory.prepare(Nt,St,ut.abi,dt.factoryDeploymentData.implementationInitializerFunction,Tt)}else if(dt.isDeployableViaProxy)return await this.deployProxy.prepare(St,ut.abi,dt.factoryDeploymentData.implementationInitializerFunction,Tt)}else{const St=await deployCreate2Factory(lt,ct),Pt=await getDeploymentInfo(ot,this.storage,this.getProvider(),St);_t=(mt=Pt.find(xt=>xt.type==="implementation"))==null?void 0:mt.transaction.predictedAddress;const Nt=Pt.filter(xt=>xt.transaction.data&&xt.transaction.data.length>0),jt=Nt.filter(xt=>xt.type!=="infra").map(xt=>xt.transaction),Ut=Nt.filter(xt=>xt.type==="infra").map(xt=>xt.transaction);await deployWithThrowawayDeployer(lt,Ut,ct),await Promise.all(jt.map(xt=>deployContractDeterministic(lt,xt,ct)));const Ft=await resolveAddress(_t),Kt=await computeCloneFactoryAddress(this.getProvider(),this.storage,St);(gt=ct==null?void 0:ct.notifier)==null||gt.call(ct,"deploying","proxy");const Mt=await this.deployViaFactory.prepare(Kt,Ft,ut.abi,dt.factoryDeploymentData.implementationInitializerFunction,Tt);return(bt=ct==null?void 0:ct.notifier)==null||bt.call(ct,"deployed","proxy"),Mt}}const pt=ut.bytecode.startsWith("0x")?ut.bytecode:`0x${ut.bytecode}`;if(!isHexString(pt))throw new Error(`Contract bytecode is invalid.

${pt}`);const ht=extractConstructorParamsFromAbi(ut.abi).map(vt=>vt.type),yt=convertParamValues(ht,st);return this.deployContractWithAbi.prepare(ut.abi,pt,yt)})),_defineProperty(this,"deployContractWithAbi",buildDeployTransactionFunction(async(ot,st,ct)=>{const lt=this.getSigner(),ut=this.getProvider();invariant(lt,"Signer is required to deploy contracts");const dt=new ContractFactory$1(ot,st).connect(lt);return new DeployTransaction({args:ct,provider:ut,signer:lt,factory:dt,storage:this.storage,events:this.events})})),this.storage=at,this.events=new EventEmitter$1,this.getFactory(),this.getRegistry()}async getLatestBuiltInContractVersion(a){const rt=await this.getFactory();if(!rt)throw new Error("Factory not found");return await rt.getLatestVersion(a)}async getRegistry(){return this._registry?this._registry:this._registry=this.getProvider().getNetwork().then(async a=>{let{chainId:rt}=a;const at=getContractAddressByChainId(rt,"twRegistry");if(!!at)return new ContractRegistry(at,this.getSignerOrProvider(),this.options)})}async getFactory(){return this._factory?this._factory:this._factory=this.getProvider().getNetwork().then(async a=>{let{chainId:rt}=a;const at=getContractAddressByChainId(rt,"twFactory");return at?new ContractFactory(at,this.getSignerOrProvider(),this.storage,this.options):void 0})}updateSignerOrProvider(a){super.updateSignerOrProvider(a),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){var a,rt;(a=this._factory)==null||a.then(at=>{at==null||at.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{}),(rt=this._registry)==null||rt.then(at=>{at==null||at.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{})}async getTransactionsForDeploy(a,rt){let at=[];const it=this.getProvider();invariant(it,"A provider is required");const{extendedMetadata:ot}=await fetchAndCacheDeployMetadata(a,this.storage),st=(rt==null?void 0:rt.forceDirectDeploy)||!1;if(ot&&ot.factoryDeploymentData&&(ot.isDeployableViaProxy||ot.isDeployableViaFactory)&&!st){const ct=(await this.getProvider().getNetwork()).chainId;if(!ot.factoryDeploymentData.implementationAddresses[ct]){const ut=await getCreate2FactoryAddress(this.getProvider());at.push({contractType:"create2Factory",addresses:[ut]});const ft=(await getDeploymentInfo(a,this.storage,this.getProvider(),ut)).filter(mt=>mt.transaction.data&&mt.transaction.data.length>0);ft.filter(mt=>mt.type!=="infra").map(mt=>mt.transaction).forEach(mt=>{at.push({contractType:"preset",addresses:[mt.predictedAddress]})});const ht=ft.filter(mt=>mt.type==="infra").map(mt=>mt.transaction);createTransactionBatches(ht).forEach(mt=>{const gt=mt.map(bt=>bt.predictedAddress);at.push({contractType:"infra",addresses:gt})})}at=(await Promise.all(at.map(async ut=>(await Promise.all(ut.addresses.map(async ft=>await isContractDeployed(ft,it)?null:ft))).filter(Boolean).length>0?ut:null))).filter(Boolean),at.push({contractType:"proxy",addresses:[]})}else at.push({contractType:"custom",addresses:[]});return at}addDeployListener(a){this.events.on("contractDeployed",a)}removeDeployListener(a){this.events.off("contractDeployed",a)}removeAllDeployListeners(){this.events.removeAllListeners("contractDeployed")}async fetchPublishedContractFromPolygon(a,rt,at){const it=await resolveAddress(a),ot=await new ThirdwebSDK("polygon").getPublisher().getVersion(it,rt,at);if(!ot)throw new Error(`No published contract found for '${rt}' at version '${at}' by '${it}'`);return ot}hasLocalFactory(){return{}.factoryAddress!==void 0}}const metadataCache={},polygonSDK=new ThirdwebSDK("polygon");function getCacheKey(o,a){return`${o}-${a}`}function putInCache(o,a,rt){metadataCache[getCacheKey(o,a)]=rt}function getFromCache(o,a){return metadataCache[getCacheKey(o,a)]}async function fetchContractMetadataFromAddress(o,a,rt){const at=(await a.getNetwork()).chainId,it=getFromCache(o,at);if(it)return it;let ot;try{const st=await resolveContractUriFromAddress(o,a);if(!st)throw new Error(`Could not resolve metadata for contract at ${o}`);ot=await fetchContractMetadata(st,rt)}catch(st){console.warn("Failed to get Contract Metadata from IPFS, defaulting to onchain registry",st);try{const ct=await polygonSDK.multiChainRegistry.getContractMetadataURI(at,o);if(!ct)throw new Error(`Could not resolve metadata for contract at ${o}`);ot=await fetchContractMetadata(ct,rt)}catch{throw new Error(`Could not resolve metadata for contract at ${o}`)}}if(!ot)throw new Error(`No ABI found for this contract. Try importing it by visiting: https://thirdweb.com/${at}/${o}`);return putInCache(o,at,ot),ot}async function fetchAbiFromAddress(o,a,rt){try{const at=await fetchContractMetadataFromAddress(o,a,rt);if(at&&at.abi)return at.abi}catch{}}async function fetchContractMetadata(o,a){const rt=await a.downloadJSON(o);if(!rt||!rt.output)throw new Error(`Could not resolve metadata for contract at ${o}`);const at=AbiSchema.parse(rt.output.abi),it=rt.settings.compilationTarget,ot=Object.keys(it),st=it[ot[0]],ct=ContractInfoSchema.parse({title:rt.output.devdoc.title,author:rt.output.devdoc.author,details:rt.output.devdoc.detail,notice:rt.output.userdoc.notice}),lt=[...new Set(Object.entries(rt.sources).map(ut=>{let[,dt]=ut;return dt.license}))];return{name:st,abi:at,metadata:rt,info:ct,licenses:lt}}async function fetchSourceFilesFromMetadata(o,a){return await Promise.all(Object.entries(o.metadata.sources).map(async rt=>{let[at,it]=rt;const ot=it.urls,st=ot?ot.find(ct=>ct.includes("ipfs")):void 0;if(st){const ct=st.split("ipfs/")[1],lt=new Promise((dt,ft)=>setTimeout(()=>ft("timeout"),3e3)),ut=await Promise.race([(await a.download(`ipfs://${ct}`)).text(),lt]);return{filename:at,source:ut}}else return{filename:at,source:it.content||"Could not find source for this contract"}}))}class ContractMetadata{constructor(a,rt,at){_defineProperty(this,"featureName",FEATURE_METADATA.name),_defineProperty(this,"contractWrapper",void 0),_defineProperty(this,"schema",void 0),_defineProperty(this,"storage",void 0),_defineProperty(this,"set",buildTransactionFunction(async it=>{const ot=await this._parseAndUploadMetadata(it),st=this.contractWrapper;if(this.supportsContractMetadata(st))return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setContractURI",args:[ot],parse:ct=>({receipt:ct,data:this.get})});throw new ExtensionNotImplementedError(FEATURE_METADATA)})),_defineProperty(this,"update",buildTransactionFunction(async it=>await this.set.prepare({...await this.get(),...it}))),this.contractWrapper=a,this.schema=rt,this.storage=at}parseOutputMetadata(a){return this.schema.output.parseAsync(a)}parseInputMetadata(a){return this.schema.input.parseAsync(a)}async get(){let a;if(this.supportsContractMetadata(this.contractWrapper)){const rt=await this.contractWrapper.readContract.contractURI();rt&&rt.includes("://")&&(a=await this.storage.downloadJSON(rt))}if(!a)try{let rt;try{hasFunction("name",this.contractWrapper)&&(rt=await this.contractWrapper.readContract.name())}catch{}let at;try{hasFunction("symbol",this.contractWrapper)&&(at=await this.contractWrapper.readContract.symbol())}catch{}let it;try{it=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage)}catch{}a={name:rt||(it==null?void 0:it.name),symbol:at,description:it==null?void 0:it.info.title}}catch{throw new Error("Could not fetch contract metadata")}return this.parseOutputMetadata(a)}async _parseAndUploadMetadata(a){const rt=await this.parseInputMetadata(a);return this.storage.upload(rt)}supportsContractMetadata(a){return detectContractFeature(a,"ContractMetadata")}}const PropertiesInput=z$2.object({}).catchall(z$2.union([BigNumberTransformSchema,z$2.unknown()]));z$2.union([z$2.array(PropertiesInput),PropertiesInput]).optional();z$2.object({toAddress:AddressOrEnsSchema,amount:AmountSchema});const EditionMetadataOutputSchema=z$2.object({supply:BigNumberSchema,metadata:CommonNFTOutput});EditionMetadataOutputSchema.extend({owner:z$2.string(),quantityOwned:BigNumberSchema});z$2.object({supply:BigNumberishSchema,metadata:CommonNFTInput});z$2.object({supply:BigNumberishSchema,metadata:NFTInputOrUriSchema});function getCachedAbiForContract(o){if(o in GENERATED_ABI)return GENERATED_ABI[o]}class Connector extends EventEmitter$1{}class WagmiAdapter extends Connector{constructor(a){super(),_defineProperty$1(this,"wagmiConnector",void 0),this.wagmiConnector=a}async connect(a){return this.setupConnectorListeners(),(await this.wagmiConnector.connect(a)).account}disconnect(){return this.wagmiConnector.removeAllListeners("connect"),this.wagmiConnector.removeAllListeners("change"),this.wagmiConnector.disconnect()}isConnected(){return this.wagmiConnector.isAuthorized()}getAddress(){return this.wagmiConnector.getAccount()}getSigner(){return this.wagmiConnector.getSigner()}getProvider(){return this.wagmiConnector.getProvider()}async switchChain(a){if(!this.wagmiConnector.switchChain)throw new Error("Switch chain not supported");await this.wagmiConnector.switchChain(a)}setupConnectorListeners(){this.wagmiConnector.addListener("connect",a=>{this.emit("connect",a)}),this.wagmiConnector.addListener("change",a=>{this.emit("change",a)}),this.wagmiConnector.addListener("disconnect",()=>{this.emit("disconnect")})}async setupListeners(){this.setupConnectorListeners(),await this.wagmiConnector.setupListeners()}updateChains(a){this.wagmiConnector.updateChains(a)}}function assertWindowEthereum(o){return typeof o<"u"&&"ethereum"in o}window.Buffer=buffer.Buffer;class CoinbaseWallet extends AbstractClientWallet{get walletName(){return"Coinbase Wallet"}constructor(a){super(CoinbaseWallet.id,a),_defineProperty$1(this,"connector",void 0),_defineProperty$1(this,"coinbaseConnector",void 0),_defineProperty$1(this,"headlessMode",void 0),this.headlessMode=(a==null?void 0:a.headlessMode)||!1}async getConnector(){if(!this.connector){const{CoinbaseWalletConnector:a}=await __vitePreload(()=>import("./thirdweb-dev-wallets-evm-connectors-coinbase-wallet.browser.esm.bc420d29.js"),["assets/thirdweb-dev-wallets-evm-connectors-coinbase-wallet.browser.esm.bc420d29.js","assets/normalizeChainId-e4cc0175.browser.esm.550894d6.js"]),rt=new a({chains:this.chains,options:{appName:this.dappMetadata.name,reloadOnDisconnect:!1,darkMode:this.dappMetadata.isDarkMode,headlessMode:this.headlessMode}});rt.on("connect",()=>{}),this.coinbaseConnector=rt,this.connector=new WagmiAdapter(rt)}return this.connector}async getQrUrl(){if(await this.getConnector(),!this.coinbaseConnector)throw new Error("Coinbase connector not initialized");return this.coinbaseConnector.getQrUrl()}}_defineProperty$1(CoinbaseWallet,"meta",{iconURL:"ipfs://QmcJBHopbwfJcLqJpX2xEufSS84aLbF7bHavYhaXUcrLaH/coinbase.svg",name:"Coinbase Wallet",urls:{chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-nfts-crypto/id1278383455"}});_defineProperty$1(CoinbaseWallet,"id",walletIds.coinbase);class MetaMaskWallet extends AbstractClientWallet{get walletName(){return"MetaMask"}constructor(a){var rt;super(MetaMaskWallet.id,a),_defineProperty$1(this,"connector",void 0),_defineProperty$1(this,"walletConnectConnector",void 0),_defineProperty$1(this,"metamaskConnector",void 0),_defineProperty$1(this,"isInjected",void 0),assertWindowEthereum(globalThis.window)?this.isInjected=!!((rt=globalThis.window.ethereum)!=null&&rt.isMetaMask):this.isInjected=!1}async getConnector(){var a;if(!this.connector)if(this.isInjected){const{MetaMaskConnector:rt}=await __vitePreload(()=>import("./thirdweb-dev-wallets-evm-connectors-metamask.browser.esm.d7f52fbd.js"),["assets/thirdweb-dev-wallets-evm-connectors-metamask.browser.esm.d7f52fbd.js","assets/normalizeChainId-e4cc0175.browser.esm.550894d6.js"]),at=new rt({chains:this.chains,connectorStorage:this.walletStorage,options:{shimDisconnect:!0}});this.metamaskConnector=at,this.connector=new WagmiAdapter(at)}else{const{WalletConnectV1Connector:rt}=await __vitePreload(()=>import("./thirdweb-dev-wallets-evm-connectors-wallet-connect-v1.browser.esm.b4f83842.js"),["assets/thirdweb-dev-wallets-evm-connectors-wallet-connect-v1.browser.esm.b4f83842.js","assets/normalizeChainId-e4cc0175.browser.esm.550894d6.js"]),at=new rt({chains:this.chains,storage:this.walletStorage,options:{clientMeta:{name:this.dappMetadata.name,description:this.dappMetadata.description||"",url:this.dappMetadata.url,icons:[this.dappMetadata.logoUrl||""]},qrcode:(a=this.options)==null?void 0:a.qrcode}});this.walletConnectConnector=at,this.connector=new WagmiAdapter(at)}return this.connector}async connectWithQrCode(a){await this.getConnector();const rt=this.walletConnectConnector;if(!rt)throw new Error("WalletConnect connector not found");const at=await rt.getProvider();at.connector.on("display_uri",(it,ot)=>{a.onQrCodeUri(ot.params[0])}),await at.enable(),this.connect({chainId:a.chainId}).then(a.onConnected)}async switchAccount(){if(!this.metamaskConnector)throw new Error("Can not switch Account");await this.metamaskConnector.switchAccount()}}_defineProperty$1(MetaMaskWallet,"meta",{name:"MetaMask",iconURL:"ipfs://QmZZHcw7zcXursywnLDAyY6Hfxzqop5GKgwoq8NB9jjrkN/metamask.svg",urls:{chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask-blockchain-wallet/id1438144202"}});_defineProperty$1(MetaMaskWallet,"id",walletIds.metamask);var _walletConnectConnector=new WeakMap,_provider=new WeakMap,_onConnect=new WeakMap,_onDisconnect=new WeakMap,_onChange=new WeakMap,_onMessage=new WeakMap,_setupListeners=new WeakSet,_removeListeners=new WeakSet;class WalletConnectV1 extends AbstractClientWallet{get walletName(){var a;return((a=_classPrivateFieldGet$1(this,_walletConnectConnector))==null?void 0:a.walletName)||"WalletConnect"}constructor(a){super((a==null?void 0:a.walletId)||WalletConnectV1.id,a),_classPrivateMethodInitSpec(this,_removeListeners),_classPrivateMethodInitSpec(this,_setupListeners),_classPrivateFieldInitSpec$1(this,_walletConnectConnector,{writable:!0,value:void 0}),_classPrivateFieldInitSpec$1(this,_provider,{writable:!0,value:void 0}),_defineProperty$1(this,"connector",void 0),_defineProperty$1(this,"qrcode",void 0),_classPrivateFieldInitSpec$1(this,_onConnect,{writable:!0,value:rt=>{if(_classPrivateFieldSet$1(this,_provider,rt.provider),!_classPrivateFieldGet$1(this,_provider))throw new Error("WalletConnect provider not found after connecting.")}}),_classPrivateFieldInitSpec$1(this,_onDisconnect,{writable:!0,value:()=>{_classPrivateMethodGet(this,_removeListeners,_removeListeners2).call(this)}}),_classPrivateFieldInitSpec$1(this,_onChange,{writable:!0,value:async rt=>{rt.chain||rt.account}}),_classPrivateFieldInitSpec$1(this,_onMessage,{writable:!0,value:rt=>{switch(rt.type){case"request":case"add_chain":case"switch_chain":this.emit("open_wallet");break;case"display_uri":this.emit("open_wallet",rt.data);break}}}),this.qrcode=(a==null?void 0:a.qrcode)!==!1}async getConnector(){if(!this.connector){const{WalletConnectV1Connector:a}=await __vitePreload(()=>import("./thirdweb-dev-wallets-evm-connectors-wallet-connect-v1.browser.esm.b4f83842.js"),["assets/thirdweb-dev-wallets-evm-connectors-wallet-connect-v1.browser.esm.b4f83842.js","assets/normalizeChainId-e4cc0175.browser.esm.550894d6.js"]);_classPrivateFieldSet$1(this,_walletConnectConnector,new a({chains:this.chains,storage:this.walletStorage,options:{qrcode:this.qrcode,clientMeta:{description:this.dappMetadata.description||"",url:this.dappMetadata.url,icons:[this.dappMetadata.logoUrl||""],name:this.dappMetadata.name}}})),this.connector=new WagmiAdapter(_classPrivateFieldGet$1(this,_walletConnectConnector)),_classPrivateFieldSet$1(this,_provider,await _classPrivateFieldGet$1(this,_walletConnectConnector).getProvider()),_classPrivateMethodGet(this,_setupListeners,_setupListeners2).call(this)}return this.connector}}function _setupListeners2(){!_classPrivateFieldGet$1(this,_walletConnectConnector)||(_classPrivateFieldGet$1(this,_walletConnectConnector).on("connect",_classPrivateFieldGet$1(this,_onConnect)),_classPrivateFieldGet$1(this,_walletConnectConnector).on("disconnect",_classPrivateFieldGet$1(this,_onDisconnect)),_classPrivateFieldGet$1(this,_walletConnectConnector).on("change",_classPrivateFieldGet$1(this,_onChange)),_classPrivateFieldGet$1(this,_walletConnectConnector).on("message",_classPrivateFieldGet$1(this,_onMessage)))}function _removeListeners2(){!_classPrivateFieldGet$1(this,_walletConnectConnector)||(_classPrivateFieldGet$1(this,_walletConnectConnector).removeListener("connect",_classPrivateFieldGet$1(this,_onConnect)),_classPrivateFieldGet$1(this,_walletConnectConnector).removeListener("disconnect",_classPrivateFieldGet$1(this,_onDisconnect)),_classPrivateFieldGet$1(this,_walletConnectConnector).removeListener("change",_classPrivateFieldGet$1(this,_onChange)),_classPrivateFieldGet$1(this,_walletConnectConnector).removeListener("message",_classPrivateFieldGet$1(this,_onMessage)))}_defineProperty$1(WalletConnectV1,"id",walletIds.walletConnectV1);_defineProperty$1(WalletConnectV1,"meta",{name:"WalletConnect",iconURL:"ipfs://QmX58KPRaTC9JYZ7KriuBzeoEaV2P9eZcA3qbFnTHZazKw/wallet-connect.svg"});class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){const rt={listener:a};return this.listeners.add(rt),this.onSubscribe(),()=>{this.listeners.delete(rt),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$1(){}function functionalUpdate(o,a){return typeof o=="function"?o(a):o}function isValidTimeout(o){return typeof o=="number"&&o>=0&&o!==1/0}function timeUntilStale(o,a){return Math.max(o+(a||0)-Date.now(),0)}function parseQueryArgs(o,a,rt){return isQueryKey(o)?typeof a=="function"?{...rt,queryKey:o,queryFn:a}:{...a,queryKey:o}:o}function parseMutationArgs(o,a,rt){return isQueryKey(o)?typeof a=="function"?{...rt,mutationKey:o,mutationFn:a}:{...a,mutationKey:o}:typeof o=="function"?{...a,mutationFn:o}:{...o}}function parseFilterArgs(o,a,rt){return isQueryKey(o)?[{...a,queryKey:o},rt]:[o||{},a]}function matchQuery(o,a){const{type:rt="all",exact:at,fetchStatus:it,predicate:ot,queryKey:st,stale:ct}=o;if(isQueryKey(st)){if(at){if(a.queryHash!==hashQueryKeyByOptions(st,a.options))return!1}else if(!partialMatchKey(a.queryKey,st))return!1}if(rt!=="all"){const lt=a.isActive();if(rt==="active"&&!lt||rt==="inactive"&&lt)return!1}return!(typeof ct=="boolean"&&a.isStale()!==ct||typeof it<"u"&&it!==a.state.fetchStatus||ot&&!ot(a))}function matchMutation(o,a){const{exact:rt,fetching:at,predicate:it,mutationKey:ot}=o;if(isQueryKey(ot)){if(!a.options.mutationKey)return!1;if(rt){if(hashQueryKey(a.options.mutationKey)!==hashQueryKey(ot))return!1}else if(!partialMatchKey(a.options.mutationKey,ot))return!1}return!(typeof at=="boolean"&&a.state.status==="loading"!==at||it&&!it(a))}function hashQueryKeyByOptions(o,a){return((a==null?void 0:a.queryKeyHashFn)||hashQueryKey)(o)}function hashQueryKey(o){return JSON.stringify(o,(a,rt)=>isPlainObject(rt)?Object.keys(rt).sort().reduce((at,it)=>(at[it]=rt[it],at),{}):rt)}function partialMatchKey(o,a){return partialDeepEqual(o,a)}function partialDeepEqual(o,a){return o===a?!0:typeof o!=typeof a?!1:o&&a&&typeof o=="object"&&typeof a=="object"?!Object.keys(a).some(rt=>!partialDeepEqual(o[rt],a[rt])):!1}function replaceEqualDeep(o,a){if(o===a)return o;const rt=isPlainArray(o)&&isPlainArray(a);if(rt||isPlainObject(o)&&isPlainObject(a)){const at=rt?o.length:Object.keys(o).length,it=rt?a:Object.keys(a),ot=it.length,st=rt?[]:{};let ct=0;for(let lt=0;lt<ot;lt++){const ut=rt?lt:it[lt];st[ut]=replaceEqualDeep(o[ut],a[ut]),st[ut]===o[ut]&&ct++}return at===ot&&ct===at?o:st}return a}function shallowEqualObjects(o,a){if(o&&!a||a&&!o)return!1;for(const rt in o)if(o[rt]!==a[rt])return!1;return!0}function isPlainArray(o){return Array.isArray(o)&&o.length===Object.keys(o).length}function isPlainObject(o){if(!hasObjectPrototype(o))return!1;const a=o.constructor;if(typeof a>"u")return!0;const rt=a.prototype;return!(!hasObjectPrototype(rt)||!rt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(o){return Object.prototype.toString.call(o)==="[object Object]"}function isQueryKey(o){return Array.isArray(o)}function sleep(o){return new Promise(a=>{setTimeout(a,o)})}function scheduleMicrotask(o){sleep(0).then(o)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(o,a,rt){return rt.isDataEqual!=null&&rt.isDataEqual(o,a)?o:typeof rt.structuralSharing=="function"?rt.structuralSharing(o,a):rt.structuralSharing!==!1?replaceEqualDeep(o,a):a}class FocusManager extends Subscribable{constructor(){super(),this.setup=a=>{if(!isServer&&window.addEventListener){const rt=()=>a();return window.addEventListener("visibilitychange",rt,!1),window.addEventListener("focus",rt,!1),()=>{window.removeEventListener("visibilitychange",rt),window.removeEventListener("focus",rt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}}setEventListener(a){var rt;this.setup=a,(rt=this.cleanup)==null||rt.call(this),this.cleanup=a(at=>{typeof at=="boolean"?this.setFocused(at):this.onFocus()})}setFocused(a){this.focused=a,a&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:a})=>{a()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=a=>{if(!isServer&&window.addEventListener){const rt=()=>a();return onlineEvents.forEach(at=>{window.addEventListener(at,rt,!1)}),()=>{onlineEvents.forEach(at=>{window.removeEventListener(at,rt)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}}setEventListener(a){var rt;this.setup=a,(rt=this.cleanup)==null||rt.call(this),this.cleanup=a(at=>{typeof at=="boolean"?this.setOnline(at):this.onOnline()})}setOnline(a){this.online=a,a&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:a})=>{a()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(o){return Math.min(1e3*2**o,3e4)}function canFetch(o){return(o!=null?o:"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(a){this.revert=a==null?void 0:a.revert,this.silent=a==null?void 0:a.silent}}function isCancelledError(o){return o instanceof CancelledError}function createRetryer(o){let a=!1,rt=0,at=!1,it,ot,st;const ct=new Promise((gt,bt)=>{ot=gt,st=bt}),lt=gt=>{at||(ht(new CancelledError(gt)),o.abort==null||o.abort())},ut=()=>{a=!0},dt=()=>{a=!1},ft=()=>!focusManager.isFocused()||o.networkMode!=="always"&&!onlineManager.isOnline(),pt=gt=>{at||(at=!0,o.onSuccess==null||o.onSuccess(gt),it==null||it(),ot(gt))},ht=gt=>{at||(at=!0,o.onError==null||o.onError(gt),it==null||it(),st(gt))},yt=()=>new Promise(gt=>{it=bt=>{const vt=at||!ft();return vt&&gt(bt),vt},o.onPause==null||o.onPause()}).then(()=>{it=void 0,at||o.onContinue==null||o.onContinue()}),mt=()=>{if(at)return;let gt;try{gt=o.fn()}catch(bt){gt=Promise.reject(bt)}Promise.resolve(gt).then(pt).catch(bt=>{var vt,wt;if(at)return;const Tt=(vt=o.retry)!=null?vt:3,_t=(wt=o.retryDelay)!=null?wt:defaultRetryDelay,St=typeof _t=="function"?_t(rt,bt):_t,Pt=Tt===!0||typeof Tt=="number"&&rt<Tt||typeof Tt=="function"&&Tt(rt,bt);if(a||!Pt){ht(bt);return}rt++,o.onFail==null||o.onFail(rt,bt),sleep(St).then(()=>{if(ft())return yt()}).then(()=>{a?ht(bt):mt()})})};return canFetch(o.networkMode)?mt():yt().then(mt),{promise:ct,cancel:lt,continue:()=>(it==null?void 0:it())?ct:Promise.resolve(),cancelRetry:ut,continueRetry:dt}}const defaultLogger=console;function createNotifyManager(){let o=[],a=0,rt=dt=>{dt()},at=dt=>{dt()};const it=dt=>{let ft;a++;try{ft=dt()}finally{a--,a||ct()}return ft},ot=dt=>{a?o.push(dt):scheduleMicrotask(()=>{rt(dt)})},st=dt=>(...ft)=>{ot(()=>{dt(...ft)})},ct=()=>{const dt=o;o=[],dt.length&&scheduleMicrotask(()=>{at(()=>{dt.forEach(ft=>{rt(ft)})})})};return{batch:it,batchCalls:st,schedule:ot,setNotifyFunction:dt=>{rt=dt},setBatchNotifyFunction:dt=>{at=dt}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(a){this.cacheTime=Math.max(this.cacheTime||0,a!=null?a:isServer?1/0:5*60*1e3)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(a){super(),this.abortSignalConsumed=!1,this.defaultOptions=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.cache=a.cache,this.logger=a.logger||defaultLogger,this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.initialState=a.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(a){this.options={...this.defaultOptions,...a},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(a,rt){const at=replaceData(this.state.data,a,this.options);return this.dispatch({data:at,type:"success",dataUpdatedAt:rt==null?void 0:rt.updatedAt,manual:rt==null?void 0:rt.manual}),at}setState(a,rt){this.dispatch({type:"setState",state:a,setStateOptions:rt})}cancel(a){var rt;const at=this.promise;return(rt=this.retryer)==null||rt.cancel(a),at?at.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(a=>a.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(a=>a.getCurrentResult().isStale)}isStaleByTime(a=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,a)}onFocus(){var a;const rt=this.observers.find(at=>at.shouldFetchOnWindowFocus());rt&&rt.refetch({cancelRefetch:!1}),(a=this.retryer)==null||a.continue()}onOnline(){var a;const rt=this.observers.find(at=>at.shouldFetchOnReconnect());rt&&rt.refetch({cancelRefetch:!1}),(a=this.retryer)==null||a.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(rt=>rt!==a),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(a,rt){var at,it;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&rt!=null&&rt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var ot;return(ot=this.retryer)==null||ot.continueRetry(),this.promise}}if(a&&this.setOptions(a),!this.options.queryFn){const ht=this.observers.find(yt=>yt.options.queryFn);ht&&this.setOptions(ht.options)}Array.isArray(this.options.queryKey);const st=getAbortController(),ct={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},lt=ht=>{Object.defineProperty(ht,"signal",{enumerable:!0,get:()=>{if(st)return this.abortSignalConsumed=!0,st.signal}})};lt(ct);const ut=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(ct)):Promise.reject("Missing queryFn"),dt={fetchOptions:rt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:ut};if(lt(dt),(at=this.options.behavior)==null||at.onFetch(dt),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((it=dt.fetchOptions)==null?void 0:it.meta)){var ft;this.dispatch({type:"fetch",meta:(ft=dt.fetchOptions)==null?void 0:ft.meta})}const pt=ht=>{if(isCancelledError(ht)&&ht.silent||this.dispatch({type:"error",error:ht}),!isCancelledError(ht)){var yt,mt,gt,bt;(yt=(mt=this.cache.config).onError)==null||yt.call(mt,ht,this),(gt=(bt=this.cache.config).onSettled)==null||gt.call(bt,this.state.data,ht,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:dt.fetchFn,abort:st==null?void 0:st.abort.bind(st),onSuccess:ht=>{var yt,mt,gt,bt;if(typeof ht>"u"){pt(new Error(this.queryHash+" data is undefined"));return}this.setData(ht),(yt=(mt=this.cache.config).onSuccess)==null||yt.call(mt,ht,this),(gt=(bt=this.cache.config).onSettled)==null||gt.call(bt,ht,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:pt,onFail:(ht,yt)=>{this.dispatch({type:"failed",failureCount:ht,error:yt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:dt.options.retry,retryDelay:dt.options.retryDelay,networkMode:dt.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(a){const rt=at=>{var it,ot;switch(a.type){case"failed":return{...at,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...at,fetchStatus:"paused"};case"continue":return{...at,fetchStatus:"fetching"};case"fetch":return{...at,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(it=a.meta)!=null?it:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!at.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...at,data:a.data,dataUpdateCount:at.dataUpdateCount+1,dataUpdatedAt:(ot=a.dataUpdatedAt)!=null?ot:Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const st=a.error;return isCancelledError(st)&&st.revert&&this.revertState?{...this.revertState}:{...at,error:st,errorUpdateCount:at.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:at.fetchFailureCount+1,fetchFailureReason:st,fetchStatus:"idle",status:"error"};case"invalidate":return{...at,isInvalidated:!0};case"setState":return{...at,...a.state}}};this.state=rt(this.state),notifyManager.batch(()=>{this.observers.forEach(at=>{at.onQueryUpdate(a)}),this.cache.notify({query:this,type:"updated",action:a})})}}function getDefaultState$1(o){const a=typeof o.initialData=="function"?o.initialData():o.initialData,rt=typeof a<"u",at=rt?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:rt?at!=null?at:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:rt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(a){super(),this.config=a||{},this.queries=[],this.queriesMap={}}build(a,rt,at){var it;const ot=rt.queryKey,st=(it=rt.queryHash)!=null?it:hashQueryKeyByOptions(ot,rt);let ct=this.get(st);return ct||(ct=new Query({cache:this,logger:a.getLogger(),queryKey:ot,queryHash:st,options:a.defaultQueryOptions(rt),state:at,defaultOptions:a.getQueryDefaults(ot)}),this.add(ct)),ct}add(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"added",query:a}))}remove(a){const rt=this.queriesMap[a.queryHash];rt&&(a.destroy(),this.queries=this.queries.filter(at=>at!==a),rt===a&&delete this.queriesMap[a.queryHash],this.notify({type:"removed",query:a}))}clear(){notifyManager.batch(()=>{this.queries.forEach(a=>{this.remove(a)})})}get(a){return this.queriesMap[a]}getAll(){return this.queries}find(a,rt){const[at]=parseFilterArgs(a,rt);return typeof at.exact>"u"&&(at.exact=!0),this.queries.find(it=>matchQuery(at,it))}findAll(a,rt){const[at]=parseFilterArgs(a,rt);return Object.keys(at).length>0?this.queries.filter(it=>matchQuery(at,it)):this.queries}notify(a){notifyManager.batch(()=>{this.listeners.forEach(({listener:rt})=>{rt(a)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(a=>{a.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(a=>{a.onOnline()})})}}class Mutation extends Removable{constructor(a){super(),this.defaultOptions=a.defaultOptions,this.mutationId=a.mutationId,this.mutationCache=a.mutationCache,this.logger=a.logger||defaultLogger,this.observers=[],this.state=a.state||getDefaultState(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options={...this.defaultOptions,...a},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(a){this.dispatch({type:"setState",state:a})}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.observers=this.observers.filter(rt=>rt!==a),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var a,rt;return(a=(rt=this.retryer)==null?void 0:rt.continue())!=null?a:this.execute()}async execute(){const a=()=>{var Pt;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Nt,jt)=>{this.dispatch({type:"failed",failureCount:Nt,error:jt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(Pt=this.options.retry)!=null?Pt:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},rt=this.state.status==="loading";try{var at,it,ot,st,ct,lt,ut,dt;if(!rt){var ft,pt,ht,yt;this.dispatch({type:"loading",variables:this.options.variables}),await((ft=(pt=this.mutationCache.config).onMutate)==null?void 0:ft.call(pt,this.state.variables,this));const Nt=await((ht=(yt=this.options).onMutate)==null?void 0:ht.call(yt,this.state.variables));Nt!==this.state.context&&this.dispatch({type:"loading",context:Nt,variables:this.state.variables})}const Pt=await a();return await((at=(it=this.mutationCache.config).onSuccess)==null?void 0:at.call(it,Pt,this.state.variables,this.state.context,this)),await((ot=(st=this.options).onSuccess)==null?void 0:ot.call(st,Pt,this.state.variables,this.state.context)),await((ct=(lt=this.mutationCache.config).onSettled)==null?void 0:ct.call(lt,Pt,null,this.state.variables,this.state.context,this)),await((ut=(dt=this.options).onSettled)==null?void 0:ut.call(dt,Pt,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:Pt}),Pt}catch(Pt){try{var mt,gt,bt,vt,wt,Tt,_t,St;throw await((mt=(gt=this.mutationCache.config).onError)==null?void 0:mt.call(gt,Pt,this.state.variables,this.state.context,this)),await((bt=(vt=this.options).onError)==null?void 0:bt.call(vt,Pt,this.state.variables,this.state.context)),await((wt=(Tt=this.mutationCache.config).onSettled)==null?void 0:wt.call(Tt,void 0,Pt,this.state.variables,this.state.context,this)),await((_t=(St=this.options).onSettled)==null?void 0:_t.call(St,void 0,Pt,this.state.variables,this.state.context)),Pt}finally{this.dispatch({type:"error",error:Pt})}}}dispatch(a){const rt=at=>{switch(a.type){case"failed":return{...at,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...at,isPaused:!0};case"continue":return{...at,isPaused:!1};case"loading":return{...at,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:a.variables};case"success":return{...at,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...at,data:void 0,error:a.error,failureCount:at.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"};case"setState":return{...at,...a.state}}};this.state=rt(this.state),notifyManager.batch(()=>{this.observers.forEach(at=>{at.onMutationUpdate(a)}),this.mutationCache.notify({mutation:this,type:"updated",action:a})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(a){super(),this.config=a||{},this.mutations=[],this.mutationId=0}build(a,rt,at){const it=new Mutation({mutationCache:this,logger:a.getLogger(),mutationId:++this.mutationId,options:a.defaultMutationOptions(rt),state:at,defaultOptions:rt.mutationKey?a.getMutationDefaults(rt.mutationKey):void 0});return this.add(it),it}add(a){this.mutations.push(a),this.notify({type:"added",mutation:a})}remove(a){this.mutations=this.mutations.filter(rt=>rt!==a),this.notify({type:"removed",mutation:a})}clear(){notifyManager.batch(()=>{this.mutations.forEach(a=>{this.remove(a)})})}getAll(){return this.mutations}find(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(rt=>matchMutation(a,rt))}findAll(a){return this.mutations.filter(rt=>matchMutation(a,rt))}notify(a){notifyManager.batch(()=>{this.listeners.forEach(({listener:rt})=>{rt(a)})})}resumePausedMutations(){var a;return this.resuming=((a=this.resuming)!=null?a:Promise.resolve()).then(()=>{const rt=this.mutations.filter(at=>at.state.isPaused);return notifyManager.batch(()=>rt.reduce((at,it)=>at.then(()=>it.continue().catch(noop$1)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:o=>{o.fetchFn=()=>{var a,rt,at,it,ot,st;const ct=(a=o.fetchOptions)==null||(rt=a.meta)==null?void 0:rt.refetchPage,lt=(at=o.fetchOptions)==null||(it=at.meta)==null?void 0:it.fetchMore,ut=lt==null?void 0:lt.pageParam,dt=(lt==null?void 0:lt.direction)==="forward",ft=(lt==null?void 0:lt.direction)==="backward",pt=((ot=o.state.data)==null?void 0:ot.pages)||[],ht=((st=o.state.data)==null?void 0:st.pageParams)||[];let yt=ht,mt=!1;const gt=St=>{Object.defineProperty(St,"signal",{enumerable:!0,get:()=>{var Pt;if((Pt=o.signal)!=null&&Pt.aborted)mt=!0;else{var Nt;(Nt=o.signal)==null||Nt.addEventListener("abort",()=>{mt=!0})}return o.signal}})},bt=o.options.queryFn||(()=>Promise.reject("Missing queryFn")),vt=(St,Pt,Nt,jt)=>(yt=jt?[Pt,...yt]:[...yt,Pt],jt?[Nt,...St]:[...St,Nt]),wt=(St,Pt,Nt,jt)=>{if(mt)return Promise.reject("Cancelled");if(typeof Nt>"u"&&!Pt&&St.length)return Promise.resolve(St);const Ut={queryKey:o.queryKey,pageParam:Nt,meta:o.options.meta};gt(Ut);const Ft=bt(Ut);return Promise.resolve(Ft).then(Mt=>vt(St,Nt,Mt,jt))};let Tt;if(!pt.length)Tt=wt([]);else if(dt){const St=typeof ut<"u",Pt=St?ut:getNextPageParam(o.options,pt);Tt=wt(pt,St,Pt)}else if(ft){const St=typeof ut<"u",Pt=St?ut:getPreviousPageParam(o.options,pt);Tt=wt(pt,St,Pt,!0)}else{yt=[];const St=typeof o.options.getNextPageParam>"u";Tt=(ct&&pt[0]?ct(pt[0],0,pt):!0)?wt([],St,ht[0]):Promise.resolve(vt([],ht[0],pt[0]));for(let Nt=1;Nt<pt.length;Nt++)Tt=Tt.then(jt=>{if(ct&&pt[Nt]?ct(pt[Nt],Nt,pt):!0){const Ft=St?ht[Nt]:getNextPageParam(o.options,jt);return wt(jt,St,Ft)}return Promise.resolve(vt(jt,ht[Nt],pt[Nt]))})}return Tt.then(St=>({pages:St,pageParams:yt}))}}}}function getNextPageParam(o,a){return o.getNextPageParam==null?void 0:o.getNextPageParam(a[a.length-1],a)}function getPreviousPageParam(o,a){return o.getPreviousPageParam==null?void 0:o.getPreviousPageParam(a[0],a)}class QueryClient{constructor(a={}){this.queryCache=a.queryCache||new QueryCache,this.mutationCache=a.mutationCache||new MutationCache,this.logger=a.logger||defaultLogger,this.defaultOptions=a.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var a,rt;this.mountCount--,this.mountCount===0&&((a=this.unsubscribeFocus)==null||a.call(this),this.unsubscribeFocus=void 0,(rt=this.unsubscribeOnline)==null||rt.call(this),this.unsubscribeOnline=void 0)}isFetching(a,rt){const[at]=parseFilterArgs(a,rt);return at.fetchStatus="fetching",this.queryCache.findAll(at).length}isMutating(a){return this.mutationCache.findAll({...a,fetching:!0}).length}getQueryData(a,rt){var at;return(at=this.queryCache.find(a,rt))==null?void 0:at.state.data}ensureQueryData(a,rt,at){const it=parseQueryArgs(a,rt,at),ot=this.getQueryData(it.queryKey);return ot?Promise.resolve(ot):this.fetchQuery(it)}getQueriesData(a){return this.getQueryCache().findAll(a).map(({queryKey:rt,state:at})=>{const it=at.data;return[rt,it]})}setQueryData(a,rt,at){const it=this.queryCache.find(a),ot=it==null?void 0:it.state.data,st=functionalUpdate(rt,ot);if(typeof st>"u")return;const ct=parseQueryArgs(a),lt=this.defaultQueryOptions(ct);return this.queryCache.build(this,lt).setData(st,{...at,manual:!0})}setQueriesData(a,rt,at){return notifyManager.batch(()=>this.getQueryCache().findAll(a).map(({queryKey:it})=>[it,this.setQueryData(it,rt,at)]))}getQueryState(a,rt){var at;return(at=this.queryCache.find(a,rt))==null?void 0:at.state}removeQueries(a,rt){const[at]=parseFilterArgs(a,rt),it=this.queryCache;notifyManager.batch(()=>{it.findAll(at).forEach(ot=>{it.remove(ot)})})}resetQueries(a,rt,at){const[it,ot]=parseFilterArgs(a,rt,at),st=this.queryCache,ct={type:"active",...it};return notifyManager.batch(()=>(st.findAll(it).forEach(lt=>{lt.reset()}),this.refetchQueries(ct,ot)))}cancelQueries(a,rt,at){const[it,ot={}]=parseFilterArgs(a,rt,at);typeof ot.revert>"u"&&(ot.revert=!0);const st=notifyManager.batch(()=>this.queryCache.findAll(it).map(ct=>ct.cancel(ot)));return Promise.all(st).then(noop$1).catch(noop$1)}invalidateQueries(a,rt,at){const[it,ot]=parseFilterArgs(a,rt,at);return notifyManager.batch(()=>{var st,ct;if(this.queryCache.findAll(it).forEach(ut=>{ut.invalidate()}),it.refetchType==="none")return Promise.resolve();const lt={...it,type:(st=(ct=it.refetchType)!=null?ct:it.type)!=null?st:"active"};return this.refetchQueries(lt,ot)})}refetchQueries(a,rt,at){const[it,ot]=parseFilterArgs(a,rt,at),st=notifyManager.batch(()=>this.queryCache.findAll(it).filter(lt=>!lt.isDisabled()).map(lt=>{var ut;return lt.fetch(void 0,{...ot,cancelRefetch:(ut=ot==null?void 0:ot.cancelRefetch)!=null?ut:!0,meta:{refetchPage:it.refetchPage}})}));let ct=Promise.all(st).then(noop$1);return ot!=null&&ot.throwOnError||(ct=ct.catch(noop$1)),ct}fetchQuery(a,rt,at){const it=parseQueryArgs(a,rt,at),ot=this.defaultQueryOptions(it);typeof ot.retry>"u"&&(ot.retry=!1);const st=this.queryCache.build(this,ot);return st.isStaleByTime(ot.staleTime)?st.fetch(ot):Promise.resolve(st.state.data)}prefetchQuery(a,rt,at){return this.fetchQuery(a,rt,at).then(noop$1).catch(noop$1)}fetchInfiniteQuery(a,rt,at){const it=parseQueryArgs(a,rt,at);return it.behavior=infiniteQueryBehavior(),this.fetchQuery(it)}prefetchInfiniteQuery(a,rt,at){return this.fetchInfiniteQuery(a,rt,at).then(noop$1).catch(noop$1)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(a){this.defaultOptions=a}setQueryDefaults(a,rt){const at=this.queryDefaults.find(it=>hashQueryKey(a)===hashQueryKey(it.queryKey));at?at.defaultOptions=rt:this.queryDefaults.push({queryKey:a,defaultOptions:rt})}getQueryDefaults(a){if(!a)return;const rt=this.queryDefaults.find(at=>partialMatchKey(a,at.queryKey));return rt==null?void 0:rt.defaultOptions}setMutationDefaults(a,rt){const at=this.mutationDefaults.find(it=>hashQueryKey(a)===hashQueryKey(it.mutationKey));at?at.defaultOptions=rt:this.mutationDefaults.push({mutationKey:a,defaultOptions:rt})}getMutationDefaults(a){if(!a)return;const rt=this.mutationDefaults.find(at=>partialMatchKey(a,at.mutationKey));return rt==null?void 0:rt.defaultOptions}defaultQueryOptions(a){if(a!=null&&a._defaulted)return a;const rt={...this.defaultOptions.queries,...this.getQueryDefaults(a==null?void 0:a.queryKey),...a,_defaulted:!0};return!rt.queryHash&&rt.queryKey&&(rt.queryHash=hashQueryKeyByOptions(rt.queryKey,rt)),typeof rt.refetchOnReconnect>"u"&&(rt.refetchOnReconnect=rt.networkMode!=="always"),typeof rt.useErrorBoundary>"u"&&(rt.useErrorBoundary=!!rt.suspense),rt}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...this.defaultOptions.mutations,...this.getMutationDefaults(a==null?void 0:a.mutationKey),...a,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(a,rt){super(),this.client=a,this.options=rt,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(rt)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(a,rt){const at=this.options,it=this.currentQuery;if(this.options=this.client.defaultQueryOptions(a),shallowEqualObjects(at,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=at.queryKey),this.updateQuery();const ot=this.hasListeners();ot&&shouldFetchOptionally(this.currentQuery,it,this.options,at)&&this.executeFetch(),this.updateResult(rt),ot&&(this.currentQuery!==it||this.options.enabled!==at.enabled||this.options.staleTime!==at.staleTime)&&this.updateStaleTimeout();const st=this.computeRefetchInterval();ot&&(this.currentQuery!==it||this.options.enabled!==at.enabled||st!==this.currentRefetchInterval)&&this.updateRefetchInterval(st)}getOptimisticResult(a){const rt=this.client.getQueryCache().build(this.client,a);return this.createResult(rt,a)}getCurrentResult(){return this.currentResult}trackResult(a){const rt={};return Object.keys(a).forEach(at=>{Object.defineProperty(rt,at,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(at),a[at])})}),rt}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:a,...rt}={}){return this.fetch({...rt,meta:{refetchPage:a}})}fetchOptimistic(a){const rt=this.client.defaultQueryOptions(a),at=this.client.getQueryCache().build(this.client,rt);return at.isFetchingOptimistic=!0,at.fetch().then(()=>this.createResult(at,rt))}fetch(a){var rt;return this.executeFetch({...a,cancelRefetch:(rt=a.cancelRefetch)!=null?rt:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(a){this.updateQuery();let rt=this.currentQuery.fetch(this.options,a);return a!=null&&a.throwOnError||(rt=rt.catch(noop$1)),rt}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const rt=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},rt)}computeRefetchInterval(){var a;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(a=this.options.refetchInterval)!=null?a:!1}updateRefetchInterval(a){this.clearRefetchInterval(),this.currentRefetchInterval=a,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(a,rt){const at=this.currentQuery,it=this.options,ot=this.currentResult,st=this.currentResultState,ct=this.currentResultOptions,lt=a!==at,ut=lt?a.state:this.currentQueryInitialState,dt=lt?this.currentResult:this.previousQueryResult,{state:ft}=a;let{dataUpdatedAt:pt,error:ht,errorUpdatedAt:yt,fetchStatus:mt,status:gt}=ft,bt=!1,vt=!1,wt;if(rt._optimisticResults){const Nt=this.hasListeners(),jt=!Nt&&shouldFetchOnMount(a,rt),Ut=Nt&&shouldFetchOptionally(a,at,rt,it);(jt||Ut)&&(mt=canFetch(a.options.networkMode)?"fetching":"paused",pt||(gt="loading")),rt._optimisticResults==="isRestoring"&&(mt="idle")}if(rt.keepPreviousData&&!ft.dataUpdatedAt&&dt!=null&&dt.isSuccess&&gt!=="error")wt=dt.data,pt=dt.dataUpdatedAt,gt=dt.status,bt=!0;else if(rt.select&&typeof ft.data<"u")if(ot&&ft.data===(st==null?void 0:st.data)&&rt.select===this.selectFn)wt=this.selectResult;else try{this.selectFn=rt.select,wt=rt.select(ft.data),wt=replaceData(ot==null?void 0:ot.data,wt,rt),this.selectResult=wt,this.selectError=null}catch(Nt){this.selectError=Nt}else wt=ft.data;if(typeof rt.placeholderData<"u"&&typeof wt>"u"&&gt==="loading"){let Nt;if(ot!=null&&ot.isPlaceholderData&&rt.placeholderData===(ct==null?void 0:ct.placeholderData))Nt=ot.data;else if(Nt=typeof rt.placeholderData=="function"?rt.placeholderData():rt.placeholderData,rt.select&&typeof Nt<"u")try{Nt=rt.select(Nt),this.selectError=null}catch(jt){this.selectError=jt}typeof Nt<"u"&&(gt="success",wt=replaceData(ot==null?void 0:ot.data,Nt,rt),vt=!0)}this.selectError&&(ht=this.selectError,wt=this.selectResult,yt=Date.now(),gt="error");const Tt=mt==="fetching",_t=gt==="loading",St=gt==="error";return{status:gt,fetchStatus:mt,isLoading:_t,isSuccess:gt==="success",isError:St,isInitialLoading:_t&&Tt,data:wt,dataUpdatedAt:pt,error:ht,errorUpdatedAt:yt,failureCount:ft.fetchFailureCount,failureReason:ft.fetchFailureReason,errorUpdateCount:ft.errorUpdateCount,isFetched:ft.dataUpdateCount>0||ft.errorUpdateCount>0,isFetchedAfterMount:ft.dataUpdateCount>ut.dataUpdateCount||ft.errorUpdateCount>ut.errorUpdateCount,isFetching:Tt,isRefetching:Tt&&!_t,isLoadingError:St&&ft.dataUpdatedAt===0,isPaused:mt==="paused",isPlaceholderData:vt,isPreviousData:bt,isRefetchError:St&&ft.dataUpdatedAt!==0,isStale:isStale(a,rt),refetch:this.refetch,remove:this.remove}}updateResult(a){const rt=this.currentResult,at=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(at,rt))return;this.currentResult=at;const it={cache:!0},ot=()=>{if(!rt)return!0;const{notifyOnChangeProps:st}=this.options;if(st==="all"||!st&&!this.trackedProps.size)return!0;const ct=new Set(st!=null?st:this.trackedProps);return this.options.useErrorBoundary&&ct.add("error"),Object.keys(this.currentResult).some(lt=>{const ut=lt;return this.currentResult[ut]!==rt[ut]&&ct.has(ut)})};(a==null?void 0:a.listeners)!==!1&&ot()&&(it.listeners=!0),this.notify({...it,...a})}updateQuery(){const a=this.client.getQueryCache().build(this.client,this.options);if(a===this.currentQuery)return;const rt=this.currentQuery;this.currentQuery=a,this.currentQueryInitialState=a.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(rt==null||rt.removeObserver(this),a.addObserver(this))}onQueryUpdate(a){const rt={};a.type==="success"?rt.onSuccess=!a.manual:a.type==="error"&&!isCancelledError(a.error)&&(rt.onError=!0),this.updateResult(rt),this.hasListeners()&&this.updateTimers()}notify(a){notifyManager.batch(()=>{if(a.onSuccess){var rt,at,it,ot;(rt=(at=this.options).onSuccess)==null||rt.call(at,this.currentResult.data),(it=(ot=this.options).onSettled)==null||it.call(ot,this.currentResult.data,null)}else if(a.onError){var st,ct,lt,ut;(st=(ct=this.options).onError)==null||st.call(ct,this.currentResult.error),(lt=(ut=this.options).onSettled)==null||lt.call(ut,void 0,this.currentResult.error)}a.listeners&&this.listeners.forEach(({listener:dt})=>{dt(this.currentResult)}),a.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(o,a){return a.enabled!==!1&&!o.state.dataUpdatedAt&&!(o.state.status==="error"&&a.retryOnMount===!1)}function shouldFetchOnMount(o,a){return shouldLoadOnMount(o,a)||o.state.dataUpdatedAt>0&&shouldFetchOn(o,a,a.refetchOnMount)}function shouldFetchOn(o,a,rt){if(a.enabled!==!1){const at=typeof rt=="function"?rt(o):rt;return at==="always"||at!==!1&&isStale(o,a)}return!1}function shouldFetchOptionally(o,a,rt,at){return rt.enabled!==!1&&(o!==a||at.enabled===!1)&&(!rt.suspense||o.state.status!=="error")&&isStale(o,rt)}function isStale(o,a){return o.isStaleByTime(a.staleTime)}class MutationObserver$1 extends Subscribable{constructor(a,rt){super(),this.client=a,this.setOptions(rt),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var rt;const at=this.options;this.options=this.client.defaultMutationOptions(a),shallowEqualObjects(at,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(rt=this.currentMutation)==null||rt.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var a;(a=this.currentMutation)==null||a.removeObserver(this)}}onMutationUpdate(a){this.updateResult();const rt={listeners:!0};a.type==="success"?rt.onSuccess=!0:a.type==="error"&&(rt.onError=!0),this.notify(rt)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(a,rt){return this.mutateOptions=rt,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof a<"u"?a:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const a=this.currentMutation?this.currentMutation.state:getDefaultState(),rt={...a,isLoading:a.status==="loading",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=rt}notify(a){notifyManager.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(a.onSuccess){var rt,at,it,ot;(rt=(at=this.mutateOptions).onSuccess)==null||rt.call(at,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(it=(ot=this.mutateOptions).onSettled)==null||it.call(ot,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(a.onError){var st,ct,lt,ut;(st=(ct=this.mutateOptions).onError)==null||st.call(ct,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(lt=(ut=this.mutateOptions).onSettled)==null||lt.call(ut,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}a.listeners&&this.listeners.forEach(({listener:dt})=>{dt(this.currentResult)})})}}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=react.exports;function h$2(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var k$2=typeof Object.is=="function"?Object.is:h$2,l$1=e$1.useState,m$2=e$1.useEffect,n$1=e$1.useLayoutEffect,p$1=e$1.useDebugValue;function q$2(o,a){var rt=a(),at=l$1({inst:{value:rt,getSnapshot:a}}),it=at[0].inst,ot=at[1];return n$1(function(){it.value=rt,it.getSnapshot=a,r$1(it)&&ot({inst:it})},[o,rt,a]),m$2(function(){return r$1(it)&&ot({inst:it}),o(function(){r$1(it)&&ot({inst:it})})},[o]),p$1(rt),rt}function r$1(o){var a=o.getSnapshot;o=o.value;try{var rt=a();return!k$2(o,rt)}catch{return!0}}function t$1(o,a){return a()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$2;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u;(function(o){o.exports=useSyncExternalStoreShim_production_min})(shim);const useSyncExternalStore=shim.exports.useSyncExternalStore,defaultContext=react.exports.createContext(void 0),QueryClientSharingContext=react.exports.createContext(!1);function getQueryClientContext(o,a){return o||(a&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:o}={})=>{const a=react.exports.useContext(getQueryClientContext(o,react.exports.useContext(QueryClientSharingContext)));if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},QueryClientProvider=({client:o,children:a,context:rt,contextSharing:at=!1})=>{react.exports.useEffect(()=>(o.mount(),()=>{o.unmount()}),[o]);const it=getQueryClientContext(rt,at);return jsx(QueryClientSharingContext.Provider,{value:!rt&&at,children:jsx(it.Provider,{value:o,children:a})})},IsRestoringContext=react.exports.createContext(!1),useIsRestoring=()=>react.exports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let o=!1;return{clearReset:()=>{o=!1},reset:()=>{o=!0},isReset:()=>o}}const QueryErrorResetBoundaryContext=react.exports.createContext(createValue()),useQueryErrorResetBoundary=()=>react.exports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(o,a){return typeof o=="function"?o(...a):!!o}const ensurePreventErrorBoundaryRetry=(o,a)=>{(o.suspense||o.useErrorBoundary)&&(a.isReset()||(o.retryOnMount=!1))},useClearResetErrorBoundary=o=>{react.exports.useEffect(()=>{o.clearReset()},[o])},getHasError=({result:o,errorResetBoundary:a,useErrorBoundary:rt,query:at})=>o.isError&&!a.isReset()&&!o.isFetching&&shouldThrowError(rt,[o.error,at]),ensureStaleTime=o=>{o.suspense&&typeof o.staleTime!="number"&&(o.staleTime=1e3)},willFetch=(o,a)=>o.isLoading&&o.isFetching&&!a,shouldSuspend=(o,a,rt)=>(o==null?void 0:o.suspense)&&willFetch(a,rt),fetchOptimistic=(o,a,rt)=>a.fetchOptimistic(o).then(({data:at})=>{o.onSuccess==null||o.onSuccess(at),o.onSettled==null||o.onSettled(at,null)}).catch(at=>{rt.clearReset(),o.onError==null||o.onError(at),o.onSettled==null||o.onSettled(void 0,at)});function useBaseQuery(o,a){const rt=useQueryClient({context:o.context}),at=useIsRestoring(),it=useQueryErrorResetBoundary(),ot=rt.defaultQueryOptions(o);ot._optimisticResults=at?"isRestoring":"optimistic",ot.onError&&(ot.onError=notifyManager.batchCalls(ot.onError)),ot.onSuccess&&(ot.onSuccess=notifyManager.batchCalls(ot.onSuccess)),ot.onSettled&&(ot.onSettled=notifyManager.batchCalls(ot.onSettled)),ensureStaleTime(ot),ensurePreventErrorBoundaryRetry(ot,it),useClearResetErrorBoundary(it);const[st]=react.exports.useState(()=>new a(rt,ot)),ct=st.getOptimisticResult(ot);if(useSyncExternalStore(react.exports.useCallback(lt=>{const ut=at?()=>{}:st.subscribe(notifyManager.batchCalls(lt));return st.updateResult(),ut},[st,at]),()=>st.getCurrentResult(),()=>st.getCurrentResult()),react.exports.useEffect(()=>{st.setOptions(ot,{listeners:!1})},[ot,st]),shouldSuspend(ot,ct,at))throw fetchOptimistic(ot,st,it);if(getHasError({result:ct,errorResetBoundary:it,useErrorBoundary:ot.useErrorBoundary,query:st.getCurrentQuery()}))throw ct.error;return ot.notifyOnChangeProps?ct:st.trackResult(ct)}function useQuery(o,a,rt){const at=parseQueryArgs(o,a,rt);return useBaseQuery(at,QueryObserver)}function useMutation(o,a,rt){const at=parseMutationArgs(o,a,rt),it=useQueryClient({context:at.context}),[ot]=react.exports.useState(()=>new MutationObserver$1(it,at));react.exports.useEffect(()=>{ot.setOptions(at)},[ot,at]);const st=useSyncExternalStore(react.exports.useCallback(lt=>ot.subscribe(notifyManager.batchCalls(lt)),[ot]),()=>ot.getCurrentResult(),()=>ot.getCurrentResult()),ct=react.exports.useCallback((lt,ut)=>{ot.mutate(lt,ut).catch(noop)},[ot]);if(st.error&&shouldThrowError(ot.options.useErrorBoundary,[st.error]))throw st.error;return{...st,mutate:ct,mutateAsync:st.mutate}}function noop(){}const QueryClientProviderWithDefault=o=>{let{queryClient:a,children:rt}=o;const at=react.exports.useMemo(()=>a||new QueryClient,[a]);return jsx(QueryClientProvider,{client:at,children:rt})},NEVER_PERSIST_QUERY_POSTFIX={persist:!1};function neverPersist(o){return[...o,NEVER_PERSIST_QUERY_POSTFIX]}function requiredParamInvariant(o,a){invariant(o!==null||o!==void 0,a)}globalThis.global=globalThis;function resolveIpfsUri(o,a){if(!o)return;const rt=prepareGatewayUrls(parseGatewayUrls(a!=null&&a.gatewayUrl?[a==null?void 0:a.gatewayUrl]:void 0));return replaceSchemeWithGatewayUrl(o,rt)}async function resolveMimeType(o){if(!o)return;const a=lite.getType(o);if(a)return a;const rt=await fetch(o,{method:"HEAD"});if(rt.ok&&rt.headers.has("content-type"))return rt.headers.get("content-type")||void 0}const ThirdwebThemeContext=react.exports.createContext(void 0),ThirdwebAuthContext=react.exports.createContext(void 0),ThirdwebAuthProvider=o=>{let{value:a,children:rt}=o;const at=react.exports.useMemo(()=>{var ot;return a?{...a,authUrl:(ot=a.authUrl)==null?void 0:ot.replace(/\/$/,"")}:void 0},[a]);return jsx(ThirdwebAuthContext.Provider,{value:at,children:rt})},updateChainRPCs=(o,a)=>{try{return{...o,rpc:getChainRPCs(o,a)}}catch{return o}};function useUpdateChainsWithApiKeys(o,a,rt,at,it){const ot=react.exports.useMemo(()=>({thirdwebApiKey:rt,alchemyApiKey:at,infuraApiKey:it}),[rt,at,it]),st=react.exports.useMemo(()=>o.map(lt=>updateChainRPCs(lt,ot)),[o,ot]),ct=react.exports.useMemo(()=>!a||typeof a=="string"||typeof a=="number"?a:updateChainRPCs(a,ot),[a,ot]);return[st,ct]}const DEFAULT_API_KEY$1="fb52f0ca630bdd02f0d5210d9e8e3568272ac765dd0709272918eefb29d3ac9e",ThirdwebConfigContext=react.exports.createContext({chains:defaultChains}),ThirdwebConfigProvider=o=>{let{value:a,children:rt}=o;return jsx(ThirdwebConfigContext.Provider,{value:a,children:rt})};function useThirdwebConfigContext(){return react.exports.useContext(ThirdwebConfigContext)}const INITIAL_CONTEXT_VALUE={wallet:void 0,address:void 0,chainId:void 0,signer:void 0},ThirdwebConnectedWalletContext=react.exports.createContext(INITIAL_CONTEXT_VALUE),ThirdwebConnectedWalletProvider=o=>{let{signer:a,children:rt}=o;const{chains:at,thirdwebApiKey:it,alchemyApiKey:ot,infuraApiKey:st}=useThirdwebConfigContext(),[ct,lt]=react.exports.useState({...INITIAL_CONTEXT_VALUE,signer:a||void 0});return react.exports.useEffect(()=>{lt(ut=>({...ut,signer:a||void 0}))},[a]),react.exports.useEffect(()=>{let ut=a;return a?Promise.all([a.getAddress(),a.getChainId()]).then(dt=>{let[ft,pt]=dt;const ht=at.find(mt=>mt.chainId===pt);let yt;if(ht)try{yt=getChainRPC(ht,{thirdwebApiKey:it,alchemyApiKey:ot,infuraApiKey:st})}catch(mt){console.error(mt)}if(a===ut){const mt=new UserWallet(a,{readonlySettings:yt?{rpcUrl:yt,chainId:pt}:void 0});lt({wallet:mt,address:ft,chainId:pt,signer:a})}}).catch(dt=>{}):lt(INITIAL_CONTEXT_VALUE),()=>{ut=void 0}},[a,it,ot,st]),jsx(ThirdwebConnectedWalletContext.Provider,{value:ct,children:rt})};function useThirdwebConnectedWalletContext(){return react.exports.useContext(ThirdwebConnectedWalletContext)}const ThirdwebSDKContext=react.exports.createContext({}),WrappedThirdwebSDKProvider=o=>{let{sdkOptions:a={},storageInterface:rt,supportedChains:at,activeChain:it,signer:ot,children:st,thirdwebApiKey:ct,infuraApiKey:lt,alchemyApiKey:ut}=o;const dt=react.exports.useMemo(()=>{var ht,yt;return it?typeof it=="number"?it:typeof it=="string"?(yt=at.find(mt=>mt.slug===it))==null?void 0:yt.chainId:it.chainId:(ht=at[0])==null?void 0:ht.chainId},[it,at]),ft=react.exports.useMemo(()=>{let ht=dt;const yt=at.find(vt=>vt.chainId===ht);!yt&&ht!==void 0&&(console.warn(`The chainId ${ht} is not in the configured chains, please add it to the ThirdwebProvider`),ht=void 0);let mt;if(yt&&yt.rpc.length>0)try{const vt=getChainRPC(yt,{thirdwebApiKey:ct,infuraApiKey:lt,alchemyApiKey:ut});mt={chainId:yt.chainId,rpcUrl:vt}}catch{}const gt={readonlySettings:mt,...a,supportedChains:at};let bt;if(ht&&(bt=new ThirdwebSDK(ht,{...gt,infuraApiKey:lt,alchemyApiKey:ut,thirdwebApiKey:ct},rt)),!bt)if(at.length>0)ht=at[0].chainId,bt=new ThirdwebSDK(ht,gt,rt);else{console.error("No chains configured, please pass a chain or chains to the ThirdwebProvider");return}return bt._chainId=ht,bt},[dt,ut,lt,at,a,rt,ct]);react.exports.useEffect(()=>{ft&&ft._chainId===dt&&(ot?ft.updateSignerOrProvider(ot):dt&&ft.updateSignerOrProvider(dt))},[ft,ft==null?void 0:ft._chainId,ot,dt]);const pt=react.exports.useMemo(()=>({sdk:ft&&ft._chainId===dt?ft:void 0,_inProvider:!0}),[dt,ft]);return jsx(ThirdwebSDKContext.Provider,{value:pt,children:st})},ThirdwebSDKProvider=o=>{let{signer:a,children:rt,queryClient:at,supportedChains:it,activeChain:ot,thirdwebApiKey:st=DEFAULT_API_KEY$1,alchemyApiKey:ct,infuraApiKey:lt,...ut}=o;const dt=react.exports.useMemo(()=>it||defaultChains,[it]),[ft,pt]=useUpdateChainsWithApiKeys(dt,ot||dt[0],st,ct,lt),ht=react.exports.useMemo(()=>!pt||typeof pt=="string"||typeof pt=="number"?ft:[...ft.filter(mt=>mt.chainId!==pt.chainId),pt].filter((mt,gt,bt)=>gt===bt.findIndex(vt=>vt.chainId===mt.chainId)),[ft,pt]);return jsx(ThirdwebConfigProvider,{value:{chains:ht,thirdwebApiKey:st,alchemyApiKey:ct,infuraApiKey:lt},children:jsx(ThirdwebConnectedWalletProvider,{signer:a,children:jsx(QueryClientProviderWithDefault,{queryClient:at,children:jsx(WrappedThirdwebSDKProvider,{signer:a,supportedChains:ht,thirdwebApiKey:st,alchemyApiKey:ct,infuraApiKey:lt,activeChain:pt,...ut,children:rt})})})})};function useSDKContext(){const o=react.exports.useContext(ThirdwebSDKContext);return invariant(o._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),o}function useSDK(){const{sdk:o}=useSDKContext();return o}function useSDKChainId(){const o=useSDK();return o==null?void 0:o._chainId}const LAST_CONNECTED_WALLET_STORAGE_KEY="lastConnectedWallet";let lastConnectedWalletStorage;const walletInstanceToConfig=new Map,ThirdwebWalletContext=react.exports.createContext(void 0);function ThirdwebWalletProvider(o){const[a,rt]=react.exports.useState(void 0),[at,it]=react.exports.useState("unknown"),[ot,st]=react.exports.useState(),[ct,lt]=react.exports.useState(),[ut,dt]=react.exports.useState();lastConnectedWalletStorage||(lastConnectedWalletStorage=o.createWalletStorage("coordinatorStorage"));const ft=o.autoSwitch?o.activeChain:void 0,pt=react.exports.useContext(ThirdwebThemeContext),ht=react.exports.useMemo(()=>({...{chains:o.chains,dappMetadata:o.dAppMeta},chain:o.activeChain||o.chains[0],theme:pt||"dark"}),[o.chains,o.dAppMeta,o.activeChain,pt]),yt=react.exports.useCallback(St=>{const Pt=St.create(ht);return Pt.walletId===walletIds.magicLink&&lt(Pt),walletInstanceToConfig.set(Pt,St),Pt},[ht]);react.exports.useEffect(()=>{ot&&ot.updateChains(o.chains)},[ot,o.chains]);const mt=react.exports.useCallback(async function(St,Pt){let Nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;st(St);const jt=walletInstanceToConfig.get(St);if(!jt)throw new Error("Wallet config not found for given wallet instance. Do not create a wallet instance manually - use the useCreateWalletInstance() hook instead");dt(jt),it("connected");const Ut=await St.getSigner();if(rt(Ut),Nt)return;const Ft={walletId:jt.id,connectParams:Pt},Kt=St.getPersonalWallet(),Mt=walletInstanceToConfig.get(Kt);Kt&&Mt&&(Ft.connectParams={...Ft.connectParams,personalWallet:{walletId:Mt.id,connectParams:Kt.getConnectParams()}}),saveLastConnectedWalletInfo(Ft)},[]),gt=react.exports.useCallback(async St=>{const Pt=await lastConnectedWalletStorage.getItem(LAST_CONNECTED_WALLET_STORAGE_KEY);if(!!Pt)try{const Nt=JSON.parse(Pt);Nt.connectParams.chainId=St,await lastConnectedWalletStorage.setItem(LAST_CONNECTED_WALLET_STORAGE_KEY,JSON.stringify(Nt))}catch(Nt){console.error(`Error saving the last active chain: ${Nt}`)}},[]),bt=react.exports.useCallback(async St=>{if(!ot)throw new Error("No active wallet");await ot.switchChain(St);const Pt=await ot.getSigner();await gt(St),rt(Pt)},[ot,gt]),vt=react.exports.useRef(!1);react.exports.useEffect(()=>{if(vt.current)return;if(o.shouldAutoConnect===!1){it("disconnected");return}if(ot||at!=="unknown")return;vt.current=!0;async function St(){var Ft;const Pt=await getLastConnectedWalletInfo();if(!Pt){it("disconnected");return}const Nt=o.supportedWallets.find(Kt=>Kt.id===Pt.walletId);if(!Nt){it("disconnected");return}const jt=(Ft=Pt.connectParams)==null?void 0:Ft.personalWallet;if(jt){const Mt=("config"in Nt?Nt.config.personalWallets:[]).find(xt=>xt.id===jt.walletId);if(Mt){const xt=yt(Mt);try{await xt.autoConnect(jt.connectParams)}catch(Et){console.error(Et),it("disconnected");return}Pt.connectParams={...Pt.connectParams,personalWallet:xt}}else{it("disconnected");return}}const Ut=yt(Nt);try{it("connecting"),await Ut.autoConnect(Pt.connectParams),mt(Ut,Pt.connectParams,!0)}catch(Kt){console.error(Kt),lastConnectedWalletStorage.removeItem(LAST_CONNECTED_WALLET_STORAGE_KEY),it("disconnected")}}St()},[yt,o.supportedWallets,mt,o.shouldAutoConnect,ot,at]);const wt=react.exports.useCallback(async function(){for(var St=arguments.length,Pt=new Array(St),Nt=0;Nt<St;Nt++)Pt[Nt]=arguments[Nt];const[jt,Ut]=Pt,Ft={chainId:ft==null?void 0:ft.chainId,...Ut||{}},Kt=yt(jt);it("connecting");try{await Kt.connect(Ft),mt(Kt,Ft)}catch(Mt){throw console.error(`Error connecting to wallet: ${Mt}`),it("disconnected"),Mt}return Kt},[yt,mt,ft]),Tt=react.exports.useCallback(async()=>{await lastConnectedWalletStorage.removeItem(LAST_CONNECTED_WALLET_STORAGE_KEY),it("disconnected"),rt(void 0),st(void 0),dt(void 0)},[]),_t=react.exports.useCallback(async()=>{if(!ot){Tt();return}const St=ot.getPersonalWallet();await ot.disconnect(),St&&await(St==null?void 0:St.disconnect()),Tt()},[ot,Tt]);return react.exports.useEffect(()=>{if(!ot)return;const St=async()=>{const Pt=await ot.getSigner();rt(Pt)};return ot.addListener("change",()=>{St()}),ot.addListener("disconnect",()=>{Tt()}),()=>{ot.removeListener("change"),ot.removeListener("disconnect")}},[ot,Tt]),jsx(ThirdwebWalletContext.Provider,{value:{disconnect:_t,wallets:o.supportedWallets,connect:wt,signer:a,activeWallet:ot,activeWalletConfig:ut,connectionStatus:at,setConnectionStatus:it,createWalletInstance:yt,createdWalletInstance:ct,createWalletStorage:o.createWalletStorage,switchChain:bt,setConnectedWallet:mt,activeChain:o.activeChain,chainToConnect:ft,getWalletConfig:St=>walletInstanceToConfig.get(St)},children:o.children})}function useWalletContext(){const o=react.exports.useContext(ThirdwebWalletContext);if(!o)throw new Error("useWalletContext() can only be used inside <ThirdwebProvider />");return o}async function getLastConnectedWalletInfo(){const o=await lastConnectedWalletStorage.getItem(LAST_CONNECTED_WALLET_STORAGE_KEY);return o?JSON.parse(o):null}async function saveLastConnectedWalletInfo(o){try{await lastConnectedWalletStorage.setItem(LAST_CONNECTED_WALLET_STORAGE_KEY,JSON.stringify(o))}catch(a){console.error("Error saving the last connected wallet info",a)}}const ThirdwebProviderCore=o=>{let{createWalletStorage:a=createAsyncLocalStorage,...rt}=o;const{activeChain:at}=rt,it=react.exports.useMemo(()=>typeof at=="object"&&at!==null?rt.supportedChains?rt.supportedChains.find(ft=>ft.chainId===at.chainId)?rt.supportedChains.map(ft=>ft.chainId===at.chainId?at:ft):[...rt.supportedChains,at]:[...defaultChains,at]:rt.supportedChains||defaultChains,[rt.supportedChains,at]),[ot,st]=useUpdateChainsWithApiKeys(it,rt.activeChain||it[0],rt.thirdwebApiKey,rt.alchemyApiKey,rt.infuraApiKey),ct=react.exports.useMemo(()=>{if(typeof st=="number"){const ut=ot.find(dt=>dt.chainId===st);if(!ut)throw new Error(`Invalid chainId: ${st}. It is not one of supportedChains`);return ut}if(typeof st=="string"){const ut=ot.find(dt=>dt.slug===st);if(!ut)throw new Error(`Invalid chain: "${st}". It is not one of supportedChains`);return ut}return st},[st,ot]),lt=rt.dAppMeta;return jsx(ThirdwebThemeContext.Provider,{value:rt.theme,children:jsx(ThirdwebWalletProvider,{chains:ot,supportedWallets:rt.supportedWallets,shouldAutoConnect:rt.autoConnect,createWalletStorage:a,dAppMeta:lt,activeChain:ct,autoSwitch:rt.autoSwitch,children:jsx(ThirdwebSDKProviderWrapper,{queryClient:rt.queryClient,sdkOptions:rt.sdkOptions,supportedChains:ot,activeChain:ct,storageInterface:rt.storageInterface,authConfig:rt.authConfig,thirdwebApiKey:rt.thirdwebApiKey,alchemyApiKey:rt.alchemyApiKey,infuraApiKey:rt.infuraApiKey,children:jsx(ThirdwebAuthProvider,{value:rt.authConfig,children:rt.children})})})})},ThirdwebSDKProviderWrapper=o=>{var it;let{children:a,...rt}=o;const at=(it=useWalletContext())==null?void 0:it.signer;return jsx(ThirdwebSDKProvider,{signer:at,...rt,children:a})};function useWallet(){const o=useWalletContext();return invariant(o,"useWallet() hook must be used within a <ThirdwebProvider/>"),o.activeWallet}function useWallets(){const o=useWalletContext();return invariant(o,"useWallets() hook must be used within a <ThirdwebProvider/>"),o.wallets}function useConnect(){const o=useWalletContext();return invariant(o,"useConnect() hook must be used within a <ThirdwebProvider/>"),o.connect}function useDisconnect(){const o=useWalletContext();return invariant(o,"useDisconnect() hook must be used within a <ThirdwebProvider/>"),o.disconnect}function useConnectionStatus(){const o=useWalletContext();return invariant(o,"useConnectionStatus() must be used within a <ThirdwebProvider/>"),o.connectionStatus}function useCreateWalletInstance(){const o=useWalletContext();return invariant(o,"useCreateWalletInstance() must be used within a <ThirdwebProvider/>"),o.createWalletInstance}const TW_CACHE_KEY_PREFIX="tw-cache";function enforceCachePrefix(o){return[TW_CACHE_KEY_PREFIX,...o.filter(a=>typeof a!="string"||a!==TW_CACHE_KEY_PREFIX)]}function createContractCacheKey(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AddressZero$1,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return enforceCachePrefix(["contract",o,...a])}function createCacheKeyWithNetwork(o,a){return enforceCachePrefix(cacheKeys.network.active(a).concat(o))}const cacheKeys={auth:{user:()=>enforceCachePrefix(["user"])},network:{active:o=>enforceCachePrefix(["chainId",o])},wallet:{balance:(o,a,rt)=>enforceCachePrefix(createCacheKeyWithNetwork(enforceCachePrefix(["balance",{walletAddress:a,tokenAddress:rt}]),o))},contract:{read:(o,a)=>createContractCacheKey(o,["read",a]),type:o=>createContractCacheKey(o,["contract-type"]),compilerMetadata:o=>createContractCacheKey(o,["publish-metadata"]),typeAndCompilerMetadata:o=>createContractCacheKey(o,["contract-type-and-metadata"]),metadata:o=>createContractCacheKey(o,["metadata"]),extractFunctions:o=>createContractCacheKey(o,["extractFunctions"]),call:(o,a,rt,at)=>createContractCacheKey(o,["call",a,rt,at]),smartWalletFactory:{getAll:o=>createContractCacheKey(o,["smartWalletFactory"])},app:{get:o=>createContractCacheKey(o,["appURI"])},events:{getEvents:(o,a)=>createContractCacheKey(o,["events","getEvents",{eventName:a}]),getAllEvents:o=>createContractCacheKey(o,["events","getAllEvents"])},nft:{get:(o,a)=>createContractCacheKey(o,["get",{tokenId:a}]),balanceOf:(o,a,rt)=>createContractCacheKey(o,["balanceOf",{owner:a,tokenId:rt}]),query:{all:(o,a)=>createContractCacheKey(o,a?["query","all",a]:["query","all"]),totalCirculatingSupply:o=>createContractCacheKey(o,["query","totalCirculatingSupply"]),totalCount:o=>createContractCacheKey(o,["query","totalCount"]),owned:{all:(o,a)=>createContractCacheKey(o,["query","owned","all",a])}},drop:{getAllUnclaimed:(o,a)=>createContractCacheKey(o,a?["getAllUnclaimed",a]:["getAllUnclaimed"]),getAllClaimed:(o,a)=>createContractCacheKey(o,a?["getAllClaimed",a]:["getAllClaimed"]),totalUnclaimedSupply:o=>createContractCacheKey(o,["totalUnclaimedSupply"]),totalClaimedSupply:o=>createContractCacheKey(o,["totalClaimedSupply"]),revealer:{getBatchesToReveal:(o,a)=>createContractCacheKey(o,a?["getBatchesToReveal",a]:["getBatchesToReveal"])}}},token:{totalSupply:o=>createContractCacheKey(o,["totalSupply"]),decimals:o=>createContractCacheKey(o,["decimals"]),balanceOf:(o,a)=>createContractCacheKey(o,["balanceOf",{walletAddress:a}])},marketplace:{getListing:(o,a)=>createContractCacheKey(o,["getListing",{listingId:a}]),getAllListings:(o,a)=>createContractCacheKey(o,a?["getAllListings",a]:["getAllListings"]),getTotalCount:o=>createContractCacheKey(o,["getTotalCount"]),getActiveListings:(o,a)=>createContractCacheKey(o,a?["getActiveListings",a]:["getActiveListings"]),getBidBufferBps:o=>createContractCacheKey(o,["getBidBufferBps"]),auction:{getWinningBid:(o,a)=>createContractCacheKey(o,["auction","getWinningBid",{listingId:a}]),getWinner:(o,a)=>createContractCacheKey(o,["auction","getWinner",{listingId:a}])},directListings:{getAll:(o,a)=>createContractCacheKey(o,a?["getAllDirectListings",a]:["getAllDirectListings"]),getAllValid:(o,a)=>createContractCacheKey(o,a?["getAllValidDirectListings",a]:["getAllValidDirectListings"]),getListing:(o,a)=>createContractCacheKey(o,["getListing",{listingId:a}]),getTotalCount:o=>createContractCacheKey(o,["getTotalDirectListingsCount"])},englishAuctions:{getAll:(o,a)=>createContractCacheKey(o,a?["getAllEnglishAuctions",a]:["getAllEnglishAuctions"]),getAllValid:(o,a)=>createContractCacheKey(o,a?["getAllEValidEnglishAuctions",a]:["getAllEValidEnglishAuctions"]),getAuction:(o,a)=>createContractCacheKey(o,["getAuction",{auctionId:a}]),getWinningBid:(o,a)=>createContractCacheKey(o,["getWinningBid",{auctionId:a}]),getTotalCount:o=>createContractCacheKey(o,["getTotalEnglishAuctionsCount"])}}},extensions:{claimConditions:{getActive:(o,a,rt)=>createContractCacheKey(o,a?["claimConditions","getActive",{tokenId:a},rt]:["claimConditions","getActive",rt]),getAll:(o,a,rt)=>createContractCacheKey(o,a?["claimConditions","getAll",{tokenId:a},rt]:["claimConditions","getAll",rt]),getClaimerProofs:(o,a)=>createContractCacheKey(o,a?["claimConditions","getClaimerProofs",{tokenId:a}]:["claimConditions","getClaimerProofs"]),getClaimIneligibilityReasons:(o,a,rt)=>createContractCacheKey(o,rt?["claimConditions","getIneligibilityReasons",{tokenId:rt},a]:["claimConditions","getIneligibilityReasons",a]),useActiveClaimConditionForWallet:(o,a,rt)=>createContractCacheKey(o,rt?["claimConditions","useActiveClaimConditionForWallet",{tokenId:rt,walletAddress:a},,]:["claimConditions","getIneligibilityReasons",{walletAddress:a}])},sales:{getRecipient:o=>createContractCacheKey(o,["sales"])},royalties:{getDefaultRoyaltyInfo:o=>createContractCacheKey(o,["royalties"])},platformFees:{get:o=>createContractCacheKey(o,["platformFees"])},metadata:{get:o=>createContractCacheKey(o,["metadata"])},roles:{getAll:o=>createContractCacheKey(o,["roles"]),get:(o,a)=>createContractCacheKey(o,["roles",{role:a}])}}};function useAddress(){return useThirdwebConnectedWalletContext().address}function useChainId(){return useThirdwebConnectedWalletContext().chainId}function useQueryWithNetwork(o,a,rt){const at=useSDKChainId(),it={...rt,enabled:!!(at&&(rt==null?void 0:rt.enabled))};return useQuery(createCacheKeyWithNetwork(o,at),a,it)}async function fetchContractType(o,a){if(!o||!a)return null;try{return await a.resolveContractType(o)}catch(rt){return console.error("failed to resolve contract type",rt),"custom"}}function useContractType(o){const a=useSDK();return useQueryWithNetwork(cacheKeys.contract.type(o),()=>fetchContractType(o,a),{cacheTime:1/0,staleTime:1/0,enabled:!!o&&!!a})}const contractType={cacheKey:(o,a)=>createCacheKeyWithNetwork(cacheKeys.contract.type(o),a),useQuery:useContractType,fetchQuery:fetchContractType};function fetchCompilerMetadata(o,a){if(!o||!a)return null;try{return a.getPublisher().fetchCompilerMetadataFromAddress(o)}catch{return null}}function useCompilerMetadata(o){const a=useSDK();return useQueryWithNetwork(cacheKeys.contract.compilerMetadata(o),()=>fetchCompilerMetadata(o,a),{cacheTime:1/0,staleTime:1/0,enabled:!!o&&!!a})}const compilerMetadata={cacheKey:(o,a)=>createCacheKeyWithNetwork(cacheKeys.contract.compilerMetadata(o),a),useQuery:useCompilerMetadata,fetchQuery:fetchCompilerMetadata};function useContract(o,a){const rt=useSDK(),at=useQueryClient(),it=useSDKChainId(),ot=useAddress(),st=useChainId(),ct=rt==null?void 0:rt._constructedAt,lt=useQueryWithNetwork(neverPersist(["contract-instance",o,{wallet:ot,walletChainId:st,sdkTimestamp:ct}]),async()=>{var ut;if(requiredParamInvariant(o,"contract address is required"),invariant(rt,"SDK not initialized"),invariant(it,"active chain id is required"),!a||a==="custom"){const dt=getCachedAbiForContract(o);if(dt)return rt.getContract(o,dt);const ft=await at.fetchQuery(contractType.cacheKey(o,it),()=>contractType.fetchQuery(o,rt),{cacheTime:1/0,staleTime:1/0});let pt;return ft==="custom"&&(pt=(ut=await at.fetchQuery(compilerMetadata.cacheKey(o,it),()=>compilerMetadata.fetchQuery(o,rt),{cacheTime:1/0,staleTime:1/0,retry:0}))==null?void 0:ut.abi),invariant(ft,"failed to resolve contract type"),rt.getContract(o,pt||ft)}return rt.getContract(o,a)},{keepPreviousData:!0,cacheTime:1/0,staleTime:1/0,enabled:!!o&&!!rt&&!!it,retry:0});return{...lt,data:lt.data,contract:lt.data}}function useContractWrite(o,a){const rt=useSDKChainId(),at=o==null?void 0:o.getAddress(),it=useQueryClient();return useMutation(async ot=>{let{args:st,overrides:ct}=ot;return requiredParamInvariant(o,"contract must be defined"),requiredParamInvariant(a,"function name must be provided"),o.call(a,st,ct)},{onSettled:()=>it.invalidateQueries(createCacheKeyWithNetwork(createContractCacheKey(at),rt))})}function useStorage(){const o=useSDK();return o==null?void 0:o.storage}function sheetForTag(o){if(o.sheet)return o.sheet;for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].ownerNode===o)return document.styleSheets[a]}function createStyleElement(o){var a=document.createElement("style");return a.setAttribute("data-emotion",o.key),o.nonce!==void 0&&a.setAttribute("nonce",o.nonce),a.appendChild(document.createTextNode("")),a.setAttribute("data-s",""),a}var StyleSheet=function(){function o(rt){var at=this;this._insertTag=function(it){var ot;at.tags.length===0?at.insertionPoint?ot=at.insertionPoint.nextSibling:at.prepend?ot=at.container.firstChild:ot=at.before:ot=at.tags[at.tags.length-1].nextSibling,at.container.insertBefore(it,ot),at.tags.push(it)},this.isSpeedy=rt.speedy===void 0?!0:rt.speedy,this.tags=[],this.ctr=0,this.nonce=rt.nonce,this.key=rt.key,this.container=rt.container,this.prepend=rt.prepend,this.insertionPoint=rt.insertionPoint,this.before=null}var a=o.prototype;return a.hydrate=function(at){at.forEach(this._insertTag)},a.insert=function(at){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var it=this.tags[this.tags.length-1];if(this.isSpeedy){var ot=sheetForTag(it);try{ot.insertRule(at,ot.cssRules.length)}catch{}}else it.appendChild(document.createTextNode(at));this.ctr++},a.flush=function(){this.tags.forEach(function(at){return at.parentNode&&at.parentNode.removeChild(at)}),this.tags=[],this.ctr=0},o}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(o,a){return charat(o,0)^45?(((a<<2^charat(o,0))<<2^charat(o,1))<<2^charat(o,2))<<2^charat(o,3):0}function trim(o){return o.trim()}function match(o,a){return(o=a.exec(o))?o[0]:o}function replace(o,a,rt){return o.replace(a,rt)}function indexof(o,a){return o.indexOf(a)}function charat(o,a){return o.charCodeAt(a)|0}function substr(o,a,rt){return o.slice(a,rt)}function strlen(o){return o.length}function sizeof(o){return o.length}function append(o,a){return a.push(o),o}function combine(o,a){return o.map(a).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(o,a,rt,at,it,ot,st){return{value:o,root:a,parent:rt,type:at,props:it,children:ot,line,column,length:st,return:""}}function copy(o,a){return assign(node("",null,null,"",null,null,0),o,{length:-o.length},a)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(o,a){return substr(characters,o,a)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length=strlen(characters=o),position=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice(position-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace(o){for(;(character=peek())&&character<33;)next();return token(o)>2||token(character)>3?"":" "}function escaping(o,a){for(;--a&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(o,caret()+(a<6&&peek()==32&&next()==32))}function delimiter(o){for(;next();)switch(character){case o:return position;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next();break}return position}function commenter(o,a){for(;next()&&o+character!==47+10;)if(o+character===42+42&&peek()===47)break;return"/*"+slice(a,position-1)+"*"+from(o===47?o:next())}function identifier(o){for(;!token(peek());)next();return slice(o,position)}function compile(o){return dealloc(parse$1("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse$1(o,a,rt,at,it,ot,st,ct,lt){for(var ut=0,dt=0,ft=st,pt=0,ht=0,yt=0,mt=1,gt=1,bt=1,vt=0,wt="",Tt=it,_t=ot,St=at,Pt=wt;gt;)switch(yt=vt,vt=next()){case 40:if(yt!=108&&charat(Pt,ft-1)==58){indexof(Pt+=replace(delimit(vt),"&","&\f"),"&\f")!=-1&&(bt=-1);break}case 34:case 39:case 91:Pt+=delimit(vt);break;case 9:case 10:case 13:case 32:Pt+=whitespace(yt);break;case 92:Pt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),a,rt),lt);break;default:Pt+="/"}break;case 123*mt:ct[ut++]=strlen(Pt)*bt;case 125*mt:case 59:case 0:switch(vt){case 0:case 125:gt=0;case 59+dt:bt==-1&&(Pt=replace(Pt,/\f/g,"")),ht>0&&strlen(Pt)-ft&&append(ht>32?declaration(Pt+";",at,rt,ft-1):declaration(replace(Pt," ","")+";",at,rt,ft-2),lt);break;case 59:Pt+=";";default:if(append(St=ruleset(Pt,a,rt,ut,dt,it,ct,wt,Tt=[],_t=[],ft),ot),vt===123)if(dt===0)parse$1(Pt,a,St,St,Tt,ot,ft,ct,_t);else switch(pt===99&&charat(Pt,3)===110?100:pt){case 100:case 108:case 109:case 115:parse$1(o,St,St,at&&append(ruleset(o,St,St,0,0,it,ct,wt,it,Tt=[],ft),_t),it,_t,ft,ct,at?Tt:_t);break;default:parse$1(Pt,St,St,St,[""],_t,0,ct,_t)}}ut=dt=ht=0,mt=bt=1,wt=Pt="",ft=st;break;case 58:ft=1+strlen(Pt),ht=yt;default:if(mt<1){if(vt==123)--mt;else if(vt==125&&mt++==0&&prev()==125)continue}switch(Pt+=from(vt),vt*mt){case 38:bt=dt>0?1:(Pt+="\f",-1);break;case 44:ct[ut++]=(strlen(Pt)-1)*bt,bt=1;break;case 64:peek()===45&&(Pt+=delimit(next())),pt=peek(),dt=ft=strlen(wt=Pt+=identifier(caret())),vt++;break;case 45:yt===45&&strlen(Pt)==2&&(mt=0)}}return ot}function ruleset(o,a,rt,at,it,ot,st,ct,lt,ut,dt){for(var ft=it-1,pt=it===0?ot:[""],ht=sizeof(pt),yt=0,mt=0,gt=0;yt<at;++yt)for(var bt=0,vt=substr(o,ft+1,ft=abs(mt=st[yt])),wt=o;bt<ht;++bt)(wt=trim(mt>0?pt[bt]+" "+vt:replace(vt,/&\f/g,pt[bt])))&&(lt[gt++]=wt);return node(o,a,rt,it===0?RULESET:ct,lt,ut,dt)}function comment(o,a,rt){return node(o,a,rt,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,a,rt,at){return node(o,a,rt,DECLARATION,substr(o,0,at),substr(o,at+1,-1),at)}function prefix$1(o,a,rt){switch(hash(o,a)){case 5103:return WEBKIT+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+o+o;case 4789:return MOZ+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+o+MOZ+o+MS+o+o;case 5936:switch(charat(o,a+11)){case 114:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"lr")+o}case 6828:case 4268:case 2903:return WEBKIT+o+MS+o+o;case 6165:return WEBKIT+o+MS+"flex-"+o+o;case 5187:return WEBKIT+o+replace(o,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+o;case 5443:return WEBKIT+o+MS+"flex-item-"+replace(o,/flex-|-self/g,"")+(match(o,/flex-|baseline/)?"":MS+"grid-row-"+replace(o,/flex-|-self/g,""))+o;case 4675:return WEBKIT+o+MS+"flex-line-pack"+replace(o,/align-content|flex-|-self/g,"")+o;case 5548:return WEBKIT+o+MS+replace(o,"shrink","negative")+o;case 5292:return WEBKIT+o+MS+replace(o,"basis","preferred-size")+o;case 6060:return WEBKIT+"box-"+replace(o,"-grow","")+WEBKIT+o+MS+replace(o,"grow","positive")+o;case 4554:return WEBKIT+replace(o,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+o;case 6187:return replace(replace(replace(o,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),o,"")+o;case 5495:case 3959:return replace(o,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(o,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+o+o;case 4200:if(!match(o,/flex-|baseline/))return MS+"grid-column-align"+substr(o,a)+o;break;case 2592:case 3360:return MS+replace(o,"template-","")+o;case 4384:case 3616:return rt&&rt.some(function(at,it){return a=it,match(at.props,/grid-\w+-end/)})?~indexof(o+(rt=rt[a].value),"span")?o:MS+replace(o,"-start","")+o+MS+"grid-row-span:"+(~indexof(rt,"span")?match(rt,/\d+/):+match(rt,/\d+/)-+match(o,/\d+/))+";":MS+replace(o,"-start","")+o;case 4896:case 4128:return rt&&rt.some(function(at){return match(at.props,/grid-\w+-start/)})?o:MS+replace(replace(o,"-end","-span"),"span ","")+o;case 4095:case 3583:case 4068:case 2532:return replace(o,/(.+)-inline(.+)/,WEBKIT+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(o)-1-a>6)switch(charat(o,a+1)){case 109:if(charat(o,a+4)!==45)break;case 102:return replace(o,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(o,a+3)==108?"$3":"$2-$3"))+o;case 115:return~indexof(o,"stretch")?prefix$1(replace(o,"stretch","fill-available"),a,rt)+o:o}break;case 5152:case 5920:return replace(o,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(at,it,ot,st,ct,lt,ut){return MS+it+":"+ot+ut+(st?MS+it+"-span:"+(ct?lt:+lt-+ot)+ut:"")+o});case 4949:if(charat(o,a+6)===121)return replace(o,":",":"+WEBKIT)+o;break;case 6444:switch(charat(o,charat(o,14)===45?18:11)){case 120:return replace(o,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(o,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+o;case 100:return replace(o,":",":"+MS)+o}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(o,"scroll-","scroll-snap-")+o}return o}function serialize(o,a){for(var rt="",at=sizeof(o),it=0;it<at;it++)rt+=a(o[it],it,o,a)||"";return rt}function stringify(o,a,rt,at){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize(o.children,at)+"}";case RULESET:o.value=o.props.join(",")}return strlen(rt=serialize(o.children,at))?o.return=o.value+"{"+rt+"}":""}function middleware(o){var a=sizeof(o);return function(rt,at,it,ot){for(var st="",ct=0;ct<a;ct++)st+=o[ct](rt,at,it,ot)||"";return st}}function rulesheet(o){return function(a){a.root||(a=a.return)&&o(a)}}function prefixer$1(o,a,rt,at){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix$1(o.value,o.length,rt);return;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],at);case RULESET:if(o.length)return combine(o.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],at);case"::placeholder":return serialize([copy(o,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],at)}return""})}}var weakMemoize=function o(a){var rt=new WeakMap;return function(at){if(rt.has(at))return rt.get(at);var it=a(at);return rt.set(at,it),it}};function memoize(o){var a=Object.create(null);return function(rt){return a[rt]===void 0&&(a[rt]=o(rt)),a[rt]}}var identifierWithPointTracking=function o(a,rt,at){for(var it=0,ot=0;it=ot,ot=peek(),it===38&&ot===12&&(rt[at]=1),!token(ot);)next();return slice(a,position)},toRules=function o(a,rt){var at=-1,it=44;do switch(token(it)){case 0:it===38&&peek()===12&&(rt[at]=1),a[at]+=identifierWithPointTracking(position-1,rt,at);break;case 2:a[at]+=delimit(it);break;case 4:if(it===44){a[++at]=peek()===58?"&\f":"",rt[at]=a[at].length;break}default:a[at]+=from(it)}while(it=next());return a},getRules=function o(a,rt){return dealloc(toRules(alloc(a),rt))},fixedElements=new WeakMap,compat=function o(a){if(!(a.type!=="rule"||!a.parent||a.length<1)){for(var rt=a.value,at=a.parent,it=a.column===at.column&&a.line===at.line;at.type!=="rule";)if(at=at.parent,!at)return;if(!(a.props.length===1&&rt.charCodeAt(0)!==58&&!fixedElements.get(at))&&!it){fixedElements.set(a,!0);for(var ot=[],st=getRules(rt,ot),ct=at.props,lt=0,ut=0;lt<st.length;lt++)for(var dt=0;dt<ct.length;dt++,ut++)a.props[ut]=ot[lt]?st[lt].replace(/&\f/g,ct[dt]):ct[dt]+" "+st[lt]}}},removeLabel=function o(a){if(a.type==="decl"){var rt=a.value;rt.charCodeAt(0)===108&&rt.charCodeAt(2)===98&&(a.return="",a.value="")}};function prefix(o,a){switch(hash(o,a)){case 5103:return WEBKIT+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+o+MOZ+o+MS+o+o;case 6828:case 4268:return WEBKIT+o+MS+o+o;case 6165:return WEBKIT+o+MS+"flex-"+o+o;case 5187:return WEBKIT+o+replace(o,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+o;case 5443:return WEBKIT+o+MS+"flex-item-"+replace(o,/flex-|-self/,"")+o;case 4675:return WEBKIT+o+MS+"flex-line-pack"+replace(o,/align-content|flex-|-self/,"")+o;case 5548:return WEBKIT+o+MS+replace(o,"shrink","negative")+o;case 5292:return WEBKIT+o+MS+replace(o,"basis","preferred-size")+o;case 6060:return WEBKIT+"box-"+replace(o,"-grow","")+WEBKIT+o+MS+replace(o,"grow","positive")+o;case 4554:return WEBKIT+replace(o,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+o;case 6187:return replace(replace(replace(o,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),o,"")+o;case 5495:case 3959:return replace(o,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(o,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+o+o;case 4095:case 3583:case 4068:case 2532:return replace(o,/(.+)-inline(.+)/,WEBKIT+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(o)-1-a>6)switch(charat(o,a+1)){case 109:if(charat(o,a+4)!==45)break;case 102:return replace(o,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(o,a+3)==108?"$3":"$2-$3"))+o;case 115:return~indexof(o,"stretch")?prefix(replace(o,"stretch","fill-available"),a)+o:o}break;case 4949:if(charat(o,a+1)!==115)break;case 6444:switch(charat(o,strlen(o)-3-(~indexof(o,"!important")&&10))){case 107:return replace(o,":",":"+WEBKIT)+o;case 101:return replace(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(o,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+o}break;case 5936:switch(charat(o,a+11)){case 114:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return WEBKIT+o+MS+o+o}return o}var prefixer=function o(a,rt,at,it){if(a.length>-1&&!a.return)switch(a.type){case DECLARATION:a.return=prefix(a.value,a.length);break;case KEYFRAMES:return serialize([copy(a,{value:replace(a.value,"@","@"+WEBKIT)})],it);case RULESET:if(a.length)return combine(a.props,function(ot){switch(match(ot,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(a,{props:[replace(ot,/:(read-\w+)/,":"+MOZ+"$1")]})],it);case"::placeholder":return serialize([copy(a,{props:[replace(ot,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(a,{props:[replace(ot,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(a,{props:[replace(ot,/:(plac\w+)/,MS+"input-$1")]})],it)}return""})}},defaultStylisPlugins=[prefixer],createCache=function o(a){var rt=a.key;if(rt==="css"){var at=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(at,function(mt){var gt=mt.getAttribute("data-emotion");gt.indexOf(" ")!==-1&&(document.head.appendChild(mt),mt.setAttribute("data-s",""))})}var it=a.stylisPlugins||defaultStylisPlugins,ot={},st,ct=[];st=a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+rt+' "]'),function(mt){for(var gt=mt.getAttribute("data-emotion").split(" "),bt=1;bt<gt.length;bt++)ot[gt[bt]]=!0;ct.push(mt)});var lt,ut=[compat,removeLabel];{var dt,ft=[stringify,rulesheet(function(mt){dt.insert(mt)})],pt=middleware(ut.concat(it,ft)),ht=function(gt){return serialize(compile(gt),pt)};lt=function(gt,bt,vt,wt){dt=vt,ht(gt?gt+"{"+bt.styles+"}":bt.styles),wt&&(yt.inserted[bt.name]=!0)}}var yt={key:rt,sheet:new StyleSheet({key:rt,container:st,nonce:a.nonce,speedy:a.speedy,prepend:a.prepend,insertionPoint:a.insertionPoint}),nonce:a.nonce,inserted:ot,registered:{},insert:lt};return yt.sheet.hydrate(ct),yt};function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var rt=arguments[a];for(var at in rt)Object.prototype.hasOwnProperty.call(rt,at)&&(o[at]=rt[at])}return o},_extends$2.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v=b$1?Symbol.for("react.block"):60121,w=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(o){if(typeof o=="object"&&o!==null){var a=o.$$typeof;switch(a){case c:switch(o=o.type,o){case l:case m$1:case e:case g:case f:case p:return o;default:switch(o=o&&o.$$typeof,o){case k$1:case n:case t:case r:case h$1:return o;default:return a}}case d:return a}}}function A$1(o){return z$1(o)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(o){return A$1(o)||z$1(o)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(o){return z$1(o)===k$1};reactIs_production_min.isContextProvider=function(o){return z$1(o)===h$1};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c};reactIs_production_min.isForwardRef=function(o){return z$1(o)===n};reactIs_production_min.isFragment=function(o){return z$1(o)===e};reactIs_production_min.isLazy=function(o){return z$1(o)===t};reactIs_production_min.isMemo=function(o){return z$1(o)===r};reactIs_production_min.isPortal=function(o){return z$1(o)===d};reactIs_production_min.isProfiler=function(o){return z$1(o)===g};reactIs_production_min.isStrictMode=function(o){return z$1(o)===f};reactIs_production_min.isSuspense=function(o){return z$1(o)===p};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e||o===m$1||o===g||o===f||o===p||o===q$1||typeof o=="object"&&o!==null&&(o.$$typeof===t||o.$$typeof===r||o.$$typeof===h$1||o.$$typeof===k$1||o.$$typeof===n||o.$$typeof===w||o.$$typeof===x$1||o.$$typeof===y$1||o.$$typeof===v)};reactIs_production_min.typeOf=z$1;(function(o){o.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(o,a,rt){var at="";return rt.split(" ").forEach(function(it){o[it]!==void 0?a.push(o[it]+";"):at+=it+" "}),at}var registerStyles=function o(a,rt,at){var it=a.key+"-"+rt.name;(at===!1||isBrowser===!1)&&a.registered[it]===void 0&&(a.registered[it]=rt.styles)},insertStyles=function o(a,rt,at){registerStyles(a,rt,at);var it=a.key+"-"+rt.name;if(a.inserted[rt.name]===void 0){var ot=rt;do a.insert(rt===ot?"."+it:"",ot,a.sheet,!0),ot=ot.next;while(ot!==void 0)}};function murmur2(o){for(var a=0,rt,at=0,it=o.length;it>=4;++at,it-=4)rt=o.charCodeAt(at)&255|(o.charCodeAt(++at)&255)<<8|(o.charCodeAt(++at)&255)<<16|(o.charCodeAt(++at)&255)<<24,rt=(rt&65535)*1540483477+((rt>>>16)*59797<<16),rt^=rt>>>24,a=(rt&65535)*1540483477+((rt>>>16)*59797<<16)^(a&65535)*1540483477+((a>>>16)*59797<<16);switch(it){case 3:a^=(o.charCodeAt(at+2)&255)<<16;case 2:a^=(o.charCodeAt(at+1)&255)<<8;case 1:a^=o.charCodeAt(at)&255,a=(a&65535)*1540483477+((a>>>16)*59797<<16)}return a^=a>>>13,a=(a&65535)*1540483477+((a>>>16)*59797<<16),((a^a>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function o(a){return a.charCodeAt(1)===45},isProcessableValue=function o(a){return a!=null&&typeof a!="boolean"},processStyleName=memoize(function(o){return isCustomProperty(o)?o:o.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function o(a,rt){switch(a){case"animation":case"animationName":if(typeof rt=="string")return rt.replace(animationRegex,function(at,it,ot){return cursor={name:it,styles:ot,next:cursor},it})}return unitlessKeys[a]!==1&&!isCustomProperty(a)&&typeof rt=="number"&&rt!==0?rt+"px":rt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(o,a,rt){if(rt==null)return"";if(rt.__emotion_styles!==void 0)return rt;switch(typeof rt){case"boolean":return"";case"object":{if(rt.anim===1)return cursor={name:rt.name,styles:rt.styles,next:cursor},rt.name;if(rt.styles!==void 0){var at=rt.next;if(at!==void 0)for(;at!==void 0;)cursor={name:at.name,styles:at.styles,next:cursor},at=at.next;var it=rt.styles+";";return it}return createStringFromObject(o,a,rt)}case"function":{if(o!==void 0){var ot=cursor,st=rt(o);return cursor=ot,handleInterpolation(o,a,st)}break}}if(a==null)return rt;var ct=a[rt];return ct!==void 0?ct:rt}function createStringFromObject(o,a,rt){var at="";if(Array.isArray(rt))for(var it=0;it<rt.length;it++)at+=handleInterpolation(o,a,rt[it])+";";else for(var ot in rt){var st=rt[ot];if(typeof st!="object")a!=null&&a[st]!==void 0?at+=ot+"{"+a[st]+"}":isProcessableValue(st)&&(at+=processStyleName(ot)+":"+processStyleValue(ot,st)+";");else if(Array.isArray(st)&&typeof st[0]=="string"&&(a==null||a[st[0]]===void 0))for(var ct=0;ct<st.length;ct++)isProcessableValue(st[ct])&&(at+=processStyleName(ot)+":"+processStyleValue(ot,st[ct])+";");else{var lt=handleInterpolation(o,a,st);switch(ot){case"animation":case"animationName":{at+=processStyleName(ot)+":"+lt+";";break}default:at+=ot+"{"+lt+"}"}}}return at}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function o(a,rt,at){if(a.length===1&&typeof a[0]=="object"&&a[0]!==null&&a[0].styles!==void 0)return a[0];var it=!0,ot="";cursor=void 0;var st=a[0];st==null||st.raw===void 0?(it=!1,ot+=handleInterpolation(at,rt,st)):ot+=st[0];for(var ct=1;ct<a.length;ct++)ot+=handleInterpolation(at,rt,a[ct]),it&&(ot+=st[ct]);labelPattern.lastIndex=0;for(var lt="",ut;(ut=labelPattern.exec(ot))!==null;)lt+="-"+ut[1];var dt=murmur2(ot)+lt;return{name:dt,styles:ot,next:cursor}},syncFallback=function o(a){return a()},useInsertionEffect=$2AODx$react["useInsertionEffect"]?$2AODx$react["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=react.exports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function o(a){return react.exports.forwardRef(function(rt,at){var it=react.exports.useContext(EmotionCacheContext);return a(rt,it,at)})},ThemeContext=react.exports.createContext({}),useTheme=function o(){return react.exports.useContext(ThemeContext)},getTheme=function o(a,rt){if(typeof rt=="function"){var at=rt(a);return at}return _extends$2({},a,rt)},createCacheWithTheme=weakMemoize(function(o){return weakMemoize(function(a){return getTheme(o,a)})}),ThemeProvider=function o(a){var rt=react.exports.useContext(ThemeContext);return a.theme!==rt&&(rt=createCacheWithTheme(rt)(a.theme)),jsx(ThemeContext.Provider,{value:rt,children:a.children})};function css(){for(var o=arguments.length,a=new Array(o),rt=0;rt<o;rt++)a[rt]=arguments[rt];return serializeStyles(a)}var keyframes=function o(){var a=css.apply(void 0,arguments),rt="animation-"+a.name;return{name:rt,styles:"@keyframes "+rt+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(o){return reactPropsRegex.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function o(a){return a!=="theme"},getDefaultShouldForwardProp=function o(a){return typeof a=="string"&&a.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function o(a,rt,at){var it;if(rt){var ot=rt.shouldForwardProp;it=a.__emotion_forwardProp&&ot?function(st){return a.__emotion_forwardProp(st)&&ot(st)}:ot}return typeof it!="function"&&at&&(it=a.__emotion_forwardProp),it},Insertion=function o(a){var rt=a.cache,at=a.serialized,it=a.isStringTag;return registerStyles(rt,at,it),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(rt,at,it)}),null},createStyled=function o(a,rt){var at=a.__emotion_real===a,it=at&&a.__emotion_base||a,ot,st;rt!==void 0&&(ot=rt.label,st=rt.target);var ct=composeShouldForwardProps(a,rt,at),lt=ct||getDefaultShouldForwardProp(it),ut=!lt("as");return function(){var dt=arguments,ft=at&&a.__emotion_styles!==void 0?a.__emotion_styles.slice(0):[];if(ot!==void 0&&ft.push("label:"+ot+";"),dt[0]==null||dt[0].raw===void 0)ft.push.apply(ft,dt);else{ft.push(dt[0][0]);for(var pt=dt.length,ht=1;ht<pt;ht++)ft.push(dt[ht],dt[0][ht])}var yt=withEmotionCache(function(mt,gt,bt){var vt=ut&&mt.as||it,wt="",Tt=[],_t=mt;if(mt.theme==null){_t={};for(var St in mt)_t[St]=mt[St];_t.theme=react.exports.useContext(ThemeContext)}typeof mt.className=="string"?wt=getRegisteredStyles(gt.registered,Tt,mt.className):mt.className!=null&&(wt=mt.className+" ");var Pt=serializeStyles(ft.concat(Tt),gt.registered,_t);wt+=gt.key+"-"+Pt.name,st!==void 0&&(wt+=" "+st);var Nt=ut&&ct===void 0?getDefaultShouldForwardProp(vt):lt,jt={};for(var Ut in mt)ut&&Ut==="as"||Nt(Ut)&&(jt[Ut]=mt[Ut]);return jt.className=wt,jt.ref=bt,jsxs(Fragment$1,{children:[jsx(Insertion,{cache:gt,serialized:Pt,isStringTag:typeof vt=="string"}),jsx(vt,{...jt})]})});return yt.displayName=ot!==void 0?ot:"Styled("+(typeof it=="string"?it:it.displayName||it.name||"Component")+")",yt.defaultProps=a.defaultProps,yt.__emotion_real=yt,yt.__emotion_base=it,yt.__emotion_styles=ft,yt.__emotion_forwardProp=ct,Object.defineProperty(yt,"toString",{value:function(){return"."+st}}),yt.withComponent=function(mt,gt){return o(mt,_extends$2({},rt,gt,{shouldForwardProp:composeShouldForwardProps(yt,gt,!0)})).apply(void 0,ft)},yt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(o){newStyled[o]=newStyled(o)});const mauve$1={mauve1:"hsl(246, 6.0%, 9.0%)",mauve2:"hsl(240, 5.1%, 11.6%)",mauve3:"hsl(241, 5.0%, 14.3%)",mauve4:"hsl(242, 4.9%, 16.5%)",mauve5:"hsl(243, 4.9%, 18.8%)",mauve6:"hsl(244, 4.9%, 21.5%)",mauve7:"hsl(245, 4.9%, 25.4%)",mauve8:"hsl(247, 4.8%, 32.5%)",mauve9:"hsl(252, 4.0%, 45.2%)",mauve10:"hsl(247, 3.4%, 50.7%)",mauve11:"hsl(253, 4.0%, 63.7%)",mauve12:"hsl(256, 6.0%, 93.2%)"},blue={blue1:"hsl(206, 100%, 99.2%)",blue2:"hsl(210, 100%, 98.0%)",blue3:"hsl(209, 100%, 96.5%)",blue4:"hsl(210, 98.8%, 94.0%)",blue5:"hsl(209, 95.0%, 90.1%)",blue6:"hsl(209, 81.2%, 84.5%)",blue7:"hsl(208, 77.5%, 76.9%)",blue8:"hsl(206, 81.9%, 65.3%)",blue9:"hsl(206, 100%, 50.0%)",blue10:"hsl(208, 100%, 47.3%)",blue11:"hsl(211, 100%, 43.2%)",blue12:"hsl(211, 100%, 15.0%)"},green={green1:"hsl(136, 50.0%, 98.9%)",green2:"hsl(138, 62.5%, 96.9%)",green3:"hsl(139, 55.2%, 94.5%)",green4:"hsl(140, 48.7%, 91.0%)",green5:"hsl(141, 43.7%, 86.0%)",green6:"hsl(143, 40.3%, 79.0%)",green7:"hsl(146, 38.5%, 69.0%)",green8:"hsl(151, 40.2%, 54.1%)",green9:"hsl(151, 55.0%, 41.5%)",green10:"hsl(152, 57.5%, 37.6%)",green11:"hsl(153, 67.0%, 28.5%)",green12:"hsl(155, 40.0%, 14.0%)"},mauve={mauve1:"hsl(300, 20.0%, 99.0%)",mauve2:"hsl(300, 7.7%, 97.5%)",mauve3:"hsl(294, 5.5%, 95.3%)",mauve4:"hsl(289, 4.7%, 93.3%)",mauve5:"hsl(283, 4.4%, 91.3%)",mauve6:"hsl(278, 4.1%, 89.1%)",mauve7:"hsl(271, 3.9%, 86.3%)",mauve8:"hsl(255, 3.7%, 78.8%)",mauve9:"hsl(252, 4.0%, 57.3%)",mauve10:"hsl(253, 3.5%, 53.5%)",mauve11:"hsl(252, 4.0%, 44.8%)",mauve12:"hsl(260, 25.0%, 11.0%)"},tomato={tomato1:"hsl(10, 100%, 99.4%)",tomato2:"hsl(8, 100%, 98.4%)",tomato3:"hsl(8, 100%, 96.6%)",tomato4:"hsl(8, 100%, 94.3%)",tomato5:"hsl(8, 92.8%, 91.0%)",tomato6:"hsl(9, 84.7%, 86.3%)",tomato7:"hsl(10, 77.3%, 79.5%)",tomato8:"hsl(10, 71.6%, 71.0%)",tomato9:"hsl(10, 78.0%, 54.0%)",tomato10:"hsl(10, 71.5%, 50.0%)",tomato11:"hsl(10, 82.0%, 43.5%)",tomato12:"hsl(10, 50.0%, 13.5%)"},darkTheme={overlay:{subdued:"rgba(0, 0, 0, 0.74)"},bg:{base:mauve$1.mauve1,baseHover:mauve$1.mauve2,elevated:mauve$1.mauve3,elevatedHover:mauve$1.mauve4,highlighted:mauve$1.mauve5,inverted:mauve$1.mauve12,invertedFocused:mauve$1.mauve7,danger:tomato.tomato12},border:{base:mauve$1.mauve3,elevated:mauve$1.mauve4},badge:{secondary:mauve$1.mauve6},text:{neutral:mauve$1.mauve12,inverted:mauve$1.mauve1,secondary:mauve$1.mauve9,danger:tomato.tomato9},icon:{secondary:mauve$1.mauve11,primary:mauve$1.mauve12,inverted:mauve$1.mauve1,danger:tomato.tomato9,success:green.green7,link:blue.blue9},link:{primary:blue.blue9,primaryHover:mauve$1.mauve12},input:{bg:mauve$1.mauve3,bgHover:mauve$1.mauve5,outline:mauve$1.mauve5,focusRing:blue.blue9,errorRing:tomato.tomato9},tooltip:{bg:"black",text:"white"}},lightTheme={overlay:{subdued:"rgba(0, 0, 0, 0.4)"},bg:{base:mauve.mauve1,baseHover:mauve.mauve2,elevated:mauve.mauve3,elevatedHover:mauve.mauve4,highlighted:mauve.mauve5,inverted:mauve.mauve12,invertedFocused:mauve.mauve7,danger:tomato.tomato4},border:{base:mauve.mauve6,elevated:mauve.mauve7},badge:{secondary:mauve.mauve1},text:{neutral:mauve.mauve12,inverted:mauve.mauve1,secondary:mauve.mauve10,danger:tomato.tomato9},icon:{secondary:mauve.mauve10,primary:mauve.mauve12,inverted:mauve.mauve1,danger:tomato.tomato9,success:green.green9,link:blue.blue11},link:{primary:blue.blue11,primaryHover:mauve.mauve12},input:{bg:mauve.mauve3,bgHover:mauve$1.mauve5,outline:mauve.mauve7,focusRing:blue.blue11,errorRing:tomato.tomato10},tooltip:{bg:"black",text:"white"}},fontSize={xs:"12px",sm:"14px",md:"16px",lg:"20px",xl:"24px"},spacing={xxs:"6px",xs:"8px",sm:"12px",md:"16px",lg:"24px",xl:"32px",xxl:"48px"},radius={sm:"6px",md:"8px",lg:"12px",xl:"20px",xxl:"32px"},iconSize={xs:"12",sm:"16",md:"24",lg:"32",xl:"48"},media={mobile:"@media (max-width: 640px)"},shadow={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"},Spinner=o=>{const a=useTheme();return jsx(Svg,{style:{width:iconSize[o.size],height:iconSize[o.size]},viewBox:"0 0 50 50",children:jsx(Circle,{cx:"25",cy:"25",r:"20",fill:"none",stroke:a.icon[o.color||"primary"],strokeWidth:"4"})})},dashAnimation=keyframes`
 0% {
    stroke-dasharray: 1, 150;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -35;
  }
  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -124;
  }
`,rotateAnimation=keyframes`
100% {
    transform: rotate(360deg);
  }
`,Svg=newStyled.svg`
  animation: ${rotateAnimation} 2s linear infinite;
  width: 1em;
  height: 1em;
`,Circle=newStyled.circle`
  stroke-linecap: round;
  animation: ${dashAnimation} 1.5s ease-in-out infinite;
`,Spacer=o=>{let{y:a}=o;return jsx("div",{style:{height:spacing[a]}})},Button=newStyled.button`
  all: unset;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: ${radius.md};
  padding: ${spacing.sm} ${spacing.sm};
  font-size: ${fontSize.md};
  font-weight: 500;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  line-height: 1;
  flex-shrink: 0;

  &:focus {
    box-shadow: 0 0 0 3px
      ${o=>{switch(o.variant){case"inverted":return o.theme.bg.invertedFocused;case"secondary":return o.theme.bg.highlighted;case"link":return"none";case"danger":return o.theme.text.danger}}};
  }

  box-shadow: ${o=>{switch(o.variant){case"danger":return`0 0 0 2px ${o.theme.text.danger}`;case"link":return"none";default:return"none"}}};

  background: ${o=>{switch(o.variant){case"inverted":return o.theme.bg.inverted;case"secondary":return o.theme.bg.elevated;case"link":return"transparent";case"danger":return"none"}}};
  color: ${o=>{switch(o.variant){case"inverted":return o.theme.text.inverted;case"secondary":return o.theme.text.neutral;case"link":return o.theme.link.primary;case"danger":return o.theme.text.danger}}};

  ${o=>{if(o.variant==="link")return`
      padding: 0;
      &:hover {
        color: ${o.theme.text.neutral};
      }`}}

  cursor: pointer;

  /* pressed effect */
  &:active {
    transform: translateY(1px);
  }

  &[disabled] {
    cursor: not-allowed;
  }
`,IconButton=newStyled.button`
  all: unset;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: ${radius.sm};
  -webkit-tap-highlight-color: transparent;
  color: ${o=>{switch(o.variant){case"neutral":return o.theme.text.neutral;case"secondary":return o.theme.text.secondary}}};
  padding: 2px;
  transition: background 0.2s ease, color 0.2s ease;
  &:hover {
    background: ${o=>o.theme.bg.elevated};
    color: ${o=>o.theme.text.neutral};
  }
`,InputButton=newStyled.button`
  all: unset;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: ${radius.sm};
  padding: ${spacing.sm};
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  color: ${o=>o.theme.text.secondary};
  &:hover {
    color: ${o=>o.theme.text.neutral};
  }
  &[disabled] {
    cursor: not-allowed;
  }
`,Label=newStyled.label`
  font-size: ${fontSize.sm};
  color: ${o=>o.theme.text.neutral};
  display: block;
`,Input=newStyled.input`
  font-size: ${fontSize.md};
  display: block;
  padding: ${spacing.sm};
  box-sizing: border-box;
  width: 100%;
  outline: none;
  border: none;
  border-radius: 6px;
  color: ${o=>o.theme.text.neutral};
  -webkit-appearance: none;
  appearance: none;
  background: ${o=>{switch(o.variant){case"secondary":return o.theme.bg.elevated;default:return"transparent"}}};

  &::placeholder {
    color: ${o=>o.theme.text.secondary};
  }

  box-shadow: 0 0 0 1.5px
    ${o=>{switch(o.variant){case"outline":return o.theme.input.outline;case"transparent":return"transparent";case"secondary":return o.theme.bg.elevated}}};

  /* when browser auto-fills the input  */
  &:-webkit-autofill {
    -webkit-text-fill-color: ${o=>o.theme.text.neutral};
    -webkit-box-shadow: 0 0 0px 1000px ${o=>o.theme.bg.elevated} inset !important;
    box-shadow: 0 0 0px 1000px ${o=>o.theme.bg.elevated} inset !important;
    transition: background-color 5000s ease-in-out 0s;
  }

  &:-webkit-autofill:focus {
    -webkit-box-shadow: 0 0 0px 1000px ${o=>o.theme.bg.elevated} inset,
      0 0 0 2px ${o=>o.theme.input.focusRing} !important;
    box-shadow: 0 0 0px 1000px ${o=>o.theme.bg.elevated} inset,
      0 0 0 2px ${o=>o.theme.input.focusRing} !important;
  }

  &:focus {
    box-shadow: 0 0 0 2px ${o=>o.theme.input.focusRing};
  }

  /* show overflow ellipsis for long text - but not if it's a type="password"  */
  &:not([type="password"]) {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  &[data-error="true"] {
    box-shadow: 0 0 0 2px ${o=>o.theme.input.errorRing} !important;
  }

  &[disabled] {
    cursor: not-allowed;
  }
`,InputContainer=newStyled.div`
  display: flex;
  border-radius: ${radius.sm};
  box-shadow: 0 0 0px 1.5px ${o=>o.theme.input.outline};

  /* show focus ring on container instead of input  */
  &:focus-within {
    box-shadow: 0 0 0px 2px ${o=>o.theme.input.focusRing};
  }

  input:focus {
    box-shadow: none;
  }

  /* show error ring on container instead of input  */
  &[data-error="true"] {
    box-shadow: 0 0 0px 2px ${o=>o.theme.input.errorRing};
  }
`,ErrorMessage=newStyled.p`
  all: unset;
  font-size: ${fontSize.sm};
  display: block;
  color: ${o=>o.theme.input.errorRing};
  line-height: 1.5;
`;newStyled.div`
  display: flex;
  justify-content: flex-end;
  gap: ${spacing.sm};
`;const Flex=o=>jsxs("div",{style:{display:"flex",flexDirection:o.flexDirection,justifyContent:o.justifyContent,alignItems:o.alignItems,gap:o.gap?spacing[o.gap]:void 0,...o.style||{}},children:[" ",o.children]});var lib={},mode$1={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},mode=mode$1;function QR8bitByte(o){this.mode=mode.MODE_8BIT_BYTE,this.data=o}QR8bitByte.prototype={getLength:function(o){return this.data.length},write:function(o){for(var a=0;a<this.data.length;a++)o.put(this.data.charCodeAt(a),8)}};var _8BitByte=QR8bitByte,ErrorCorrectLevel={L:1,M:0,Q:3,H:2},ECL=ErrorCorrectLevel;function QRRSBlock(o,a){this.totalCount=o,this.dataCount=a}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(o,a){var rt=QRRSBlock.getRsBlockTable(o,a);if(rt==null)throw new Error("bad rs block @ typeNumber:"+o+"/errorCorrectLevel:"+a);for(var at=rt.length/3,it=new Array,ot=0;ot<at;ot++)for(var st=rt[ot*3+0],ct=rt[ot*3+1],lt=rt[ot*3+2],ut=0;ut<st;ut++)it.push(new QRRSBlock(ct,lt));return it};QRRSBlock.getRsBlockTable=function(o,a){switch(a){case ECL.L:return QRRSBlock.RS_BLOCK_TABLE[(o-1)*4+0];case ECL.M:return QRRSBlock.RS_BLOCK_TABLE[(o-1)*4+1];case ECL.Q:return QRRSBlock.RS_BLOCK_TABLE[(o-1)*4+2];case ECL.H:return QRRSBlock.RS_BLOCK_TABLE[(o-1)*4+3];default:return}};var RSBlock$1=QRRSBlock;function QRBitBuffer(){this.buffer=new Array,this.length=0}QRBitBuffer.prototype={get:function(o){var a=Math.floor(o/8);return(this.buffer[a]>>>7-o%8&1)==1},put:function(o,a){for(var rt=0;rt<a;rt++)this.putBit((o>>>a-rt-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(o){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),o&&(this.buffer[a]|=128>>>this.length%8),this.length++}};var BitBuffer$1=QRBitBuffer,QRMath={glog:function(o){if(o<1)throw new Error("glog("+o+")");return QRMath.LOG_TABLE[o]},gexp:function(o){for(;o<0;)o+=255;for(;o>=256;)o-=255;return QRMath.EXP_TABLE[o]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;var math$2=QRMath,math$1=math$2;function QRPolynomial(o,a){if(o.length==null)throw new Error(o.length+"/"+a);for(var rt=0;rt<o.length&&o[rt]==0;)rt++;this.num=new Array(o.length-rt+a);for(var at=0;at<o.length-rt;at++)this.num[at]=o[at+rt]}QRPolynomial.prototype={get:function(o){return this.num[o]},getLength:function(){return this.num.length},multiply:function(o){for(var a=new Array(this.getLength()+o.getLength()-1),rt=0;rt<this.getLength();rt++)for(var at=0;at<o.getLength();at++)a[rt+at]^=math$1.gexp(math$1.glog(this.get(rt))+math$1.glog(o.get(at)));return new QRPolynomial(a,0)},mod:function(o){if(this.getLength()-o.getLength()<0)return this;for(var a=math$1.glog(this.get(0))-math$1.glog(o.get(0)),rt=new Array(this.getLength()),at=0;at<this.getLength();at++)rt[at]=this.get(at);for(var at=0;at<o.getLength();at++)rt[at]^=math$1.gexp(math$1.glog(o.get(at))+a);return new QRPolynomial(rt,0).mod(o)}};var Polynomial$2=QRPolynomial,Mode=mode$1,Polynomial$1=Polynomial$2,math=math$2,QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(o){for(var a=o<<10;QRUtil.getBCHDigit(a)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)a^=QRUtil.G15<<QRUtil.getBCHDigit(a)-QRUtil.getBCHDigit(QRUtil.G15);return(o<<10|a)^QRUtil.G15_MASK},getBCHTypeNumber:function(o){for(var a=o<<12;QRUtil.getBCHDigit(a)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)a^=QRUtil.G18<<QRUtil.getBCHDigit(a)-QRUtil.getBCHDigit(QRUtil.G18);return o<<12|a},getBCHDigit:function(o){for(var a=0;o!=0;)a++,o>>>=1;return a},getPatternPosition:function(o){return QRUtil.PATTERN_POSITION_TABLE[o-1]},getMask:function(o,a,rt){switch(o){case QRMaskPattern.PATTERN000:return(a+rt)%2==0;case QRMaskPattern.PATTERN001:return a%2==0;case QRMaskPattern.PATTERN010:return rt%3==0;case QRMaskPattern.PATTERN011:return(a+rt)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(a/2)+Math.floor(rt/3))%2==0;case QRMaskPattern.PATTERN101:return a*rt%2+a*rt%3==0;case QRMaskPattern.PATTERN110:return(a*rt%2+a*rt%3)%2==0;case QRMaskPattern.PATTERN111:return(a*rt%3+(a+rt)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}},getErrorCorrectPolynomial:function(o){for(var a=new Polynomial$1([1],0),rt=0;rt<o;rt++)a=a.multiply(new Polynomial$1([1,math.gexp(rt)],0));return a},getLengthInBits:function(o,a){if(1<=a&&a<10)switch(o){case Mode.MODE_NUMBER:return 10;case Mode.MODE_ALPHA_NUM:return 9;case Mode.MODE_8BIT_BYTE:return 8;case Mode.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(a<27)switch(o){case Mode.MODE_NUMBER:return 12;case Mode.MODE_ALPHA_NUM:return 11;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else if(a<41)switch(o){case Mode.MODE_NUMBER:return 14;case Mode.MODE_ALPHA_NUM:return 13;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}else throw new Error("type:"+a)},getLostPoint:function(o){for(var a=o.getModuleCount(),rt=0,at=0;at<a;at++)for(var it=0;it<a;it++){for(var ot=0,st=o.isDark(at,it),ct=-1;ct<=1;ct++)if(!(at+ct<0||a<=at+ct))for(var lt=-1;lt<=1;lt++)it+lt<0||a<=it+lt||ct==0&&lt==0||st==o.isDark(at+ct,it+lt)&&ot++;ot>5&&(rt+=3+ot-5)}for(var at=0;at<a-1;at++)for(var it=0;it<a-1;it++){var ut=0;o.isDark(at,it)&&ut++,o.isDark(at+1,it)&&ut++,o.isDark(at,it+1)&&ut++,o.isDark(at+1,it+1)&&ut++,(ut==0||ut==4)&&(rt+=3)}for(var at=0;at<a;at++)for(var it=0;it<a-6;it++)o.isDark(at,it)&&!o.isDark(at,it+1)&&o.isDark(at,it+2)&&o.isDark(at,it+3)&&o.isDark(at,it+4)&&!o.isDark(at,it+5)&&o.isDark(at,it+6)&&(rt+=40);for(var it=0;it<a;it++)for(var at=0;at<a-6;at++)o.isDark(at,it)&&!o.isDark(at+1,it)&&o.isDark(at+2,it)&&o.isDark(at+3,it)&&o.isDark(at+4,it)&&!o.isDark(at+5,it)&&o.isDark(at+6,it)&&(rt+=40);for(var dt=0,it=0;it<a;it++)for(var at=0;at<a;at++)o.isDark(at,it)&&dt++;var ft=Math.abs(100*dt/a/a-50)/5;return rt+=ft*10,rt}},util$1=QRUtil,BitByte=_8BitByte,RSBlock=RSBlock$1,BitBuffer=BitBuffer$1,util=util$1,Polynomial=Polynomial$2;function QRCode$2(o,a){this.typeNumber=o,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var proto=QRCode$2.prototype;proto.addData=function(o){var a=new BitByte(o);this.dataList.push(a),this.dataCache=null};proto.isDark=function(o,a){if(o<0||this.moduleCount<=o||a<0||this.moduleCount<=a)throw new Error(o+","+a);return this.modules[o][a]};proto.getModuleCount=function(){return this.moduleCount};proto.make=function(){if(this.typeNumber<1){var o=1;for(o=1;o<40;o++){for(var a=RSBlock.getRSBlocks(o,this.errorCorrectLevel),rt=new BitBuffer,at=0,it=0;it<a.length;it++)at+=a[it].dataCount;for(var it=0;it<this.dataList.length;it++){var ot=this.dataList[it];rt.put(ot.mode,4),rt.put(ot.getLength(),util.getLengthInBits(ot.mode,o)),ot.write(rt)}if(rt.getLengthInBits()<=at*8)break}this.typeNumber=o}this.makeImpl(!1,this.getBestMaskPattern())};proto.makeImpl=function(o,a){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var rt=0;rt<this.moduleCount;rt++){this.modules[rt]=new Array(this.moduleCount);for(var at=0;at<this.moduleCount;at++)this.modules[rt][at]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(o,a),this.typeNumber>=7&&this.setupTypeNumber(o),this.dataCache==null&&(this.dataCache=QRCode$2.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)};proto.setupPositionProbePattern=function(o,a){for(var rt=-1;rt<=7;rt++)if(!(o+rt<=-1||this.moduleCount<=o+rt))for(var at=-1;at<=7;at++)a+at<=-1||this.moduleCount<=a+at||(0<=rt&&rt<=6&&(at==0||at==6)||0<=at&&at<=6&&(rt==0||rt==6)||2<=rt&&rt<=4&&2<=at&&at<=4?this.modules[o+rt][a+at]=!0:this.modules[o+rt][a+at]=!1)};proto.getBestMaskPattern=function(){for(var o=0,a=0,rt=0;rt<8;rt++){this.makeImpl(!0,rt);var at=util.getLostPoint(this);(rt==0||o>at)&&(o=at,a=rt)}return a};proto.createMovieClip=function(o,a,rt){var at=o.createEmptyMovieClip(a,rt),it=1;this.make();for(var ot=0;ot<this.modules.length;ot++)for(var st=ot*it,ct=0;ct<this.modules[ot].length;ct++){var lt=ct*it,ut=this.modules[ot][ct];ut&&(at.beginFill(0,100),at.moveTo(lt,st),at.lineTo(lt+it,st),at.lineTo(lt+it,st+it),at.lineTo(lt,st+it),at.endFill())}return at};proto.setupTimingPattern=function(){for(var o=8;o<this.moduleCount-8;o++)this.modules[o][6]==null&&(this.modules[o][6]=o%2==0);for(var a=8;a<this.moduleCount-8;a++)this.modules[6][a]==null&&(this.modules[6][a]=a%2==0)};proto.setupPositionAdjustPattern=function(){for(var o=util.getPatternPosition(this.typeNumber),a=0;a<o.length;a++)for(var rt=0;rt<o.length;rt++){var at=o[a],it=o[rt];if(this.modules[at][it]==null)for(var ot=-2;ot<=2;ot++)for(var st=-2;st<=2;st++)ot==-2||ot==2||st==-2||st==2||ot==0&&st==0?this.modules[at+ot][it+st]=!0:this.modules[at+ot][it+st]=!1}};proto.setupTypeNumber=function(o){for(var a=util.getBCHTypeNumber(this.typeNumber),rt=0;rt<18;rt++){var at=!o&&(a>>rt&1)==1;this.modules[Math.floor(rt/3)][rt%3+this.moduleCount-8-3]=at}for(var rt=0;rt<18;rt++){var at=!o&&(a>>rt&1)==1;this.modules[rt%3+this.moduleCount-8-3][Math.floor(rt/3)]=at}};proto.setupTypeInfo=function(o,a){for(var rt=this.errorCorrectLevel<<3|a,at=util.getBCHTypeInfo(rt),it=0;it<15;it++){var ot=!o&&(at>>it&1)==1;it<6?this.modules[it][8]=ot:it<8?this.modules[it+1][8]=ot:this.modules[this.moduleCount-15+it][8]=ot}for(var it=0;it<15;it++){var ot=!o&&(at>>it&1)==1;it<8?this.modules[8][this.moduleCount-it-1]=ot:it<9?this.modules[8][15-it-1+1]=ot:this.modules[8][15-it-1]=ot}this.modules[this.moduleCount-8][8]=!o};proto.mapData=function(o,a){for(var rt=-1,at=this.moduleCount-1,it=7,ot=0,st=this.moduleCount-1;st>0;st-=2)for(st==6&&st--;;){for(var ct=0;ct<2;ct++)if(this.modules[at][st-ct]==null){var lt=!1;ot<o.length&&(lt=(o[ot]>>>it&1)==1);var ut=util.getMask(a,at,st-ct);ut&&(lt=!lt),this.modules[at][st-ct]=lt,it--,it==-1&&(ot++,it=7)}if(at+=rt,at<0||this.moduleCount<=at){at-=rt,rt=-rt;break}}};QRCode$2.PAD0=236;QRCode$2.PAD1=17;QRCode$2.createData=function(o,a,rt){for(var at=RSBlock.getRSBlocks(o,a),it=new BitBuffer,ot=0;ot<rt.length;ot++){var st=rt[ot];it.put(st.mode,4),it.put(st.getLength(),util.getLengthInBits(st.mode,o)),st.write(it)}for(var ct=0,ot=0;ot<at.length;ot++)ct+=at[ot].dataCount;if(it.getLengthInBits()>ct*8)throw new Error("code length overflow. ("+it.getLengthInBits()+">"+ct*8+")");for(it.getLengthInBits()+4<=ct*8&&it.put(0,4);it.getLengthInBits()%8!=0;)it.putBit(!1);for(;!(it.getLengthInBits()>=ct*8||(it.put(QRCode$2.PAD0,8),it.getLengthInBits()>=ct*8));)it.put(QRCode$2.PAD1,8);return QRCode$2.createBytes(it,at)};QRCode$2.createBytes=function(o,a){for(var rt=0,at=0,it=0,ot=new Array(a.length),st=new Array(a.length),ct=0;ct<a.length;ct++){var lt=a[ct].dataCount,ut=a[ct].totalCount-lt;at=Math.max(at,lt),it=Math.max(it,ut),ot[ct]=new Array(lt);for(var dt=0;dt<ot[ct].length;dt++)ot[ct][dt]=255&o.buffer[dt+rt];rt+=lt;var ft=util.getErrorCorrectPolynomial(ut),pt=new Polynomial(ot[ct],ft.getLength()-1),ht=pt.mod(ft);st[ct]=new Array(ft.getLength()-1);for(var dt=0;dt<st[ct].length;dt++){var yt=dt+ht.getLength()-st[ct].length;st[ct][dt]=yt>=0?ht.get(yt):0}}for(var mt=0,dt=0;dt<a.length;dt++)mt+=a[dt].totalCount;for(var gt=new Array(mt),bt=0,dt=0;dt<at;dt++)for(var ct=0;ct<a.length;ct++)dt<ot[ct].length&&(gt[bt++]=ot[ct][dt]);for(var dt=0;dt<it;dt++)for(var ct=0;ct<a.length;ct++)dt<st[ct].length&&(gt[bt++]=st[ct][dt]);return gt};var QRCode_1=QRCode$2,propTypes$2={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o(at,it,ot,st,ct,lt){if(lt!==ReactPropTypesSecret){var ut=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ut.name="Invariant Violation",ut}}o.isRequired=o;function a(){return o}var rt={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:a,element:o,elementType:o,instanceOf:a,node:o,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rt.PropTypes=rt,rt};propTypes$2.exports=factoryWithThrowingShims();var QRCodeSvg$1={};Object.defineProperty(QRCodeSvg$1,"__esModule",{value:!0});var _extends$1=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var rt=arguments[a];for(var at in rt)Object.prototype.hasOwnProperty.call(rt,at)&&(o[at]=rt[at])}return o},_propTypes$1=propTypes$2.exports,_propTypes2$1=_interopRequireDefault$1(_propTypes$1),_react$1=react.exports,_react2$1=_interopRequireDefault$1(_react$1);function _interopRequireDefault$1(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties$1(o,a){var rt={};for(var at in o)a.indexOf(at)>=0||!Object.prototype.hasOwnProperty.call(o,at)||(rt[at]=o[at]);return rt}var propTypes$1={bgColor:_propTypes2$1.default.oneOfType([_propTypes2$1.default.object,_propTypes2$1.default.string]).isRequired,bgD:_propTypes2$1.default.string.isRequired,fgColor:_propTypes2$1.default.oneOfType([_propTypes2$1.default.object,_propTypes2$1.default.string]).isRequired,fgD:_propTypes2$1.default.string.isRequired,size:_propTypes2$1.default.number.isRequired,title:_propTypes2$1.default.string,viewBoxSize:_propTypes2$1.default.number.isRequired,xmlns:_propTypes2$1.default.string},defaultProps$1={title:void 0,xmlns:"http://www.w3.org/2000/svg"},QRCodeSvg=(0,_react$1.forwardRef)(function(o,a){var rt=o.bgColor,at=o.bgD,it=o.fgD,ot=o.fgColor,st=o.size,ct=o.title,lt=o.viewBoxSize,ut=_objectWithoutProperties$1(o,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return _react2$1.default.createElement("svg",_extends$1({},ut,{height:st,ref:a,viewBox:"0 0 "+lt+" "+lt,width:st}),ct?_react2$1.default.createElement("title",null,ct):null,_react2$1.default.createElement("path",{d:at,fill:rt}),_react2$1.default.createElement("path",{d:it,fill:ot}))});QRCodeSvg.displayName="QRCodeSvg";QRCodeSvg.propTypes=propTypes$1;QRCodeSvg.defaultProps=defaultProps$1;QRCodeSvg$1.default=QRCodeSvg;Object.defineProperty(lib,"__esModule",{value:!0});var _extends=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var rt=arguments[a];for(var at in rt)Object.prototype.hasOwnProperty.call(rt,at)&&(o[at]=rt[at])}return o},_QRCode=QRCode_1,_QRCode2=_interopRequireDefault(_QRCode),_ErrorCorrectLevel=ErrorCorrectLevel,_ErrorCorrectLevel2=_interopRequireDefault(_ErrorCorrectLevel),_propTypes=propTypes$2.exports,_propTypes2=_interopRequireDefault(_propTypes),_react=react.exports,_react2=_interopRequireDefault(_react),_QRCodeSvg=QRCodeSvg$1,_QRCodeSvg2=_interopRequireDefault(_QRCodeSvg);function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,a){var rt={};for(var at in o)a.indexOf(at)>=0||!Object.prototype.hasOwnProperty.call(o,at)||(rt[at]=o[at]);return rt}var propTypes={bgColor:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.string]),fgColor:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.string]),level:_propTypes2.default.string,size:_propTypes2.default.number,value:_propTypes2.default.string.isRequired},defaultProps={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},QRCode$1=(0,_react.forwardRef)(function(o,a){var rt=o.bgColor,at=o.fgColor,it=o.level,ot=o.size,st=o.value,ct=_objectWithoutProperties(o,["bgColor","fgColor","level","size","value"]),lt=new _QRCode2.default(-1,_ErrorCorrectLevel2.default[it]);lt.addData(st),lt.make();var ut=lt.modules;return _react2.default.createElement(_QRCodeSvg2.default,_extends({},ct,{bgColor:rt,bgD:ut.map(function(dt,ft){return dt.map(function(pt,ht){return pt?"":"M "+ht+" "+ft+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:at,fgD:ut.map(function(dt,ft){return dt.map(function(pt,ht){return pt?"M "+ht+" "+ft+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:a,size:ot,viewBoxSize:ut.length}))});QRCode$1.displayName="QRCode";QRCode$1.propTypes=propTypes;QRCode$1.defaultProps=defaultProps;var _default=lib.default=QRCode$1;function $e42e1063c40fb3ef$export$b9ecd428b558ff10(o,a,{checkForDefaultPrevented:rt=!0}={}){return function(it){if(o==null||o(it),rt===!1||!it.defaultPrevented)return a==null?void 0:a(it)}}function $6ed0406888f73fc4$var$setRef(o,a){typeof o=="function"?o(a):o!=null&&(o.current=a)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...o){return a=>o.forEach(rt=>$6ed0406888f73fc4$var$setRef(rt,a))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...o){return react.exports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...o),o)}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(o,a=[]){let rt=[];function at(ot,st){const ct=react.exports.createContext(st),lt=rt.length;rt=[...rt,st];function ut(ft){const{scope:pt,children:ht,...yt}=ft,mt=(pt==null?void 0:pt[o][lt])||ct,gt=react.exports.useMemo(()=>yt,Object.values(yt));return react.exports.createElement(mt.Provider,{value:gt},ht)}function dt(ft,pt){const ht=(pt==null?void 0:pt[o][lt])||ct,yt=react.exports.useContext(ht);if(yt)return yt;if(st!==void 0)return st;throw new Error(`\`${ft}\` must be used within \`${ot}\``)}return ut.displayName=ot+"Provider",[ut,dt]}const it=()=>{const ot=rt.map(st=>react.exports.createContext(st));return function(ct){const lt=(ct==null?void 0:ct[o])||ot;return react.exports.useMemo(()=>({[`__scope${o}`]:{...ct,[o]:lt}}),[ct,lt])}};return it.scopeName=o,[at,$c512c27ab02ef895$var$composeContextScopes(it,...a)]}function $c512c27ab02ef895$var$composeContextScopes(...o){const a=o[0];if(o.length===1)return a;const rt=()=>{const at=o.map(it=>({useScope:it(),scopeName:it.scopeName}));return function(ot){const st=at.reduce((ct,{useScope:lt,scopeName:ut})=>{const ft=lt(ot)[`__scope${ut}`];return{...ct,...ft}},{});return react.exports.useMemo(()=>({[`__scope${a.scopeName}`]:st}),[st])}};return rt.scopeName=a.scopeName,rt}const $9f79659886946c16$export$e5c5a5f917a5871c=Boolean(globalThis==null?void 0:globalThis.document)?react.exports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react["useId".toString()]||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(o){const[a,rt]=react.exports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{o||rt(at=>at!=null?at:String($1746a345f3d73bb7$var$count++))},[o]),o||(a?`radix-${a}`:"")}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(o){const a=react.exports.useRef(o);return react.exports.useEffect(()=>{a.current=o}),react.exports.useMemo(()=>(...rt)=>{var at;return(at=a.current)===null||at===void 0?void 0:at.call(a,...rt)},[])}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:o,defaultProp:a,onChange:rt=()=>{}}){const[at,it]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:a,onChange:rt}),ot=o!==void 0,st=ot?o:at,ct=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(rt),lt=react.exports.useCallback(ut=>{if(ot){const ft=typeof ut=="function"?ut(o):ut;ft!==o&&ct(ft)}else it(ut)},[ot,o,it,ct]);return[st,lt]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:o,onChange:a}){const rt=react.exports.useState(o),[at]=rt,it=react.exports.useRef(at),ot=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(a);return react.exports.useEffect(()=>{it.current!==at&&(ot(at),it.current=at)},[at,it,ot]),rt}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=react.exports.forwardRef((o,a)=>{const{children:rt,...at}=o,it=react.exports.Children.toArray(rt),ot=it.find($5e63c961fc1ce211$var$isSlottable);if(ot){const st=ot.props.children,ct=it.map(lt=>lt===ot?react.exports.Children.count(st)>1?react.exports.Children.only(null):react.exports.isValidElement(st)?st.props.children:null:lt);return react.exports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$2({},at,{ref:a}),react.exports.isValidElement(st)?react.exports.cloneElement(st,void 0,ct):null)}return react.exports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$2({},at,{ref:a}),rt)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=react.exports.forwardRef((o,a)=>{const{children:rt,...at}=o;return react.exports.isValidElement(rt)?react.exports.cloneElement(rt,{...$5e63c961fc1ce211$var$mergeProps(at,rt.props),ref:a?$6ed0406888f73fc4$export$43e446d32b3d21af(a,rt.ref):rt.ref}):react.exports.Children.count(rt)>1?react.exports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:o})=>react.exports.createElement(react.exports.Fragment,null,o);function $5e63c961fc1ce211$var$isSlottable(o){return react.exports.isValidElement(o)&&o.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(o,a){const rt={...a};for(const at in a){const it=o[at],ot=a[at];/^on[A-Z]/.test(at)?it&&ot?rt[at]=(...ct)=>{ot(...ct),it(...ct)}:it&&(rt[at]=it):at==="style"?rt[at]={...it,...ot}:at==="className"&&(rt[at]=[it,ot].filter(Boolean).join(" "))}return{...o,...rt}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((o,a)=>{const rt=react.exports.forwardRef((at,it)=>{const{asChild:ot,...st}=at,ct=ot?$5e63c961fc1ce211$export$8c6ed5c666ac1360:a;return react.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),react.exports.createElement(ct,_extends$2({},st,{ref:it}))});return rt.displayName=`Primitive.${a}`,{...o,[a]:rt}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(o,a){o&&reactDom.exports.flushSync(()=>o.dispatchEvent(a))}function $addc16e1bbe58fd0$export$3a72a57244d6e765(o,a=globalThis==null?void 0:globalThis.document){const rt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(o);react.exports.useEffect(()=>{const at=it=>{it.key==="Escape"&&rt(it)};return a.addEventListener("keydown",at),()=>a.removeEventListener("keydown",at)},[rt,a])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=react.exports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=react.exports.forwardRef((o,a)=>{var rt;const{disableOutsidePointerEvents:at=!1,onEscapeKeyDown:it,onPointerDownOutside:ot,onFocusOutside:st,onInteractOutside:ct,onDismiss:lt,...ut}=o,dt=react.exports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[ft,pt]=react.exports.useState(null),ht=(rt=ft==null?void 0:ft.ownerDocument)!==null&&rt!==void 0?rt:globalThis==null?void 0:globalThis.document,[,yt]=react.exports.useState({}),mt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,Nt=>pt(Nt)),gt=Array.from(dt.layers),[bt]=[...dt.layersWithOutsidePointerEventsDisabled].slice(-1),vt=gt.indexOf(bt),wt=ft?gt.indexOf(ft):-1,Tt=dt.layersWithOutsidePointerEventsDisabled.size>0,_t=wt>=vt,St=$5cb92bef7577960e$var$usePointerDownOutside(Nt=>{const jt=Nt.target,Ut=[...dt.branches].some(Ft=>Ft.contains(jt));!_t||Ut||(ot==null||ot(Nt),ct==null||ct(Nt),Nt.defaultPrevented||lt==null||lt())},ht),Pt=$5cb92bef7577960e$var$useFocusOutside(Nt=>{const jt=Nt.target;[...dt.branches].some(Ft=>Ft.contains(jt))||(st==null||st(Nt),ct==null||ct(Nt),Nt.defaultPrevented||lt==null||lt())},ht);return $addc16e1bbe58fd0$export$3a72a57244d6e765(Nt=>{wt===dt.layers.size-1&&(it==null||it(Nt),!Nt.defaultPrevented&&lt&&(Nt.preventDefault(),lt()))},ht),react.exports.useEffect(()=>{if(!!ft)return at&&(dt.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=ht.body.style.pointerEvents,ht.body.style.pointerEvents="none"),dt.layersWithOutsidePointerEventsDisabled.add(ft)),dt.layers.add(ft),$5cb92bef7577960e$var$dispatchUpdate(),()=>{at&&dt.layersWithOutsidePointerEventsDisabled.size===1&&(ht.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[ft,ht,at,dt]),react.exports.useEffect(()=>()=>{!ft||(dt.layers.delete(ft),dt.layersWithOutsidePointerEventsDisabled.delete(ft),$5cb92bef7577960e$var$dispatchUpdate())},[ft,dt]),react.exports.useEffect(()=>{const Nt=()=>yt({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,Nt),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,Nt)},[]),react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},ut,{ref:mt,style:{pointerEvents:Tt?_t?"auto":"none":void 0,...o.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocusCapture,Pt.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onBlurCapture,Pt.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onPointerDownCapture,St.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(o,a=globalThis==null?void 0:globalThis.document){const rt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(o),at=react.exports.useRef(!1),it=react.exports.useRef(()=>{});return react.exports.useEffect(()=>{const ot=ct=>{if(ct.target&&!at.current){let ut=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,rt,lt,{discrete:!0})};const lt={originalEvent:ct};ct.pointerType==="touch"?(a.removeEventListener("click",it.current),it.current=ut,a.addEventListener("click",it.current,{once:!0})):ut()}at.current=!1},st=window.setTimeout(()=>{a.addEventListener("pointerdown",ot)},0);return()=>{window.clearTimeout(st),a.removeEventListener("pointerdown",ot),a.removeEventListener("click",it.current)}},[a,rt]),{onPointerDownCapture:()=>at.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(o,a=globalThis==null?void 0:globalThis.document){const rt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(o),at=react.exports.useRef(!1);return react.exports.useEffect(()=>{const it=ot=>{ot.target&&!at.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,rt,{originalEvent:ot},{discrete:!1})};return a.addEventListener("focusin",it),()=>a.removeEventListener("focusin",it)},[a,rt]),{onFocusCapture:()=>at.current=!0,onBlurCapture:()=>at.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const o=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(o)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(o,a,rt,{discrete:at}){const it=rt.originalEvent.target,ot=new CustomEvent(o,{bubbles:!1,cancelable:!0,detail:rt});a&&it.addEventListener(o,a,{once:!0}),at?$8927f6f2acc4f386$export$6d1a0317bde7de7f(it,ot):it.dispatchEvent(ot)}const $d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",$d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",$d3863c46a17e8a28$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d3863c46a17e8a28$export$20e40289641fbbb6=react.exports.forwardRef((o,a)=>{const{loop:rt=!1,trapped:at=!1,onMountAutoFocus:it,onUnmountAutoFocus:ot,...st}=o,[ct,lt]=react.exports.useState(null),ut=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(it),dt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(ot),ft=react.exports.useRef(null),pt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,mt=>lt(mt)),ht=react.exports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;react.exports.useEffect(()=>{if(at){let mt=function(wt){if(ht.paused||!ct)return;const Tt=wt.target;ct.contains(Tt)?ft.current=Tt:$d3863c46a17e8a28$var$focus(ft.current,{select:!0})},gt=function(wt){if(ht.paused||!ct)return;const Tt=wt.relatedTarget;Tt!==null&&(ct.contains(Tt)||$d3863c46a17e8a28$var$focus(ft.current,{select:!0}))},bt=function(wt){const Tt=document.activeElement;for(const _t of wt)_t.removedNodes.length>0&&(ct!=null&&ct.contains(Tt)||$d3863c46a17e8a28$var$focus(ct))};document.addEventListener("focusin",mt),document.addEventListener("focusout",gt);const vt=new MutationObserver(bt);return ct&&vt.observe(ct,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",mt),document.removeEventListener("focusout",gt),vt.disconnect()}}},[at,ct,ht.paused]),react.exports.useEffect(()=>{if(ct){$d3863c46a17e8a28$var$focusScopesStack.add(ht);const mt=document.activeElement;if(!ct.contains(mt)){const bt=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);ct.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,ut),ct.dispatchEvent(bt),bt.defaultPrevented||($d3863c46a17e8a28$var$focusFirst($d3863c46a17e8a28$var$removeLinks($d3863c46a17e8a28$var$getTabbableCandidates(ct)),{select:!0}),document.activeElement===mt&&$d3863c46a17e8a28$var$focus(ct))}return()=>{ct.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,ut),setTimeout(()=>{const bt=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);ct.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,dt),ct.dispatchEvent(bt),bt.defaultPrevented||$d3863c46a17e8a28$var$focus(mt!=null?mt:document.body,{select:!0}),ct.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,dt),$d3863c46a17e8a28$var$focusScopesStack.remove(ht)},0)}}},[ct,ut,dt,ht]);const yt=react.exports.useCallback(mt=>{if(!rt&&!at||ht.paused)return;const gt=mt.key==="Tab"&&!mt.altKey&&!mt.ctrlKey&&!mt.metaKey,bt=document.activeElement;if(gt&&bt){const vt=mt.currentTarget,[wt,Tt]=$d3863c46a17e8a28$var$getTabbableEdges(vt);wt&&Tt?!mt.shiftKey&&bt===Tt?(mt.preventDefault(),rt&&$d3863c46a17e8a28$var$focus(wt,{select:!0})):mt.shiftKey&&bt===wt&&(mt.preventDefault(),rt&&$d3863c46a17e8a28$var$focus(Tt,{select:!0})):bt===vt&&mt.preventDefault()}},[rt,at,ht.paused]);return react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({tabIndex:-1},st,{ref:pt,onKeyDown:yt}))});function $d3863c46a17e8a28$var$focusFirst(o,{select:a=!1}={}){const rt=document.activeElement;for(const at of o)if($d3863c46a17e8a28$var$focus(at,{select:a}),document.activeElement!==rt)return}function $d3863c46a17e8a28$var$getTabbableEdges(o){const a=$d3863c46a17e8a28$var$getTabbableCandidates(o),rt=$d3863c46a17e8a28$var$findVisible(a,o),at=$d3863c46a17e8a28$var$findVisible(a.reverse(),o);return[rt,at]}function $d3863c46a17e8a28$var$getTabbableCandidates(o){const a=[],rt=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:at=>{const it=at.tagName==="INPUT"&&at.type==="hidden";return at.disabled||at.hidden||it?NodeFilter.FILTER_SKIP:at.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;rt.nextNode();)a.push(rt.currentNode);return a}function $d3863c46a17e8a28$var$findVisible(o,a){for(const rt of o)if(!$d3863c46a17e8a28$var$isHidden(rt,{upTo:a}))return rt}function $d3863c46a17e8a28$var$isHidden(o,{upTo:a}){if(getComputedStyle(o).visibility==="hidden")return!0;for(;o;){if(a!==void 0&&o===a)return!1;if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1}function $d3863c46a17e8a28$var$isSelectableInput(o){return o instanceof HTMLInputElement&&"select"in o}function $d3863c46a17e8a28$var$focus(o,{select:a=!1}={}){if(o&&o.focus){const rt=document.activeElement;o.focus({preventScroll:!0}),o!==rt&&$d3863c46a17e8a28$var$isSelectableInput(o)&&a&&o.select()}}const $d3863c46a17e8a28$var$focusScopesStack=$d3863c46a17e8a28$var$createFocusScopesStack();function $d3863c46a17e8a28$var$createFocusScopesStack(){let o=[];return{add(a){const rt=o[0];a!==rt&&(rt==null||rt.pause()),o=$d3863c46a17e8a28$var$arrayRemove(o,a),o.unshift(a)},remove(a){var rt;o=$d3863c46a17e8a28$var$arrayRemove(o,a),(rt=o[0])===null||rt===void 0||rt.resume()}}}function $d3863c46a17e8a28$var$arrayRemove(o,a){const rt=[...o],at=rt.indexOf(a);return at!==-1&&rt.splice(at,1),rt}function $d3863c46a17e8a28$var$removeLinks(o){return o.filter(a=>a.tagName!=="A")}const $f1701beae083dbae$export$602eac185826482c=react.exports.forwardRef((o,a)=>{var rt;const{container:at=globalThis==null||(rt=globalThis.document)===null||rt===void 0?void 0:rt.body,...it}=o;return at?$7SXl2$reactdom.createPortal(react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},it,{ref:a})),at):null});function $fe963b355347cc68$export$3e6543de14f8614f(o,a){return react.exports.useReducer((rt,at)=>{const it=a[rt][at];return it!=null?it:rt},o)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=o=>{const{present:a,children:rt}=o,at=$921a889cee6df7e8$var$usePresence(a),it=typeof rt=="function"?rt({present:at.isPresent}):react.exports.Children.only(rt),ot=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(at.ref,it.ref);return typeof rt=="function"||at.isPresent?react.exports.cloneElement(it,{ref:ot}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(o){const[a,rt]=react.exports.useState(),at=react.exports.useRef({}),it=react.exports.useRef(o),ot=react.exports.useRef("none"),st=o?"mounted":"unmounted",[ct,lt]=$fe963b355347cc68$export$3e6543de14f8614f(st,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return react.exports.useEffect(()=>{const ut=$921a889cee6df7e8$var$getAnimationName(at.current);ot.current=ct==="mounted"?ut:"none"},[ct]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const ut=at.current,dt=it.current;if(dt!==o){const pt=ot.current,ht=$921a889cee6df7e8$var$getAnimationName(ut);o?lt("MOUNT"):ht==="none"||(ut==null?void 0:ut.display)==="none"?lt("UNMOUNT"):lt(dt&&pt!==ht?"ANIMATION_OUT":"UNMOUNT"),it.current=o}},[o,lt]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(a){const ut=ft=>{const ht=$921a889cee6df7e8$var$getAnimationName(at.current).includes(ft.animationName);ft.target===a&&ht&&reactDom.exports.flushSync(()=>lt("ANIMATION_END"))},dt=ft=>{ft.target===a&&(ot.current=$921a889cee6df7e8$var$getAnimationName(at.current))};return a.addEventListener("animationstart",dt),a.addEventListener("animationcancel",ut),a.addEventListener("animationend",ut),()=>{a.removeEventListener("animationstart",dt),a.removeEventListener("animationcancel",ut),a.removeEventListener("animationend",ut)}}else lt("ANIMATION_END")},[a,lt]),{isPresent:["mounted","unmountSuspended"].includes(ct),ref:react.exports.useCallback(ut=>{ut&&(at.current=getComputedStyle(ut)),rt(ut)},[])}}function $921a889cee6df7e8$var$getAnimationName(o){return(o==null?void 0:o.animationName)||"none"}let $3db38b7d1fb3fe6a$var$count=0;function $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(){react.exports.useEffect(()=>{var o,a;const rt=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(o=rt[0])!==null&&o!==void 0?o:$3db38b7d1fb3fe6a$var$createFocusGuard()),document.body.insertAdjacentElement("beforeend",(a=rt[1])!==null&&a!==void 0?a:$3db38b7d1fb3fe6a$var$createFocusGuard()),$3db38b7d1fb3fe6a$var$count++,()=>{$3db38b7d1fb3fe6a$var$count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(at=>at.remove()),$3db38b7d1fb3fe6a$var$count--}},[])}function $3db38b7d1fb3fe6a$var$createFocusGuard(){const o=document.createElement("span");return o.setAttribute("data-radix-focus-guard",""),o.tabIndex=0,o.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",o}var __assign$2=function(){return __assign$2=Object.assign||function(a){for(var rt,at=1,it=arguments.length;at<it;at++){rt=arguments[at];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(a[ot]=rt[ot])}return a},__assign$2.apply(this,arguments)};function __rest$1(o,a){var rt={};for(var at in o)Object.prototype.hasOwnProperty.call(o,at)&&a.indexOf(at)<0&&(rt[at]=o[at]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,at=Object.getOwnPropertySymbols(o);it<at.length;it++)a.indexOf(at[it])<0&&Object.prototype.propertyIsEnumerable.call(o,at[it])&&(rt[at[it]]=o[at[it]]);return rt}function __spreadArray$1(o,a,rt){if(rt||arguments.length===2)for(var at=0,it=a.length,ot;at<it;at++)(ot||!(at in a))&&(ot||(ot=Array.prototype.slice.call(a,0,at)),ot[at]=a[at]);return o.concat(ot||Array.prototype.slice.call(a))}var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(o,a){return typeof o=="function"?o(a):o&&(o.current=a),o}function useCallbackRef(o,a){var rt=react.exports.useState(function(){return{value:o,callback:a,facade:{get current(){return rt.value},set current(at){var it=rt.value;it!==at&&(rt.value=at,rt.callback(at,it))}}}})[0];return rt.callback=a,rt.facade}function useMergeRefs(o,a){return useCallbackRef(a||null,function(rt){return o.forEach(function(at){return assignRef(at,rt)})})}var __assign$1=function(){return __assign$1=Object.assign||function(a){for(var rt,at=1,it=arguments.length;at<it;at++){rt=arguments[at];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(a[ot]=rt[ot])}return a},__assign$1.apply(this,arguments)};function __rest(o,a){var rt={};for(var at in o)Object.prototype.hasOwnProperty.call(o,at)&&a.indexOf(at)<0&&(rt[at]=o[at]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,at=Object.getOwnPropertySymbols(o);it<at.length;it++)a.indexOf(at[it])<0&&Object.prototype.propertyIsEnumerable.call(o,at[it])&&(rt[at[it]]=o[at[it]]);return rt}function ItoI(o){return o}function innerCreateMedium(o,a){a===void 0&&(a=ItoI);var rt=[],at=!1,it={read:function(){if(at)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return rt.length?rt[rt.length-1]:o},useMedium:function(ot){var st=a(ot,at);return rt.push(st),function(){rt=rt.filter(function(ct){return ct!==st})}},assignSyncMedium:function(ot){for(at=!0;rt.length;){var st=rt;rt=[],st.forEach(ot)}rt={push:function(ct){return ot(ct)},filter:function(){return rt}}},assignMedium:function(ot){at=!0;var st=[];if(rt.length){var ct=rt;rt=[],ct.forEach(ot),st=rt}var lt=function(){var dt=st;st=[],dt.forEach(ot)},ut=function(){return Promise.resolve().then(lt)};ut(),rt={push:function(dt){st.push(dt),ut()},filter:function(dt){return st=st.filter(dt),rt}}}};return it}function createSidecarMedium(o){o===void 0&&(o={});var a=innerCreateMedium(null);return a.options=__assign$1({async:!0,ssr:!1},o),a}var SideCar$1=function(o){var a=o.sideCar,rt=__rest(o,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var at=a.read();if(!at)throw new Error("Sidecar medium not found");return jsx(at,{...__assign$1({},rt)})};SideCar$1.isSideCarExport=!0;function exportSidecar(o,a){return o.useMedium(a),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=react.exports.forwardRef(function(o,a){var rt=react.exports.useRef(null),at=react.exports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),it=at[0],ot=at[1],st=o.forwardProps,ct=o.children,lt=o.className,ut=o.removeScrollBar,dt=o.enabled,ft=o.shards,pt=o.sideCar,ht=o.noIsolation,yt=o.inert,mt=o.allowPinchZoom,gt=o.as,bt=gt===void 0?"div":gt,vt=__rest$1(o,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),wt=pt,Tt=useMergeRefs([rt,a]),_t=__assign$2(__assign$2({},vt),it);return jsxs(Fragment$1,{children:[dt&&jsx(wt,{sideCar:effectCar,removeScrollBar:ut,shards:ft,noIsolation:ht,inert:yt,setCallbacks:ot,allowPinchZoom:!!mt,lockRef:rt}),st?react.exports.cloneElement(react.exports.Children.only(ct),__assign$2(__assign$2({},_t),{ref:Tt})):jsx(bt,{...__assign$2({},_t,{className:lt,ref:Tt}),children:ct})]})});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var o=document.createElement("style");o.type="text/css";var a=getNonce();return a&&o.setAttribute("nonce",a),o}function injectStyles(o,a){o.styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a))}function insertStyleTag(o){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(o)}var stylesheetSingleton=function(){var o=0,a=null;return{add:function(rt){o==0&&(a=makeStyleTag())&&(injectStyles(a,rt),insertStyleTag(a)),o++},remove:function(){o--,!o&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},styleHookSingleton=function(){var o=stylesheetSingleton();return function(a,rt){react.exports.useEffect(function(){return o.add(a),function(){o.remove()}},[a&&rt])}},styleSingleton=function(){var o=styleHookSingleton(),a=function(rt){var at=rt.styles,it=rt.dynamic;return o(at,it),null};return a},zeroGap={left:0,top:0,right:0,gap:0},parse=function(o){return parseInt(o||"",10)||0},getOffset=function(o){var a=window.getComputedStyle(document.body),rt=a[o==="padding"?"paddingLeft":"marginLeft"],at=a[o==="padding"?"paddingTop":"marginTop"],it=a[o==="padding"?"paddingRight":"marginRight"];return[parse(rt),parse(at),parse(it)]},getGapWidth=function(o){if(o===void 0&&(o="margin"),typeof window>"u")return zeroGap;var a=getOffset(o),rt=document.documentElement.clientWidth,at=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,at-rt+a[2]-a[0])}},Style=styleSingleton(),getStyles=function(o,a,rt,at){var it=o.left,ot=o.top,st=o.right,ct=o.gap;return rt===void 0&&(rt="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(at,`;
   padding-right: `).concat(ct,"px ").concat(at,`;
  }
  body {
    overflow: hidden `).concat(at,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(at,";"),rt==="margin"&&`
    padding-left: `.concat(it,`px;
    padding-top: `).concat(ot,`px;
    padding-right: `).concat(st,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ct,"px ").concat(at,`;
    `),rt==="padding"&&"padding-right: ".concat(ct,"px ").concat(at,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ct,"px ").concat(at,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ct,"px ").concat(at,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(at,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(at,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(ct,`px;
  }
`)},RemoveScrollBar=function(o){var a=o.noRelative,rt=o.noImportant,at=o.gapMode,it=at===void 0?"margin":at,ot=react.exports.useMemo(function(){return getGapWidth(it)},[it]);return jsx(Style,{styles:getStyles(ot,!a,it,rt?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(o){return o.tagName==="TEXTAREA"},elementCanBeScrolled=function(o,a){var rt=window.getComputedStyle(o);return rt[a]!=="hidden"&&!(rt.overflowY===rt.overflowX&&!alwaysContainsScroll(o)&&rt[a]==="visible")},elementCouldBeVScrolled=function(o){return elementCanBeScrolled(o,"overflowY")},elementCouldBeHScrolled=function(o){return elementCanBeScrolled(o,"overflowX")},locationCouldBeScrolled=function(o,a){var rt=a;do{typeof ShadowRoot<"u"&&rt instanceof ShadowRoot&&(rt=rt.host);var at=elementCouldBeScrolled(o,rt);if(at){var it=getScrollVariables(o,rt),ot=it[1],st=it[2];if(ot>st)return!0}rt=rt.parentNode}while(rt&&rt!==document.body);return!1},getVScrollVariables=function(o){var a=o.scrollTop,rt=o.scrollHeight,at=o.clientHeight;return[a,rt,at]},getHScrollVariables=function(o){var a=o.scrollLeft,rt=o.scrollWidth,at=o.clientWidth;return[a,rt,at]},elementCouldBeScrolled=function(o,a){return o==="v"?elementCouldBeVScrolled(a):elementCouldBeHScrolled(a)},getScrollVariables=function(o,a){return o==="v"?getVScrollVariables(a):getHScrollVariables(a)},getDirectionFactor=function(o,a){return o==="h"&&a==="rtl"?-1:1},handleScroll=function(o,a,rt,at,it){var ot=getDirectionFactor(o,window.getComputedStyle(a).direction),st=ot*at,ct=rt.target,lt=a.contains(ct),ut=!1,dt=st>0,ft=0,pt=0;do{var ht=getScrollVariables(o,ct),yt=ht[0],mt=ht[1],gt=ht[2],bt=mt-gt-ot*yt;(yt||bt)&&elementCouldBeScrolled(o,ct)&&(ft+=bt,pt+=yt),ct=ct.parentNode}while(!lt&&ct!==document.body||lt&&(a.contains(ct)||a===ct));return(dt&&(it&&ft===0||!it&&st>ft)||!dt&&(it&&pt===0||!it&&-st>pt))&&(ut=!0),ut},getTouchXY=function(o){return"changedTouches"in o?[o.changedTouches[0].clientX,o.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(o){return[o.deltaX,o.deltaY]},extractRef=function(o){return o&&"current"in o?o.current:o},deltaCompare=function(o,a){return o[0]===a[0]&&o[1]===a[1]},generateStyle=function(o){return`
  .block-interactivity-`.concat(o,` {pointer-events: none;}
  .allow-interactivity-`).concat(o,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(o){var a=react.exports.useRef([]),rt=react.exports.useRef([0,0]),at=react.exports.useRef(),it=react.exports.useState(idCounter++)[0],ot=react.exports.useState(function(){return styleSingleton()})[0],st=react.exports.useRef(o);react.exports.useEffect(function(){st.current=o},[o]),react.exports.useEffect(function(){if(o.inert){document.body.classList.add("block-interactivity-".concat(it));var mt=__spreadArray$1([o.lockRef.current],(o.shards||[]).map(extractRef),!0).filter(Boolean);return mt.forEach(function(gt){return gt.classList.add("allow-interactivity-".concat(it))}),function(){document.body.classList.remove("block-interactivity-".concat(it)),mt.forEach(function(gt){return gt.classList.remove("allow-interactivity-".concat(it))})}}},[o.inert,o.lockRef.current,o.shards]);var ct=react.exports.useCallback(function(mt,gt){if("touches"in mt&&mt.touches.length===2)return!st.current.allowPinchZoom;var bt=getTouchXY(mt),vt=rt.current,wt="deltaX"in mt?mt.deltaX:vt[0]-bt[0],Tt="deltaY"in mt?mt.deltaY:vt[1]-bt[1],_t,St=mt.target,Pt=Math.abs(wt)>Math.abs(Tt)?"h":"v";if("touches"in mt&&Pt==="h"&&St.type==="range")return!1;var Nt=locationCouldBeScrolled(Pt,St);if(!Nt)return!0;if(Nt?_t=Pt:(_t=Pt==="v"?"h":"v",Nt=locationCouldBeScrolled(Pt,St)),!Nt)return!1;if(!at.current&&"changedTouches"in mt&&(wt||Tt)&&(at.current=_t),!_t)return!0;var jt=at.current||_t;return handleScroll(jt,gt,mt,jt==="h"?wt:Tt,!0)},[]),lt=react.exports.useCallback(function(mt){var gt=mt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==ot)){var bt="deltaY"in gt?getDeltaXY(gt):getTouchXY(gt),vt=a.current.filter(function(_t){return _t.name===gt.type&&_t.target===gt.target&&deltaCompare(_t.delta,bt)})[0];if(vt&&vt.should){gt.cancelable&&gt.preventDefault();return}if(!vt){var wt=(st.current.shards||[]).map(extractRef).filter(Boolean).filter(function(_t){return _t.contains(gt.target)}),Tt=wt.length>0?ct(gt,wt[0]):!st.current.noIsolation;Tt&&gt.cancelable&&gt.preventDefault()}}},[]),ut=react.exports.useCallback(function(mt,gt,bt,vt){var wt={name:mt,delta:gt,target:bt,should:vt};a.current.push(wt),setTimeout(function(){a.current=a.current.filter(function(Tt){return Tt!==wt})},1)},[]),dt=react.exports.useCallback(function(mt){rt.current=getTouchXY(mt),at.current=void 0},[]),ft=react.exports.useCallback(function(mt){ut(mt.type,getDeltaXY(mt),mt.target,ct(mt,o.lockRef.current))},[]),pt=react.exports.useCallback(function(mt){ut(mt.type,getTouchXY(mt),mt.target,ct(mt,o.lockRef.current))},[]);react.exports.useEffect(function(){return lockStack.push(ot),o.setCallbacks({onScrollCapture:ft,onWheelCapture:ft,onTouchMoveCapture:pt}),document.addEventListener("wheel",lt,nonPassive),document.addEventListener("touchmove",lt,nonPassive),document.addEventListener("touchstart",dt,nonPassive),function(){lockStack=lockStack.filter(function(mt){return mt!==ot}),document.removeEventListener("wheel",lt,nonPassive),document.removeEventListener("touchmove",lt,nonPassive),document.removeEventListener("touchstart",dt,nonPassive)}},[]);var ht=o.removeScrollBar,yt=o.inert;return jsxs(Fragment$1,{children:[yt?jsx(ot,{styles:generateStyle(it)}):null,ht?jsx(RemoveScrollBar,{gapMode:"margin"}):null]})}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=react.exports.forwardRef(function(o,a){return jsx(RemoveScroll,{...__assign$2({},o,{ref:a,sideCar:SideCar})})});ReactRemoveScroll.classNames=RemoveScroll.classNames;const $epM9y$RemoveScroll=ReactRemoveScroll;var getDefaultParent=function(o){if(typeof document>"u")return null;var a=Array.isArray(o)?o[0]:o;return a.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(o){return o&&(o.host||unwrapHost(o.parentNode))},correctTargets=function(o,a){return a.map(function(rt){if(o.contains(rt))return rt;var at=unwrapHost(rt);return at&&o.contains(at)?at:(console.error("aria-hidden",rt,"in not contained inside",o,". Doing nothing"),null)}).filter(function(rt){return Boolean(rt)})},applyAttributeToOthers=function(o,a,rt,at){var it=correctTargets(a,Array.isArray(o)?o:[o]);markerMap[rt]||(markerMap[rt]=new WeakMap);var ot=markerMap[rt],st=[],ct=new Set,lt=new Set(it),ut=function(ft){!ft||ct.has(ft)||(ct.add(ft),ut(ft.parentNode))};it.forEach(ut);var dt=function(ft){!ft||lt.has(ft)||Array.prototype.forEach.call(ft.children,function(pt){if(ct.has(pt))dt(pt);else{var ht=pt.getAttribute(at),yt=ht!==null&&ht!=="false",mt=(counterMap.get(pt)||0)+1,gt=(ot.get(pt)||0)+1;counterMap.set(pt,mt),ot.set(pt,gt),st.push(pt),mt===1&&yt&&uncontrolledNodes.set(pt,!0),gt===1&&pt.setAttribute(rt,"true"),yt||pt.setAttribute(at,"true")}})};return dt(a),ct.clear(),lockCount++,function(){st.forEach(function(ft){var pt=counterMap.get(ft)-1,ht=ot.get(ft)-1;counterMap.set(ft,pt),ot.set(ft,ht),pt||(uncontrolledNodes.has(ft)||ft.removeAttribute(at),uncontrolledNodes.delete(ft)),ht||ft.removeAttribute(rt)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(o,a,rt){rt===void 0&&(rt="data-aria-hidden");var at=Array.from(Array.isArray(o)?o:[o]),it=a||getDefaultParent(o);return it?(at.push.apply(at,Array.from(it.querySelectorAll("[aria-live]"))),applyAttributeToOthers(at,it,rt,"aria-hidden")):function(){return null}};const $5d3850c4d0b4e6c7$var$DIALOG_NAME="Dialog",[$5d3850c4d0b4e6c7$var$createDialogContext,$5d3850c4d0b4e6c7$export$cc702773b8ea3e41]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($5d3850c4d0b4e6c7$var$DIALOG_NAME),[$5d3850c4d0b4e6c7$var$DialogProvider,$5d3850c4d0b4e6c7$var$useDialogContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$DIALOG_NAME),$5d3850c4d0b4e6c7$export$3ddf2d174ce01153=o=>{const{__scopeDialog:a,children:rt,open:at,defaultOpen:it,onOpenChange:ot,modal:st=!0}=o,ct=react.exports.useRef(null),lt=react.exports.useRef(null),[ut=!1,dt]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:at,defaultProp:it,onChange:ot});return react.exports.createElement($5d3850c4d0b4e6c7$var$DialogProvider,{scope:a,triggerRef:ct,contentRef:lt,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),titleId:$1746a345f3d73bb7$export$f680877a34711e37(),descriptionId:$1746a345f3d73bb7$export$f680877a34711e37(),open:ut,onOpenChange:dt,onOpenToggle:react.exports.useCallback(()=>dt(ft=>!ft),[dt]),modal:st},rt)},$5d3850c4d0b4e6c7$var$TRIGGER_NAME="DialogTrigger",$5d3850c4d0b4e6c7$export$2e1e1122cf0cba88=react.exports.forwardRef((o,a)=>{const{__scopeDialog:rt,...at}=o,it=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TRIGGER_NAME,rt),ot=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,it.triggerRef);return react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button","aria-haspopup":"dialog","aria-expanded":it.open,"aria-controls":it.contentId,"data-state":$5d3850c4d0b4e6c7$var$getState(it.open)},at,{ref:ot,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onClick,it.onOpenToggle)}))}),$5d3850c4d0b4e6c7$var$PORTAL_NAME="DialogPortal",[$5d3850c4d0b4e6c7$var$PortalProvider,$5d3850c4d0b4e6c7$var$usePortalContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,{forceMount:void 0}),$5d3850c4d0b4e6c7$export$dad7c95542bacce0=o=>{const{__scopeDialog:a,forceMount:rt,children:at,container:it}=o,ot=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,a);return react.exports.createElement($5d3850c4d0b4e6c7$var$PortalProvider,{scope:a,forceMount:rt},react.exports.Children.map(at,st=>react.exports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:rt||ot.open},react.exports.createElement($f1701beae083dbae$export$602eac185826482c,{asChild:!0,container:it},st))))},$5d3850c4d0b4e6c7$var$OVERLAY_NAME="DialogOverlay",$5d3850c4d0b4e6c7$export$bd1d06c79be19e17=react.exports.forwardRef((o,a)=>{const rt=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,o.__scopeDialog),{forceMount:at=rt.forceMount,...it}=o,ot=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,o.__scopeDialog);return ot.modal?react.exports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:at||ot.open},react.exports.createElement($5d3850c4d0b4e6c7$var$DialogOverlayImpl,_extends$2({},it,{ref:a}))):null}),$5d3850c4d0b4e6c7$var$DialogOverlayImpl=react.exports.forwardRef((o,a)=>{const{__scopeDialog:rt,...at}=o,it=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,rt);return react.exports.createElement($epM9y$RemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0,shards:[it.contentRef]},react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-state":$5d3850c4d0b4e6c7$var$getState(it.open)},at,{ref:a,style:{pointerEvents:"auto",...at.style}})))}),$5d3850c4d0b4e6c7$var$CONTENT_NAME="DialogContent",$5d3850c4d0b4e6c7$export$b6d9565de1e068cf=react.exports.forwardRef((o,a)=>{const rt=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,o.__scopeDialog),{forceMount:at=rt.forceMount,...it}=o,ot=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,o.__scopeDialog);return react.exports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:at||ot.open},ot.modal?react.exports.createElement($5d3850c4d0b4e6c7$var$DialogContentModal,_extends$2({},it,{ref:a})):react.exports.createElement($5d3850c4d0b4e6c7$var$DialogContentNonModal,_extends$2({},it,{ref:a})))}),$5d3850c4d0b4e6c7$var$DialogContentModal=react.exports.forwardRef((o,a)=>{const rt=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,o.__scopeDialog),at=react.exports.useRef(null),it=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,rt.contentRef,at);return react.exports.useEffect(()=>{const ot=at.current;if(ot)return hideOthers(ot)},[]),react.exports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends$2({},o,{ref:it,trapFocus:rt.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onCloseAutoFocus,ot=>{var st;ot.preventDefault(),(st=rt.triggerRef.current)===null||st===void 0||st.focus()}),onPointerDownOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onPointerDownOutside,ot=>{const st=ot.detail.originalEvent,ct=st.button===0&&st.ctrlKey===!0;(st.button===2||ct)&&ot.preventDefault()}),onFocusOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocusOutside,ot=>ot.preventDefault())}))}),$5d3850c4d0b4e6c7$var$DialogContentNonModal=react.exports.forwardRef((o,a)=>{const rt=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,o.__scopeDialog),at=react.exports.useRef(!1),it=react.exports.useRef(!1);return react.exports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends$2({},o,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:ot=>{var st;if((st=o.onCloseAutoFocus)===null||st===void 0||st.call(o,ot),!ot.defaultPrevented){var ct;at.current||(ct=rt.triggerRef.current)===null||ct===void 0||ct.focus(),ot.preventDefault()}at.current=!1,it.current=!1},onInteractOutside:ot=>{var st,ct;(st=o.onInteractOutside)===null||st===void 0||st.call(o,ot),ot.defaultPrevented||(at.current=!0,ot.detail.originalEvent.type==="pointerdown"&&(it.current=!0));const lt=ot.target;((ct=rt.triggerRef.current)===null||ct===void 0?void 0:ct.contains(lt))&&ot.preventDefault(),ot.detail.originalEvent.type==="focusin"&&it.current&&ot.preventDefault()}}))}),$5d3850c4d0b4e6c7$var$DialogContentImpl=react.exports.forwardRef((o,a)=>{const{__scopeDialog:rt,trapFocus:at,onOpenAutoFocus:it,onCloseAutoFocus:ot,...st}=o,ct=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,rt),lt=react.exports.useRef(null),ut=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,lt);return $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(),react.exports.createElement(react.exports.Fragment,null,react.exports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,loop:!0,trapped:at,onMountAutoFocus:it,onUnmountAutoFocus:ot},react.exports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,_extends$2({role:"dialog",id:ct.contentId,"aria-describedby":ct.descriptionId,"aria-labelledby":ct.titleId,"data-state":$5d3850c4d0b4e6c7$var$getState(ct.open)},st,{ref:ut,onDismiss:()=>ct.onOpenChange(!1)}))),!1)}),$5d3850c4d0b4e6c7$var$TITLE_NAME="DialogTitle",$5d3850c4d0b4e6c7$export$16f7638e4a34b909=react.exports.forwardRef((o,a)=>{const{__scopeDialog:rt,...at}=o,it=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TITLE_NAME,rt);return react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.h2,_extends$2({id:it.titleId},at,{ref:a}))}),$5d3850c4d0b4e6c7$var$CLOSE_NAME="DialogClose",$5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac=react.exports.forwardRef((o,a)=>{const{__scopeDialog:rt,...at}=o,it=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CLOSE_NAME,rt);return react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button"},at,{ref:a,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onClick,()=>it.onOpenChange(!1))}))});function $5d3850c4d0b4e6c7$var$getState(o){return o?"open":"closed"}const $5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9=$5d3850c4d0b4e6c7$export$3ddf2d174ce01153,$5d3850c4d0b4e6c7$export$41fb9f06171c75f4=$5d3850c4d0b4e6c7$export$2e1e1122cf0cba88,$5d3850c4d0b4e6c7$export$602eac185826482c=$5d3850c4d0b4e6c7$export$dad7c95542bacce0,$5d3850c4d0b4e6c7$export$c6fdb837b070b4ff=$5d3850c4d0b4e6c7$export$bd1d06c79be19e17,$5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2=$5d3850c4d0b4e6c7$export$b6d9565de1e068cf,$5d3850c4d0b4e6c7$export$f99233281efd08a0=$5d3850c4d0b4e6c7$export$16f7638e4a34b909,$5d3850c4d0b4e6c7$export$f39c2d165cd861fe=$5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac;function _objectWithoutPropertiesLoose(o,a){if(o==null)return{};var rt={},at=Object.keys(o),it,ot;for(ot=0;ot<at.length;ot++)it=at[ot],!(a.indexOf(it)>=0)&&(rt[it]=o[it]);return rt}var _excluded$T=["color"],CheckIcon=react.exports.forwardRef(function(o,a){var rt=o.color,at=rt===void 0?"currentColor":rt,it=_objectWithoutPropertiesLoose(o,_excluded$T);return react.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it,{ref:a}),react.exports.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:at,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$W=["color"],ChevronDownIcon=react.exports.forwardRef(function(o,a){var rt=o.color,at=rt===void 0?"currentColor":rt,it=_objectWithoutPropertiesLoose(o,_excluded$W);return react.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it,{ref:a}),react.exports.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:at,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$X=["color"],ChevronLeftIcon=react.exports.forwardRef(function(o,a){var rt=o.color,at=rt===void 0?"currentColor":rt,it=_objectWithoutPropertiesLoose(o,_excluded$X);return react.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it,{ref:a}),react.exports.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:at,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$Y=["color"],ChevronRightIcon=react.exports.forwardRef(function(o,a){var rt=o.color,at=rt===void 0?"currentColor":rt,it=_objectWithoutPropertiesLoose(o,_excluded$Y);return react.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it,{ref:a}),react.exports.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:at,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1r=["color"],Cross2Icon=react.exports.forwardRef(function(o,a){var rt=o.color,at=rt===void 0?"currentColor":rt,it=_objectWithoutPropertiesLoose(o,_excluded$1r);return react.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it,{ref:a}),react.exports.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:at,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$33=["color"],MagnifyingGlassIcon=react.exports.forwardRef(function(o,a){var rt=o.color,at=rt===void 0?"currentColor":rt,it=_objectWithoutPropertiesLoose(o,_excluded$33);return react.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it,{ref:a}),react.exports.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:at,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4O=["color"],UploadIcon=react.exports.forwardRef(function(o,a){var rt=o.color,at=rt===void 0?"currentColor":rt,it=_objectWithoutPropertiesLoose(o,_excluded$4O);return react.exports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it,{ref:a}),react.exports.createElement("path",{d:"M7.81825 1.18188C7.64251 1.00615 7.35759 1.00615 7.18185 1.18188L4.18185 4.18188C4.00611 4.35762 4.00611 4.64254 4.18185 4.81828C4.35759 4.99401 4.64251 4.99401 4.81825 4.81828L7.05005 2.58648V9.49996C7.05005 9.74849 7.25152 9.94996 7.50005 9.94996C7.74858 9.94996 7.95005 9.74849 7.95005 9.49996V2.58648L10.1819 4.81828C10.3576 4.99401 10.6425 4.99401 10.8182 4.81828C10.994 4.64254 10.994 4.35762 10.8182 4.18188L7.81825 1.18188ZM2.5 9.99997C2.77614 9.99997 3 10.2238 3 10.5V12C3 12.5538 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2238 12.2239 9.99997 12.5 9.99997C12.7761 9.99997 13 10.2238 13 10.5V12C13 13.104 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2238 2.22386 9.99997 2.5 9.99997Z",fill:at,fillRule:"evenodd",clipRule:"evenodd"}))});const FormFieldWithIconButton=o=>jsxs("div",{children:[jsx(Label,{htmlFor:o.id,children:o.label}),jsx(Spacer,{y:"sm"}),jsxs(InputContainer,{"data-error":!!o.error,children:[jsx(Input,{variant:"transparent",required:o.required,name:o.name,autoComplete:o.autocomplete,id:o.id,onChange:a=>o.onChange(a.target.value),value:o.value,type:o.noSave?"text":o.type,style:o.type==="password"&&o.noSave?{WebkitTextSecurity:"disc"}:void 0}),jsx(InputButton,{type:"button",onClick:o.right.onClick,children:o.right.icon})]}),o.error&&jsxs(Fragment$1,{children:[jsx(Spacer,{y:"sm"}),jsxs(ErrorMessage,{children:[" ",o.error," "]})]})]}),FormField=o=>jsxs("div",{children:[jsx(Label,{htmlFor:o.id,children:o.label}),jsx(Spacer,{y:"sm"}),jsx(Input,{variant:"outline",required:o.required,name:o.name,autoComplete:o.autocomplete,id:o.id,onChange:a=>o.onChange(a.target.value),value:o.value,type:o.type,"data-error":!!o.errorMessage,placeholder:o.placeholder,disabled:o.disabled}),o.errorMessage&&jsxs(Fragment$1,{children:[jsx(Spacer,{y:"xs"}),jsx(ErrorMessage,{children:o.errorMessage})]})]}),ModalTitle=newStyled($5d3850c4d0b4e6c7$export$f99233281efd08a0)`
  margin: 0;
  font-weight: 600;
  font-size: ${fontSize.lg};
  color: ${o=>o.theme.text.neutral};
  text-align: left;
  ${media.mobile} {
    text-align: ${o=>o.centerOnMobile?"center":"left"};
  }
`,ModalDescription=newStyled.p`
  all: unset;
  display: block;
  font-size: ${o=>o.sm?fontSize.sm:fontSize.md};
  color: ${o=>o.theme.text.secondary};
  line-height: 1.5;
  ${media.mobile} {
    text-align: ${o=>o.centerOnMobile?"center":"left"};
  }
`,BackButton=o=>jsx(IconButton,{variant:"secondary",onClick:o.onClick,style:o.style,type:"button",children:jsx(ChevronLeftIcon,{style:{width:iconSize.md,height:iconSize.md}})}),HelperLink=newStyled.a`
  all: unset;
  cursor: pointer;
  color: ${o=>o.theme.link.primary};
  font-size: ${o=>o.md?fontSize.md:fontSize.sm};
  text-decoration: none;
  display: block;
  ${media.mobile} {
    text-align: center;
  }
  &:hover {
    color: ${o=>o.theme.link.primaryHover};
    text-decoration: none;
  }
`;function detectEnv(o){return detect(o)}function isAndroid(){const o=detectOS();return o?o.toLowerCase().includes("android"):!1}function isIOS(){const o=detectOS();return o?o.toLowerCase().includes("ios")||o.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function detectOS(){const o=detectEnv();return o!=null&&o.os?o.os:void 0}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}const Img=o=>jsx("img",{width:o.width,height:o.height,src:resolveIpfsUri(o.src),alt:o.alt||"",loading:o.loading,decoding:"async",style:{height:o.height+"px",width:o.width+"px"},className:o.className}),ConnectingScreen=o=>jsxs(Fragment$1,{children:[jsx(BackButton,{onClick:o.onBack}),jsx(IconContainer,{children:jsx(Img,{src:o.walletIconURL,width:iconSize.xl,height:iconSize.xl})}),jsx(Spacer,{y:"lg"}),jsxs(TitleContainer,{children:[jsx(ModalTitle,{children:"Connecting your wallet"}),jsx(Spinner,{size:"md",color:"link"})]}),jsx(Spacer,{y:"md"}),jsxs(Desc,{centerOnMobile:!0,children:["Connect your wallet through the ",o.walletName," ",isMobile()?"application":"pop-up"]}),jsx(Spacer,{y:"xl"}),jsxs(HelperLink,{target:"_blank",href:o.supportLink,children:["Having troubles connecting to ",o.walletName,"?"]})]}),TitleContainer=newStyled.div`
  display: flex;
  align-items: center;
  gap: ${spacing.md};
  ${media.mobile} {
    flex-direction: column;
    align-items: center;
    gap: ${spacing.xl};
  }
`,IconContainer=newStyled.div`
  display: flex;
  margin-top: ${spacing.lg};
  ${media.mobile} {
    justify-content: center;
    margin-top: 0;
  }
`,Desc=newStyled(ModalDescription)`
  ${media.mobile} {
    padding: 0 ${spacing.lg};
  }
`,fadeInAnimation=keyframes`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,FadeIn=newStyled.div`
  animation: ${fadeInAnimation} 0.15s ease-in;
`,Skeleton=o=>jsx(SkeletonDiv,{gradient:o.gradient,style:{height:o.height,width:o.width||"auto"}}),skeletonAnimation=keyframes`
0% {
    background-color: var(--skeleton-c-1);
  }
  100% {
    background-color: var(--skeleton-c-2);
  }
`,SkeletonDiv=newStyled.div`
  background-size: 200% 200%;
  --skeleton-c-1: ${o=>{var a;return o.theme.bg[((a=o.gradient)==null?void 0:a.c1)||"elevated"]}};
  --skeleton-c-2: ${o=>{var a;return o.theme.bg[((a=o.gradient)==null?void 0:a.c2)||"highlighted"]}};
  animation: ${skeletonAnimation} 500ms ease-in-out infinite alternate;
  border-radius: ${radius.sm};
`,QRCode=o=>jsxs("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},children:[o.qrCodeUri?jsx(FadeIn,{children:jsx(QRCodeContainer,{children:jsx(StyledReactQrCode,{value:o.qrCodeUri})})}):jsx(QRSkeleton,{height:"200px",width:"200px"}),o.QRIcon&&jsx(QrCodeIconContainer,{children:o.QRIcon})]}),QrCodeIconContainer=newStyled.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  border-radius: ${radius.md};
  display: flex;
  justify-content: center;
  align-content: center;
  padding: 4px;
`,QRCodeContainer=newStyled.div`
  background: white;
  padding: ${spacing.xxs};
  display: flex;
  justify-content: center;
  align-content: center;
  border-radius: ${radius.md};
  box-shadow: ${shadow.md};
`,StyledReactQrCode=newStyled(_default)`
  width: 200px;
  height: 200px;
  border-radius: ${radius.md};

  ${media.mobile} {
    width: 150px;
    height: 150px;
  }
`,QRSkeleton=newStyled(Skeleton)`
  width: 200px;
  height: 200px;
  border-radius: ${radius.md};
  ${media.mobile} {
    width: 150px;
    height: 150px;
  }
`,Apple="ipfs://Qmcyb1akWqyu8W4DgVWzZUozrCkfES8ow36jNhjs7arwvc/AppleGray.svg",Chrome="ipfs://QmPu4UKsektZixeZN4ixi8Ji9KbMuwcRKAp3JRK4jrcaMK/Chrome.svg",GooglePlay="ipfs://QmTSu87iXWpfcCgy15DX3Mgp1Rqb8zFAwXdbLNh6WxmpC4/GooglePlay.svg",GetStartedScreen=o=>{const[a,rt]=react.exports.useState("base"),at=a==="android-scan"||a==="ios-scan";return jsxs(Fragment$1,{children:[jsx(BackButton,{style:at?{position:"absolute",top:spacing.lg,left:spacing.lg}:void 0,onClick:()=>{a==="base"?o.onBack():rt("base")}}),a==="android-scan"&&o.googlePlayStoreLink&&jsx(ScanScreen$1,{platformIcon:jsx(Img,{src:GooglePlay,width:iconSize.md,height:iconSize.md}),url:o.googlePlayStoreLink,platform:"Google Play",walletName:o.walletName,walletIconURL:o.walletIconURL}),a==="ios-scan"&&o.appleStoreLink&&jsx(ScanScreen$1,{platformIcon:jsx(Img,{width:iconSize.md,height:iconSize.md,src:Apple}),url:o.appleStoreLink,platform:"App Store",walletName:o.walletName,walletIconURL:o.walletIconURL}),a==="base"&&jsxs(Fragment$1,{children:[jsx(Spacer,{y:"lg"}),o.header||jsxs(Fragment$1,{children:[jsx(Img,{src:o.walletIconURL,width:iconSize.xl,height:iconSize.xl,alt:""}),jsx(Spacer,{y:"lg"}),jsxs(ModalTitle,{children:["Get started with ",o.walletName]}),jsx(Spacer,{y:"sm"}),jsx(ModalDescription,{children:"Download your preferred option and refresh this page"})]}),jsx(Spacer,{y:"xl"}),jsxs(Flex,{flexDirection:"column",gap:"xs",children:[o.chromeExtensionLink&&jsxs(ButtonLink,{onClick:()=>{window.open(o.chromeExtensionLink,"_blank")},children:[jsx(Img,{width:iconSize.lg,height:iconSize.lg,src:Chrome}),jsx("span",{children:"Download Chrome Extension"})]}),o.googlePlayStoreLink&&jsxs(ButtonLink,{as:"button",onClick:()=>{isMobile()?window.open(o.googlePlayStoreLink,"_blank"):rt("android-scan")},children:[jsx(Img,{width:iconSize.lg,height:iconSize.lg,src:GooglePlay}),jsx("span",{children:"Download on Google Play"})]}),o.appleStoreLink&&jsxs(ButtonLink,{as:"button",onClick:()=>{isMobile()?window.open(o.appleStoreLink,"_blank"):rt("ios-scan")},children:[jsx(Img,{width:iconSize.lg,height:iconSize.lg,src:Apple}),jsx("span",{children:"Download on App Store"})]})]})]}),at&&jsxs(Fragment$1,{children:[jsx(Spacer,{y:"xl"}),jsxs(HelperLink,{as:"button",onClick:o.onBack,style:{textAlign:"center",display:"block",width:"100%"},children:["I","'","ve finished setting up my ",o.walletName," on mobile"]})]}),!at&&o.footer]})},ScanScreen$1=o=>jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[jsx(QRCode,{qrCodeUri:o.url,QRIcon:jsx(Img,{src:o.walletIconURL,width:iconSize.lg,height:iconSize.lg})}),jsx(Spacer,{y:"xl"}),jsxs("div",{style:{display:"flex",gap:spacing.sm,alignItems:"center"},children:[o.platformIcon,jsxs(ModalTitle,{children:["Install ",o.walletName," on ",o.platform]})]}),jsx(Spacer,{y:"lg"}),jsxs(ModalDescription,{children:["Scan QR with your phone to download ",jsx("br",{})," ",o.walletName," for"," ",o.platform]})]}),ButtonLink=newStyled.button`
  all: unset;
  text-decoration: none;
  padding: ${spacing.sm} ${spacing.md};
  border-radius: ${radius.sm};
  display: flex;
  align-items: center;
  gap: ${spacing.md};
  cursor: pointer;
  box-sizing: border-box;
  width: 100%;
  color: ${o=>o.theme.text.neutral};
  background: ${o=>o.theme.bg.elevated};
  transition: 100ms ease;
  &:hover {
    background: ${o=>o.theme.bg.highlighted};
    text-decoration: none;
    color: ${o=>o.theme.text.neutral};
  }
`,ScanScreen=o=>{const a=o.walletName.toLowerCase().includes("wallet")?o.walletName:`${o.walletName} wallet`;return jsxs(Fragment$1,{children:[!o.hideBackButton&&jsx(BackButton,{onClick:o.onBack,style:{position:"absolute",zIndex:10,left:spacing.lg,top:spacing.lg}}),jsxs("div",{style:{textAlign:"center"},children:[jsx(QRCode,{qrCodeUri:o.qrCodeUri,QRIcon:jsx(Img,{width:iconSize.lg,height:iconSize.lg,src:o.walletIconURL})}),jsx(Spacer,{y:"xl"}),jsxs(ModalTitle,{style:{textAlign:"center"},children:["Scan with ",a," "]}),jsx(Spacer,{y:"md"}),jsxs(ModalDescription,{children:["Scan this QR code with your phone ",jsx("br",{}),"camera or ",a," to connect"]}),jsx(Spacer,{y:"md"}),jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsx(Spinner,{size:"md",color:"link"})}),jsx(Spacer,{y:"xl"}),jsxs(LinkButton,{onClick:o.onGetStarted,children:["Don't"," have ",a,"?"]})]})]})},LinkButton=newStyled.button`
  all: unset;
  color: ${o=>o.theme.link.primary};
  font-size: ${fontSize.sm};
  cursor: pointer;
  &:hover {
    color: ${o=>o.theme.link.primaryHover};
  }
`,CoinbaseScan=o=>{let{walletConfig:a,onConnected:rt,onGetStarted:at,onBack:it,hideBackButton:ot}=o;const st=useCreateWalletInstance(),[ct,lt]=react.exports.useState(void 0),{setConnectedWallet:ut,chainToConnect:dt,setConnectionStatus:ft}=useWalletContext(),pt=react.exports.useRef(!1);return react.exports.useEffect(()=>{pt.current||(pt.current=!0,(async()=>{const ht=st(a),yt=await ht.getQrUrl();lt(yt||void 0),ft("connecting");try{await ht.connect({chainId:dt==null?void 0:dt.chainId}),ut(ht),rt()}catch{ft("disconnected")}})())},[st,rt,a,dt==null?void 0:dt.chainId,ut,ft]),jsx(ScanScreen,{onBack:it,onGetStarted:at,qrCodeUri:ct,walletName:a.meta.name,walletIconURL:a.meta.iconURL,hideBackButton:ot})},CoinbaseConnectUI=o=>{var dt,ft,pt;let{walletConfig:a,close:rt,goBack:at,supportedWallets:it}=o;const ot=useConnect(),{meta:st}=a,[ct,lt]=react.exports.useState("loading"),ut=react.exports.useRef(!1);return react.exports.useEffect(()=>{if(ct!=="loading"||ut.current)return;const ht=a.isInstalled?a.isInstalled():!1;(async()=>{if(ht)try{ut.current=!0,lt("connecting"),await ot(a),rt()}catch(yt){at(),console.error(yt)}else isMobile()?ot(a):lt("scanning")})()},[ct,a,rt,ot,at]),ct==="connecting"||ct==="loading"?jsx(ConnectingScreen,{onBack:at,walletName:st.name,walletIconURL:st.iconURL,supportLink:"https://help.coinbase.com/en/wallet/other-topics/troubleshooting-and-tips"}):ct==="get-started"?jsx(GetStartedScreen,{walletIconURL:st.iconURL,walletName:st.name,chromeExtensionLink:(dt=st.urls)==null?void 0:dt.chrome,googlePlayStoreLink:(ft=st.urls)==null?void 0:ft.android,appleStoreLink:(pt=st.urls)==null?void 0:pt.ios,onBack:at}):ct==="scanning"?jsx(CoinbaseScan,{onBack:at,onConnected:rt,onGetStarted:()=>lt("get-started"),walletConfig:a,hideBackButton:it.length===1}):null},coinbaseWallet=()=>({id:CoinbaseWallet.id,meta:{name:"Coinbase Wallet",iconURL:"ipfs://QmcJBHopbwfJcLqJpX2xEufSS84aLbF7bHavYhaXUcrLaH/coinbase.svg",urls:{chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-nfts-crypto/id1278383455"}},create(o){return new CoinbaseWallet({...o,headlessMode:!0})},connectUI:CoinbaseConnectUI,isInstalled(){var o,a,rt;return assertWindowEthereum(globalThis.window)&&(((o=globalThis.window.ethereum)==null?void 0:o.isCoinbaseWallet)||((rt=(a=globalThis.window.ethereum)==null?void 0:a.providers)==null?void 0:rt.some(at=>at.isCoinbaseWallet)))||!1}});var coinbaseWallet$1=Object.freeze({__proto__:null,coinbaseWallet});const MetamaskScan=o=>{let{onBack:a,onConnected:rt,onGetStarted:at,walletConfig:it}=o;const ot=useCreateWalletInstance(),[st,ct]=react.exports.useState(),{setConnectedWallet:lt,chainToConnect:ut,setConnectionStatus:dt}=useWalletContext(),ft=react.exports.useRef(!1);return react.exports.useEffect(()=>{if(ft.current)return;ft.current=!0;const pt=ot(it);dt("connecting"),pt.connectWithQrCode({chainId:ut==null?void 0:ut.chainId,onQrCodeUri(ht){ct(ht)},onConnected(){lt(pt),rt()}})},[ot,lt,ut,rt,it,dt]),jsx(ScanScreen,{onBack:a,onGetStarted:at,qrCodeUri:st,walletName:it.meta.name,walletIconURL:it.meta.iconURL})},MetamaskConnectUI=o=>{var lt,ut,dt;const[a,rt]=react.exports.useState("connecting"),{walletConfig:at,close:it}=o,ot=useConnect(),{goBack:st}=o,ct=react.exports.useRef(!1);return react.exports.useEffect(()=>{if(ct.current)return;const ft=at.isInstalled?at.isInstalled():!1;(async()=>{if(ft)try{ct.current=!0,rt("connecting"),await ot(at),it()}catch{st()}else isMobile()?window.open(`https://metamask.app.link/dapp/${window.location.toString()}`):rt("scanning")})()},[at,it,ot,st]),a==="connecting"?jsx(ConnectingScreen,{onBack:o.goBack,walletName:at.meta.name,walletIconURL:at.meta.iconURL,supportLink:"https://support.metamask.io/hc/en-us/articles/4406430256539-User-Guide-Troubleshooting"}):a==="get-started"?jsx(GetStartedScreen,{walletIconURL:at.meta.iconURL,walletName:at.meta.name,chromeExtensionLink:(lt=at.meta.urls)==null?void 0:lt.chrome,googlePlayStoreLink:(ut=at.meta.urls)==null?void 0:ut.android,appleStoreLink:(dt=at.meta.urls)==null?void 0:dt.ios,onBack:o.goBack}):a==="scanning"?jsx(MetamaskScan,{onBack:o.goBack,onConnected:it,onGetStarted:()=>{rt("get-started")},walletConfig:at}):null},metamaskWallet=()=>({id:MetaMaskWallet.id,meta:MetaMaskWallet.meta,create:o=>new MetaMaskWallet({...o,qrcode:!1}),connectUI:MetamaskConnectUI,isInstalled(){return assertWindowEthereum(globalThis.window)?globalThis.window.ethereum.isMetaMask:!1}});var metamaskWallet$1=Object.freeze({__proto__:null,metamaskWallet});const walletConnectV1=()=>({id:WalletConnectV1.id,meta:WalletConnectV1.meta,create(o){return new WalletConnectV1({...o,qrcode:!0})}});var walletConnectV1$1=Object.freeze({__proto__:null,walletConnectV1});const defaultWallets=[metamaskWallet(),coinbaseWallet(),walletConnectV1()],WalletModalOpen=react.exports.createContext(!1),SetWalletModalOpen=react.exports.createContext(void 0),ModalConfigCtx=react.exports.createContext({title:"",theme:"dark",data:void 0}),SetModalConfigCtx=react.exports.createContext(()=>{}),WalletUIStatesProvider=o=>{const[a,rt]=react.exports.useState(!1),[at,it]=react.exports.useState({title:"Choose your wallet",theme:o.theme||"dark",data:void 0});return jsx(WalletModalOpen.Provider,{value:a,children:jsx(SetWalletModalOpen.Provider,{value:rt,children:jsx(ModalConfigCtx.Provider,{value:at,children:jsx(SetModalConfigCtx.Provider,{value:it,children:o.children})})})})},useIsWalletModalOpen=()=>react.exports.useContext(WalletModalOpen),useSetIsWalletModalOpen=()=>{const o=react.exports.useContext(SetWalletModalOpen);if(o===void 0)throw new Error("useSetWalletModalOpen must be used within a ThirdwebProvider");return o},WalletSelector=o=>{const a=o.walletConfigs.find(it=>it.id===walletIds.localWallet),rt=o.walletConfigs.filter(it=>it.id!==walletIds.localWallet),at=!a&&!!o.walletConfigs[0].meta.urls;return jsxs(Fragment$1,{children:[jsxs(ModalTitle,{children:[" ",o.title," "]}),jsx(Spacer,{y:"xl"}),jsx(WalletSelection,{walletConfigs:rt,selectWallet:o.selectWallet}),a&&jsxs(Fragment$1,{children:[jsx(Spacer,{y:"xl"}),jsx(Flex,{justifyContent:"center",children:jsx(Button,{variant:"link",onClick:()=>{o.selectWallet(a)},children:"Continue as guest"})})]}),at&&jsxs(Fragment$1,{children:[jsx(Spacer,{y:"xl"}),jsx(HelperLink,{as:"button",onClick:o.onGetStarted,style:{display:"block",width:"100%",textAlign:"center"},children:"Need help getting started?"})]})]})},WalletSelection=o=>{const a=react.exports.useContext(ModalConfigCtx),rt=react.exports.useContext(SetModalConfigCtx),at=o.walletConfigs.sort((it,ot)=>{const st=it.isInstalled?it.isInstalled():!1,ct=ot.isInstalled?ot.isInstalled():!1;return st&&!ct?-1:!st&&ct?1:0}).sort((it,ot)=>it.selectUI&&!ot.selectUI?-1:!it.selectUI&&ot.selectUI?1:0);return jsx(WalletList,{children:at.map(it=>{const ot=it.isInstalled?it.isInstalled():!1;return jsx("li",{children:it.selectUI?jsx(it.selectUI,{theme:a.theme,supportedWallets:o.walletConfigs,onSelect:st=>{o.selectWallet(it),rt(ct=>({...ct,data:st}))},walletConfig:it}):jsxs(WalletButton,{type:"button",onClick:()=>{o.selectWallet(it)},children:[jsx(Img,{src:it.meta.iconURL,width:iconSize.lg,height:iconSize.lg,loading:"eager"}),jsx(WalletName,{children:it.meta.name}),ot&&jsx(InstallBadge,{children:" Installed "})]})},it.id)})})},WalletList=newStyled.ul`
  all: unset;
  list-style-type: none;
  display: flex;
  flex-direction: column;
  gap: ${spacing.xs};
  box-sizing: border-box;
`,WalletButton=newStyled.button`
  all: unset;
  padding: ${spacing.sm} ${spacing.md};
  border-radius: ${radius.sm};
  display: flex;
  align-items: center;
  gap: ${spacing.md};
  cursor: pointer;
  box-sizing: border-box;
  width: 100%;
  color: ${o=>o.theme.text.neutral};
  background: ${o=>o.theme.bg.elevated};
  transition: 100ms ease;
  &:hover {
    background: ${o=>o.theme.bg.highlighted};
  }
`,InstallBadge=newStyled.span`
  padding: ${spacing.xxs} ${spacing.xs};
  font-size: ${fontSize.xs};
  background-color: ${o=>o.theme.badge.secondary};
  border-radius: ${radius.lg};
  margin-left: auto;
`,WalletName=newStyled.span`
  font-size: ${fontSize.md};
  font-weight: 500;
`;function useIsHeadlessWallet(){const o=useWallet();if(!o)return!1;const a=o.walletId;return a===walletIds.localWallet||a===walletIds.paper||a===walletIds.magicLink}const HeadlessConnectUI=o=>{let{close:a,walletConfig:rt,open:at,supportedWallets:it}=o;const ot=useConnect(),st=react.exports.useRef(!1),ct=it.length===1;return react.exports.useEffect(()=>{st.current||(st.current=!0,(async()=>{a();try{await ot(rt)}catch(lt){ct||at(),console.error(lt)}})())},[rt,ot,a,at,ct]),null},headlessConnectUID7ab9645_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,B:BackButton,F:FormFieldWithIconButton,G:GetStartedScreen,H:HelperLink,I:Img,M:ModalTitle,S:Skeleton,W:WalletSelection,a:ModalDescription,b:HeadlessConnectUI,c:coinbaseWallet,d:defaultWallets,e:useIsWalletModalOpen,f:useSetIsWalletModalOpen,g:FormField,h:fadeInAnimation,i:isMobile,j:SetModalConfigCtx,k:ModalConfigCtx,l:WalletSelector,m:metamaskWallet,n:WalletUIStatesProvider,o:coinbaseWallet$1,p:metamaskWallet$1,q:walletConnectV1$1,u:useIsHeadlessWallet,w:walletConnectV1},Symbol.toStringTag,{value:"Module"}));newStyled.div`
  display: flex;
  align-items: center;
  color: ${o=>o.theme.text.secondary};
  font-size: ${fontSize.sm};
  &::before,
  &::after {
    content: "";
    flex: 1;
    border-bottom: 1px solid ${o=>o.theme.bg.elevated};
  }

  span {
    margin: 0 1rem;
  }
`;newStyled(InputButton)`
  background: ${o=>o.theme.bg.highlighted};
  border-radius: 50%;
  padding: ${spacing.xxs};
  color: ${o=>o.theme.text.neutral};
  position: absolute;
  top: 50%;
  right: ${spacing.sm};
  transform: translateY(-50%);
  &:hover {
    color: ${o=>o.theme.text.neutral};
  }
`;function getAlignment(o){return o.split("-")[1]}function getLengthFromAxis(o){return o==="y"?"height":"width"}function getSide(o){return o.split("-")[0]}function getMainAxisFromPlacement(o){return["top","bottom"].includes(getSide(o))?"x":"y"}function computeCoordsFromPlacement(o,a,rt){let{reference:at,floating:it}=o;const ot=at.x+at.width/2-it.width/2,st=at.y+at.height/2-it.height/2,ct=getMainAxisFromPlacement(a),lt=getLengthFromAxis(ct),ut=at[lt]/2-it[lt]/2,dt=getSide(a),ft=ct==="x";let pt;switch(dt){case"top":pt={x:ot,y:at.y-it.height};break;case"bottom":pt={x:ot,y:at.y+at.height};break;case"right":pt={x:at.x+at.width,y:st};break;case"left":pt={x:at.x-it.width,y:st};break;default:pt={x:at.x,y:at.y}}switch(getAlignment(a)){case"start":pt[ct]-=ut*(rt&&ft?-1:1);break;case"end":pt[ct]+=ut*(rt&&ft?-1:1);break}return pt}const computePosition$1=async(o,a,rt)=>{const{placement:at="bottom",strategy:it="absolute",middleware:ot=[],platform:st}=rt,ct=ot.filter(Boolean),lt=await(st.isRTL==null?void 0:st.isRTL(a));let ut=await st.getElementRects({reference:o,floating:a,strategy:it}),{x:dt,y:ft}=computeCoordsFromPlacement(ut,at,lt),pt=at,ht={},yt=0;for(let mt=0;mt<ct.length;mt++){const{name:gt,fn:bt}=ct[mt],{x:vt,y:wt,data:Tt,reset:_t}=await bt({x:dt,y:ft,initialPlacement:at,placement:pt,strategy:it,middlewareData:ht,rects:ut,platform:st,elements:{reference:o,floating:a}});if(dt=vt!=null?vt:dt,ft=wt!=null?wt:ft,ht={...ht,[gt]:{...ht[gt],...Tt}},_t&&yt<=50){yt++,typeof _t=="object"&&(_t.placement&&(pt=_t.placement),_t.rects&&(ut=_t.rects===!0?await st.getElementRects({reference:o,floating:a,strategy:it}):_t.rects),{x:dt,y:ft}=computeCoordsFromPlacement(ut,pt,lt)),mt=-1;continue}}return{x:dt,y:ft,placement:pt,strategy:it,middlewareData:ht}};function expandPaddingObject(o){return{top:0,right:0,bottom:0,left:0,...o}}function getSideObjectFromPadding(o){return typeof o!="number"?expandPaddingObject(o):{top:o,right:o,bottom:o,left:o}}function rectToClientRect(o){return{...o,top:o.y,left:o.x,right:o.x+o.width,bottom:o.y+o.height}}async function detectOverflow(o,a){var rt;a===void 0&&(a={});const{x:at,y:it,platform:ot,rects:st,elements:ct,strategy:lt}=o,{boundary:ut="clippingAncestors",rootBoundary:dt="viewport",elementContext:ft="floating",altBoundary:pt=!1,padding:ht=0}=a,yt=getSideObjectFromPadding(ht),gt=ct[pt?ft==="floating"?"reference":"floating":ft],bt=rectToClientRect(await ot.getClippingRect({element:(rt=await(ot.isElement==null?void 0:ot.isElement(gt)))==null||rt?gt:gt.contextElement||await(ot.getDocumentElement==null?void 0:ot.getDocumentElement(ct.floating)),boundary:ut,rootBoundary:dt,strategy:lt})),vt=ft==="floating"?{...st.floating,x:at,y:it}:st.reference,wt=await(ot.getOffsetParent==null?void 0:ot.getOffsetParent(ct.floating)),Tt=await(ot.isElement==null?void 0:ot.isElement(wt))?await(ot.getScale==null?void 0:ot.getScale(wt))||{x:1,y:1}:{x:1,y:1},_t=rectToClientRect(ot.convertOffsetParentRelativeRectToViewportRelativeRect?await ot.convertOffsetParentRelativeRectToViewportRelativeRect({rect:vt,offsetParent:wt,strategy:lt}):vt);return{top:(bt.top-_t.top+yt.top)/Tt.y,bottom:(_t.bottom-bt.bottom+yt.bottom)/Tt.y,left:(bt.left-_t.left+yt.left)/Tt.x,right:(_t.right-bt.right+yt.right)/Tt.x}}const min$1=Math.min,max$1=Math.max;function within(o,a,rt){return max$1(o,min$1(a,rt))}const arrow$1=o=>({name:"arrow",options:o,async fn(a){const{element:rt,padding:at=0}=o||{},{x:it,y:ot,placement:st,rects:ct,platform:lt,elements:ut}=a;if(rt==null)return{};const dt=getSideObjectFromPadding(at),ft={x:it,y:ot},pt=getMainAxisFromPlacement(st),ht=getLengthFromAxis(pt),yt=await lt.getDimensions(rt),mt=pt==="y",gt=mt?"top":"left",bt=mt?"bottom":"right",vt=mt?"clientHeight":"clientWidth",wt=ct.reference[ht]+ct.reference[pt]-ft[pt]-ct.floating[ht],Tt=ft[pt]-ct.reference[pt],_t=await(lt.getOffsetParent==null?void 0:lt.getOffsetParent(rt));let St=_t?_t[vt]:0;(!St||!await(lt.isElement==null?void 0:lt.isElement(_t)))&&(St=ut.floating[vt]||ct.floating[ht]);const Pt=wt/2-Tt/2,Nt=dt[gt],jt=St-yt[ht]-dt[bt],Ut=St/2-yt[ht]/2+Pt,Ft=within(Nt,Ut,jt),Mt=getAlignment(st)!=null&&Ut!=Ft&&ct.reference[ht]/2-(Ut<Nt?dt[gt]:dt[bt])-yt[ht]/2<0?Ut<Nt?Nt-Ut:jt-Ut:0;return{[pt]:ft[pt]-Mt,data:{[pt]:Ft,centerOffset:Ut-Ft}}}}),sides=["top","right","bottom","left"],oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(o){return o.replace(/left|right|bottom|top/g,a=>oppositeSideMap[a])}function getAlignmentSides(o,a,rt){rt===void 0&&(rt=!1);const at=getAlignment(o),it=getMainAxisFromPlacement(o),ot=getLengthFromAxis(it);let st=it==="x"?at===(rt?"end":"start")?"right":"left":at==="start"?"bottom":"top";return a.reference[ot]>a.floating[ot]&&(st=getOppositePlacement(st)),{main:st,cross:getOppositePlacement(st)}}const oppositeAlignmentMap={start:"end",end:"start"};function getOppositeAlignmentPlacement(o){return o.replace(/start|end/g,a=>oppositeAlignmentMap[a])}function getExpandedPlacements(o){const a=getOppositePlacement(o);return[getOppositeAlignmentPlacement(o),a,getOppositeAlignmentPlacement(a)]}function getSideList(o,a,rt){const at=["left","right"],it=["right","left"],ot=["top","bottom"],st=["bottom","top"];switch(o){case"top":case"bottom":return rt?a?it:at:a?at:it;case"left":case"right":return a?ot:st;default:return[]}}function getOppositeAxisPlacements(o,a,rt,at){const it=getAlignment(o);let ot=getSideList(getSide(o),rt==="start",at);return it&&(ot=ot.map(st=>st+"-"+it),a&&(ot=ot.concat(ot.map(getOppositeAlignmentPlacement)))),ot}const flip=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(a){var rt;const{placement:at,middlewareData:it,rects:ot,initialPlacement:st,platform:ct,elements:lt}=a,{mainAxis:ut=!0,crossAxis:dt=!0,fallbackPlacements:ft,fallbackStrategy:pt="bestFit",fallbackAxisSideDirection:ht="none",flipAlignment:yt=!0,...mt}=o,gt=getSide(at),bt=getSide(st)===st,vt=await(ct.isRTL==null?void 0:ct.isRTL(lt.floating)),wt=ft||(bt||!yt?[getOppositePlacement(st)]:getExpandedPlacements(st));!ft&&ht!=="none"&&wt.push(...getOppositeAxisPlacements(st,yt,ht,vt));const Tt=[st,...wt],_t=await detectOverflow(a,mt),St=[];let Pt=((rt=it.flip)==null?void 0:rt.overflows)||[];if(ut&&St.push(_t[gt]),dt){const{main:Ft,cross:Kt}=getAlignmentSides(at,ot,vt);St.push(_t[Ft],_t[Kt])}if(Pt=[...Pt,{placement:at,overflows:St}],!St.every(Ft=>Ft<=0)){var Nt,jt;const Ft=(((Nt=it.flip)==null?void 0:Nt.index)||0)+1,Kt=Tt[Ft];if(Kt)return{data:{index:Ft,overflows:Pt},reset:{placement:Kt}};let Mt=(jt=Pt.filter(xt=>xt.overflows[0]<=0).sort((xt,Et)=>xt.overflows[1]-Et.overflows[1])[0])==null?void 0:jt.placement;if(!Mt)switch(pt){case"bestFit":{var Ut;const xt=(Ut=Pt.map(Et=>[Et.placement,Et.overflows.filter(Rt=>Rt>0).reduce((Rt,Lt)=>Rt+Lt,0)]).sort((Et,Rt)=>Et[1]-Rt[1])[0])==null?void 0:Ut[0];xt&&(Mt=xt);break}case"initialPlacement":Mt=st;break}if(at!==Mt)return{reset:{placement:Mt}}}return{}}}};function getSideOffsets(o,a){return{top:o.top-a.height,right:o.right-a.width,bottom:o.bottom-a.height,left:o.left-a.width}}function isAnySideFullyClipped(o){return sides.some(a=>o[a]>=0)}const hide=function(o){return o===void 0&&(o={}),{name:"hide",options:o,async fn(a){const{strategy:rt="referenceHidden",...at}=o,{rects:it}=a;switch(rt){case"referenceHidden":{const ot=await detectOverflow(a,{...at,elementContext:"reference"}),st=getSideOffsets(ot,it.reference);return{data:{referenceHiddenOffsets:st,referenceHidden:isAnySideFullyClipped(st)}}}case"escaped":{const ot=await detectOverflow(a,{...at,altBoundary:!0}),st=getSideOffsets(ot,it.floating);return{data:{escapedOffsets:st,escaped:isAnySideFullyClipped(st)}}}default:return{}}}}};async function convertValueToCoords(o,a){const{placement:rt,platform:at,elements:it}=o,ot=await(at.isRTL==null?void 0:at.isRTL(it.floating)),st=getSide(rt),ct=getAlignment(rt),lt=getMainAxisFromPlacement(rt)==="x",ut=["left","top"].includes(st)?-1:1,dt=ot&&lt?-1:1,ft=typeof a=="function"?a(o):a;let{mainAxis:pt,crossAxis:ht,alignmentAxis:yt}=typeof ft=="number"?{mainAxis:ft,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ft};return ct&&typeof yt=="number"&&(ht=ct==="end"?yt*-1:yt),lt?{x:ht*dt,y:pt*ut}:{x:pt*ut,y:ht*dt}}const offset=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(a){const{x:rt,y:at}=a,it=await convertValueToCoords(a,o);return{x:rt+it.x,y:at+it.y,data:it}}}};function getCrossAxis(o){return o==="x"?"y":"x"}const shift=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(a){const{x:rt,y:at,placement:it}=a,{mainAxis:ot=!0,crossAxis:st=!1,limiter:ct={fn:gt=>{let{x:bt,y:vt}=gt;return{x:bt,y:vt}}},...lt}=o,ut={x:rt,y:at},dt=await detectOverflow(a,lt),ft=getMainAxisFromPlacement(getSide(it)),pt=getCrossAxis(ft);let ht=ut[ft],yt=ut[pt];if(ot){const gt=ft==="y"?"top":"left",bt=ft==="y"?"bottom":"right",vt=ht+dt[gt],wt=ht-dt[bt];ht=within(vt,ht,wt)}if(st){const gt=pt==="y"?"top":"left",bt=pt==="y"?"bottom":"right",vt=yt+dt[gt],wt=yt-dt[bt];yt=within(vt,yt,wt)}const mt=ct.fn({...a,[ft]:ht,[pt]:yt});return{...mt,data:{x:mt.x-rt,y:mt.y-at}}}}},limitShift=function(o){return o===void 0&&(o={}),{options:o,fn(a){const{x:rt,y:at,placement:it,rects:ot,middlewareData:st}=a,{offset:ct=0,mainAxis:lt=!0,crossAxis:ut=!0}=o,dt={x:rt,y:at},ft=getMainAxisFromPlacement(it),pt=getCrossAxis(ft);let ht=dt[ft],yt=dt[pt];const mt=typeof ct=="function"?ct(a):ct,gt=typeof mt=="number"?{mainAxis:mt,crossAxis:0}:{mainAxis:0,crossAxis:0,...mt};if(lt){const wt=ft==="y"?"height":"width",Tt=ot.reference[ft]-ot.floating[wt]+gt.mainAxis,_t=ot.reference[ft]+ot.reference[wt]-gt.mainAxis;ht<Tt?ht=Tt:ht>_t&&(ht=_t)}if(ut){var bt,vt;const wt=ft==="y"?"width":"height",Tt=["top","left"].includes(getSide(it)),_t=ot.reference[pt]-ot.floating[wt]+(Tt&&((bt=st.offset)==null?void 0:bt[pt])||0)+(Tt?0:gt.crossAxis),St=ot.reference[pt]+ot.reference[wt]+(Tt?0:((vt=st.offset)==null?void 0:vt[pt])||0)-(Tt?gt.crossAxis:0);yt<_t?yt=_t:yt>St&&(yt=St)}return{[ft]:ht,[pt]:yt}}}},size=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(a){const{placement:rt,rects:at,platform:it,elements:ot}=a,{apply:st=()=>{},...ct}=o,lt=await detectOverflow(a,ct),ut=getSide(rt),dt=getAlignment(rt),pt=getMainAxisFromPlacement(rt)==="x",{width:ht,height:yt}=at.floating;let mt,gt;ut==="top"||ut==="bottom"?(mt=ut,gt=dt===(await(it.isRTL==null?void 0:it.isRTL(ot.floating))?"start":"end")?"left":"right"):(gt=ut,mt=dt==="end"?"top":"bottom");const bt=yt-lt[mt],vt=ht-lt[gt],wt=!a.middlewareData.shift;let Tt=bt,_t=vt;if(pt){const Pt=ht-lt.left-lt.right;_t=dt||wt?min$1(vt,Pt):Pt}else{const Pt=yt-lt.top-lt.bottom;Tt=dt||wt?min$1(bt,Pt):Pt}if(wt&&!dt){const Pt=max$1(lt.left,0),Nt=max$1(lt.right,0),jt=max$1(lt.top,0),Ut=max$1(lt.bottom,0);pt?_t=ht-2*(Pt!==0||Nt!==0?Pt+Nt:max$1(lt.left,lt.right)):Tt=yt-2*(jt!==0||Ut!==0?jt+Ut:max$1(lt.top,lt.bottom))}await st({...a,availableWidth:_t,availableHeight:Tt});const St=await it.getDimensions(ot.floating);return ht!==St.width||yt!==St.height?{reset:{rects:!0}}:{}}}};function getWindow(o){var a;return((a=o.ownerDocument)==null?void 0:a.defaultView)||window}function getComputedStyle$1(o){return getWindow(o).getComputedStyle(o)}function isNode(o){return o instanceof getWindow(o).Node}function getNodeName(o){return isNode(o)?(o.nodeName||"").toLowerCase():""}function isHTMLElement(o){return o instanceof getWindow(o).HTMLElement}function isElement(o){return o instanceof getWindow(o).Element}function isShadowRoot(o){if(typeof ShadowRoot>"u")return!1;const a=getWindow(o).ShadowRoot;return o instanceof a||o instanceof ShadowRoot}function isOverflowElement(o){const{overflow:a,overflowX:rt,overflowY:at,display:it}=getComputedStyle$1(o);return/auto|scroll|overlay|hidden|clip/.test(a+at+rt)&&!["inline","contents"].includes(it)}function isTableElement(o){return["table","td","th"].includes(getNodeName(o))}function isContainingBlock(o){const a=isSafari(),rt=getComputedStyle$1(o);return rt.transform!=="none"||rt.perspective!=="none"||!a&&(rt.backdropFilter?rt.backdropFilter!=="none":!1)||!a&&(rt.filter?rt.filter!=="none":!1)||["transform","perspective","filter"].some(at=>(rt.willChange||"").includes(at))||["paint","layout","strict","content"].some(at=>(rt.contain||"").includes(at))}function isSafari(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(o){return["html","body","#document"].includes(getNodeName(o))}const min=Math.min,max=Math.max,round=Math.round;function getCssDimensions(o){const a=getComputedStyle$1(o);let rt=parseFloat(a.width)||0,at=parseFloat(a.height)||0;const it=isHTMLElement(o),ot=it?o.offsetWidth:rt,st=it?o.offsetHeight:at,ct=round(rt)!==ot||round(at)!==st;return ct&&(rt=ot,at=st),{width:rt,height:at,fallback:ct}}function unwrapElement(o){return isElement(o)?o:o.contextElement}const FALLBACK_SCALE={x:1,y:1};function getScale(o){const a=unwrapElement(o);if(!isHTMLElement(a))return FALLBACK_SCALE;const rt=a.getBoundingClientRect(),{width:at,height:it,fallback:ot}=getCssDimensions(a);let st=(ot?round(rt.width):rt.width)/at,ct=(ot?round(rt.height):rt.height)/it;return(!st||!Number.isFinite(st))&&(st=1),(!ct||!Number.isFinite(ct))&&(ct=1),{x:st,y:ct}}const noOffsets={x:0,y:0};function getVisualOffsets(o,a,rt){var at,it;if(a===void 0&&(a=!0),!isSafari())return noOffsets;const ot=o?getWindow(o):window;return!rt||a&&rt!==ot?noOffsets:{x:((at=ot.visualViewport)==null?void 0:at.offsetLeft)||0,y:((it=ot.visualViewport)==null?void 0:it.offsetTop)||0}}function getBoundingClientRect(o,a,rt,at){a===void 0&&(a=!1),rt===void 0&&(rt=!1);const it=o.getBoundingClientRect(),ot=unwrapElement(o);let st=FALLBACK_SCALE;a&&(at?isElement(at)&&(st=getScale(at)):st=getScale(o));const ct=getVisualOffsets(ot,rt,at);let lt=(it.left+ct.x)/st.x,ut=(it.top+ct.y)/st.y,dt=it.width/st.x,ft=it.height/st.y;if(ot){const pt=getWindow(ot),ht=at&&isElement(at)?getWindow(at):at;let yt=pt.frameElement;for(;yt&&at&&ht!==pt;){const mt=getScale(yt),gt=yt.getBoundingClientRect(),bt=getComputedStyle(yt);gt.x+=(yt.clientLeft+parseFloat(bt.paddingLeft))*mt.x,gt.y+=(yt.clientTop+parseFloat(bt.paddingTop))*mt.y,lt*=mt.x,ut*=mt.y,dt*=mt.x,ft*=mt.y,lt+=gt.x,ut+=gt.y,yt=getWindow(yt).frameElement}}return rectToClientRect({width:dt,height:ft,x:lt,y:ut})}function getDocumentElement(o){return((isNode(o)?o.ownerDocument:o.document)||window.document).documentElement}function getNodeScroll(o){return isElement(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.pageXOffset,scrollTop:o.pageYOffset}}function convertOffsetParentRelativeRectToViewportRelativeRect(o){let{rect:a,offsetParent:rt,strategy:at}=o;const it=isHTMLElement(rt),ot=getDocumentElement(rt);if(rt===ot)return a;let st={scrollLeft:0,scrollTop:0},ct={x:1,y:1};const lt={x:0,y:0};if((it||!it&&at!=="fixed")&&((getNodeName(rt)!=="body"||isOverflowElement(ot))&&(st=getNodeScroll(rt)),isHTMLElement(rt))){const ut=getBoundingClientRect(rt);ct=getScale(rt),lt.x=ut.x+rt.clientLeft,lt.y=ut.y+rt.clientTop}return{width:a.width*ct.x,height:a.height*ct.y,x:a.x*ct.x-st.scrollLeft*ct.x+lt.x,y:a.y*ct.y-st.scrollTop*ct.y+lt.y}}function getWindowScrollBarX(o){return getBoundingClientRect(getDocumentElement(o)).left+getNodeScroll(o).scrollLeft}function getDocumentRect(o){const a=getDocumentElement(o),rt=getNodeScroll(o),at=o.ownerDocument.body,it=max(a.scrollWidth,a.clientWidth,at.scrollWidth,at.clientWidth),ot=max(a.scrollHeight,a.clientHeight,at.scrollHeight,at.clientHeight);let st=-rt.scrollLeft+getWindowScrollBarX(o);const ct=-rt.scrollTop;return getComputedStyle$1(at).direction==="rtl"&&(st+=max(a.clientWidth,at.clientWidth)-it),{width:it,height:ot,x:st,y:ct}}function getParentNode(o){if(getNodeName(o)==="html")return o;const a=o.assignedSlot||o.parentNode||isShadowRoot(o)&&o.host||getDocumentElement(o);return isShadowRoot(a)?a.host:a}function getNearestOverflowAncestor(o){const a=getParentNode(o);return isLastTraversableNode(a)?a.ownerDocument.body:isHTMLElement(a)&&isOverflowElement(a)?a:getNearestOverflowAncestor(a)}function getOverflowAncestors(o,a){var rt;a===void 0&&(a=[]);const at=getNearestOverflowAncestor(o),it=at===((rt=o.ownerDocument)==null?void 0:rt.body),ot=getWindow(at);return it?a.concat(ot,ot.visualViewport||[],isOverflowElement(at)?at:[]):a.concat(at,getOverflowAncestors(at))}function getViewportRect(o,a){const rt=getWindow(o),at=getDocumentElement(o),it=rt.visualViewport;let ot=at.clientWidth,st=at.clientHeight,ct=0,lt=0;if(it){ot=it.width,st=it.height;const ut=isSafari();(!ut||ut&&a==="fixed")&&(ct=it.offsetLeft,lt=it.offsetTop)}return{width:ot,height:st,x:ct,y:lt}}function getInnerBoundingClientRect(o,a){const rt=getBoundingClientRect(o,!0,a==="fixed"),at=rt.top+o.clientTop,it=rt.left+o.clientLeft,ot=isHTMLElement(o)?getScale(o):{x:1,y:1},st=o.clientWidth*ot.x,ct=o.clientHeight*ot.y,lt=it*ot.x,ut=at*ot.y;return{width:st,height:ct,x:lt,y:ut}}function getClientRectFromClippingAncestor(o,a,rt){let at;if(a==="viewport")at=getViewportRect(o,rt);else if(a==="document")at=getDocumentRect(getDocumentElement(o));else if(isElement(a))at=getInnerBoundingClientRect(a,rt);else{const it=getVisualOffsets(o);at={...a,x:a.x-it.x,y:a.y-it.y}}return rectToClientRect(at)}function hasFixedPositionAncestor(o,a){const rt=getParentNode(o);return rt===a||!isElement(rt)||isLastTraversableNode(rt)?!1:getComputedStyle$1(rt).position==="fixed"||hasFixedPositionAncestor(rt,a)}function getClippingElementAncestors(o,a){const rt=a.get(o);if(rt)return rt;let at=getOverflowAncestors(o).filter(ct=>isElement(ct)&&getNodeName(ct)!=="body"),it=null;const ot=getComputedStyle$1(o).position==="fixed";let st=ot?getParentNode(o):o;for(;isElement(st)&&!isLastTraversableNode(st);){const ct=getComputedStyle$1(st),lt=isContainingBlock(st);!lt&&ct.position==="fixed"&&(it=null),(ot?!lt&&!it:!lt&&ct.position==="static"&&!!it&&["absolute","fixed"].includes(it.position)||isOverflowElement(st)&&!lt&&hasFixedPositionAncestor(o,st))?at=at.filter(dt=>dt!==st):it=ct,st=getParentNode(st)}return a.set(o,at),at}function getClippingRect(o){let{element:a,boundary:rt,rootBoundary:at,strategy:it}=o;const st=[...rt==="clippingAncestors"?getClippingElementAncestors(a,this._c):[].concat(rt),at],ct=st[0],lt=st.reduce((ut,dt)=>{const ft=getClientRectFromClippingAncestor(a,dt,it);return ut.top=max(ft.top,ut.top),ut.right=min(ft.right,ut.right),ut.bottom=min(ft.bottom,ut.bottom),ut.left=max(ft.left,ut.left),ut},getClientRectFromClippingAncestor(a,ct,it));return{width:lt.right-lt.left,height:lt.bottom-lt.top,x:lt.left,y:lt.top}}function getDimensions(o){return getCssDimensions(o)}function getTrueOffsetParent(o,a){return!isHTMLElement(o)||getComputedStyle$1(o).position==="fixed"?null:a?a(o):o.offsetParent}function getContainingBlock(o){let a=getParentNode(o);for(;isHTMLElement(a)&&!isLastTraversableNode(a);){if(isContainingBlock(a))return a;a=getParentNode(a)}return null}function getOffsetParent(o,a){const rt=getWindow(o);if(!isHTMLElement(o))return rt;let at=getTrueOffsetParent(o,a);for(;at&&isTableElement(at)&&getComputedStyle$1(at).position==="static";)at=getTrueOffsetParent(at,a);return at&&(getNodeName(at)==="html"||getNodeName(at)==="body"&&getComputedStyle$1(at).position==="static"&&!isContainingBlock(at))?rt:at||getContainingBlock(o)||rt}function getRectRelativeToOffsetParent(o,a,rt){const at=isHTMLElement(a),it=getDocumentElement(a),ot=rt==="fixed",st=getBoundingClientRect(o,!0,ot,a);let ct={scrollLeft:0,scrollTop:0};const lt={x:0,y:0};if(at||!at&&!ot)if((getNodeName(a)!=="body"||isOverflowElement(it))&&(ct=getNodeScroll(a)),isHTMLElement(a)){const ut=getBoundingClientRect(a,!0,ot,a);lt.x=ut.x+a.clientLeft,lt.y=ut.y+a.clientTop}else it&&(lt.x=getWindowScrollBarX(it));return{x:st.left+ct.scrollLeft-lt.x,y:st.top+ct.scrollTop-lt.y,width:st.width,height:st.height}}const platform={getClippingRect,convertOffsetParentRelativeRectToViewportRelativeRect,isElement,getDimensions,getOffsetParent,getDocumentElement,getScale,async getElementRects(o){let{reference:a,floating:rt,strategy:at}=o;const it=this.getOffsetParent||getOffsetParent,ot=this.getDimensions;return{reference:getRectRelativeToOffsetParent(a,await it(rt),at),floating:{x:0,y:0,...await ot(rt)}}},getClientRects:o=>Array.from(o.getClientRects()),isRTL:o=>getComputedStyle$1(o).direction==="rtl"};function autoUpdate(o,a,rt,at){at===void 0&&(at={});const{ancestorScroll:it=!0,ancestorResize:ot=!0,elementResize:st=!0,animationFrame:ct=!1}=at,lt=it||ot?[...isElement(o)?getOverflowAncestors(o):o.contextElement?getOverflowAncestors(o.contextElement):[],...getOverflowAncestors(a)]:[];lt.forEach(ht=>{const yt=!isElement(ht)&&ht.toString().includes("V");it&&(ct?yt:!0)&&ht.addEventListener("scroll",rt,{passive:!0}),ot&&ht.addEventListener("resize",rt)});let ut=null;st&&(ut=new ResizeObserver(()=>{rt()}),isElement(o)&&!ct&&ut.observe(o),!isElement(o)&&o.contextElement&&!ct&&ut.observe(o.contextElement),ut.observe(a));let dt,ft=ct?getBoundingClientRect(o):null;ct&&pt();function pt(){const ht=getBoundingClientRect(o);ft&&(ht.x!==ft.x||ht.y!==ft.y||ht.width!==ft.width||ht.height!==ft.height)&&rt(),ft=ht,dt=requestAnimationFrame(pt)}return rt(),()=>{var ht;lt.forEach(yt=>{it&&yt.removeEventListener("scroll",rt),ot&&yt.removeEventListener("resize",rt)}),(ht=ut)==null||ht.disconnect(),ut=null,ct&&cancelAnimationFrame(dt)}}const computePosition=(o,a,rt)=>{const at=new Map,it={platform,...rt},ot={...it.platform,_c:at};return computePosition$1(o,a,{...it,platform:ot})},arrow=o=>{const{element:a,padding:rt}=o;function at(it){return{}.hasOwnProperty.call(it,"current")}return{name:"arrow",options:o,fn(it){return a&&at(a)?a.current!=null?arrow$1({element:a.current,padding:rt}).fn(it):{}:a?arrow$1({element:a,padding:rt}).fn(it):{}}}};var index$1=typeof document<"u"?react.exports.useLayoutEffect:react.exports.useEffect;function deepEqual(o,a){if(o===a)return!0;if(typeof o!=typeof a)return!1;if(typeof o=="function"&&o.toString()===a.toString())return!0;let rt,at,it;if(o&&a&&typeof o=="object"){if(Array.isArray(o)){if(rt=o.length,rt!=a.length)return!1;for(at=rt;at--!==0;)if(!deepEqual(o[at],a[at]))return!1;return!0}if(it=Object.keys(o),rt=it.length,rt!==Object.keys(a).length)return!1;for(at=rt;at--!==0;)if(!{}.hasOwnProperty.call(a,it[at]))return!1;for(at=rt;at--!==0;){const ot=it[at];if(!(ot==="_owner"&&o.$$typeof)&&!deepEqual(o[ot],a[ot]))return!1}return!0}return o!==o&&a!==a}function getDPR(o){return typeof window>"u"?1:(o.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(o,a){const rt=getDPR(o);return Math.round(a*rt)/rt}function useLatestRef(o){const a=react.exports.useRef(o);return index$1(()=>{a.current=o}),a}function useFloating(o){o===void 0&&(o={});const{placement:a="bottom",strategy:rt="absolute",middleware:at=[],platform:it,elements:{reference:ot,floating:st}={},transform:ct=!0,whileElementsMounted:lt,open:ut}=o,[dt,ft]=react.exports.useState({x:0,y:0,strategy:rt,placement:a,middlewareData:{},isPositioned:!1}),[pt,ht]=react.exports.useState(at);deepEqual(pt,at)||ht(at);const[yt,mt]=react.exports.useState(null),[gt,bt]=react.exports.useState(null),vt=react.exports.useCallback(Rt=>{Rt!=St.current&&(St.current=Rt,mt(Rt))},[mt]),wt=react.exports.useCallback(Rt=>{Rt!==Pt.current&&(Pt.current=Rt,bt(Rt))},[bt]),Tt=ot||yt,_t=st||gt,St=react.exports.useRef(null),Pt=react.exports.useRef(null),Nt=react.exports.useRef(dt),jt=useLatestRef(lt),Ut=useLatestRef(it),Ft=react.exports.useCallback(()=>{if(!St.current||!Pt.current)return;const Rt={placement:a,strategy:rt,middleware:pt};Ut.current&&(Rt.platform=Ut.current),computePosition(St.current,Pt.current,Rt).then(Lt=>{const Bt={...Lt,isPositioned:!0};Kt.current&&!deepEqual(Nt.current,Bt)&&(Nt.current=Bt,reactDom.exports.flushSync(()=>{ft(Bt)}))})},[pt,a,rt,Ut]);index$1(()=>{ut===!1&&Nt.current.isPositioned&&(Nt.current.isPositioned=!1,ft(Rt=>({...Rt,isPositioned:!1})))},[ut]);const Kt=react.exports.useRef(!1);index$1(()=>(Kt.current=!0,()=>{Kt.current=!1}),[]),index$1(()=>{if(Tt&&(St.current=Tt),_t&&(Pt.current=_t),Tt&&_t){if(jt.current)return jt.current(Tt,_t,Ft);Ft()}},[Tt,_t,Ft,jt]);const Mt=react.exports.useMemo(()=>({reference:St,floating:Pt,setReference:vt,setFloating:wt}),[vt,wt]),xt=react.exports.useMemo(()=>({reference:Tt,floating:_t}),[Tt,_t]),Et=react.exports.useMemo(()=>{const Rt={position:rt,left:0,top:0};if(!xt.floating)return Rt;const Lt=roundByDPR(xt.floating,dt.x),Bt=roundByDPR(xt.floating,dt.y);return ct?{...Rt,transform:"translate("+Lt+"px, "+Bt+"px)",...getDPR(xt.floating)>=1.5&&{willChange:"transform"}}:{position:rt,left:Lt,top:Bt}},[rt,ct,xt.floating,dt.x,dt.y]);return react.exports.useMemo(()=>({...dt,update:Ft,refs:Mt,elements:xt,floatingStyles:Et}),[dt,Ft,Mt,xt,Et])}const $7e8f5cd07187803e$export$21b07c8f274aebd5=react.exports.forwardRef((o,a)=>{const{children:rt,width:at=10,height:it=5,...ot}=o;return react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends$2({},ot,{ref:a,width:at,height:it,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),o.asChild?rt:react.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(o){const[a,rt]=react.exports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(o){rt({width:o.offsetWidth,height:o.offsetHeight});const at=new ResizeObserver(it=>{if(!Array.isArray(it)||!it.length)return;const ot=it[0];let st,ct;if("borderBoxSize"in ot){const lt=ot.borderBoxSize,ut=Array.isArray(lt)?lt[0]:lt;st=ut.inlineSize,ct=ut.blockSize}else st=o.offsetWidth,ct=o.offsetHeight;rt({width:st,height:ct})});return at.observe(o,{box:"border-box"}),()=>at.unobserve(o)}else rt(void 0)},[o]),a}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=react.exports.forwardRef((o,a)=>{var rt,at,it,ot,st,ct,lt,ut;const{__scopePopper:dt,side:ft="bottom",sideOffset:pt=0,align:ht="center",alignOffset:yt=0,arrowPadding:mt=0,collisionBoundary:gt=[],collisionPadding:bt=0,sticky:vt="partial",hideWhenDetached:wt=!1,avoidCollisions:Tt=!0,onPlaced:_t,...St}=o,Pt=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,dt),[Nt,jt]=react.exports.useState(null),Ut=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,er=>jt(er)),[Ft,Kt]=react.exports.useState(null),Mt=$db6c3485150b8e66$export$1ab7ae714698c4b8(Ft),xt=(rt=Mt==null?void 0:Mt.width)!==null&&rt!==void 0?rt:0,Et=(at=Mt==null?void 0:Mt.height)!==null&&at!==void 0?at:0,Rt=ft+(ht!=="center"?"-"+ht:""),Lt=typeof bt=="number"?bt:{top:0,right:0,bottom:0,left:0,...bt},Bt=Array.isArray(gt)?gt:[gt],Ot=Bt.length>0,qt={padding:Lt,boundary:Bt.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:Ot},{refs:At,floatingStyles:Ct,placement:Dt,isPositioned:Wt,middlewareData:$t}=useFloating({strategy:"fixed",placement:Rt,whileElementsMounted:autoUpdate,elements:{reference:Pt.anchor},middleware:[offset({mainAxis:pt+Et,alignmentAxis:yt}),Tt&&shift({mainAxis:!0,crossAxis:!1,limiter:vt==="partial"?limitShift():void 0,...qt}),Tt&&flip({...qt}),size({...qt,apply:({elements:er,rects:ir,availableWidth:zt,availableHeight:kt})=>{const{width:It,height:Ht}=ir.reference,Gt=er.floating.style;Gt.setProperty("--radix-popper-available-width",`${zt}px`),Gt.setProperty("--radix-popper-available-height",`${kt}px`),Gt.setProperty("--radix-popper-anchor-width",`${It}px`),Gt.setProperty("--radix-popper-anchor-height",`${Ht}px`)}}),Ft&&arrow({element:Ft,padding:mt}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:xt,arrowHeight:Et}),wt&&hide({strategy:"referenceHidden"})]}),[Vt,Qt]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Dt),Zt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_t);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Wt&&(Zt==null||Zt())},[Wt,Zt]);const Yt=(it=$t.arrow)===null||it===void 0?void 0:it.x,tr=(ot=$t.arrow)===null||ot===void 0?void 0:ot.y,nr=((st=$t.arrow)===null||st===void 0?void 0:st.centerOffset)!==0,[Xt,ar]=react.exports.useState();return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{Nt&&ar(window.getComputedStyle(Nt).zIndex)},[Nt]),react.exports.createElement("div",{ref:At.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ct,transform:Wt?Ct.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xt,["--radix-popper-transform-origin"]:[(ct=$t.transformOrigin)===null||ct===void 0?void 0:ct.x,(lt=$t.transformOrigin)===null||lt===void 0?void 0:lt.y].join(" ")},dir:o.dir},react.exports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:dt,placedSide:Vt,onArrowChange:Kt,arrowX:Yt,arrowY:tr,shouldHideArrow:nr},react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-side":Vt,"data-align":Qt},St,{ref:Ut,style:{...St.style,animation:Wt?void 0:"none",opacity:(ut=$t.hide)!==null&&ut!==void 0&&ut.referenceHidden?0:void 0}}))))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=react.exports.forwardRef(function o(a,rt){const{__scopePopper:at,...it}=a,ot=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,at),st=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[ot.placedSide];return react.exports.createElement("span",{ref:ot.onArrowChange,style:{position:"absolute",left:ot.arrowX,top:ot.arrowY,[st]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ot.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ot.placedSide],visibility:ot.shouldHideArrow?"hidden":void 0}},react.exports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends$2({},it,{ref:rt,style:{...it.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isNotNull(o){return o!==null}const $cf1ac5d9fe0e8206$var$transformOrigin=o=>({name:"transformOrigin",options:o,fn(a){var rt,at,it,ot,st;const{placement:ct,rects:lt,middlewareData:ut}=a,ft=((rt=ut.arrow)===null||rt===void 0?void 0:rt.centerOffset)!==0,pt=ft?0:o.arrowWidth,ht=ft?0:o.arrowHeight,[yt,mt]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(ct),gt={start:"0%",center:"50%",end:"100%"}[mt],bt=((at=(it=ut.arrow)===null||it===void 0?void 0:it.x)!==null&&at!==void 0?at:0)+pt/2,vt=((ot=(st=ut.arrow)===null||st===void 0?void 0:st.y)!==null&&ot!==void 0?ot:0)+ht/2;let wt="",Tt="";return yt==="bottom"?(wt=ft?gt:`${bt}px`,Tt=`${-ht}px`):yt==="top"?(wt=ft?gt:`${bt}px`,Tt=`${lt.floating.height+ht}px`):yt==="right"?(wt=`${-ht}px`,Tt=ft?gt:`${vt}px`):yt==="left"&&(wt=`${lt.floating.width+ht}px`,Tt=ft?gt:`${vt}px`),{data:{x:wt,y:Tt}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(o){const[a,rt="center"]=o.split("-");return[a,rt]}const $cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0,$cb5cc270b50c6fcd$var$POPOVER_NAME="Popover",[$cb5cc270b50c6fcd$var$createPopoverContext,$cb5cc270b50c6fcd$export$c8393c9e73286932]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cb5cc270b50c6fcd$var$POPOVER_NAME,[$cf1ac5d9fe0e8206$export$722aac194ae923]),$cb5cc270b50c6fcd$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),[$cb5cc270b50c6fcd$var$PopoverProvider,$cb5cc270b50c6fcd$var$usePopoverContext]=$cb5cc270b50c6fcd$var$createPopoverContext($cb5cc270b50c6fcd$var$POPOVER_NAME),$cb5cc270b50c6fcd$var$PORTAL_NAME="PopoverPortal",[$cb5cc270b50c6fcd$var$PortalProvider,$cb5cc270b50c6fcd$var$usePortalContext]=$cb5cc270b50c6fcd$var$createPopoverContext($cb5cc270b50c6fcd$var$PORTAL_NAME,{forceMount:void 0}),$cb5cc270b50c6fcd$var$CONTENT_NAME="PopoverContent",$cb5cc270b50c6fcd$export$d7e1f420b25549ff=react.exports.forwardRef((o,a)=>{const rt=$cb5cc270b50c6fcd$var$usePortalContext($cb5cc270b50c6fcd$var$CONTENT_NAME,o.__scopePopover),{forceMount:at=rt.forceMount,...it}=o,ot=$cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME,o.__scopePopover);return react.exports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:at||ot.open},ot.modal?react.exports.createElement($cb5cc270b50c6fcd$var$PopoverContentModal,_extends$2({},it,{ref:a})):react.exports.createElement($cb5cc270b50c6fcd$var$PopoverContentNonModal,_extends$2({},it,{ref:a})))}),$cb5cc270b50c6fcd$var$PopoverContentModal=react.exports.forwardRef((o,a)=>{const rt=$cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME,o.__scopePopover),at=react.exports.useRef(null),it=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,at),ot=react.exports.useRef(!1);return react.exports.useEffect(()=>{const st=at.current;if(st)return hideOthers(st)},[]),react.exports.createElement($epM9y$RemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0},react.exports.createElement($cb5cc270b50c6fcd$var$PopoverContentImpl,_extends$2({},o,{ref:it,trapFocus:rt.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onCloseAutoFocus,st=>{var ct;st.preventDefault(),ot.current||(ct=rt.triggerRef.current)===null||ct===void 0||ct.focus()}),onPointerDownOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onPointerDownOutside,st=>{const ct=st.detail.originalEvent,lt=ct.button===0&&ct.ctrlKey===!0,ut=ct.button===2||lt;ot.current=ut},{checkForDefaultPrevented:!1}),onFocusOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocusOutside,st=>st.preventDefault(),{checkForDefaultPrevented:!1})})))}),$cb5cc270b50c6fcd$var$PopoverContentNonModal=react.exports.forwardRef((o,a)=>{const rt=$cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME,o.__scopePopover),at=react.exports.useRef(!1),it=react.exports.useRef(!1);return react.exports.createElement($cb5cc270b50c6fcd$var$PopoverContentImpl,_extends$2({},o,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:ot=>{var st;if((st=o.onCloseAutoFocus)===null||st===void 0||st.call(o,ot),!ot.defaultPrevented){var ct;at.current||(ct=rt.triggerRef.current)===null||ct===void 0||ct.focus(),ot.preventDefault()}at.current=!1,it.current=!1},onInteractOutside:ot=>{var st,ct;(st=o.onInteractOutside)===null||st===void 0||st.call(o,ot),ot.defaultPrevented||(at.current=!0,ot.detail.originalEvent.type==="pointerdown"&&(it.current=!0));const lt=ot.target;((ct=rt.triggerRef.current)===null||ct===void 0?void 0:ct.contains(lt))&&ot.preventDefault(),ot.detail.originalEvent.type==="focusin"&&it.current&&ot.preventDefault()}}))}),$cb5cc270b50c6fcd$var$PopoverContentImpl=react.exports.forwardRef((o,a)=>{const{__scopePopover:rt,trapFocus:at,onOpenAutoFocus:it,onCloseAutoFocus:ot,disableOutsidePointerEvents:st,onEscapeKeyDown:ct,onPointerDownOutside:lt,onFocusOutside:ut,onInteractOutside:dt,...ft}=o,pt=$cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME,rt),ht=$cb5cc270b50c6fcd$var$usePopperScope(rt);return $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(),react.exports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,loop:!0,trapped:at,onMountAutoFocus:it,onUnmountAutoFocus:ot},react.exports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:st,onInteractOutside:dt,onEscapeKeyDown:ct,onPointerDownOutside:lt,onFocusOutside:ut,onDismiss:()=>pt.onOpenChange(!1)},react.exports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$2({"data-state":$cb5cc270b50c6fcd$var$getState(pt.open),role:"dialog",id:pt.contentId},ht,ft,{ref:a,style:{...ft.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),$cb5cc270b50c6fcd$export$3152841115e061b2=react.exports.forwardRef((o,a)=>{const{__scopePopover:rt,...at}=o,it=$cb5cc270b50c6fcd$var$usePopperScope(rt);return react.exports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends$2({},it,at,{ref:a}))});function $cb5cc270b50c6fcd$var$getState(o){return o?"open":"closed"}const $cb5cc270b50c6fcd$export$7c6e2c02157bb7d2=$cb5cc270b50c6fcd$export$d7e1f420b25549ff,$cb5cc270b50c6fcd$export$21b07c8f274aebd5=$cb5cc270b50c6fcd$export$3152841115e061b2,$ea1ef594cf570d83$export$439d29a4e110a164=react.exports.forwardRef((o,a)=>react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({},o,{ref:a,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...o.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=react.exports.forwardRef((o,a)=>{const rt=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,o.__scopeTooltip),{forceMount:at=rt.forceMount,side:it="top",...ot}=o,st=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,o.__scopeTooltip);return react.exports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:at||st.open},st.disableHoverableContent?react.exports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$2({side:it},ot,{ref:a})):react.exports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends$2({side:it},ot,{ref:a})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=react.exports.forwardRef((o,a)=>{const rt=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,o.__scopeTooltip),at=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,o.__scopeTooltip),it=react.exports.useRef(null),ot=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,it),[st,ct]=react.exports.useState(null),{trigger:lt,onClose:ut}=rt,dt=it.current,{onPointerInTransitChange:ft}=at,pt=react.exports.useCallback(()=>{ct(null),ft(!1)},[ft]),ht=react.exports.useCallback((yt,mt)=>{const gt=yt.currentTarget,bt={x:yt.clientX,y:yt.clientY},vt=$a093c7e1ec25a057$var$getExitSideFromRect(bt,gt.getBoundingClientRect()),wt=$a093c7e1ec25a057$var$getPaddedExitPoints(bt,vt),Tt=$a093c7e1ec25a057$var$getPointsFromRect(mt.getBoundingClientRect()),_t=$a093c7e1ec25a057$var$getHull([...wt,...Tt]);ct(_t),ft(!0)},[ft]);return react.exports.useEffect(()=>()=>pt(),[pt]),react.exports.useEffect(()=>{if(lt&&dt){const yt=gt=>ht(gt,dt),mt=gt=>ht(gt,lt);return lt.addEventListener("pointerleave",yt),dt.addEventListener("pointerleave",mt),()=>{lt.removeEventListener("pointerleave",yt),dt.removeEventListener("pointerleave",mt)}}},[lt,dt,ht,pt]),react.exports.useEffect(()=>{if(st){const yt=mt=>{const gt=mt.target,bt={x:mt.clientX,y:mt.clientY},vt=(lt==null?void 0:lt.contains(gt))||(dt==null?void 0:dt.contains(gt)),wt=!$a093c7e1ec25a057$var$isPointInPolygon(bt,st);vt?pt():wt&&(pt(),ut())};return document.addEventListener("pointermove",yt),()=>document.removeEventListener("pointermove",yt)}},[lt,dt,st,ut,pt]),react.exports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$2({},o,{ref:ot}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=react.exports.forwardRef((o,a)=>{const{__scopeTooltip:rt,children:at,"aria-label":it,onEscapeKeyDown:ot,onPointerDownOutside:st,...ct}=o,lt=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,rt),ut=$a093c7e1ec25a057$var$usePopperScope(rt),{onClose:dt}=lt;return react.exports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,dt),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,dt)),[dt]),react.exports.useEffect(()=>{if(lt.trigger){const ft=pt=>{const ht=pt.target;ht!=null&&ht.contains(lt.trigger)&&dt()};return window.addEventListener("scroll",ft,{capture:!0}),()=>window.removeEventListener("scroll",ft,{capture:!0})}},[lt.trigger,dt]),react.exports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ot,onPointerDownOutside:st,onFocusOutside:ft=>ft.preventDefault(),onDismiss:dt},react.exports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$2({"data-state":lt.stateAttribute},ut,ct,{ref:a,style:{...ct.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),react.exports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,at),react.exports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:rt,isInside:!0},react.exports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:lt.contentId,role:"tooltip"},it||at))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=react.exports.forwardRef((o,a)=>{const{__scopeTooltip:rt,...at}=o,it=$a093c7e1ec25a057$var$usePopperScope(rt);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,rt).isInside?null:react.exports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends$2({},it,at,{ref:a}))});function $a093c7e1ec25a057$var$getExitSideFromRect(o,a){const rt=Math.abs(a.top-o.y),at=Math.abs(a.bottom-o.y),it=Math.abs(a.right-o.x),ot=Math.abs(a.left-o.x);switch(Math.min(rt,at,it,ot)){case ot:return"left";case it:return"right";case rt:return"top";case at:return"bottom";default:throw new Error("unreachable")}}function $a093c7e1ec25a057$var$getPaddedExitPoints(o,a,rt=5){const at=[];switch(a){case"top":at.push({x:o.x-rt,y:o.y+rt},{x:o.x+rt,y:o.y+rt});break;case"bottom":at.push({x:o.x-rt,y:o.y-rt},{x:o.x+rt,y:o.y-rt});break;case"left":at.push({x:o.x+rt,y:o.y-rt},{x:o.x+rt,y:o.y+rt});break;case"right":at.push({x:o.x-rt,y:o.y-rt},{x:o.x-rt,y:o.y+rt});break}return at}function $a093c7e1ec25a057$var$getPointsFromRect(o){const{top:a,right:rt,bottom:at,left:it}=o;return[{x:it,y:a},{x:rt,y:a},{x:rt,y:at},{x:it,y:at}]}function $a093c7e1ec25a057$var$isPointInPolygon(o,a){const{x:rt,y:at}=o;let it=!1;for(let ot=0,st=a.length-1;ot<a.length;st=ot++){const ct=a[ot].x,lt=a[ot].y,ut=a[st].x,dt=a[st].y;lt>at!=dt>at&&rt<(ut-ct)*(at-lt)/(dt-lt)+ct&&(it=!it)}return it}function $a093c7e1ec25a057$var$getHull(o){const a=o.slice();return a.sort((rt,at)=>rt.x<at.x?-1:rt.x>at.x?1:rt.y<at.y?-1:rt.y>at.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(a)}function $a093c7e1ec25a057$var$getHullPresorted(o){if(o.length<=1)return o.slice();const a=[];for(let at=0;at<o.length;at++){const it=o[at];for(;a.length>=2;){const ot=a[a.length-1],st=a[a.length-2];if((ot.x-st.x)*(it.y-st.y)>=(ot.y-st.y)*(it.x-st.x))a.pop();else break}a.push(it)}a.pop();const rt=[];for(let at=o.length-1;at>=0;at--){const it=o[at];for(;rt.length>=2;){const ot=rt[rt.length-1],st=rt[rt.length-2];if((ot.x-st.x)*(it.y-st.y)>=(ot.y-st.y)*(it.x-st.x))rt.pop();else break}rt.push(it)}return rt.pop(),a.length===1&&rt.length===1&&a[0].x===rt[0].x&&a[0].y===rt[0].y?a:a.concat(rt)}const $a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559;function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(o){const a=o+"CollectionProvider",[rt,at]=$c512c27ab02ef895$export$50c7b4e9d9f19c1(a),[it,ot]=rt(a,{collectionRef:{current:null},itemMap:new Map}),st=ht=>{const{scope:yt,children:mt}=ht,gt=React.useRef(null),bt=React.useRef(new Map).current;return React.createElement(it,{scope:yt,itemMap:bt,collectionRef:gt},mt)},ct=o+"CollectionSlot",lt=React.forwardRef((ht,yt)=>{const{scope:mt,children:gt}=ht,bt=ot(ct,mt),vt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(yt,bt.collectionRef);return React.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{ref:vt},gt)}),ut=o+"CollectionItemSlot",dt="data-radix-collection-item",ft=React.forwardRef((ht,yt)=>{const{scope:mt,children:gt,...bt}=ht,vt=React.useRef(null),wt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(yt,vt),Tt=ot(ut,mt);return React.useEffect(()=>(Tt.itemMap.set(vt,{ref:vt,...bt}),()=>void Tt.itemMap.delete(vt))),React.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{[dt]:"",ref:wt},gt)});function pt(ht){const yt=ot(o+"CollectionConsumer",ht);return React.useCallback(()=>{const gt=yt.collectionRef.current;if(!gt)return[];const bt=Array.from(gt.querySelectorAll(`[${dt}]`));return Array.from(yt.itemMap.values()).sort((Tt,_t)=>bt.indexOf(Tt.ref.current)-bt.indexOf(_t.ref.current))},[yt.collectionRef,yt.itemMap])}return[{Provider:st,Slot:lt,ItemSlot:ft},pt,at]}const $f631663db3294ace$var$DirectionContext=react.exports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(o){const a=react.exports.useContext($f631663db3294ace$var$DirectionContext);return o||a||"ltr"}const $d7bdfb9eb0fdf311$var$ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",$d7bdfb9eb0fdf311$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d7bdfb9eb0fdf311$var$GROUP_NAME="RovingFocusGroup",[$d7bdfb9eb0fdf311$var$Collection,$d7bdfb9eb0fdf311$var$useCollection,$d7bdfb9eb0fdf311$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($d7bdfb9eb0fdf311$var$GROUP_NAME),[$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext,$d7bdfb9eb0fdf311$export$c7109489551a4f4]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($d7bdfb9eb0fdf311$var$GROUP_NAME,[$d7bdfb9eb0fdf311$var$createCollectionScope]),[$d7bdfb9eb0fdf311$var$RovingFocusProvider,$d7bdfb9eb0fdf311$var$useRovingFocusContext]=$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext($d7bdfb9eb0fdf311$var$GROUP_NAME),$d7bdfb9eb0fdf311$export$8699f7c8af148338=react.exports.forwardRef((o,a)=>react.exports.createElement($d7bdfb9eb0fdf311$var$Collection.Provider,{scope:o.__scopeRovingFocusGroup},react.exports.createElement($d7bdfb9eb0fdf311$var$Collection.Slot,{scope:o.__scopeRovingFocusGroup},react.exports.createElement($d7bdfb9eb0fdf311$var$RovingFocusGroupImpl,_extends$2({},o,{ref:a}))))),$d7bdfb9eb0fdf311$var$RovingFocusGroupImpl=react.exports.forwardRef((o,a)=>{const{__scopeRovingFocusGroup:rt,orientation:at,loop:it=!1,dir:ot,currentTabStopId:st,defaultCurrentTabStopId:ct,onCurrentTabStopIdChange:lt,onEntryFocus:ut,...dt}=o,ft=react.exports.useRef(null),pt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,ft),ht=$f631663db3294ace$export$b39126d51d94e6f3(ot),[yt=null,mt]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:st,defaultProp:ct,onChange:lt}),[gt,bt]=react.exports.useState(!1),vt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(ut),wt=$d7bdfb9eb0fdf311$var$useCollection(rt),Tt=react.exports.useRef(!1),[_t,St]=react.exports.useState(0);return react.exports.useEffect(()=>{const Pt=ft.current;if(Pt)return Pt.addEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,vt),()=>Pt.removeEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,vt)},[vt]),react.exports.createElement($d7bdfb9eb0fdf311$var$RovingFocusProvider,{scope:rt,orientation:at,dir:ht,loop:it,currentTabStopId:yt,onItemFocus:react.exports.useCallback(Pt=>mt(Pt),[mt]),onItemShiftTab:react.exports.useCallback(()=>bt(!0),[]),onFocusableItemAdd:react.exports.useCallback(()=>St(Pt=>Pt+1),[]),onFocusableItemRemove:react.exports.useCallback(()=>St(Pt=>Pt-1),[])},react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({tabIndex:gt||_t===0?-1:0,"data-orientation":at},dt,{ref:pt,style:{outline:"none",...o.style},onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onMouseDown,()=>{Tt.current=!0}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocus,Pt=>{const Nt=!Tt.current;if(Pt.target===Pt.currentTarget&&Nt&&!gt){const jt=new CustomEvent($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,$d7bdfb9eb0fdf311$var$EVENT_OPTIONS);if(Pt.currentTarget.dispatchEvent(jt),!jt.defaultPrevented){const Ut=wt().filter(Et=>Et.focusable),Ft=Ut.find(Et=>Et.active),Kt=Ut.find(Et=>Et.id===yt),xt=[Ft,Kt,...Ut].filter(Boolean).map(Et=>Et.ref.current);$d7bdfb9eb0fdf311$var$focusFirst(xt)}}Tt.current=!1}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onBlur,()=>bt(!1))})))}),$d7bdfb9eb0fdf311$var$ITEM_NAME="RovingFocusGroupItem",$d7bdfb9eb0fdf311$export$ab9df7c53fe8454=react.exports.forwardRef((o,a)=>{const{__scopeRovingFocusGroup:rt,focusable:at=!0,active:it=!1,tabStopId:ot,...st}=o,ct=$1746a345f3d73bb7$export$f680877a34711e37(),lt=ot||ct,ut=$d7bdfb9eb0fdf311$var$useRovingFocusContext($d7bdfb9eb0fdf311$var$ITEM_NAME,rt),dt=ut.currentTabStopId===lt,ft=$d7bdfb9eb0fdf311$var$useCollection(rt),{onFocusableItemAdd:pt,onFocusableItemRemove:ht}=ut;return react.exports.useEffect(()=>{if(at)return pt(),()=>ht()},[at,pt,ht]),react.exports.createElement($d7bdfb9eb0fdf311$var$Collection.ItemSlot,{scope:rt,id:lt,focusable:at,active:it},react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({tabIndex:dt?0:-1,"data-orientation":ut.orientation},st,{ref:a,onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onMouseDown,yt=>{at?ut.onItemFocus(lt):yt.preventDefault()}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocus,()=>ut.onItemFocus(lt)),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onKeyDown,yt=>{if(yt.key==="Tab"&&yt.shiftKey){ut.onItemShiftTab();return}if(yt.target!==yt.currentTarget)return;const mt=$d7bdfb9eb0fdf311$var$getFocusIntent(yt,ut.orientation,ut.dir);if(mt!==void 0){yt.preventDefault();let bt=ft().filter(vt=>vt.focusable).map(vt=>vt.ref.current);if(mt==="last")bt.reverse();else if(mt==="prev"||mt==="next"){mt==="prev"&&bt.reverse();const vt=bt.indexOf(yt.currentTarget);bt=ut.loop?$d7bdfb9eb0fdf311$var$wrapArray(bt,vt+1):bt.slice(vt+1)}setTimeout(()=>$d7bdfb9eb0fdf311$var$focusFirst(bt))}})})))}),$d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $d7bdfb9eb0fdf311$var$getDirectionAwareKey(o,a){return a!=="rtl"?o:o==="ArrowLeft"?"ArrowRight":o==="ArrowRight"?"ArrowLeft":o}function $d7bdfb9eb0fdf311$var$getFocusIntent(o,a,rt){const at=$d7bdfb9eb0fdf311$var$getDirectionAwareKey(o.key,rt);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(at))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(at)))return $d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT[at]}function $d7bdfb9eb0fdf311$var$focusFirst(o){const a=document.activeElement;for(const rt of o)if(rt===a||(rt.focus(),document.activeElement!==a))return}function $d7bdfb9eb0fdf311$var$wrapArray(o,a){return o.map((rt,at)=>o[(a+at)%o.length])}const $d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9=$d7bdfb9eb0fdf311$export$8699f7c8af148338,$d7bdfb9eb0fdf311$export$6d08773d2e66f8f2=$d7bdfb9eb0fdf311$export$ab9df7c53fe8454,$69cb30bb0017df05$var$TABS_NAME="Tabs",[$69cb30bb0017df05$var$createTabsContext,$69cb30bb0017df05$export$355f5bd209d7b13a]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($69cb30bb0017df05$var$TABS_NAME,[$d7bdfb9eb0fdf311$export$c7109489551a4f4]),$69cb30bb0017df05$var$useRovingFocusGroupScope=$d7bdfb9eb0fdf311$export$c7109489551a4f4(),[$69cb30bb0017df05$var$TabsProvider,$69cb30bb0017df05$var$useTabsContext]=$69cb30bb0017df05$var$createTabsContext($69cb30bb0017df05$var$TABS_NAME),$69cb30bb0017df05$var$TRIGGER_NAME="TabsTrigger",$69cb30bb0017df05$export$8114b9fdfdf9f3ba=react.exports.forwardRef((o,a)=>{const{__scopeTabs:rt,value:at,disabled:it=!1,...ot}=o,st=$69cb30bb0017df05$var$useTabsContext($69cb30bb0017df05$var$TRIGGER_NAME,rt),ct=$69cb30bb0017df05$var$useRovingFocusGroupScope(rt),lt=$69cb30bb0017df05$var$makeTriggerId(st.baseId,at),ut=$69cb30bb0017df05$var$makeContentId(st.baseId,at),dt=at===st.value;return react.exports.createElement($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2,_extends$2({asChild:!0},ct,{focusable:!it,active:dt}),react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button",role:"tab","aria-selected":dt,"aria-controls":ut,"data-state":dt?"active":"inactive","data-disabled":it?"":void 0,disabled:it,id:lt},ot,{ref:a,onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onMouseDown,ft=>{!it&&ft.button===0&&ft.ctrlKey===!1?st.onValueChange(at):ft.preventDefault()}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onKeyDown,ft=>{[" ","Enter"].includes(ft.key)&&st.onValueChange(at)}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocus,()=>{const ft=st.activationMode!=="manual";!dt&&!it&&ft&&st.onValueChange(at)})})))});function $69cb30bb0017df05$var$makeTriggerId(o,a){return`${o}-trigger-${a}`}function $69cb30bb0017df05$var$makeContentId(o,a){return`${o}-content-${a}`}const $69cb30bb0017df05$export$41fb9f06171c75f4=$69cb30bb0017df05$export$8114b9fdfdf9f3ba,$6cc32821e9371a1c$var$SELECTION_KEYS=["Enter"," "],$6cc32821e9371a1c$var$FIRST_KEYS=["ArrowDown","PageUp","Home"],$6cc32821e9371a1c$var$LAST_KEYS=["ArrowUp","PageDown","End"],$6cc32821e9371a1c$var$FIRST_LAST_KEYS=[...$6cc32821e9371a1c$var$FIRST_KEYS,...$6cc32821e9371a1c$var$LAST_KEYS],$6cc32821e9371a1c$var$MENU_NAME="Menu",[$6cc32821e9371a1c$var$Collection,$6cc32821e9371a1c$var$useCollection,$6cc32821e9371a1c$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($6cc32821e9371a1c$var$MENU_NAME),[$6cc32821e9371a1c$var$createMenuContext,$6cc32821e9371a1c$export$4027731b685e72eb]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($6cc32821e9371a1c$var$MENU_NAME,[$6cc32821e9371a1c$var$createCollectionScope,$cf1ac5d9fe0e8206$export$722aac194ae923,$d7bdfb9eb0fdf311$export$c7109489551a4f4]),$6cc32821e9371a1c$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$6cc32821e9371a1c$var$useRovingFocusGroupScope=$d7bdfb9eb0fdf311$export$c7109489551a4f4(),[$6cc32821e9371a1c$var$MenuProvider,$6cc32821e9371a1c$var$useMenuContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$MENU_NAME),[$6cc32821e9371a1c$var$MenuRootProvider,$6cc32821e9371a1c$var$useMenuRootContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$MENU_NAME),$6cc32821e9371a1c$var$PORTAL_NAME="MenuPortal",[$6cc32821e9371a1c$var$PortalProvider,$6cc32821e9371a1c$var$usePortalContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$PORTAL_NAME,{forceMount:void 0}),$6cc32821e9371a1c$var$CONTENT_NAME="MenuContent",[$6cc32821e9371a1c$var$MenuContentProvider,$6cc32821e9371a1c$var$useMenuContentContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$CONTENT_NAME),$6cc32821e9371a1c$export$479f0f2f71193efe=react.exports.forwardRef((o,a)=>{const rt=$6cc32821e9371a1c$var$usePortalContext($6cc32821e9371a1c$var$CONTENT_NAME,o.__scopeMenu),{forceMount:at=rt.forceMount,...it}=o,ot=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,o.__scopeMenu),st=$6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$CONTENT_NAME,o.__scopeMenu);return react.exports.createElement($6cc32821e9371a1c$var$Collection.Provider,{scope:o.__scopeMenu},react.exports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:at||ot.open},react.exports.createElement($6cc32821e9371a1c$var$Collection.Slot,{scope:o.__scopeMenu},st.modal?react.exports.createElement($6cc32821e9371a1c$var$MenuRootContentModal,_extends$2({},it,{ref:a})):react.exports.createElement($6cc32821e9371a1c$var$MenuRootContentNonModal,_extends$2({},it,{ref:a})))))}),$6cc32821e9371a1c$var$MenuRootContentModal=react.exports.forwardRef((o,a)=>{const rt=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,o.__scopeMenu),at=react.exports.useRef(null),it=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,at);return react.exports.useEffect(()=>{const ot=at.current;if(ot)return hideOthers(ot)},[]),react.exports.createElement($6cc32821e9371a1c$var$MenuContentImpl,_extends$2({},o,{ref:it,trapFocus:rt.open,disableOutsidePointerEvents:rt.open,disableOutsideScroll:!0,onFocusOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocusOutside,ot=>ot.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>rt.onOpenChange(!1)}))}),$6cc32821e9371a1c$var$MenuRootContentNonModal=react.exports.forwardRef((o,a)=>{const rt=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,o.__scopeMenu);return react.exports.createElement($6cc32821e9371a1c$var$MenuContentImpl,_extends$2({},o,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>rt.onOpenChange(!1)}))}),$6cc32821e9371a1c$var$MenuContentImpl=react.exports.forwardRef((o,a)=>{const{__scopeMenu:rt,loop:at=!1,trapFocus:it,onOpenAutoFocus:ot,onCloseAutoFocus:st,disableOutsidePointerEvents:ct,onEntryFocus:lt,onEscapeKeyDown:ut,onPointerDownOutside:dt,onFocusOutside:ft,onInteractOutside:pt,onDismiss:ht,disableOutsideScroll:yt,...mt}=o,gt=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,rt),bt=$6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$CONTENT_NAME,rt),vt=$6cc32821e9371a1c$var$usePopperScope(rt),wt=$6cc32821e9371a1c$var$useRovingFocusGroupScope(rt),Tt=$6cc32821e9371a1c$var$useCollection(rt),[_t,St]=react.exports.useState(null),Pt=react.exports.useRef(null),Nt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,Pt,gt.onContentChange),jt=react.exports.useRef(0),Ut=react.exports.useRef(""),Ft=react.exports.useRef(0),Kt=react.exports.useRef(null),Mt=react.exports.useRef("right"),xt=react.exports.useRef(0),Et=yt?$epM9y$RemoveScroll:react.exports.Fragment,Rt=yt?{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0}:void 0,Lt=Ot=>{var qt,At;const Ct=Ut.current+Ot,Dt=Tt().filter(Yt=>!Yt.disabled),Wt=document.activeElement,$t=(qt=Dt.find(Yt=>Yt.ref.current===Wt))===null||qt===void 0?void 0:qt.textValue,Vt=Dt.map(Yt=>Yt.textValue),Qt=$6cc32821e9371a1c$var$getNextMatch(Vt,Ct,$t),Zt=(At=Dt.find(Yt=>Yt.textValue===Qt))===null||At===void 0?void 0:At.ref.current;(function Yt(tr){Ut.current=tr,window.clearTimeout(jt.current),tr!==""&&(jt.current=window.setTimeout(()=>Yt(""),1e3))})(Ct),Zt&&setTimeout(()=>Zt.focus())};react.exports.useEffect(()=>()=>window.clearTimeout(jt.current),[]),$3db38b7d1fb3fe6a$export$b7ece24a22aeda8c();const Bt=react.exports.useCallback(Ot=>{var qt,At;return Mt.current===((qt=Kt.current)===null||qt===void 0?void 0:qt.side)&&$6cc32821e9371a1c$var$isPointerInGraceArea(Ot,(At=Kt.current)===null||At===void 0?void 0:At.area)},[]);return react.exports.createElement($6cc32821e9371a1c$var$MenuContentProvider,{scope:rt,searchRef:Ut,onItemEnter:react.exports.useCallback(Ot=>{Bt(Ot)&&Ot.preventDefault()},[Bt]),onItemLeave:react.exports.useCallback(Ot=>{var qt;Bt(Ot)||((qt=Pt.current)===null||qt===void 0||qt.focus(),St(null))},[Bt]),onTriggerLeave:react.exports.useCallback(Ot=>{Bt(Ot)&&Ot.preventDefault()},[Bt]),pointerGraceTimerRef:Ft,onPointerGraceIntentChange:react.exports.useCallback(Ot=>{Kt.current=Ot},[])},react.exports.createElement(Et,Rt,react.exports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,trapped:it,onMountAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ot,Ot=>{var qt;Ot.preventDefault(),(qt=Pt.current)===null||qt===void 0||qt.focus()}),onUnmountAutoFocus:st},react.exports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:ct,onEscapeKeyDown:ut,onPointerDownOutside:dt,onFocusOutside:ft,onInteractOutside:pt,onDismiss:ht},react.exports.createElement($d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9,_extends$2({asChild:!0},wt,{dir:bt.dir,orientation:"vertical",loop:at,currentTabStopId:_t,onCurrentTabStopIdChange:St,onEntryFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(lt,Ot=>{bt.isUsingKeyboardRef.current||Ot.preventDefault()})}),react.exports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$2({role:"menu","aria-orientation":"vertical","data-state":$6cc32821e9371a1c$var$getOpenState(gt.open),"data-radix-menu-content":"",dir:bt.dir},vt,mt,{ref:Nt,style:{outline:"none",...mt.style},onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(mt.onKeyDown,Ot=>{const At=Ot.target.closest("[data-radix-menu-content]")===Ot.currentTarget,Ct=Ot.ctrlKey||Ot.altKey||Ot.metaKey,Dt=Ot.key.length===1;At&&(Ot.key==="Tab"&&Ot.preventDefault(),!Ct&&Dt&&Lt(Ot.key));const Wt=Pt.current;if(Ot.target!==Wt||!$6cc32821e9371a1c$var$FIRST_LAST_KEYS.includes(Ot.key))return;Ot.preventDefault();const Vt=Tt().filter(Qt=>!Qt.disabled).map(Qt=>Qt.ref.current);$6cc32821e9371a1c$var$LAST_KEYS.includes(Ot.key)&&Vt.reverse(),$6cc32821e9371a1c$var$focusFirst(Vt)}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onBlur,Ot=>{Ot.currentTarget.contains(Ot.target)||(window.clearTimeout(jt.current),Ut.current="")}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onPointerMove,$6cc32821e9371a1c$var$whenMouse(Ot=>{const qt=Ot.target,At=xt.current!==Ot.clientX;if(Ot.currentTarget.contains(qt)&&At){const Ct=Ot.clientX>xt.current?"right":"left";Mt.current=Ct,xt.current=Ot.clientX}}))})))))))}),$6cc32821e9371a1c$var$ITEM_NAME="MenuItem",$6cc32821e9371a1c$var$ITEM_SELECT="menu.itemSelect",$6cc32821e9371a1c$export$2ce376c2cc3355c8=react.exports.forwardRef((o,a)=>{const{disabled:rt=!1,onSelect:at,...it}=o,ot=react.exports.useRef(null),st=$6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$ITEM_NAME,o.__scopeMenu),ct=$6cc32821e9371a1c$var$useMenuContentContext($6cc32821e9371a1c$var$ITEM_NAME,o.__scopeMenu),lt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,ot),ut=react.exports.useRef(!1),dt=()=>{const ft=ot.current;if(!rt&&ft){const pt=new CustomEvent($6cc32821e9371a1c$var$ITEM_SELECT,{bubbles:!0,cancelable:!0});ft.addEventListener($6cc32821e9371a1c$var$ITEM_SELECT,ht=>at==null?void 0:at(ht),{once:!0}),$8927f6f2acc4f386$export$6d1a0317bde7de7f(ft,pt),pt.defaultPrevented?ut.current=!1:st.onClose()}};return react.exports.createElement($6cc32821e9371a1c$var$MenuItemImpl,_extends$2({},it,{ref:lt,disabled:rt,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onClick,dt),onPointerDown:ft=>{var pt;(pt=o.onPointerDown)===null||pt===void 0||pt.call(o,ft),ut.current=!0},onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onPointerUp,ft=>{var pt;ut.current||(pt=ft.currentTarget)===null||pt===void 0||pt.click()}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onKeyDown,ft=>{const pt=ct.searchRef.current!=="";rt||pt&&ft.key===" "||$6cc32821e9371a1c$var$SELECTION_KEYS.includes(ft.key)&&(ft.currentTarget.click(),ft.preventDefault())})}))}),$6cc32821e9371a1c$var$MenuItemImpl=react.exports.forwardRef((o,a)=>{const{__scopeMenu:rt,disabled:at=!1,textValue:it,...ot}=o,st=$6cc32821e9371a1c$var$useMenuContentContext($6cc32821e9371a1c$var$ITEM_NAME,rt),ct=$6cc32821e9371a1c$var$useRovingFocusGroupScope(rt),lt=react.exports.useRef(null),ut=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(a,lt),[dt,ft]=react.exports.useState(!1),[pt,ht]=react.exports.useState("");return react.exports.useEffect(()=>{const yt=lt.current;if(yt){var mt;ht(((mt=yt.textContent)!==null&&mt!==void 0?mt:"").trim())}},[ot.children]),react.exports.createElement($6cc32821e9371a1c$var$Collection.ItemSlot,{scope:rt,disabled:at,textValue:it!=null?it:pt},react.exports.createElement($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2,_extends$2({asChild:!0},ct,{focusable:!at}),react.exports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({role:"menuitem","data-highlighted":dt?"":void 0,"aria-disabled":at||void 0,"data-disabled":at?"":void 0},ot,{ref:ut,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onPointerMove,$6cc32821e9371a1c$var$whenMouse(yt=>{at?st.onItemLeave(yt):(st.onItemEnter(yt),yt.defaultPrevented||yt.currentTarget.focus())})),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onPointerLeave,$6cc32821e9371a1c$var$whenMouse(yt=>st.onItemLeave(yt))),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onFocus,()=>ft(!0)),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onBlur,()=>ft(!1))}))))}),$6cc32821e9371a1c$var$RADIO_GROUP_NAME="MenuRadioGroup";$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$RADIO_GROUP_NAME,{value:void 0,onValueChange:()=>{}});const $6cc32821e9371a1c$var$ITEM_INDICATOR_NAME="MenuItemIndicator";$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$ITEM_INDICATOR_NAME,{checked:!1});const $6cc32821e9371a1c$var$SUB_NAME="MenuSub";$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$SUB_NAME);function $6cc32821e9371a1c$var$getOpenState(o){return o?"open":"closed"}function $6cc32821e9371a1c$var$focusFirst(o){const a=document.activeElement;for(const rt of o)if(rt===a||(rt.focus(),document.activeElement!==a))return}function $6cc32821e9371a1c$var$wrapArray(o,a){return o.map((rt,at)=>o[(a+at)%o.length])}function $6cc32821e9371a1c$var$getNextMatch(o,a,rt){const it=a.length>1&&Array.from(a).every(ut=>ut===a[0])?a[0]:a,ot=rt?o.indexOf(rt):-1;let st=$6cc32821e9371a1c$var$wrapArray(o,Math.max(ot,0));it.length===1&&(st=st.filter(ut=>ut!==rt));const lt=st.find(ut=>ut.toLowerCase().startsWith(it.toLowerCase()));return lt!==rt?lt:void 0}function $6cc32821e9371a1c$var$isPointInPolygon(o,a){const{x:rt,y:at}=o;let it=!1;for(let ot=0,st=a.length-1;ot<a.length;st=ot++){const ct=a[ot].x,lt=a[ot].y,ut=a[st].x,dt=a[st].y;lt>at!=dt>at&&rt<(ut-ct)*(at-lt)/(dt-lt)+ct&&(it=!it)}return it}function $6cc32821e9371a1c$var$isPointerInGraceArea(o,a){if(!a)return!1;const rt={x:o.clientX,y:o.clientY};return $6cc32821e9371a1c$var$isPointInPolygon(rt,a)}function $6cc32821e9371a1c$var$whenMouse(o){return a=>a.pointerType==="mouse"?o(a):void 0}const $6cc32821e9371a1c$export$7c6e2c02157bb7d2=$6cc32821e9371a1c$export$479f0f2f71193efe,$6cc32821e9371a1c$export$6d08773d2e66f8f2=$6cc32821e9371a1c$export$2ce376c2cc3355c8,$d08ef79370b62062$var$DROPDOWN_MENU_NAME="DropdownMenu",[$d08ef79370b62062$var$createDropdownMenuContext,$d08ef79370b62062$export$c0623cd925aeb687]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($d08ef79370b62062$var$DROPDOWN_MENU_NAME,[$6cc32821e9371a1c$export$4027731b685e72eb]),$d08ef79370b62062$var$useMenuScope=$6cc32821e9371a1c$export$4027731b685e72eb(),[$d08ef79370b62062$var$DropdownMenuProvider,$d08ef79370b62062$var$useDropdownMenuContext]=$d08ef79370b62062$var$createDropdownMenuContext($d08ef79370b62062$var$DROPDOWN_MENU_NAME),$d08ef79370b62062$var$CONTENT_NAME="DropdownMenuContent",$d08ef79370b62062$export$6e76d93a37c01248=react.exports.forwardRef((o,a)=>{const{__scopeDropdownMenu:rt,...at}=o,it=$d08ef79370b62062$var$useDropdownMenuContext($d08ef79370b62062$var$CONTENT_NAME,rt),ot=$d08ef79370b62062$var$useMenuScope(rt),st=react.exports.useRef(!1);return react.exports.createElement($6cc32821e9371a1c$export$7c6e2c02157bb7d2,_extends$2({id:it.contentId,"aria-labelledby":it.triggerId},ot,at,{ref:a,onCloseAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onCloseAutoFocus,ct=>{var lt;st.current||(lt=it.triggerRef.current)===null||lt===void 0||lt.focus(),st.current=!1,ct.preventDefault()}),onInteractOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(o.onInteractOutside,ct=>{const lt=ct.detail.originalEvent,ut=lt.button===0&&lt.ctrlKey===!0,dt=lt.button===2||ut;(!it.modal||dt)&&(st.current=!0)}),style:{...o.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),$d08ef79370b62062$export$ed97964d1871885d=react.exports.forwardRef((o,a)=>{const{__scopeDropdownMenu:rt,...at}=o,it=$d08ef79370b62062$var$useMenuScope(rt);return react.exports.createElement($6cc32821e9371a1c$export$6d08773d2e66f8f2,_extends$2({},it,at,{ref:a}))}),$d08ef79370b62062$export$7c6e2c02157bb7d2=$d08ef79370b62062$export$6e76d93a37c01248,$d08ef79370b62062$export$6d08773d2e66f8f2=$d08ef79370b62062$export$ed97964d1871885d,SecondaryText=newStyled.span`
  font-size: ${fontSize.md};
  color: ${o=>o.theme.text.secondary};
  margin: 0;
`;newStyled.span`
  font-size: ${fontSize.md};
  color: ${o=>o.theme.text.neutral};
  margin: 0;
`;newStyled.span`
  font-size: ${fontSize.md};
  color: ${o=>o.theme.text.danger};
  margin: 0;
`;newStyled.p`
  font-size: ${fontSize.md};
  color: ${o=>o.theme.text.secondary};
  margin: 0;
`;resolveIpfsUri("ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png");newStyled.div`
  width: 28%;
  height: 28%;
  border-radius: 50%;
  position: absolute;
  top: 60%;
  right: 0px;
  background-color: #00d395;
  box-shadow: 0 0 0 2px ${o=>o.theme.bg.elevated};
`;const slideUpAndFade$1=keyframes`
from {
  opacity: 0;
  transform: translateY(2px);
}
to {
  opacity: 1;
  transform: translateY(0);
}
`;newStyled($a093c7e1ec25a057$export$7c6e2c02157bb7d2)`
  background: ${o=>o.theme.tooltip.bg};
  color: ${o=>o.theme.tooltip.text};
  border-radius: ${radius.sm};
  line-height: 1;
  padding: ${spacing.sm} ${spacing.md};
  font-size: ${fontSize.sm};
  box-shadow: ${shadow.sm};
  user-select: none;
  will-change: transform, opacity;
  animation: ${slideUpAndFade$1} 200ms cubic-bezier(0.16, 1, 0.3, 1);
  z-index: 999999999999999;
  max-width: 300px;
  line-height: 1.5;
`;newStyled($a093c7e1ec25a057$export$21b07c8f274aebd5)`
  fill: ${o=>o.theme.tooltip.bg};
`;newStyled(CheckIcon)`
  color: ${o=>o.theme.icon.success};
`;const scrollbar=o=>{let{track:a,thumb:rt,hover:at}=o;return`
&::-webkit-scrollbar {
  width: 6px;
}

&::-webkit-scrollbar-track {
  box-shadow: inset 0 0 5px ${a};
  border-radius: ${radius.md};
}

&::-webkit-scrollbar-thumb {
  background: ${rt};
  border-radius: ${radius.md};
}

&::-webkit-scrollbar-thumb:hover {
  background: ${at};
}`},overlayEnter=keyframes`
 from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,Overlay=newStyled.div`
  background-color: ${o=>o.theme.overlay.subdued};
  z-index: 9999;
  position: fixed;
  inset: 0;
  animation: ${overlayEnter} 400ms cubic-bezier(0.16, 1, 0.3, 1);
`,Modal=o=>jsxs($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{open:o.open,onOpenChange:o.setOpen,children:[o.trigger&&jsx($5d3850c4d0b4e6c7$export$41fb9f06171c75f4,{asChild:!0,children:o.trigger}),jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{children:[jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{asChild:!0,children:jsx(Overlay,{})}),jsx($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{asChild:!0,children:jsxs(DialogContent,{style:o.style,children:[o.title&&jsxs(DialogTitle,{children:[" ",o.title]}),o.children,!o.hideCloseIcon&&jsx(CrossContainer,{children:jsx($5d3850c4d0b4e6c7$export$f39c2d165cd861fe,{asChild:!0,children:jsx(IconButton,{variant:"secondary",type:"button","aria-label":"Close",children:jsx(Cross2Icon,{style:{width:iconSize.md,height:iconSize.md,color:"inherit"}})})})})]})})]})]}),CrossContainer=newStyled.div`
  position: absolute;
  top: ${spacing.lg};
  right: ${spacing.lg};

  ${media.mobile} {
    right: ${spacing.md};
  }
`,modalAnimationDesktop=keyframes`
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
`,modalAnimationMobile=keyframes`
  from {
    opacity: 0;
    transform: translate(0, 50%);
  }
  to {
    opacity: 1;
    transform: translate(0, 0);
  }
`,DialogContent=newStyled.div`
  z-index: 10000;
  background-color: ${o=>o.theme.bg.base};
  border-radius: ${radius.xl};
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: calc(100vw - 40px);
  box-sizing: border-box;
  overflow-y: auto;
  padding: ${spacing.lg};
  padding-bottom: ${spacing.xl};
  animation: ${modalAnimationDesktop} 200ms ease;
  box-shadow: ${shadow.lg};
  line-height: 1;

  &:focus {
    outline: none;
  }

  ${o=>scrollbar({track:"transparent",thumb:o.theme.bg.elevated,hover:o.theme.bg.highlighted})}

  /* open from bottom on mobile */
  ${media.mobile} {
    top: auto;
    bottom: 0;
    left: 0;
    right: 0;
    max-width: 100vw;
    transform: none;
    width: 100vw;
    animation: ${modalAnimationMobile} 0.35s cubic-bezier(0.15, 1.15, 0.6, 1);
    border-radius: ${radius.xxl};
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
    max-width: none !important;
  }

  & *::selection {
    background-color: ${o=>o.theme.bg.inverted};
    color: ${o=>o.theme.text.inverted};
  }
`,DialogTitle=newStyled($5d3850c4d0b4e6c7$export$f99233281efd08a0)`
  margin: 0;
  font-weight: 500;
  color: ${o=>o.theme.text.neutral};
  font-size: ${fontSize.lg};
`;newStyled($69cb30bb0017df05$export$41fb9f06171c75f4)`
  all: unset;
  font-size: ${fontSize.md};
  font-weight: 500;
  color: ${o=>o.theme.text.secondary};
  cursor: pointer;
  padding: ${spacing.sm} ${spacing.sm};
  -webkit-tap-highlight-color: transparent;
  border-radius: ${radius.lg};
  transition: background 0.2s ease, color 0.2s ease;
  &[data-state="active"] {
    background: ${o=>o.theme.bg.elevated};
    color: ${o=>o.theme.text.neutral};
  }
`;newStyled.p`
  font-size: ${fontSize.sm};
  color: ${o=>o.theme.text.secondary};
  margin: 0;
`;newStyled.div`
  box-sizing: border-box;
  overflow: auto;
  padding-right: 10px;
  padding-bottom: ${spacing.lg};
  width: calc(100% + 16px);
  -webkit-mask-image: linear-gradient(to bottom, black 90%, transparent 100%);
  mask-image: linear-gradient(to bottom, black 90%, transparent 100%);
  ${o=>scrollbar({track:"transparent",thumb:o.theme.bg.elevated,hover:o.theme.bg.highlighted})}
`;newStyled.ul`
  padding: 0;
  margin: 0;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: ${spacing.xs};
  box-sizing: border-box;
`;newStyled.button`
  all: unset;
  display: flex;
  width: 100%;
  box-sizing: border-box;
  align-items: center;
  gap: ${spacing.md};
  padding: ${spacing.sm} ${spacing.md};
  border-radius: ${radius.md};
  cursor: pointer;
  transition: background 0.2s ease;
  background: ${o=>o.theme.bg.elevated};
  color: ${o=>o.theme.text.neutral};
  font-weight: 600;
  font-size: ${fontSize.md};
  &:hover {
    background: ${o=>o.theme.bg.highlighted};
  }

  ${media.mobile} {
    font-size: ${fontSize.sm};
  }
`;newStyled(MagnifyingGlassIcon)`
  color: ${o=>o.theme.text.secondary};
  position: absolute;
  left: 18px;
`;newStyled(Input)`
  padding: ${spacing.sm} ${spacing.md} ${spacing.sm} 60px;
`;newStyled.div`
  font-size: ${fontSize.sm};
  color: ${o=>o.theme.link.primary};
`;newStyled.div`
  font-size: ${fontSize.sm};
  color: ${o=>o.theme.text.danger};
`;const dropdownContentFade=keyframes`
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
`;newStyled($d08ef79370b62062$export$7c6e2c02157bb7d2)`
  width: 360px;
  box-sizing: border-box;
  max-width: 100%;
  border-radius: ${radius.lg};
  padding: ${spacing.lg};
  animation: ${dropdownContentFade} 400ms cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;
  border: 1px solid ${o=>o.theme.border.base};
  background-color: ${o=>o.theme.bg.base};
  z-index: 1000000;
  line-height: 1;
`;newStyled.button`
  all: unset;
  background: ${o=>o.theme.bg.base};
  border: 1px solid ${o=>o.theme.border.base};
  padding: ${spacing.sm} ${spacing.sm};
  border-radius: ${radius.lg};
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: ${spacing.md};
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  line-height: 1;
  animation: ${fadeInAnimation} 300ms ease;

  ${media.mobile} {
    gap: ${spacing.sm};
    padding: ${spacing.xs} ${spacing.sm};
    img {
      width: ${iconSize.md}px;
      height: ${iconSize.md}px;
    }
  }

  &:hover {
    transition: background 250ms ease;
    background: ${o=>o.theme.bg.baseHover};
    border-color: ${o=>o.theme.bg.highlighted};
  }
`;newStyled.span`
  color: ${o=>o.theme.text.secondary};
  font-size: ${fontSize.xs};
  font-weight: 500;
`;newStyled.div`
  display: flex;
  flex-direction: column;
`;newStyled.span`
  color: ${o=>o.theme.text.neutral};
  font-size: ${fontSize.sm};
  font-weight: 500;
`;newStyled.span`
  font-size: ${fontSize.md};
  color: ${o=>o.theme.text.neutral};
  font-weight: 500;
`;newStyled.span`
  font-size: ${fontSize.sm};
  color: ${o=>o.theme.text.secondary};
  font-weight: 500;
`;newStyled.label`
  font-size: ${fontSize.sm};
  color: ${o=>o.theme.text.secondary};
  font-weight: 500;
`;const MenuButton=newStyled.button`
  all: unset;
  padding: ${spacing.sm} ${spacing.sm};
  border-radius: ${radius.md};
  background-color: ${o=>o.theme.bg.base};
  border: 1px solid ${o=>o.theme.border.elevated};
  box-sizing: border-box;
  display: flex;
  align-items: center;
  width: 100%;
  cursor: pointer;
  font-size: ${fontSize.md};
  font-weight: 500;
  color: ${o=>o.theme.text.neutral} !important;
  gap: ${spacing.sm};
  -webkit-tap-highlight-color: transparent;
  line-height: 1.3;

  &:not([disabled]):hover {
    transition: box-shadow 250ms ease, border-color 250ms ease;
    border: 1px solid ${o=>o.theme.link.primary};
    box-shadow: 0 0 0 1px ${o=>o.theme.link.primary};
  }

  &[disabled] {
    cursor: not-allowed;
    svg {
      display: none;
    }
  }

  &[disabled]:hover {
    transition: box-shadow 250ms ease, border-color 250ms ease;
    border: 1px solid ${o=>o.theme.text.danger};
    box-shadow: 0 0 0 1px ${o=>o.theme.text.danger};
  }
`;MenuButton.withComponent("a");newStyled($d08ef79370b62062$export$6d08773d2e66f8f2)`
  outline: none;
`;newStyled(ChevronRightIcon)`
  color: ${o=>o.theme.text.secondary};
`;newStyled(IconButton)`
  margin-right: -${spacing.xxs};
  margin-left: auto;
  color: ${o=>o.theme.icon.secondary};
  &:hover {
    color: ${o=>o.theme.icon.danger};
    background: none;
  }
`;newStyled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${o=>o.theme.icon.secondary};
`;newStyled.div`
  display: flex;
  align-items: center;
  gap: ${spacing.sm};

  ${media.mobile} {
    justify-content: center;
    flex-direction: column;
    gap: ${spacing.md};
  }
`;newStyled(ModalDescription)`
  ${media.mobile} {
    max-width: 240px;
    margin: 0 auto;
  }
`;newStyled.div`
  ${media.mobile} {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
`;newStyled(Button)`
  animation: ${fadeInAnimation} 300ms ease;
`;let video;function supportsVideoType(o){return!o||!o.startsWith("video/")?"":(video||(video=document.createElement("video")),video.canPlayType(o))}function shouldRenderVideoTag(o){return!!supportsVideoType(o)}let audio;function supportsAudioType(o){return!o||!o.startsWith("audio/")?"":(audio||(audio=document.createElement("audio")),audio.canPlayType(o))}function shouldRenderAudioTag(o){return!!supportsAudioType(o)}function mergeRefs(o){return a=>{o.forEach(rt=>{typeof rt=="function"?rt(a):rt!=null&&(rt.current=a)})}}const CarbonDocumentUnknown=o=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...o,children:[jsx("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),jsx("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),jsx("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})]}),CarbonDocumentAudio=o=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...o,children:[jsx("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),jsx("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})]}),CarbonPauseFilled=o=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...o,children:jsx("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})}),CarbonPlayFilledAlt=o=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...o,children:jsx("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})}),ModelViewer=react.exports.lazy(()=>__vitePreload(()=>import("./ModelViewer-68c3eb38.browser.esm.8d0cafe4.js"),[])),PlayButton=o=>{let{onClick:a,isPlaying:rt}=o;const[at,it]=react.exports.useState(!1),ot=()=>it(!0),st=()=>it(!1),ct=()=>it(!1),lt=()=>it(!0);return jsx("button",{style:{position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer",...at?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}},onClick:a,onMouseEnter:ot,onMouseLeave:st,onMouseDown:ct,onMouseUp:lt,children:rt?jsx(CarbonPauseFilled,{style:{width:"66%",height:"66%"}}):jsx(CarbonPlayFilledAlt,{style:{width:"66%",height:"66%"}})})},VideoPlayer=React.forwardRef((o,a)=>{let{src:rt,alt:at,poster:it,requireInteraction:ot,style:st,width:ct,height:lt,controls:ut,...dt}=o;const ft=react.exports.useRef(null),[pt,ht]=react.exports.useState(!ot),[yt,mt]=react.exports.useState(!0);return react.exports.useEffect(()=>{if(ft.current)if(pt)try{ft.current.play()}catch(gt){console.error("error playing video",gt)}else try{ft.current.pause(),ft.current.currentTime=0}catch(gt){console.error("error pausing video",gt)}},[pt]),jsxs("div",{style:{position:"relative",...st},...dt,children:[jsx("video",{ref:mergeRefs([ft,a]),src:rt!=null?rt:void 0,poster:it!=null?it:void 0,loop:!0,playsInline:!0,controlsList:"nodownload",muted:yt,preload:it?"metadata":"auto",onCanPlay:()=>{var gt;pt&&((gt=ft.current)==null||gt.play())},width:ct,height:lt,controls:ut,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:it?pt?1:0:1}}),it&&jsx("img",{src:it,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:pt?0:1,top:0,left:0,right:0,bottom:0},alt:at}),jsx(PlayButton,{onClick:()=>{ht(gt=>!gt),mt(!1)},isPlaying:pt})]})});VideoPlayer.displayName="VideoPlayer";const AudioPlayer=React.forwardRef((o,a)=>{let{src:rt,alt:at,poster:it,style:ot,height:st,width:ct,...lt}=o;const ut=react.exports.useRef(null),[dt,ft]=react.exports.useState(!1),[pt,ht]=react.exports.useState(!0);return react.exports.useEffect(()=>{ut.current&&(dt?ut.current.play():(ut.current.pause(),ut.current.currentTime=0))},[dt]),jsxs("div",{style:{position:"relative",...ot},...lt,children:[it?jsx("img",{height:st,width:ct,src:it,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"},alt:at}):jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsx(CarbonDocumentAudio,{style:{height:"64px",width:"64px"}})}),jsx(PlayButton,{onClick:()=>{ft(yt=>!yt),ht(!1)},isPlaying:dt}),jsx("audio",{ref:mergeRefs([ut,a]),src:rt!=null?rt:void 0,loop:!0,playsInline:!0,muted:pt,preload:"none",controlsList:"nodownload",style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}})]})});AudioPlayer.displayName="AudioPlayer";const IframePlayer=React.forwardRef((o,a)=>{let{src:rt,alt:at,poster:it,requireInteraction:ot,style:st,...ct}=o;const[lt,ut]=react.exports.useState(!ot);return jsxs("div",{style:{position:"relative",...st},...ct,children:[jsx("iframe",{src:lt&&rt!=null?rt:void 0,ref:a,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:it?lt?1:0:1},sandbox:"allow-scripts",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}),it&&jsx("img",{src:it,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:lt?0:1,top:0,left:0,right:0,bottom:0},alt:at}),jsx(PlayButton,{onClick:()=>{ut(dt=>!dt)},isPlaying:lt})]})});IframePlayer.displayName="IframePlayer";const LinkPlayer=React.forwardRef((o,a)=>{let{src:rt,alt:at,style:it,...ot}=o;return jsx("div",{style:{position:"relative",...it},...ot,children:jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"},children:[jsx(CarbonDocumentUnknown,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),jsx("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:rt!=null?rt:void 0,target:"_blank",ref:a,children:at||"File"})]})})})});LinkPlayer.displayName="LinkPlayer";const MediaRenderer=React.forwardRef((o,a)=>{let{src:rt,poster:at,alt:it,gatewayUrl:ot,requireInteraction:st=!1,width:ct="300px",height:lt="300px",style:ut,mimeType:dt,...ft}=o;const pt={objectFit:"contain",width:ct,height:lt,...ut},ht=useResolvedMediaType(rt!=null?rt:void 0,dt,ot),yt=useResolvedMediaType(at!=null?at:void 0,void 0,ot);if(ht.mimeType){if(ht.mimeType==="text/html")return jsx(IframePlayer,{style:pt,src:ht.url,poster:yt.url,requireInteraction:st,...ft});if(ht.mimeType.startsWith("model"))return jsx(react.exports.Suspense,{fallback:at?jsx("img",{style:pt,src:at,alt:it,ref:a,...ft}):null,children:jsx(ModelViewer,{style:pt,src:ht.url||"",poster:at,alt:it,...ft})});if(shouldRenderVideoTag(ht.mimeType))return jsx(VideoPlayer,{style:pt,src:ht.url,poster:yt.url,requireInteraction:st,...ft});if(shouldRenderAudioTag(ht.mimeType))return jsx(AudioPlayer,{style:pt,src:ht.url,poster:yt.url,requireInteraction:st,...ft});if(ht.mimeType.startsWith("image/"))return jsx("img",{style:pt,src:ht.url,alt:it,ref:a,...ft})}else return jsx("img",{style:pt,...ft,ref:a,alt:it});return jsx(LinkPlayer,{style:pt,src:ht.url,alt:it,ref:a,...ft})});MediaRenderer.displayName="MediaRenderer";function useResolvedMediaType(o,a,rt){const at=useStorage(),it=react.exports.useMemo(()=>resolveIpfsUri(o,rt?{gatewayUrl:rt}:at?{gatewayUrl:at.gatewayUrls["ipfs://"][0]}:void 0),[o,at,rt]),ot=useQuery(["mime-type",it],()=>resolveMimeType(it),{enabled:!!it&&!a,initialData:a});return{url:it,mimeType:ot.data}}const ThirdwebNftMedia=React.forwardRef((o,a)=>{var ct;let{metadata:rt,width:at="300px",height:it="300px",style:ot,...st}=o;return jsx(MediaRenderer,{src:rt.animation_url||rt.image,poster:rt.image,alt:((ct=rt.name)==null?void 0:ct.toString())||"",ref:a,width:at,height:it,style:{...ot},...st})});ThirdwebNftMedia.displayName="ThirdwebNftMedia";const slideUpAndFade=keyframes`
from {
    opacity: 0;
    transform: translateY(2px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;newStyled($cb5cc270b50c6fcd$export$7c6e2c02157bb7d2)`
  border-radius: ${radius.sm};
  padding: ${spacing.sm} ${spacing.md};
  background-color: ${o=>o.theme.bg.inverted};
  box-shadow: ${shadow.md};
  animation-duration: 400ms;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;
  animation-name: ${slideUpAndFade};
  color: ${o=>o.theme.text.inverted};
  font-size: ${fontSize.md};
`;newStyled($cb5cc270b50c6fcd$export$21b07c8f274aebd5)`
  fill: ${o=>o.theme.bg.inverted};
`;newStyled.div`
  display: flex;
  align-items: center;
  gap: ${spacing.sm};
`;const DEFAULT_API_KEY="f9e23156ccfc6173c5267eaabf320fb692ffab1c2d572095a58091cbb67590cd",GetStartedWithWallets=o=>{var it,ot,st;let{onBack:a}=o;const rt=useWallets(),{meta:at}=rt[0];return jsx(GetStartedScreen,{onBack:()=>{a()},walletIconURL:at.iconURL,walletName:at.name,appleStoreLink:(it=at.urls)==null?void 0:it.ios,googlePlayStoreLink:(ot=at.urls)==null?void 0:ot.android,chromeExtensionLink:(st=at.urls)==null?void 0:st.chrome,header:jsxs(Fragment$1,{children:[jsx(ModalTitle,{children:" Get started with EVM wallets "}),jsx(Spacer,{y:"md"}),jsx(ModalDescription,{children:"An EVM Wallet is your gateway to interact with web3 apps on Ethereum and other custom blockchains."}),jsx(Spacer,{y:"xl"}),jsxs("div",{style:{display:"flex",gap:spacing.md,alignItems:"center"},children:[jsx(SecondaryText,{children:"We recommend"}),jsxs("div",{style:{display:"flex",gap:spacing.xs,alignItems:"center"},children:[jsx(Img,{src:at.iconURL,width:iconSize.md,height:iconSize.md}),jsx(NeutralText,{children:at.name})]})]})]}),footer:jsxs(Fragment$1,{children:[jsx(Spacer,{y:"xl"}),jsx(HelperLink,{target:"_blank",href:"https://ethereum.org/en/wallets/find-wallet/",style:{textAlign:"center"},children:"Learn more about wallets"})," "]})})},NeutralText=newStyled.p`
  font-size: ${fontSize.md};
  color: ${o=>o.theme.text.neutral};
  margin: 0;
`,reservedScreens={main:"main",getStarted:"getStarted"},ConnectModal=()=>{const{theme:o,title:a}=react.exports.useContext(ModalConfigCtx),rt=useWallets(),at=rt.length===1&&!rt[0].selectUI?rt[0]:reservedScreens.main,[it,ot]=react.exports.useState(at),st=useIsWalletModalOpen(),ct=useSetIsWalletModalOpen(),lt=useConnectionStatus(),ut=useWallet(),dt=react.exports.useContext(ModalConfigCtx),ft=react.exports.useContext(SetModalConfigCtx),pt=useDisconnect(),ht=react.exports.useCallback(function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&ot(at),lt==="connecting"&&pt(),ct(!1)},[ct,at,lt,pt]),yt=react.exports.useCallback(()=>{ot(at)},[ot,at]),mt=!!(ut!=null&&ut.getPersonalWallet()),gt=typeof it!="string"&&"config"in it&&!!it.config.personalWallets,bt=react.exports.useRef(lt);react.exports.useEffect(()=>{!mt&&gt&&!st&&lt==="connected"&&bt.current==="connecting"&&ct(!0),bt.current=lt},[st,lt,ct,gt,mt]);const vt=typeof it!="string"&&(it.connectUI||HeadlessConnectUI);return jsx(ThemeProvider,{theme:typeof o=="object"?o:o==="light"?lightTheme:darkTheme,children:jsxs(Modal,{style:{maxWidth:"480px"},open:st,setOpen:wt=>{ct(wt),wt||ot(at),lt==="connecting"&&pt()},children:[it===reservedScreens.main&&jsx(WalletSelector,{title:a,walletConfigs:rt,onGetStarted:()=>{ot(reservedScreens.getStarted)},selectWallet:ot}),it===reservedScreens.getStarted&&jsx(GetStartedWithWallets,{onBack:yt}),vt&&jsx(vt,{supportedWallets:rt,theme:o,goBack:yt,close:ht,isOpen:st,open:()=>{ct(!0)},walletConfig:it,selectionData:dt.data,setSelectionData:wt=>{ft(Tt=>({...Tt,data:wt}))}})]})})},ThirdwebProvider=o=>{let{thirdwebApiKey:a=DEFAULT_API_KEY,supportedWallets:rt,theme:at,children:it,...ot}=o;return jsx(WalletUIStatesProvider,{theme:at,children:jsx(ThemeProvider,{theme:at==="dark"?darkTheme:lightTheme,children:jsxs(ThirdwebProviderCore,{theme:at,thirdwebApiKey:a,supportedWallets:rt||defaultWallets,...ot,children:[it,jsx(ConnectModal,{})]})})})};function useMetamask(){const o=useConnect();return react.exports.useCallback(async a=>{const{metamaskWallet:rt}=await __vitePreload(()=>Promise.resolve().then(()=>headlessConnectUID7ab9645_browser_esm),void 0).then(function(at){return at.p});return o(rt(),a)},[o])}newStyled.div`
  display: flex;
  align-items: center;
  width: 130px;
  padding: ${spacing.xs};
`;newStyled.div`
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background-color: ${o=>o.theme.bg.highlighted};
  box-shadow: 0 0 0 3px ${o=>o.theme.bg.base},
    0 0 0 5px ${o=>o.theme.bg.highlighted};

  &[data-active="true"] {
    background-color: ${o=>o.theme.link.primary};
    box-shadow: 0 0 0 3px ${o=>o.theme.bg.base},
      0 0 0 5px ${o=>o.theme.link.primary};

    position: relative;
    z-index: 2;
  }
`;newStyled.div`
  flex-grow: 1;
  height: 4px;
  background-color: ${o=>o.theme.bg.highlighted};
  &[data-active="true"] {
    background-color: ${o=>o.theme.link.primary};
  }
`;newStyled.div`
  margin-top: ${spacing.lg};
`;newStyled.p`
  font-size: ${fontSize.sm};
  color: ${o=>o.theme.link.primary};
  text-align: right;
`;newStyled.select`
  width: 100%;
  padding: ${spacing.sm};
  box-sizing: border-box;
  outline: none;
  border: none;
  border-radius: 6px;
  color: ${o=>o.theme.text.neutral};
  background: transparent;
  font-size: ${fontSize.md};
  box-shadow: 0 0 0 1.5px ${o=>o.theme.input.outline};
  appearance: none;

  &:focus {
    box-shadow: 0 0 0 2px ${o=>o.theme.input.focusRing};
  }

  &:invalid {
    color: ${o=>o.theme.text.secondary};
  }
  &[data-error="true"] {
    box-shadow: 0 0 0 1.5px ${o=>o.theme.input.errorRing};
  }

  &[disabled] {
    opacity: 1;
    cursor: not-allowed;
  }
`;newStyled(ChevronDownIcon)`
  color: ${o=>o.theme.icon.secondary};
`;newStyled(UploadIcon)`
  color: ${o=>o.theme.text.secondary};
  transition: transform 200ms ease, color 200ms ease;
`;newStyled.div`
  border: 2px solid ${o=>o.theme.bg.elevated};
  border-radius: ${radius.md};
  padding: ${spacing.xl} ${spacing.md};
  display: flex;
  align-items: center;
  flex-direction: column;
  cursor: pointer;
  transition: border-color 200ms ease;

  &:hover,
  &[data-is-dragging="true"] {
    border-color: ${o=>o.theme.link.primary};
    svg {
      color: ${o=>o.theme.link.primary};
    }
  }

  &[data-error="true"] {
    border-color: ${o=>o.theme.input.errorRing};
  }
`;newStyled.p`
  color: ${o=>o.theme.input.errorRing};
  font-size: ${fontSize.sm};
  margin: 0;
`;newStyled.span`
  color: ${o=>o.theme.text.secondary};
  font-size: ${fontSize.sm};
`;newStyled.p`
  color: ${o=>o.theme.text.neutral};
  font-size: ${fontSize.md};
  margin: 0;
  font-weight: 600;
`;newStyled.p`
  font-size: ${fontSize.sm};
  margin: 0;
  color: ${o=>o.theme.link.primary};
`;newStyled.div`
  margin-top: ${spacing.lg};
`;const StateContext=react.exports.createContext(),StateContextProvider=({children:o})=>{const{contract:a}=useContract("0x45a04C2d1dbC3629B9C416548D3fD7f9be2D7a59"),{mutateAsync:rt}=useContractWrite(a,"createHighscore"),at=useAddress(),it=useMetamask(),ot=async(ct,lt)=>{try{const ut=await rt({args:[at,ct,lt]});console.log("Contract call is successful",ut)}catch(ut){console.log("Contract call has failed",ut)}},st=async()=>(await a.call("getHighscores")).map((ut,dt)=>({wallet:ut.wallet,name:ut.name,score:ut.score.toString()}));return jsx(StateContext.Provider,{value:{address:at,contract:a,connect:it,createHighscore:ot,getHighscores:st},children:o})},useStateContext=()=>react.exports.useContext(StateContext),STAGE_WIDTH=12,STAGE_HEIGHT=20,createStage=()=>Array.from(Array(STAGE_HEIGHT),()=>new Array(STAGE_WIDTH).fill([0,"clear"])),checkCollision=(o,a,{x:rt,y:at})=>{for(let it=0;it<o.tetromino.length;it+=1)for(let ot=0;ot<o.tetromino[0].length;ot+=1)if(o.tetromino[it][ot]!==0&&(!a[it+o.pos.y+at]||!a[it+o.pos.y+at][ot+o.pos.x+rt]||a[it+o.pos.y+at][ot+o.pos.x+rt][1]!=="clear"))return!0};var __assign=function(){return __assign=Object.assign||function(a){for(var rt,at=1,it=arguments.length;at<it;at++){rt=arguments[at];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(a[ot]=rt[ot])}return a},__assign.apply(this,arguments)};function __spreadArray(o,a,rt){if(rt||arguments.length===2)for(var at=0,it=a.length,ot;at<it;at++)(ot||!(at in a))&&(ot||(ot=Array.prototype.slice.call(a,0,at)),ot[at]=a[at]);return o.concat(ot||Array.prototype.slice.call(a))}var h=typeof browser$1.exports<"u"&&{}!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",m=typeof window<"u"&&"HTMLElement"in window,y=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof browser$1.exports<"u"&&{}!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof browser$1.exports<"u"&&{}!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1),b=Object.freeze([]),E=Object.freeze({});function N(o,a,rt){return rt===void 0&&(rt=E),o.theme!==rt.theme&&o.theme||a||rt.theme}var P=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),_=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,C=/(^-|-$)/g;function I(o){return o.replace(_,"-").replace(C,"")}var A=/(a)(d)/gi,O=function(o){return String.fromCharCode(o+(o>25?39:97))};function R(o){var a,rt="";for(a=Math.abs(o);a>52;a=a/52|0)rt=O(a%52)+rt;return(O(a%52)+rt).replace(A,"$1-$2")}var D,T=function(o,a){for(var rt=a.length;rt;)o=33*o^a.charCodeAt(--rt);return o},j=function(o){return T(5381,o)};function x(o){return R(j(o)>>>0)}function k(o){return o.displayName||o.name||"Component"}function V(o){return typeof o=="string"&&!0}var M=typeof Symbol=="function"&&Symbol.for,F=M?Symbol.for("react.memo"):60115,z=M?Symbol.for("react.forward_ref"):60112,B={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},G=((D={})[z]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D[F]=L,D);function Y(o){return("type"in(a=o)&&a.type.$$typeof)===F?L:"$$typeof"in o?G[o.$$typeof]:B;var a}var W=Object.defineProperty,q=Object.getOwnPropertyNames,H=Object.getOwnPropertySymbols,U=Object.getOwnPropertyDescriptor,J=Object.getPrototypeOf,X=Object.prototype;function Z(o,a,rt){if(typeof a!="string"){if(X){var at=J(a);at&&at!==X&&Z(o,at,rt)}var it=q(a);H&&(it=it.concat(H(a)));for(var ot=Y(o),st=Y(a),ct=0;ct<it.length;++ct){var lt=it[ct];if(!(lt in $||rt&&rt[lt]||st&&lt in st||ot&&lt in ot)){var ut=U(a,lt);try{W(o,lt,ut)}catch{}}}}return o}function K(o){return typeof o=="function"}function Q(o){return typeof o=="object"&&"styledComponentId"in o}function ee(o,a){return o&&a?"".concat(o," ").concat(a):o||a||""}function te(o,a){if(o.length===0)return"";for(var rt=o[0],at=1;at<o.length;at++)rt+=a?a+o[at]:o[at];return rt}function ne(o){return o!==null&&typeof o=="object"&&o.constructor.name===Object.name&&!("props"in o&&o.$$typeof)}function re(o,a,rt){if(rt===void 0&&(rt=!1),!rt&&!ne(o)&&!Array.isArray(o))return a;if(Array.isArray(a))for(var at=0;at<a.length;at++)o[at]=re(o[at],a[at]);else if(ne(a))for(var at in a)o[at]=re(o[at],a[at]);return o}function ie(o){for(var a=[],rt=1;rt<arguments.length;rt++)a[rt-1]=arguments[rt];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(o," for more information.").concat(a.length>0?" Args: ".concat(a.join(", ")):""))}var ae=function(){function o(a){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=a}return o.prototype.indexOfGroup=function(a){for(var rt=0,at=0;at<a;at++)rt+=this.groupSizes[at];return rt},o.prototype.insertRules=function(a,rt){if(a>=this.groupSizes.length){for(var at=this.groupSizes,it=at.length,ot=it;a>=ot;)if((ot<<=1)<0)throw ie(16,"".concat(a));this.groupSizes=new Uint32Array(ot),this.groupSizes.set(at),this.length=ot;for(var st=it;st<ot;st++)this.groupSizes[st]=0}for(var ct=this.indexOfGroup(a+1),lt=(st=0,rt.length);st<lt;st++)this.tag.insertRule(ct,rt[st])&&(this.groupSizes[a]++,ct++)},o.prototype.clearGroup=function(a){if(a<this.length){var rt=this.groupSizes[a],at=this.indexOfGroup(a),it=at+rt;this.groupSizes[a]=0;for(var ot=at;ot<it;ot++)this.tag.deleteRule(at)}},o.prototype.getGroup=function(a){var rt="";if(a>=this.length||this.groupSizes[a]===0)return rt;for(var at=this.groupSizes[a],it=this.indexOfGroup(a),ot=it+at,st=it;st<ot;st++)rt+="".concat(this.tag.getRule(st)).concat(`/*!sc*/
`);return rt},o}(),ce=new Map,le=new Map,ue=1,pe=function(o){if(ce.has(o))return ce.get(o);for(;le.has(ue);)ue++;var a=ue++;return ce.set(o,a),le.set(a,o),a},de=function(o,a){ce.set(o,a),le.set(a,o)},he="style[".concat(h,"][").concat("data-styled-version",'="').concat("6.0.0-rc.3",'"]'),fe=new RegExp("^".concat(h,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),me=function(o,a,rt){for(var at,it=rt.split(","),ot=0,st=it.length;ot<st;ot++)(at=it[ot])&&o.registerName(a,at)},ye=function(o,a){for(var rt,at=((rt=a.textContent)!==null&&rt!==void 0?rt:"").split(`/*!sc*/
`),it=[],ot=0,st=at.length;ot<st;ot++){var ct=at[ot].trim();if(ct){var lt=ct.match(fe);if(lt){var ut=0|parseInt(lt[1],10),dt=lt[2];ut!==0&&(de(dt,ut),me(o,dt,lt[3]),o.getTag().insertRules(ut,it)),it.length=0}else it.push(ct)}}};function ve(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ge=function(o){var a=document.head,rt=o||a,at=document.createElement("style"),it=function(ct){for(var lt=ct.childNodes,ut=lt.length;ut>=0;ut--){var dt=lt[ut];if(dt&&dt.nodeType===1&&dt.hasAttribute(h))return dt}}(rt),ot=it!==void 0?it.nextSibling:null;at.setAttribute(h,"active"),at.setAttribute("data-styled-version","6.0.0-rc.3");var st=ve();return st&&at.setAttribute("nonce",st),rt.insertBefore(at,ot),at},Se=function(){function o(a){this.element=ge(a),this.element.appendChild(document.createTextNode("")),this.sheet=function(rt){if(rt.sheet)return rt.sheet;for(var at=document.styleSheets,it=0,ot=at.length;it<ot;it++){var st=at[it];if(st.ownerNode===rt)return st}throw ie(17)}(this.element),this.length=0}return o.prototype.insertRule=function(a,rt){try{return this.sheet.insertRule(rt,a),this.length++,!0}catch{return!1}},o.prototype.deleteRule=function(a){this.sheet.deleteRule(a),this.length--},o.prototype.getRule=function(a){var rt=this.sheet.cssRules[a];return rt&&rt.cssText?rt.cssText:""},o}(),we=function(){function o(a){this.element=ge(a),this.nodes=this.element.childNodes,this.length=0}return o.prototype.insertRule=function(a,rt){if(a<=this.length&&a>=0){var at=document.createTextNode(rt);return this.element.insertBefore(at,this.nodes[a]||null),this.length++,!0}return!1},o.prototype.deleteRule=function(a){this.element.removeChild(this.nodes[a]),this.length--},o.prototype.getRule=function(a){return a<this.length?this.nodes[a].textContent:""},o}(),be=function(){function o(a){this.rules=[],this.length=0}return o.prototype.insertRule=function(a,rt){return a<=this.length&&(this.rules.splice(a,0,rt),this.length++,!0)},o.prototype.deleteRule=function(a){this.rules.splice(a,1),this.length--},o.prototype.getRule=function(a){return a<this.length?this.rules[a]:""},o}(),Ee=m,Ne={isServer:!m,useCSSOMInjection:!y},Pe=function(){function o(a,rt,at){a===void 0&&(a=E),rt===void 0&&(rt={}),this.options=__assign(__assign({},Ne),a),this.gs=rt,this.names=new Map(at),this.server=!!a.isServer,!this.server&&m&&Ee&&(Ee=!1,function(it){for(var ot=document.querySelectorAll(he),st=0,ct=ot.length;st<ct;st++){var lt=ot[st];lt&&lt.getAttribute(h)!=="active"&&(ye(it,lt),lt.parentNode&&lt.parentNode.removeChild(lt))}}(this))}return o.registerId=function(a){return pe(a)},o.prototype.reconstructWithOptions=function(a,rt){return rt===void 0&&(rt=!0),new o(__assign(__assign({},this.options),a),this.gs,rt&&this.names||void 0)},o.prototype.allocateGSInstance=function(a){return this.gs[a]=(this.gs[a]||0)+1},o.prototype.getTag=function(){return this.tag||(this.tag=(a=function(rt){var at=rt.useCSSOMInjection,it=rt.target;return rt.isServer?new be(it):at?new Se(it):new we(it)}(this.options),new ae(a)));var a},o.prototype.hasNameForId=function(a,rt){return this.names.has(a)&&this.names.get(a).has(rt)},o.prototype.registerName=function(a,rt){if(pe(a),this.names.has(a))this.names.get(a).add(rt);else{var at=new Set;at.add(rt),this.names.set(a,at)}},o.prototype.insertRules=function(a,rt,at){this.registerName(a,rt),this.getTag().insertRules(pe(a),at)},o.prototype.clearNames=function(a){this.names.has(a)&&this.names.get(a).clear()},o.prototype.clearRules=function(a){this.getTag().clearGroup(pe(a)),this.clearNames(a)},o.prototype.clearTag=function(){this.tag=void 0},o.prototype.toString=function(){return function(a){for(var rt=a.getTag(),at=rt.length,it="",ot=function(ct){var lt=function(ht){return le.get(ht)}(ct);if(lt===void 0)return"continue";var ut=a.names.get(lt),dt=rt.getGroup(ct);if(ut===void 0||dt.length===0)return"continue";var ft="".concat(h,".g").concat(ct,'[id="').concat(lt,'"]'),pt="";ut!==void 0&&ut.forEach(function(ht){ht.length>0&&(pt+="".concat(ht,","))}),it+="".concat(dt).concat(ft,'{content:"').concat(pt,'"}').concat(`/*!sc*/
`)},st=0;st<at;st++)ot(st);return it}(this)},o}(),_e=/&/g,Ce=/^\s*\/\/.*$/gm;function Ie(o,a){return o.map(function(rt){return rt.type==="rule"&&(rt.value="".concat(a," ").concat(rt.value),rt.value=rt.value.replaceAll(",",",".concat(a," ")),rt.props=rt.props.map(function(at){return"".concat(a," ").concat(at)})),Array.isArray(rt.children)&&rt.type!=="@keyframes"&&(rt.children=Ie(rt.children,a)),rt})}function Ae(o){var a,rt,at,it=o===void 0?E:o,ot=it.options,st=ot===void 0?E:ot,ct=it.plugins,lt=ct===void 0?b:ct,ut=function(pt,ht,yt){return yt===rt||yt.startsWith(rt)&&yt.endsWith(rt)&&yt.replaceAll(rt,"").length>0?".".concat(a):pt},dt=lt.slice();dt.push(function(pt){pt.type===RULESET&&pt.value.includes("&")&&(pt.props[0]=pt.props[0].replace(_e,rt).replace(at,ut))}),st.prefix&&dt.push(prefixer$1),dt.push(stringify);var ft=function(pt,ht,yt,mt){ht===void 0&&(ht=""),yt===void 0&&(yt=""),mt===void 0&&(mt="&"),a=mt,rt=ht,at=new RegExp("\\".concat(rt,"\\b"),"g");var gt=pt.replace(Ce,""),bt=compile(yt||ht?"".concat(yt," ").concat(ht," { ").concat(gt," }"):gt);st.namespace&&(bt=Ie(bt,st.namespace));var vt=[];return serialize(bt,middleware(dt.concat(rulesheet(function(wt){return vt.push(wt)})))),vt};return ft.hash=lt.length?lt.reduce(function(pt,ht){return ht.name||ie(15),T(pt,ht.name)},5381).toString():"",ft}var Oe=new Pe,Re=Ae(),De=React.createContext({shouldForwardProp:void 0,styleSheet:Oe,stylis:Re});De.Consumer;React.createContext(void 0);function xe(){return react.exports.useContext(De)}var Ve=function(){function o(a,rt){var at=this;this.inject=function(it,ot){ot===void 0&&(ot=Re);var st=at.name+ot.hash;it.hasNameForId(at.id,st)||it.insertRules(at.id,st,ot(at.rules,st,"@keyframes"))},this.toString=function(){throw ie(12,String(at.name))},this.name=a,this.id="sc-keyframes-".concat(a),this.rules=rt}return o.prototype.getName=function(a){return a===void 0&&(a=Re),this.name+a.hash},o}(),Me=function(o){return o>="A"&&o<="Z"};function Fe(o){for(var a="",rt=0;rt<o.length;rt++){var at=o[rt];if(rt===1&&at==="-"&&o[0]==="-")return o;Me(at)?a+="-"+at.toLowerCase():a+=at}return a.startsWith("ms-")?"-"+a:a}var ze=function(o){return o==null||o===!1||o===""},Be=function(o){var a,rt,at=[];for(var it in o){var ot=o[it];o.hasOwnProperty(it)&&!ze(ot)&&(Array.isArray(ot)&&ot.isCss||K(ot)?at.push("".concat(Fe(it),":"),ot,";"):ne(ot)?at.push.apply(at,__spreadArray(__spreadArray(["".concat(it," {")],Be(ot),!1),["}"],!1)):at.push("".concat(Fe(it),": ").concat((a=it,(rt=ot)==null||typeof rt=="boolean"||rt===""?"":typeof rt!="number"||rt===0||a in unitlessKeys||a.startsWith("--")?String(rt).trim():"".concat(rt,"px")),";")))}return at};function $e(o,a,rt,at){if(ze(o))return[];if(Q(o))return[".".concat(o.styledComponentId)];if(K(o)){if(!K(ot=o)||ot.prototype&&ot.prototype.isReactComponent||!a)return[o];var it=o(a);return $e(it,a,rt,at)}var ot;return o instanceof Ve?rt?(o.inject(rt,at),[o.getName(at)]):[o]:ne(o)?Be(o):Array.isArray(o)?o.flatMap(function(st){return $e(st,a,rt,at)}):[o.toString()]}function Le(o){for(var a=0;a<o.length;a+=1){var rt=o[a];if(K(rt)&&!Q(rt))return!1}return!0}var Ge=j("6.0.0-rc.3"),Ye=function(){function o(a,rt,at){this.rules=a,this.staticRulesId="",this.isStatic=(at===void 0||at.isStatic)&&Le(a),this.componentId=rt,this.baseHash=T(Ge,rt),this.baseStyle=at,Pe.registerId(rt)}return o.prototype.generateAndInjectStyles=function(a,rt,at){var it=this.baseStyle?this.baseStyle.generateAndInjectStyles(a,rt,at):"";if(this.isStatic&&!at.hash)if(this.staticRulesId&&rt.hasNameForId(this.componentId,this.staticRulesId))it=ee(it,this.staticRulesId);else{var ot=te($e(this.rules,a,rt,at)),st=R(T(this.baseHash,ot)>>>0);if(!rt.hasNameForId(this.componentId,st)){var ct=at(ot,".".concat(st),void 0,this.componentId);rt.insertRules(this.componentId,st,ct)}it=ee(it,st),this.staticRulesId=st}else{for(var lt=T(this.baseHash,at.hash),ut="",dt=0;dt<this.rules.length;dt++){var ft=this.rules[dt];if(typeof ft=="string")ut+=ft;else if(ft){var pt=te($e(ft,a,rt,at));lt=T(lt,pt),ut+=pt}}if(ut){var ht=R(lt>>>0);rt.hasNameForId(this.componentId,ht)||rt.insertRules(this.componentId,ht,at(ut,".".concat(ht),void 0,this.componentId)),it=ee(it,ht)}}return it},o}(),We=React.createContext(void 0);We.Consumer;function He(){return react.exports.useContext(We)}var Je={};function Xe(o,a,rt){var at,it=Q(o),ot=o,st=!V(o),ct=a.componentId,lt=ct===void 0?function(_t,St){var Pt=typeof _t!="string"?"sc":I(_t);Je[Pt]=(Je[Pt]||0)+1;var Nt="".concat(Pt,"-").concat(x("6.0.0-rc.3"+Pt+Je[Pt]));return St?"".concat(St,"-").concat(Nt):Nt}(a.displayName,a.parentComponentId):ct,ut=a.displayName,dt=ut===void 0?function(_t){return V(_t)?"styled.".concat(_t):"Styled(".concat(k(_t),")")}(o):ut,ft=(at=a.attrs)!==null&&at!==void 0?at:[],pt=a.displayName&&a.componentId?"".concat(I(a.displayName),"-").concat(a.componentId):a.componentId||lt,ht=it&&ot.attrs?ot.attrs.concat(ft).filter(Boolean):ft,yt=a.shouldForwardProp;if(it&&ot.shouldForwardProp){var mt=ot.shouldForwardProp;if(a.shouldForwardProp){var gt=a.shouldForwardProp;yt=function(_t,St){return mt(_t,St)&&gt(_t,St)}}else yt=mt}var bt=new Ye(rt,pt,it?ot.componentStyle:void 0),vt=bt.isStatic&&ft.length===0;function wt(_t,St){return function(Pt,Nt,jt,Ut){var Ft=Pt.attrs,Kt=Pt.componentStyle,Mt=Pt.defaultProps,xt=Pt.foldedComponentIds,Et=Pt.styledComponentId,Rt=Pt.target,Lt=He(),Bt=xe(),Ot=Pt.shouldForwardProp||Bt.shouldForwardProp,qt=function(Vt,Qt,Zt){for(var Yt,tr=__assign(__assign({},Qt),{className:void 0,theme:Zt}),nr=0;nr<Vt.length;nr+=1){var Xt=K(Yt=Vt[nr])?Yt(tr):Yt;for(var ar in Xt)tr[ar]=ar==="className"?ee(tr[ar],Xt[ar]):ar==="style"?__assign(__assign({},tr[ar]),Xt[ar]):Xt[ar]}return Qt.className&&(tr.className=ee(tr.className,Qt.className)),tr}(Ft,Nt,N(Nt,Lt,Mt)||E),At=qt.as||Rt,Ct={};for(var Dt in qt)qt[Dt]===void 0||Dt[0]==="$"||Dt==="as"||Dt==="theme"||(Dt==="forwardedAs"?Ct.as=qt.forwardedAs:Ot&&!Ot(Dt,At)||(Ct[Dt]=qt[Dt]));var Wt=function(Vt,Qt,Zt){var Yt=xe(),tr=Vt.generateAndInjectStyles(Qt?E:Zt,Yt.styleSheet,Yt.stylis);return tr}(Kt,Ut,qt),$t=ee(xt,Et);return Wt&&($t+=" "+Wt),qt.className&&($t+=" "+qt.className),Ct[V(At)&&!P.has(At)?"class":"className"]=$t,Ct.ref=jt,react.exports.createElement(At,Ct)}(Tt,_t,St,vt)}wt.displayName=dt;var Tt=React.forwardRef(wt);return Tt.attrs=ht,Tt.componentStyle=bt,Tt.displayName=dt,Tt.shouldForwardProp=yt,Tt.foldedComponentIds=it?ee(ot.foldedComponentIds,ot.styledComponentId):"",Tt.styledComponentId=pt,Tt.target=it?ot.target:o,Object.defineProperty(Tt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_t){this._foldedDefaultProps=it?function(St){for(var Pt=[],Nt=1;Nt<arguments.length;Nt++)Pt[Nt-1]=arguments[Nt];for(var jt=0,Ut=Pt;jt<Ut.length;jt++)re(St,Ut[jt],!0);return St}({},ot.defaultProps,_t):_t}}),Object.defineProperty(Tt,"toString",{value:function(){return".".concat(Tt.styledComponentId)}}),st&&Z(Tt,o,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Tt}function Ze(o,a){for(var rt=[o[0]],at=0,it=a.length;at<it;at+=1)rt.push(a[at],o[at+1]);return rt}var Ke=function(o){return Object.assign(o,{isCss:!0})};function Qe(o){for(var a=[],rt=1;rt<arguments.length;rt++)a[rt-1]=arguments[rt];if(K(o)||ne(o)){var at=o;return Ke($e(Ze(b,__spreadArray([at],a,!0))))}var it=o;return a.length===0&&it.length===1&&typeof it[0]=="string"?$e(it):Ke($e(Ze(it,a)))}function et(o,a,rt){if(rt===void 0&&(rt=E),!a)throw ie(1,a);var at=function(it){for(var ot=[],st=1;st<arguments.length;st++)ot[st-1]=arguments[st];return o(a,rt,Qe.apply(void 0,__spreadArray([it],ot,!1)))};return at.attrs=function(it){return et(o,a,__assign(__assign({},rt),{attrs:Array.prototype.concat(rt.attrs,it).filter(Boolean)}))},at.withConfig=function(it){return et(o,a,__assign(__assign({},rt),it))},at}function tt(o){return et(Xe,o)}var nt=tt;P.forEach(function(o){nt[o]=tt(o)});const bgImage="/blockchain-tetris/assets/bg.15c02b38.png",StyledTetrisWrapper=nt.div`
    width: 100vw;
    height: 100vh;
    background: url(${bgImage}) #000;
    background-size: cover;
    overflow: hidden;
`,StyledTetris=nt.div`
    display: flex;
    align-items: flex-start;
    padding: 40px;
    margin: 0 auto;
    max-width: 900px;

    aside {
        width: 100%;
        max-width: 200px;
        display: block;
        padding: 0 20px;
    }
`,TETROMINOS={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"80, 227, 230"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"36, 95, 223"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"223, 173, 36"},O:{shape:[["O","O"],["O","O"]],color:"223, 217, 36"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"48, 211, 56"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"132, 61, 198"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"227, 78, 78"}},randomTetromino=()=>{const o="IJLOSTZ",a=o[Math.floor(Math.random()*o.length)];return TETROMINOS[a]},usePlayer=()=>{const[o,a]=react.exports.useState({pos:{x:0,y:0},tetromino:TETROMINOS[0].shape,collided:!1}),rt=({x:st,y:ct,collided:lt})=>{a(ut=>({...ut,pos:{x:ut.pos.x+st,y:ut.pos.y+ct},collided:lt}))},at=react.exports.useCallback(()=>{a({pos:{x:STAGE_WIDTH/2-2,y:0},tetromino:randomTetromino().shape,collided:!1})},[]),it=(st,ct)=>{const lt=st.map((ut,dt)=>st.map(ft=>ft[dt]));return ct>0?lt.map(ut=>ut.reverse()):lt.reverse()};return[o,rt,at,(st,ct)=>{const lt=JSON.parse(JSON.stringify(o));lt.tetromino=it(lt.tetromino,ct);const ut=lt.pos.x;let dt=1;for(;checkCollision(lt,st,{x:0,y:0});)if(lt.pos.x+=dt,dt=-(dt+(dt>0?1:-1)),dt>lt.tetromino[0].length){it(lt.tetromino,-ct),lt.pos.x=ut;return}a(lt)}]},useStage=(o,a)=>{const[rt,at]=react.exports.useState(createStage()),[it,ot]=react.exports.useState(0);return react.exports.useEffect(()=>{ot(0);const st=lt=>lt.reduce((dt,ft)=>ft.findIndex(pt=>pt[0]===0)===-1?(ot(pt=>pt+1),dt.unshift(new Array(lt[0].length).fill([0,"clear"])),dt):(dt.push(ft),dt),[]),ct=lt=>{const ut=lt.map(dt=>dt.map(ft=>ft[1]==="clear"?[0,"clear"]:ft));return o.tetromino.forEach((dt,ft)=>{dt.forEach((pt,ht)=>{pt!==0&&(ut[ft+o.pos.y][ht+o.pos.x]=[pt,`${o.collided?"merged":"clear"}`])})}),o.collided?(a(),st(ut)):ut};at(lt=>ct(lt))},[o]),[rt,at,it]};function useInterval(o,a){const rt=react.exports.useRef();react.exports.useEffect(()=>{rt.current=o},[o]),react.exports.useEffect(()=>{function at(){rt.current()}if(a!==null){const it=setInterval(at,a);return()=>{clearInterval(it)}}},[a])}const useGameStatus=o=>{const[a,rt]=react.exports.useState(0),[at,it]=react.exports.useState(0),[ot,st]=react.exports.useState(0),ct=[40,100,300,1200],lt=react.exports.useCallback(()=>{o>0&&(rt(ut=>ut+ct[o-1]*(ot+1)),it(ut=>ut+o))},[ot,ct,o]);return react.exports.useEffect(()=>{lt()},[lt,o,a]),[a,rt,at,it,ot,st]},StyledCell=nt.div`
    width: auto;
    background: rgba(${o=>o.color}, 0.8);
    border: ${o=>o.type===0?"0px solid":"4px solid"};
    border-bottom-color: rgba(${o=>o.color}, 0.1);
    border-right-color: rgba(${o=>o.color}, 1);
    border-top-color: rgba(${o=>o.color}, 1);
    border-left-color: rgba(${o=>o.color}, 0.3);
`,Cell=({type:o})=>jsx(StyledCell,{type:o,color:TETROMINOS[o].color}),StyledStage=nt.div`
    display: grid;
    grid-template-rows: repeat(
        ${o=>o.height},
        calc(25vw / ${o=>o.width})
    );
    grid-template-columns: repeat(${o=>o.width}, 1fr);
    grid-gap: 1px;
    border: 2px solid #333;
    width: 100%;
    max-width: 25vw;
    background: #111;
`,Stage=({stage:o})=>jsx(StyledStage,{width:o[0].length,height:o.length,children:o.map(a=>a.map((rt,at)=>jsx(Cell,{type:rt[0]},at)))}),StyledDisplay=nt.div`
    box-sizing: border-box;
    display: flex;
    align-items: center;
    margin: 0 0 20px 0;
    padding: 20px;
    min-height: 30px;
    width: 100%;
    border: 4px solid #333;
    border-radius: 20px;
    background: #000;
    color: ${o=>o.gameOver?"red":"#999"};
    font-family: Pixel, Arial, Helvetica, sans-serif;
    font-size: 0.8rem;
`,Display=({gameOver:o,text:a})=>jsx(StyledDisplay,{children:a}),StyledDisplay2=nt.div`
    box-sizing: border-box;
    display: flex;
    align-items: center;
    // margin: 0 0 20px 0;
    padding-top: 40px;
    padding-left: 40px;
    min-height: 30px;
    width: 100%;
    color: #FFAE42;
    font-family: Pixel, Arial, Helvetica, sans-serif;
    font-size: 1.5rem;
    line-height: 1.4;
`,Display2=({gameOver:o,text:a})=>jsx(StyledDisplay2,{children:a}),StyledDisplay3=nt.div`
    box-sizing: border-box;
    display: flex;
    align-items: center;
    margin: 0 0 20px 0;
    padding-left: 40px;
    min-height: 30px;
    width: 100%;
    color: #FFAE42;
    font-family: Pixel, Arial, Helvetica, sans-serif;
    font-size: 0.8rem;
    // line-height: 1.6;
`,Display3=({gameOver:o,text:a})=>jsx(StyledDisplay3,{children:a}),StyledStartButton=nt.button`
    box-sizing: border-box;
    margin: 0 0 20px 0;
    padding: 20px;
    min-height: 30px;
    width: 100%;
    border-radius: 20px;
    border: none;
    color: white;
    background: #333;
    font-family: Pixel, Arial, Helvetica, sans-serif;
    font-size: 0.8rem;
    outline: none;
    cursor: pointer;
`,StartButton=({callback:o,text:a})=>jsx(StyledStartButton,{onClick:o,children:a});nt.button`
    box-sizing: border-box;
    margin: 0 0 20px 0;
    padding: 20px;
    min-height: 30px;
    width: 100%;
    border-radius: 20px;
    border: none;
    color: white;
    background: #333;
    font-family: Pixel, Arial, Helvetica, sans-serif;
    font-size: 1rem;
    outline: none;
    cursor: pointer;
`;const StyledLeaderboard=nt.div`
 box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* Justify text to the left */
  margin: 0 0 20px 0;
  padding: 20px;
  border: 4px solid #333;
  min-height: 30px;
  width: 100%;
  border-radius: 20px;
  color: ${o=>o.gameOver?"red":"#999"};
  background: #000;
  font-family: Pixel, Arial, Helvetica, sans-serif;
  font-size: 0.8rem;

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th,
  td {
    text-align: left;
    padding: 8px;
  }

  th {
    background-color: #333;
    color: white;
  }

  tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  tr:hover {
    background-color: #ddd;
  }
`,shortenAddress=o=>{const a=o.substring(0,4),rt=o.substring(o.length-4);return`${a}...${rt}`},Leaderboard=()=>{const[o,a]=react.exports.useState(!1),[rt,at]=react.exports.useState([]),{address:it,contract:ot,getHighscores:st}=useStateContext(),ct=async()=>{a(!0);const ut=await st();at(ut),a(!1)},lt=rt.sort((ut,dt)=>dt.score-ut.score);return react.exports.useEffect(()=>{ot&&ct()},[it,ot]),jsx(StyledLeaderboard,{children:jsxs("table",{children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"Name"}),jsx("th",{children:"Wallet"}),jsx("th",{children:"Score"})]})}),jsx("tbody",{children:o?jsx("tr",{children:jsx("td",{colSpan:"2",children:"Loading highscores..."})}):lt.slice(0,10).map((ut,dt)=>jsxs("tr",{children:[jsx("td",{children:ut.name}),jsx("td",{style:{fontSize:"1em",fontFamily:"Arial"},children:jsx("a",{href:`https://etherscan.io/address/${ut.wallet}`,target:"_blank",rel:"noopener noreferrer",children:shortenAddress(ut.wallet)})}),jsx("td",{children:ut.score})]},dt))})]})})},StyledGameFinishScreen=nt.h1`
    // display: block;
    flex-direction: column;
    text-align: center;
    color: #ffffff;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: rgba(0, 0, 0, 0.5);
    font-family: Pixel, Arial, Helvetica, sans-serif;
    font-size: 1.8rem;
`,GameFinishScreen=({score:o})=>{const[a,rt]=react.exports.useState(!1);react.exports.useState([]);const{address:at,contract:it,getHighscores:ot,createHighscore:st,collectPrize1:ct}=useStateContext(),[lt,ut]=react.exports.useState(""),dt=react.exports.useRef(null);return react.exports.useEffect(()=>{dt.current.focus()},[]),jsxs(StyledGameFinishScreen,{children:[jsx("div",{style:{fontSize:"2em",marginBottom:"0.5em",color:"#FFAE42"},children:"Congratulations"}),jsxs("div",{style:{fontSize:"1em",marginBottom:"0.5em"},children:["Your Score: ",o]}),jsxs("div",{children:[jsx("label",{htmlFor:"name",children:"Enter Name:"}),jsx("input",{type:"text",id:"name",ref:dt,value:lt,onChange:ht=>{ut(ht.target.value)},style:{fontSize:"1em",outline:"none",border:"none",color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.5)",lineHeight:"1.5",fontFamily:"Pixel, Arial, Helvetica, sans-serif"}})]}),jsx("div",{style:{width:"100%",maxWidth:"200px",marginTop:"30px"},children:jsx(StartButton,{disabled:lt==="",callback:async()=>{lt===""?alert("Please enter a name"):(rt(!0),await st(lt,o),rt(!1))},style:{width:"100%",maxWidth:"200px",marginTop:"20px"},text:"Save Score on Blockchain"})})]})},Tetris=()=>{const[o,a]=react.exports.useState(null),[rt,at]=react.exports.useState(!1),[it,ot,st,ct]=usePlayer(),[lt,ut,dt]=useStage(it,st),[ft,pt,ht,yt,mt,gt]=useGameStatus(dt),{connect:bt,address:vt,contract:wt,getCampaigns:Tt}=useStateContext();console.log("re-render");const _t=Ft=>{checkCollision(it,lt,{x:Ft,y:0})||ot({x:Ft,y:0})},St=()=>{console.log("Start Game"),ut(createStage()),a(1e3),st(),at(!1),pt(0),yt(0),gt(0)},Pt=()=>{ht>(mt+1)*3&&(gt(Ft=>Ft+1),a(700/(mt+1))),checkCollision(it,lt,{x:0,y:1})?(it.pos.y<1&&(console.log("GAME OVER"),at(!0),a(null)),ot({x:0,y:0,collided:!0})):ot({x:0,y:1,collided:!1})},Nt=({keyCode:Ft})=>{rt||Ft===40&&a(1e3/(mt+1)+200)},jt=()=>{a(null),Pt()},Ut=({keyCode:Ft})=>{rt||(Ft===37?_t(-1):Ft===39?_t(1):Ft===40?jt():Ft===32&&(event.preventDefault(),ct(lt,1)))};return useInterval(()=>{Pt()},o),jsx(StyledTetrisWrapper,{role:"button",tabIndex:"0",onKeyDown:Ft=>Ut(Ft),onKeyUp:Nt,children:jsxs(StyledTetris,{children:[jsx(Stage,{stage:lt}),jsxs("div",{style:{width:"100%"},children:[jsx(Display2,{text:"Blockchain Tetris"}),";",jsx(Display3,{text:"Play and save your score on the sepolia blockchain."}),";",jsxs("div",{style:{display:"flex"},children:[jsxs("aside",{children:[rt?jsx(Display,{gameOver:rt,text:"Game Over"}):jsxs("div",{children:[jsx(Display,{text:`Score: ${ft}`}),";",jsx(Display,{text:`Rows: ${ht}`}),";",jsx(Display,{text:`Level: ${mt}`}),";"]}),jsx(StartButton,{callback:vt?St:bt,text:vt?"Start Game":"Connect Wallet"})]}),jsx("aside",{style:{width:"100%",maxWidth:"2000px"},children:jsx(Leaderboard,{})})]})]}),rt&&jsx(GameFinishScreen,{score:ft})]})})},App=()=>jsx("div",{className:"App",children:jsx(Tetris,{})}),index="",root=client.createRoot(document.getElementById("root"));root.render(jsx(ThirdwebProvider,{activeChain:{chainId:11155111,rpc:["https://rpc.sepolia.org/"],nativeCurrency:{decimals:18,name:"Sepolia ETH",symbol:"sepETH"},shortName:"sepolia",slug:"sepoliaeth",testnet:!0,chain:"Sepolia",name:"Sepolia Ethereum Testnet"},children:jsx(BrowserRouter,{children:jsx(StateContextProvider,{children:jsx(App,{})})})}));export{AuctionAlreadyStartedError as $,AbiSchema as A,BigNumber as B,ContractWrapper as C,DropErc1155ContractSchema as D,Erc1155 as E,setErc20Allowance as F,GasCostEstimator as G,isAddress as H,mapOffer as I,fetchCurrencyValue as J,fetchTokenMetadataForContract as K,ListingNotFoundError as L,isTokenApprovedForTransfer as M,Contract as N,ERC165Abi as O,InterfaceId_IERC721 as P,InterfaceId_IERC1155 as Q,React as R,Erc721Abi as S,Transaction as T,Erc1155Abi as U,fetchCurrencyMetadata as V,WrongListingTypeError as W,formatUnits as X,isWinningBid as Y,MaxUint256$1 as Z,_defineProperty as _,buildTransactionFunction as a,_global as a$,AuctionHasNotEndedError as a0,NATIVE_TOKENS as a1,MarketplaceContractSchema as a2,DEFAULT_QUERY_ALL_COUNT as a3,assertEnabled as a4,FEATURE_DIRECT_LISTINGS as a5,FEATURE_ENGLISH_AUCTIONS as a6,FEATURE_OFFERS as a7,detectContractFeature as a8,MarketplaceV3DirectListings as a9,Erc20SignatureMintable as aA,id as aB,VoteContractSchema as aC,ContractFactory$1 as aD,Interface as aE,_classPrivateMethodInitSpec as aF,_defineProperty$1 as aG,walletIds as aH,_classPrivateFieldInitSpec$1 as aI,utils as aJ,Web3Provider as aK,_classPrivateFieldGet$1 as aL,__vitePreload as aM,_classPrivateFieldSet$1 as aN,_classPrivateMethodGet as aO,EventEmitter$1 as aP,defaultChains as aQ,getAddress as aR,hexValue as aS,assertWindowEthereum as aT,commonjsGlobal as aU,browser$1 as aV,inherits_browser$1 as aW,getAugmentedNamespace as aX,bn as aY,getDefaultExportFromCjs as aZ,detect as a_,MarketplaceV3EnglishAuctions as aa,MarketplaceV3Offers as ab,uploadOrExtractURI as ac,MultiwrapContractSchema as ad,Erc721 as ae,ERC20Abi as af,TokenErc721ContractSchema as ag,Erc721WithQuantitySignatureMintable as ah,DropErc721ContractSchema as ai,DropClaimConditions as aj,DelayedReveal as ak,FEATURE_NFT_REVEALABLE as al,z$2 as am,AddressOrEnsSchema as an,AmountSchema as ao,BigNumberishSchema as ap,NFTInputOrUriSchema as aq,RawDateSchema as ar,FEATURE_PACK_VRF as as,PackContractSchema as at,IPackVRFAbi as au,LINK_TOKEN_ADDRESS as av,Erc20 as aw,SplitsContractSchema as ax,DropErc20ContractSchema as ay,TokenErc20ContractSchema as az,buffer as b,fetch$1 as b0,ContractMetadata as c,ContractAppURI as d,ContractRoles as e,ContractRoyalty as f,ContractPrimarySale as g,DropErc1155ClaimConditions as h,ContractEvents as i,jsx as j,ContractEncoder as k,ContractPlatformFee as l,ContractInterceptor as m,ContractOwner as n,getRoleHash as o,AddressZero$1 as p,ChainId as q,invariant as r,TokenErc1155ContractSchema as s,Erc1155SignatureMintable as t,resolveAddress as u,validateNewListingParam as v,handleTokenApproval as w,normalizePriceValue as x,cleanCurrencyAddress as y,isNativeToken as z};
